(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(i){if(i.ep)return;i.ep=!0;const u=r(i);fetch(i.href,u)}})();var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gg={exports:{}},yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function GN(){if(H2)return yc;H2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,u){var s=null;if(u!==void 0&&(s=""+u),i.key!==void 0&&(s=""+i.key),"key"in i){u={};for(var l in i)l!=="key"&&(u[l]=i[l])}else u=i;return i=u.ref,{$$typeof:t,type:n,key:s,ref:i!==void 0?i:null,props:u}}return yc.Fragment=e,yc.jsx=r,yc.jsxs=r,yc}var K2;function HN(){return K2||(K2=1,gg.exports=GN()),gg.exports}var _e=HN(),yg={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function KN(){if($2)return kt;$2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function m(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function E(U,X,ue){this.props=U,this.context=X,this.refs=x,this.updater=ue||b}E.prototype.isReactComponent={},E.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},E.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=E.prototype;function A(U,X,ue){this.props=U,this.context=X,this.refs=x,this.updater=ue||b}var R=A.prototype=new C;R.constructor=A,_(R,E.prototype),R.isPureReactComponent=!0;var M=Array.isArray;function B(){}var O={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function L(U,X,ue){var Y=ue.ref;return{$$typeof:t,type:U,key:X,ref:Y!==void 0?Y:null,props:ue}}function P(U,X){return L(U.type,X,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function V(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return X[ue]})}var j=/\/+/g;function Z(U,X){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):X.toString(36)}function J(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(B,B):(U.status="pending",U.then(function(X){U.status==="pending"&&(U.status="fulfilled",U.value=X)},function(X){U.status==="pending"&&(U.status="rejected",U.reason=X)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function G(U,X,ue,Y,ee){var re=typeof U;(re==="undefined"||re==="boolean")&&(U=null);var de=!1;if(U===null)de=!0;else switch(re){case"bigint":case"string":case"number":de=!0;break;case"object":switch(U.$$typeof){case t:case e:de=!0;break;case v:return de=U._init,G(de(U._payload),X,ue,Y,ee)}}if(de)return ee=ee(U),de=Y===""?"."+Z(U,0):Y,M(ee)?(ue="",de!=null&&(ue=de.replace(j,"$&/")+"/"),G(ee,X,ue,"",function(he){return he})):ee!=null&&(I(ee)&&(ee=P(ee,ue+(ee.key==null||U&&U.key===ee.key?"":(""+ee.key).replace(j,"$&/")+"/")+de)),X.push(ee)),1;de=0;var ze=Y===""?".":Y+":";if(M(U))for(var ie=0;ie<U.length;ie++)Y=U[ie],re=ze+Z(Y,ie),de+=G(Y,X,ue,re,ee);else if(ie=m(U),typeof ie=="function")for(U=ie.call(U),ie=0;!(Y=U.next()).done;)Y=Y.value,re=ze+Z(Y,ie++),de+=G(Y,X,ue,re,ee);else if(re==="object"){if(typeof U.then=="function")return G(J(U),X,ue,Y,ee);throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return de}function $(U,X,ue){if(U==null)return U;var Y=[],ee=0;return G(U,Y,"","",function(re){return X.call(ue,re,ee++)}),Y}function W(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var oe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},se={map:$,forEach:function(U,X,ue){$(U,function(){X.apply(this,arguments)},ue)},count:function(U){var X=0;return $(U,function(){X++}),X},toArray:function(U){return $(U,function(X){return X})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return kt.Activity=p,kt.Children=se,kt.Component=E,kt.Fragment=r,kt.Profiler=i,kt.PureComponent=A,kt.StrictMode=n,kt.Suspense=f,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,kt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return O.H.useMemoCache(U)}},kt.cache=function(U){return function(){return U.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(U,X,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Y=_({},U.props),ee=U.key;if(X!=null)for(re in X.key!==void 0&&(ee=""+X.key),X)!N.call(X,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&X.ref===void 0||(Y[re]=X[re]);var re=arguments.length-2;if(re===1)Y.children=ue;else if(1<re){for(var de=Array(re),ze=0;ze<re;ze++)de[ze]=arguments[ze+2];Y.children=de}return L(U.type,ee,Y)},kt.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},kt.createElement=function(U,X,ue){var Y,ee={},re=null;if(X!=null)for(Y in X.key!==void 0&&(re=""+X.key),X)N.call(X,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ee[Y]=X[Y]);var de=arguments.length-2;if(de===1)ee.children=ue;else if(1<de){for(var ze=Array(de),ie=0;ie<de;ie++)ze[ie]=arguments[ie+2];ee.children=ze}if(U&&U.defaultProps)for(Y in de=U.defaultProps,de)ee[Y]===void 0&&(ee[Y]=de[Y]);return L(U,re,ee)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(U){return{$$typeof:l,render:U}},kt.isValidElement=I,kt.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:W}},kt.memo=function(U,X){return{$$typeof:d,type:U,compare:X===void 0?null:X}},kt.startTransition=function(U){var X=O.T,ue={};O.T=ue;try{var Y=U(),ee=O.S;ee!==null&&ee(ue,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(B,oe)}catch(re){oe(re)}finally{X!==null&&ue.types!==null&&(X.types=ue.types),O.T=X}},kt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},kt.use=function(U){return O.H.use(U)},kt.useActionState=function(U,X,ue){return O.H.useActionState(U,X,ue)},kt.useCallback=function(U,X){return O.H.useCallback(U,X)},kt.useContext=function(U){return O.H.useContext(U)},kt.useDebugValue=function(){},kt.useDeferredValue=function(U,X){return O.H.useDeferredValue(U,X)},kt.useEffect=function(U,X){return O.H.useEffect(U,X)},kt.useEffectEvent=function(U){return O.H.useEffectEvent(U)},kt.useId=function(){return O.H.useId()},kt.useImperativeHandle=function(U,X,ue){return O.H.useImperativeHandle(U,X,ue)},kt.useInsertionEffect=function(U,X){return O.H.useInsertionEffect(U,X)},kt.useLayoutEffect=function(U,X){return O.H.useLayoutEffect(U,X)},kt.useMemo=function(U,X){return O.H.useMemo(U,X)},kt.useOptimistic=function(U,X){return O.H.useOptimistic(U,X)},kt.useReducer=function(U,X,ue){return O.H.useReducer(U,X,ue)},kt.useRef=function(U){return O.H.useRef(U)},kt.useState=function(U){return O.H.useState(U)},kt.useSyncExternalStore=function(U,X,ue){return O.H.useSyncExternalStore(U,X,ue)},kt.useTransition=function(){return O.H.useTransition()},kt.version="19.2.0",kt}var Y2;function Xx(){return Y2||(Y2=1,yg.exports=KN()),yg.exports}var fn=Xx();const el=Lv(fn);var mg={exports:{}},mc={},bg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2;function $N(){return X2||(X2=1,(function(t){function e(G,$){var W=G.length;G.push($);e:for(;0<W;){var oe=W-1>>>1,se=G[oe];if(0<i(se,$))G[oe]=$,G[W]=se,W=oe;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var $=G[0],W=G.pop();if(W!==$){G[0]=W;e:for(var oe=0,se=G.length,U=se>>>1;oe<U;){var X=2*(oe+1)-1,ue=G[X],Y=X+1,ee=G[Y];if(0>i(ue,W))Y<se&&0>i(ee,ue)?(G[oe]=ee,G[Y]=W,oe=Y):(G[oe]=ue,G[X]=W,oe=X);else if(Y<se&&0>i(ee,W))G[oe]=ee,G[Y]=W,oe=Y;else break e}}return $}function i(G,$){var W=G.sortIndex-$.sortIndex;return W!==0?W:G.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var f=[],d=[],v=1,p=null,g=3,m=!1,b=!1,_=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function R(G){for(var $=r(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=G)n(d),$.sortIndex=$.expirationTime,e(f,$);else break;$=r(d)}}function M(G){if(_=!1,R(G),!b)if(r(f)!==null)b=!0,B||(B=!0,V());else{var $=r(d);$!==null&&J(M,$.startTime-G)}}var B=!1,O=-1,N=5,L=-1;function P(){return x?!0:!(t.unstable_now()-L<N)}function I(){if(x=!1,B){var G=t.unstable_now();L=G;var $=!0;try{e:{b=!1,_&&(_=!1,C(O),O=-1),m=!0;var W=g;try{t:{for(R(G),p=r(f);p!==null&&!(p.expirationTime>G&&P());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,g=p.priorityLevel;var se=oe(p.expirationTime<=G);if(G=t.unstable_now(),typeof se=="function"){p.callback=se,R(G),$=!0;break t}p===r(f)&&n(f),R(G)}else n(f);p=r(f)}if(p!==null)$=!0;else{var U=r(d);U!==null&&J(M,U.startTime-G),$=!1}}break e}finally{p=null,g=W,m=!1}$=void 0}}finally{$?V():B=!1}}}var V;if(typeof A=="function")V=function(){A(I)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Z=j.port2;j.port1.onmessage=I,V=function(){Z.postMessage(null)}}else V=function(){E(I,0)};function J(G,$){O=E(function(){G(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var W=g;g=$;try{return G()}finally{g=W}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=g;g=G;try{return $()}finally{g=W}},t.unstable_scheduleCallback=function(G,$,W){var oe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?oe+W:oe):W=oe,G){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=W+se,G={id:v++,callback:$,priorityLevel:G,startTime:W,expirationTime:se,sortIndex:-1},W>oe?(G.sortIndex=W,e(d,G),r(f)===null&&G===r(d)&&(_?(C(O),O=-1):_=!0,J(M,W-oe))):(G.sortIndex=se,e(f,G),b||m||(b=!0,B||(B=!0,V()))),G},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(G){var $=g;return function(){var W=g;g=$;try{return G.apply(this,arguments)}finally{g=W}}}})(wg)),wg}var Z2;function YN(){return Z2||(Z2=1,bg.exports=$N()),bg.exports}var xg={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function XN(){if(Q2)return Vn;Q2=1;var t=Xx();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function u(f,d,v){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:d,implementation:v}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Vn.createPortal=function(f,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return u(f,d,null,v)},Vn.flushSync=function(f){var d=s.T,v=n.p;try{if(s.T=null,n.p=2,f)return f()}finally{s.T=d,n.p=v,n.d.f()}},Vn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(f,d))},Vn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Vn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var v=d.as,p=l(v,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?n.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):v==="script"&&n.d.X(f,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Vn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=l(d.as,d.crossOrigin);n.d.M(f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(f)},Vn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,p=l(v,d.crossOrigin);n.d.L(f,v,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Vn.preloadModule=function(f,d){if(typeof f=="string")if(d){var v=l(d.as,d.crossOrigin);n.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(f)},Vn.requestFormReset=function(f){n.d.r(f)},Vn.unstable_batchedUpdates=function(f,d){return f(d)},Vn.useFormState=function(f,d,v){return s.H.useFormState(f,d,v)},Vn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Vn.version="19.2.0",Vn}var W2;function ZN(){if(W2)return xg.exports;W2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xg.exports=XN(),xg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2;function QN(){if(J2)return mc;J2=1;var t=YN(),e=Xx(),r=ZN();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function u(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function s(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function l(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(u(a)!==a)throw Error(n(188))}function d(a){var o=a.alternate;if(!o){if(o=u(a),o===null)throw Error(n(188));return o!==a?null:a}for(var c=a,h=o;;){var w=c.return;if(w===null)break;var T=w.alternate;if(T===null){if(h=w.return,h!==null){c=h;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===c)return f(w),a;if(T===h)return f(w),o;T=T.sibling}throw Error(n(188))}if(c.return!==h.return)c=w,h=T;else{for(var k=!1,H=w.child;H;){if(H===c){k=!0,c=w,h=T;break}if(H===h){k=!0,h=w,c=T;break}H=H.sibling}if(!k){for(H=T.child;H;){if(H===c){k=!0,c=T,h=w;break}if(H===h){k=!0,h=T,c=w;break}H=H.sibling}if(!k)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:o}function v(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=v(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),A=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(a){return a===null||typeof a!="object"?null:(a=I&&a[I]||a["@@iterator"],typeof a=="function"?a:null)}var j=Symbol.for("react.client.reference");function Z(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===j?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case B:return"SuspenseList";case L:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case A:return a.displayName||"Context";case C:return(a._context.displayName||"Context")+".Consumer";case R:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:Z(a.type)||"Memo";case N:o=a._payload,a=a._init;try{return Z(a(o))}catch{}}return null}var J=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},oe=[],se=-1;function U(a){return{current:a}}function X(a){0>se||(a.current=oe[se],oe[se]=null,se--)}function ue(a,o){se++,oe[se]=a.current,a.current=o}var Y=U(null),ee=U(null),re=U(null),de=U(null);function ze(a,o){switch(ue(re,o),ue(ee,a),ue(Y,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?h2(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=h2(o),a=p2(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(Y),ue(Y,a)}function ie(){X(Y),X(ee),X(re)}function he(a){a.memoizedState!==null&&ue(de,a);var o=Y.current,c=p2(o,a.type);o!==c&&(ue(ee,a),ue(Y,c))}function be(a){ee.current===a&&(X(Y),X(ee)),de.current===a&&(X(de),vc._currentValue=W)}var ge,Be;function Ge(a){if(ge===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ge=o&&o[1]||"",Be=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+a+Be}var He=!1;function Ct(a,o){if(!a||He)return"";He=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(qe){var Oe=qe}Reflect.construct(a,[],Ve)}else{try{Ve.call()}catch(qe){Oe=qe}a.call(Ve.prototype)}}else{try{throw Error()}catch(qe){Oe=qe}(Ve=a())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(qe){if(qe&&Oe&&typeof qe.stack=="string")return[qe.stack,Oe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=h.DetermineComponentFrameRoot(),k=T[0],H=T[1];if(k&&H){var ne=k.split(`
`),Re=H.split(`
`);for(w=h=0;h<ne.length&&!ne[h].includes("DetermineComponentFrameRoot");)h++;for(;w<Re.length&&!Re[w].includes("DetermineComponentFrameRoot");)w++;if(h===ne.length||w===Re.length)for(h=ne.length-1,w=Re.length-1;1<=h&&0<=w&&ne[h]!==Re[w];)w--;for(;1<=h&&0<=w;h--,w--)if(ne[h]!==Re[w]){if(h!==1||w!==1)do if(h--,w--,0>w||ne[h]!==Re[w]){var Ie=`
`+ne[h].replace(" at new "," at ");return a.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",a.displayName)),Ie}while(1<=h&&0<=w);break}}}finally{He=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Ge(c):""}function Ze(a,o){switch(a.tag){case 26:case 27:case 5:return Ge(a.type);case 16:return Ge("Lazy");case 13:return a.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Ct(a.type,!1);case 11:return Ct(a.type.render,!1);case 1:return Ct(a.type,!0);case 31:return Ge("Activity");default:return""}}function ht(a){try{var o="",c=null;do o+=Ze(a,c),c=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ct=Object.prototype.hasOwnProperty,Qe=t.unstable_scheduleCallback,tt=t.unstable_cancelCallback,ot=t.unstable_shouldYield,st=t.unstable_requestPaint,rt=t.unstable_now,xt=t.unstable_getCurrentPriorityLevel,Dt=t.unstable_ImmediatePriority,qt=t.unstable_UserBlockingPriority,Mt=t.unstable_NormalPriority,Pt=t.unstable_LowPriority,yt=t.unstable_IdlePriority,at=t.log,Ne=t.unstable_setDisableYieldValue,K=null,we=null;function Me(a){if(typeof at=="function"&&Ne(a),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(K,a)}catch{}}var pe=Math.clz32?Math.clz32:je,Pe=Math.log,nt=Math.LN2;function je(a){return a>>>=0,a===0?32:31-(Pe(a)/nt|0)|0}var ke=256,it=262144,gt=4194304;function _t(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function At(a,o,c){var h=a.pendingLanes;if(h===0)return 0;var w=0,T=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var H=h&134217727;return H!==0?(h=H&~T,h!==0?w=_t(h):(k&=H,k!==0?w=_t(k):c||(c=H&~a,c!==0&&(w=_t(c))))):(H=h&~T,H!==0?w=_t(H):k!==0?w=_t(k):c||(c=h&~a,c!==0&&(w=_t(c)))),w===0?0:o!==0&&o!==w&&(o&T)===0&&(T=w&-w,c=o&-o,T>=c||T===32&&(c&4194048)!==0)?o:w}function lt(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function It(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zt(){var a=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),a}function ir(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Yt(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Hr(a,o,c,h,w,T){var k=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var H=a.entanglements,ne=a.expirationTimes,Re=a.hiddenUpdates;for(c=k&~c;0<c;){var Ie=31-pe(c),Ve=1<<Ie;H[Ie]=0,ne[Ie]=-1;var Oe=Re[Ie];if(Oe!==null)for(Re[Ie]=null,Ie=0;Ie<Oe.length;Ie++){var qe=Oe[Ie];qe!==null&&(qe.lane&=-536870913)}c&=~Ve}h!==0&&dr(a,h,0),T!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=T&~(k&~o))}function dr(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-pe(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function Bt(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var h=31-pe(c),w=1<<h;w&o|a[h]&o&&(a[h]|=o),c&=~w}}function Ut(a,o){var c=o&-o;return c=(c&42)!==0?1:Nr(c),(c&(a.suspendedLanes|o))!==0?0:c}function Nr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Dn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function vr(){var a=$.p;return a!==0?a:(a=window.event,a===void 0?32:P2(a.type))}function On(a,o){var c=$.p;try{return $.p=a,o()}finally{$.p=c}}var Zr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Zr,wr="__reactProps$"+Zr,Lr="__reactContainer$"+Zr,Pr="__reactEvents$"+Zr,Qr="__reactListeners$"+Zr,Tr="__reactHandles$"+Zr,Ua="__reactResources$"+Zr,xr="__reactMarker$"+Zr;function yi(a){delete a[Qt],delete a[wr],delete a[Pr],delete a[Qr],delete a[Tr]}function Sa(a){var o=a[Qt];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Lr]||c[Qt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=E2(a);a!==null;){if(c=a[Qt])return c;a=E2(a)}return o}a=c,c=a.parentNode}return null}function ur(a){if(a=a[Qt]||a[Lr]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Kn(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function bn(a){var o=a[Ua];return o||(o=a[Ua]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ir(a){a[xr]=!0}var Fa=new Set,mi={};function Mn(a,o){ea(a,o),ea(a+"Capture",o)}function ea(a,o){for(mi[a]=o,a=0;a<o.length;a++)Fa.add(o[a])}var ta=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ji={},Ja={};function Ko(a){return ct.call(Ja,a)?!0:ct.call(Ji,a)?!1:ta.test(a)?Ja[a]=!0:(Ji[a]=!0,!1)}function Et(a,o,c){if(Ko(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Va(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function $n(a,o,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+h)}}function Ur(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Wr(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function $o(a,o,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,T=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return w.call(this)},set:function(k){c=""+k,T.call(this,k)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(k){c=""+k},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Ju(a){if(!a._valueTracker){var o=Wr(a)?"checked":"value";a._valueTracker=$o(a,o,""+a[o])}}function eo(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return a&&(h=Wr(a)?a.checked?"true":"false":a.value),a=h,a!==c?(o.setValue(a),!0):!1}function nr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var to=/[\n"\\]/g;function wn(a){return a.replace(to,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ei(a,o,c,h,w,T,k,H){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),o!=null?k==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Ur(o)):a.value!==""+Ur(o)&&(a.value=""+Ur(o)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),o!=null?ro(a,k,Ur(o)):c!=null?ro(a,k,Ur(c)):h!=null&&a.removeAttribute("value"),w==null&&T!=null&&(a.defaultChecked=!!T),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.name=""+Ur(H):a.removeAttribute("name")}function Yo(a,o,c,h,w,T,k,H){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),o!=null||c!=null){if(!(T!=="submit"&&T!=="reset"||o!=null)){Ju(a);return}c=c!=null?""+Ur(c):"",o=o!=null?""+Ur(o):c,H||o===a.value||(a.value=o),a.defaultValue=o}h=h??w,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=H?a.checked:!!h,a.defaultChecked=!!h,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),Ju(a)}function ro(a,o,c){o==="number"&&nr(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ja(a,o,c,h){if(a=a.options,o){o={};for(var w=0;w<c.length;w++)o["$"+c[w]]=!0;for(c=0;c<a.length;c++)w=o.hasOwnProperty("$"+a[c].value),a[c].selected!==w&&(a[c].selected=w),w&&h&&(a[c].defaultSelected=!0)}else{for(c=""+Ur(c),o=null,w=0;w<a.length;w++){if(a[w].value===c){a[w].selected=!0,h&&(a[w].defaultSelected=!0);return}o!==null||a[w].disabled||(o=a[w])}o!==null&&(o.selected=!0)}}function xl(a,o,c){if(o!=null&&(o=""+Ur(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Ur(c):""}function no(a,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(n(92));if(J(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Ur(o),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),Ju(a)}function bi(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var _h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xt(a,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,c):typeof c!="number"||c===0||_h.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function El(a,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var w in o)h=o[w],o.hasOwnProperty(w)&&c[w]!==h&&Xt(a,w,h)}else for(var T in o)o.hasOwnProperty(T)&&Xt(a,T,o[T])}function Sl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(a){return Yn.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ra(){}var Ta=null;function Xo(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var wi=null,_r=null;function ha(a){var o=ur(a);if(o&&(a=o.stateNode)){var c=a[wr]||null;e:switch(a=o.stateNode,o.type){case"input":if(ei(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+wn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==a&&h.form===a.form){var w=h[wr]||null;if(!w)throw Error(n(90));ei(h,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===a.form&&eo(h)}break e;case"textarea":xl(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ja(a,!!c.multiple,o,!1)}}}var xi=!1;function eu(a,o,c){if(xi)return a(o,c);xi=!0;try{var h=a(o);return h}finally{if(xi=!1,(wi!==null||_r!==null)&&(ld(),wi&&(o=wi,a=_r,_r=wi=null,ha(o),a)))for(o=0;o<a.length;o++)ha(a[o])}}function Ei(a,o){var c=a.stateNode;if(c===null)return null;var h=c[wr]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tl=!1;if(xn)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Tl=!1}var _a=null,Zo=null,tu=null;function ru(){if(tu)return tu;var a,o=Zo,c=o.length,h,w="value"in _a?_a.value:_a.textContent,T=w.length;for(a=0;a<c&&o[a]===w[a];a++);var k=c-a;for(h=1;h<=k&&o[c-h]===w[T-h];h++);return tu=w.slice(a,1<h?1-h:void 0)}function nu(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ao(){return!0}function xf(){return!1}function Jr(a){function o(c,h,w,T,k){this._reactName=c,this._targetInst=w,this.type=h,this.nativeEvent=T,this.target=k,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(c=a[H],this[H]=c?c(T):T[H]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ao:xf,this.isPropagationStopped=xf,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),o}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=Jr(Si),ti=p({},Si,{view:0,detail:0}),Wo=Jr(ti),io,_l,uo,Jo=p({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==uo&&(uo&&a.type==="mousemove"?(io=a.screenX-uo.screenX,_l=a.screenY-uo.screenY):_l=io=0,uo=a),io)},movementY:function(a){return"movementY"in a?a.movementY:_l}}),es=Jr(Jo),Cl=p({},Jo,{dataTransfer:0}),Ef=Jr(Cl),ts=p({},ti,{relatedTarget:0}),au=Jr(ts),rs=p({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Sf=Jr(rs),Ah=p({},Si,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),iu=Jr(Ah),Al=p({},Si,{data:0}),ns=Jr(Al),Rl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oo(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=En[a])?!!o[a]:!1}function Ti(){return oo}var Tf=p({},ti,{key:function(a){if(a.key){var o=Rl[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=nu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Dl[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(a){return a.type==="keypress"?nu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?nu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),as=Jr(Tf),_f=p({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ol=Jr(_f),is=p({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),Ml=Jr(is),_i=p({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bl=Jr(_i),ql=p({},Jo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),us=Jr(ql),kl=p({},Si,{newState:0,oldState:0}),Cf=Jr(kl),Rh=[9,13,27,32],so=xn&&"CompositionEvent"in window,ri=null;xn&&"documentMode"in document&&(ri=document.documentMode);var Dh=xn&&"TextEvent"in window&&!ri,os=xn&&(!so||ri&&8<ri&&11>=ri),ss=" ",Af=!1;function zl(a,o){switch(a){case"keyup":return Rh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ci=!1;function Df(a,o){switch(a){case"compositionend":return Rf(o);case"keypress":return o.which!==32?null:(Af=!0,ss);case"textInput":return a=o.data,a===ss&&Af?null:a;default:return null}}function Oh(a,o){if(Ci)return a==="compositionend"||!so&&zl(a,o)?(a=ru(),tu=Zo=_a=null,Ci=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return os&&o.locale!=="ko"?null:o.data;default:return null}}var Of={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ls(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Of[a.type]:o==="textarea"}function Nl(a,o,c,h){wi?_r?_r.push(h):_r=[h]:wi=h,o=gd(o,"onChange"),0<o.length&&(c=new Qo("onChange","change",null,c,h),a.push({event:c,listeners:o}))}var uu=null,lo=null;function Mh(a){s2(a,0)}function cs(a){var o=Kn(a);if(eo(o))return a}function co(a,o){if(a==="change")return o}var Ca=!1;if(xn){var Cr;if(xn){var ou="oninput"in document;if(!ou){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),ou=typeof Xn.oninput=="function"}Cr=ou}else Cr=!1;Ca=Cr&&(!document.documentMode||9<document.documentMode)}function Mf(){uu&&(uu.detachEvent("onpropertychange",fs),lo=uu=null)}function fs(a){if(a.propertyName==="value"&&cs(lo)){var o=[];Nl(o,lo,a,Xo(a)),eu(Mh,o)}}function Bf(a,o,c){a==="focusin"?(Mf(),uu=o,lo=c,uu.attachEvent("onpropertychange",fs)):a==="focusout"&&Mf()}function Ai(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return cs(lo)}function Ll(a,o){if(a==="click")return cs(o)}function su(a,o){if(a==="input"||a==="change")return cs(o)}function ni(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Fn=typeof Object.is=="function"?Object.is:ni;function y(a,o){if(Fn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var w=c[h];if(!ct.call(o,w)||!Fn(a[w],o[w]))return!1}return!0}function S(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function D(a,o){var c=S(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=o&&h>=o)return{node:c,offset:o-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=S(c)}}function q(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?q(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function z(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=nr(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=nr(a.document)}return o}function F(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var Q=xn&&"documentMode"in document&&11>=document.documentMode,te=null,le=null,ce=null,xe=!1;function ae(a,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xe||te==null||te!==nr(h)||(h=te,"selectionStart"in h&&F(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ce&&y(ce,h)||(ce=h,h=gd(le,"onSelect"),0<h.length&&(o=new Qo("onSelect","select",null,o,c),a.push({event:o,listeners:h}),o.target=te)))}function Se(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var fe={animationend:Se("Animation","AnimationEnd"),animationiteration:Se("Animation","AnimationIteration"),animationstart:Se("Animation","AnimationStart"),transitionrun:Se("Transition","TransitionRun"),transitionstart:Se("Transition","TransitionStart"),transitioncancel:Se("Transition","TransitionCancel"),transitionend:Se("Transition","TransitionEnd")},ye={},me={};xn&&(me=document.createElement("div").style,"AnimationEvent"in window||(delete fe.animationend.animation,delete fe.animationiteration.animation,delete fe.animationstart.animation),"TransitionEvent"in window||delete fe.transitionend.transition);function Ee(a){if(ye[a])return ye[a];if(!fe[a])return a;var o=fe[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in me)return ye[a]=o[c];return a}var Ce=Ee("animationend"),De=Ee("animationiteration"),Le=Ee("animationstart"),Fe=Ee("transitionrun"),Ye=Ee("transitionstart"),Je=Ee("transitioncancel"),Ke=Ee("transitionend"),Xe=new Map,We="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");We.push("scrollEnd");function $e(a,o){Xe.set(a,o),Mn(o,[a])}var ut=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},bt=[],Ot=0,Nt=0;function Sn(){for(var a=Ot,o=Nt=Ot=0;o<a;){var c=bt[o];bt[o++]=null;var h=bt[o];bt[o++]=null;var w=bt[o];bt[o++]=null;var T=bt[o];if(bt[o++]=null,h!==null&&w!==null){var k=h.pending;k===null?w.next=w:(w.next=k.next,k.next=w),h.pending=w}T!==0&&fo(c,w,T)}}function Rt(a,o,c,h){bt[Ot++]=a,bt[Ot++]=o,bt[Ot++]=c,bt[Ot++]=h,Nt|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function en(a,o,c,h){return Rt(a,o,c,h),tn(a)}function Mr(a,o){return Rt(a,null,null,o),tn(a)}function fo(a,o,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var w=!1,T=a.return;T!==null;)T.childLanes|=c,h=T.alternate,h!==null&&(h.childLanes|=c),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(w=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,w&&o!==null&&(w=31-pe(c),a=T.hiddenUpdates,h=a[w],h===null?a[w]=[o]:h.push(o),o.lane=c|536870912),T):null}function tn(a){if(50<uc)throw uc=0,Up=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var na={};function Pl(a,o,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(a,o,c,h){return new Pl(a,o,c,h)}function Bh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ri(a,o){var c=a.alternate;return c===null?(c=pa(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function GE(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function qf(a,o,c,h,w,T){var k=0;if(h=a,typeof a=="function")Bh(a)&&(k=1);else if(typeof a=="string")k=BN(a,c,Y.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case L:return a=pa(31,c,o,w),a.elementType=L,a.lanes=T,a;case _:return vo(c.children,w,T,o);case x:k=8,w|=24;break;case E:return a=pa(12,c,o,w|2),a.elementType=E,a.lanes=T,a;case M:return a=pa(13,c,o,w),a.elementType=M,a.lanes=T,a;case B:return a=pa(19,c,o,w),a.elementType=B,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:k=10;break e;case C:k=9;break e;case R:k=11;break e;case O:k=14;break e;case N:k=16,h=null;break e}k=29,c=Error(n(130,a===null?"null":typeof a,"")),h=null}return o=pa(k,c,o,w),o.elementType=a,o.type=h,o.lanes=T,o}function vo(a,o,c,h){return a=pa(7,a,h,o),a.lanes=c,a}function qh(a,o,c){return a=pa(6,a,null,o),a.lanes=c,a}function HE(a){var o=pa(18,null,null,0);return o.stateNode=a,o}function kh(a,o,c){return o=pa(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var KE=new WeakMap;function Aa(a,o){if(typeof a=="object"&&a!==null){var c=KE.get(a);return c!==void 0?c:(o={value:a,source:o,stack:ht(o)},KE.set(a,o),o)}return{value:a,source:o,stack:ht(o)}}var ds=[],vs=0,kf=null,Il=0,Ra=[],Da=0,lu=null,ai=1,ii="";function Di(a,o){ds[vs++]=Il,ds[vs++]=kf,kf=a,Il=o}function $E(a,o,c){Ra[Da++]=ai,Ra[Da++]=ii,Ra[Da++]=lu,lu=a;var h=ai;a=ii;var w=32-pe(h)-1;h&=~(1<<w),c+=1;var T=32-pe(o)+w;if(30<T){var k=w-w%5;T=(h&(1<<k)-1).toString(32),h>>=k,w-=k,ai=1<<32-pe(o)+w|c<<w|h,ii=T+a}else ai=1<<T|c<<w|h,ii=a}function zh(a){a.return!==null&&(Di(a,1),$E(a,1,0))}function Nh(a){for(;a===kf;)kf=ds[--vs],ds[vs]=null,Il=ds[--vs],ds[vs]=null;for(;a===lu;)lu=Ra[--Da],Ra[Da]=null,ii=Ra[--Da],Ra[Da]=null,ai=Ra[--Da],Ra[Da]=null}function YE(a,o){Ra[Da++]=ai,Ra[Da++]=ii,Ra[Da++]=lu,ai=o.id,ii=o.overflow,lu=a}var Bn=null,Ar=null,Zt=!1,cu=null,Oa=!1,Lh=Error(n(519));function fu(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(Aa(o,a)),Lh}function XE(a){var o=a.stateNode,c=a.type,h=a.memoizedProps;switch(o[Qt]=a,o[wr]=h,c){case"dialog":Ht("cancel",o),Ht("close",o);break;case"iframe":case"object":case"embed":Ht("load",o);break;case"video":case"audio":for(c=0;c<sc.length;c++)Ht(sc[c],o);break;case"source":Ht("error",o);break;case"img":case"image":case"link":Ht("error",o),Ht("load",o);break;case"details":Ht("toggle",o);break;case"input":Ht("invalid",o),Yo(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ht("invalid",o);break;case"textarea":Ht("invalid",o),no(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||d2(o.textContent,c)?(h.popover!=null&&(Ht("beforetoggle",o),Ht("toggle",o)),h.onScroll!=null&&Ht("scroll",o),h.onScrollEnd!=null&&Ht("scrollend",o),h.onClick!=null&&(o.onclick=ra),o=!0):o=!1,o||fu(a,!0)}function ZE(a){for(Bn=a.return;Bn;)switch(Bn.tag){case 5:case 31:case 13:Oa=!1;return;case 27:case 3:Oa=!0;return;default:Bn=Bn.return}}function hs(a){if(a!==Bn)return!1;if(!Zt)return ZE(a),Zt=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||tg(a.type,a.memoizedProps)),c=!c),c&&Ar&&fu(a),ZE(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Ar=x2(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Ar=x2(a)}else o===27?(o=Ar,_u(a.type)?(a=ug,ug=null,Ar=a):Ar=o):Ar=Bn?Ba(a.stateNode.nextSibling):null;return!0}function ho(){Ar=Bn=null,Zt=!1}function Ph(){var a=cu;return a!==null&&(oa===null?oa=a:oa.push.apply(oa,a),cu=null),a}function Ul(a){cu===null?cu=[a]:cu.push(a)}var Ih=U(null),po=null,Oi=null;function du(a,o,c){ue(Ih,o._currentValue),o._currentValue=c}function Mi(a){a._currentValue=Ih.current,X(Ih)}function Uh(a,o,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===c)break;a=a.return}}function Fh(a,o,c,h){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var T=w.dependencies;if(T!==null){var k=w.child;T=T.firstContext;e:for(;T!==null;){var H=T;T=w;for(var ne=0;ne<o.length;ne++)if(H.context===o[ne]){T.lanes|=c,H=T.alternate,H!==null&&(H.lanes|=c),Uh(T.return,c,a),h||(k=null);break e}T=H.next}}else if(w.tag===18){if(k=w.return,k===null)throw Error(n(341));k.lanes|=c,T=k.alternate,T!==null&&(T.lanes|=c),Uh(k,c,a),k=null}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===a){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}}function ps(a,o,c,h){a=null;for(var w=o,T=!1;w!==null;){if(!T){if((w.flags&524288)!==0)T=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var k=w.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var H=w.type;Fn(w.pendingProps.value,k.value)||(a!==null?a.push(H):a=[H])}}else if(w===de.current){if(k=w.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(vc):a=[vc])}w=w.return}a!==null&&Fh(o,a,c,h),o.flags|=262144}function zf(a){for(a=a.firstContext;a!==null;){if(!Fn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function go(a){po=a,Oi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function qn(a){return QE(po,a)}function Nf(a,o){return po===null&&go(a),QE(a,o)}function QE(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Oi===null){if(a===null)throw Error(n(308));Oi=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Oi=Oi.next=o;return c}var Rz=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},Dz=t.unstable_scheduleCallback,Oz=t.unstable_NormalPriority,rn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new Rz,data:new Map,refCount:0}}function Fl(a){a.refCount--,a.refCount===0&&Dz(Oz,function(){a.controller.abort()})}var Vl=null,jh=0,gs=0,ys=null;function Mz(a,o){if(Vl===null){var c=Vl=[];jh=0,gs=Kp(),ys={status:"pending",value:void 0,then:function(h){c.push(h)}}}return jh++,o.then(WE,WE),o}function WE(){if(--jh===0&&Vl!==null){ys!==null&&(ys.status="fulfilled");var a=Vl;Vl=null,gs=0,ys=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function Bz(a,o){var c=[],h={status:"pending",value:null,reason:null,then:function(w){c.push(w)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var w=0;w<c.length;w++)(0,c[w])(o)},function(w){for(h.status="rejected",h.reason=w,w=0;w<c.length;w++)(0,c[w])(void 0)}),h}var JE=G.S;G.S=function(a,o){NT=rt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Mz(a,o),JE!==null&&JE(a,o)};var yo=U(null);function Gh(){var a=yo.current;return a!==null?a:mr.pooledCache}function Lf(a,o){o===null?ue(yo,yo.current):ue(yo,o.pool)}function eS(){var a=Gh();return a===null?null:{parent:rn._currentValue,pool:a}}var ms=Error(n(460)),Hh=Error(n(474)),Pf=Error(n(542)),If={then:function(){}};function tS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function rS(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(ra,ra),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,aS(a),a;default:if(typeof o.status=="string")o.then(ra,ra);else{if(a=mr,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=h}},function(h){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,aS(a),a}throw bo=o,ms}}function mo(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(bo=c,ms):c}}var bo=null;function nS(){if(bo===null)throw Error(n(459));var a=bo;return bo=null,a}function aS(a){if(a===ms||a===Pf)throw Error(n(483))}var bs=null,jl=0;function Uf(a){var o=jl;return jl+=1,bs===null&&(bs=[]),rS(bs,a,o)}function Gl(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Ff(a,o){throw o.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function iS(a){function o(Te,ve){if(a){var Ae=Te.deletions;Ae===null?(Te.deletions=[ve],Te.flags|=16):Ae.push(ve)}}function c(Te,ve){if(!a)return null;for(;ve!==null;)o(Te,ve),ve=ve.sibling;return null}function h(Te){for(var ve=new Map;Te!==null;)Te.key!==null?ve.set(Te.key,Te):ve.set(Te.index,Te),Te=Te.sibling;return ve}function w(Te,ve){return Te=Ri(Te,ve),Te.index=0,Te.sibling=null,Te}function T(Te,ve,Ae){return Te.index=Ae,a?(Ae=Te.alternate,Ae!==null?(Ae=Ae.index,Ae<ve?(Te.flags|=67108866,ve):Ae):(Te.flags|=67108866,ve)):(Te.flags|=1048576,ve)}function k(Te){return a&&Te.alternate===null&&(Te.flags|=67108866),Te}function H(Te,ve,Ae,Ue){return ve===null||ve.tag!==6?(ve=qh(Ae,Te.mode,Ue),ve.return=Te,ve):(ve=w(ve,Ae),ve.return=Te,ve)}function ne(Te,ve,Ae,Ue){var wt=Ae.type;return wt===_?Ie(Te,ve,Ae.props.children,Ue,Ae.key):ve!==null&&(ve.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===N&&mo(wt)===ve.type)?(ve=w(ve,Ae.props),Gl(ve,Ae),ve.return=Te,ve):(ve=qf(Ae.type,Ae.key,Ae.props,null,Te.mode,Ue),Gl(ve,Ae),ve.return=Te,ve)}function Re(Te,ve,Ae,Ue){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ae.containerInfo||ve.stateNode.implementation!==Ae.implementation?(ve=kh(Ae,Te.mode,Ue),ve.return=Te,ve):(ve=w(ve,Ae.children||[]),ve.return=Te,ve)}function Ie(Te,ve,Ae,Ue,wt){return ve===null||ve.tag!==7?(ve=vo(Ae,Te.mode,Ue,wt),ve.return=Te,ve):(ve=w(ve,Ae),ve.return=Te,ve)}function Ve(Te,ve,Ae){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=qh(""+ve,Te.mode,Ae),ve.return=Te,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case m:return Ae=qf(ve.type,ve.key,ve.props,null,Te.mode,Ae),Gl(Ae,ve),Ae.return=Te,Ae;case b:return ve=kh(ve,Te.mode,Ae),ve.return=Te,ve;case N:return ve=mo(ve),Ve(Te,ve,Ae)}if(J(ve)||V(ve))return ve=vo(ve,Te.mode,Ae,null),ve.return=Te,ve;if(typeof ve.then=="function")return Ve(Te,Uf(ve),Ae);if(ve.$$typeof===A)return Ve(Te,Nf(Te,ve),Ae);Ff(Te,ve)}return null}function Oe(Te,ve,Ae,Ue){var wt=ve!==null?ve.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return wt!==null?null:H(Te,ve,""+Ae,Ue);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case m:return Ae.key===wt?ne(Te,ve,Ae,Ue):null;case b:return Ae.key===wt?Re(Te,ve,Ae,Ue):null;case N:return Ae=mo(Ae),Oe(Te,ve,Ae,Ue)}if(J(Ae)||V(Ae))return wt!==null?null:Ie(Te,ve,Ae,Ue,null);if(typeof Ae.then=="function")return Oe(Te,ve,Uf(Ae),Ue);if(Ae.$$typeof===A)return Oe(Te,ve,Nf(Te,Ae),Ue);Ff(Te,Ae)}return null}function qe(Te,ve,Ae,Ue,wt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Te=Te.get(Ae)||null,H(ve,Te,""+Ue,wt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case m:return Te=Te.get(Ue.key===null?Ae:Ue.key)||null,ne(ve,Te,Ue,wt);case b:return Te=Te.get(Ue.key===null?Ae:Ue.key)||null,Re(ve,Te,Ue,wt);case N:return Ue=mo(Ue),qe(Te,ve,Ae,Ue,wt)}if(J(Ue)||V(Ue))return Te=Te.get(Ae)||null,Ie(ve,Te,Ue,wt,null);if(typeof Ue.then=="function")return qe(Te,ve,Ae,Uf(Ue),wt);if(Ue.$$typeof===A)return qe(Te,ve,Ae,Nf(ve,Ue),wt);Ff(ve,Ue)}return null}function vt(Te,ve,Ae,Ue){for(var wt=null,er=null,pt=ve,Ft=ve=0,$t=null;pt!==null&&Ft<Ae.length;Ft++){pt.index>Ft?($t=pt,pt=null):$t=pt.sibling;var tr=Oe(Te,pt,Ae[Ft],Ue);if(tr===null){pt===null&&(pt=$t);break}a&&pt&&tr.alternate===null&&o(Te,pt),ve=T(tr,ve,Ft),er===null?wt=tr:er.sibling=tr,er=tr,pt=$t}if(Ft===Ae.length)return c(Te,pt),Zt&&Di(Te,Ft),wt;if(pt===null){for(;Ft<Ae.length;Ft++)pt=Ve(Te,Ae[Ft],Ue),pt!==null&&(ve=T(pt,ve,Ft),er===null?wt=pt:er.sibling=pt,er=pt);return Zt&&Di(Te,Ft),wt}for(pt=h(pt);Ft<Ae.length;Ft++)$t=qe(pt,Te,Ft,Ae[Ft],Ue),$t!==null&&(a&&$t.alternate!==null&&pt.delete($t.key===null?Ft:$t.key),ve=T($t,ve,Ft),er===null?wt=$t:er.sibling=$t,er=$t);return a&&pt.forEach(function(Ou){return o(Te,Ou)}),Zt&&Di(Te,Ft),wt}function Tt(Te,ve,Ae,Ue){if(Ae==null)throw Error(n(151));for(var wt=null,er=null,pt=ve,Ft=ve=0,$t=null,tr=Ae.next();pt!==null&&!tr.done;Ft++,tr=Ae.next()){pt.index>Ft?($t=pt,pt=null):$t=pt.sibling;var Ou=Oe(Te,pt,tr.value,Ue);if(Ou===null){pt===null&&(pt=$t);break}a&&pt&&Ou.alternate===null&&o(Te,pt),ve=T(Ou,ve,Ft),er===null?wt=Ou:er.sibling=Ou,er=Ou,pt=$t}if(tr.done)return c(Te,pt),Zt&&Di(Te,Ft),wt;if(pt===null){for(;!tr.done;Ft++,tr=Ae.next())tr=Ve(Te,tr.value,Ue),tr!==null&&(ve=T(tr,ve,Ft),er===null?wt=tr:er.sibling=tr,er=tr);return Zt&&Di(Te,Ft),wt}for(pt=h(pt);!tr.done;Ft++,tr=Ae.next())tr=qe(pt,Te,Ft,tr.value,Ue),tr!==null&&(a&&tr.alternate!==null&&pt.delete(tr.key===null?Ft:tr.key),ve=T(tr,ve,Ft),er===null?wt=tr:er.sibling=tr,er=tr);return a&&pt.forEach(function(jN){return o(Te,jN)}),Zt&&Di(Te,Ft),wt}function gr(Te,ve,Ae,Ue){if(typeof Ae=="object"&&Ae!==null&&Ae.type===_&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case m:e:{for(var wt=Ae.key;ve!==null;){if(ve.key===wt){if(wt=Ae.type,wt===_){if(ve.tag===7){c(Te,ve.sibling),Ue=w(ve,Ae.props.children),Ue.return=Te,Te=Ue;break e}}else if(ve.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===N&&mo(wt)===ve.type){c(Te,ve.sibling),Ue=w(ve,Ae.props),Gl(Ue,Ae),Ue.return=Te,Te=Ue;break e}c(Te,ve);break}else o(Te,ve);ve=ve.sibling}Ae.type===_?(Ue=vo(Ae.props.children,Te.mode,Ue,Ae.key),Ue.return=Te,Te=Ue):(Ue=qf(Ae.type,Ae.key,Ae.props,null,Te.mode,Ue),Gl(Ue,Ae),Ue.return=Te,Te=Ue)}return k(Te);case b:e:{for(wt=Ae.key;ve!==null;){if(ve.key===wt)if(ve.tag===4&&ve.stateNode.containerInfo===Ae.containerInfo&&ve.stateNode.implementation===Ae.implementation){c(Te,ve.sibling),Ue=w(ve,Ae.children||[]),Ue.return=Te,Te=Ue;break e}else{c(Te,ve);break}else o(Te,ve);ve=ve.sibling}Ue=kh(Ae,Te.mode,Ue),Ue.return=Te,Te=Ue}return k(Te);case N:return Ae=mo(Ae),gr(Te,ve,Ae,Ue)}if(J(Ae))return vt(Te,ve,Ae,Ue);if(V(Ae)){if(wt=V(Ae),typeof wt!="function")throw Error(n(150));return Ae=wt.call(Ae),Tt(Te,ve,Ae,Ue)}if(typeof Ae.then=="function")return gr(Te,ve,Uf(Ae),Ue);if(Ae.$$typeof===A)return gr(Te,ve,Nf(Te,Ae),Ue);Ff(Te,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,ve!==null&&ve.tag===6?(c(Te,ve.sibling),Ue=w(ve,Ae),Ue.return=Te,Te=Ue):(c(Te,ve),Ue=qh(Ae,Te.mode,Ue),Ue.return=Te,Te=Ue),k(Te)):c(Te,ve)}return function(Te,ve,Ae,Ue){try{jl=0;var wt=gr(Te,ve,Ae,Ue);return bs=null,wt}catch(pt){if(pt===ms||pt===Pf)throw pt;var er=pa(29,pt,null,Te.mode);return er.lanes=Ue,er.return=Te,er}finally{}}}var wo=iS(!0),uS=iS(!1),vu=!1;function Kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function hu(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function pu(a,o,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(ar&2)!==0){var w=h.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),h.pending=o,o=tn(a),fo(a,null,c),o}return Rt(a,h,o,c),tn(a)}function Hl(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,Bt(a,c)}}function Yh(a,o){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var w=null,T=null;if(c=c.firstBaseUpdate,c!==null){do{var k={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};T===null?w=T=k:T=T.next=k,c=c.next}while(c!==null);T===null?w=T=o:T=T.next=o}else w=T=o;c={baseState:h.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Xh=!1;function Kl(){if(Xh){var a=ys;if(a!==null)throw a}}function $l(a,o,c,h){Xh=!1;var w=a.updateQueue;vu=!1;var T=w.firstBaseUpdate,k=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var ne=H,Re=ne.next;ne.next=null,k===null?T=Re:k.next=Re,k=ne;var Ie=a.alternate;Ie!==null&&(Ie=Ie.updateQueue,H=Ie.lastBaseUpdate,H!==k&&(H===null?Ie.firstBaseUpdate=Re:H.next=Re,Ie.lastBaseUpdate=ne))}if(T!==null){var Ve=w.baseState;k=0,Ie=Re=ne=null,H=T;do{var Oe=H.lane&-536870913,qe=Oe!==H.lane;if(qe?(Kt&Oe)===Oe:(h&Oe)===Oe){Oe!==0&&Oe===gs&&(Xh=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var vt=a,Tt=H;Oe=o;var gr=c;switch(Tt.tag){case 1:if(vt=Tt.payload,typeof vt=="function"){Ve=vt.call(gr,Ve,Oe);break e}Ve=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Tt.payload,Oe=typeof vt=="function"?vt.call(gr,Ve,Oe):vt,Oe==null)break e;Ve=p({},Ve,Oe);break e;case 2:vu=!0}}Oe=H.callback,Oe!==null&&(a.flags|=64,qe&&(a.flags|=8192),qe=w.callbacks,qe===null?w.callbacks=[Oe]:qe.push(Oe))}else qe={lane:Oe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ie===null?(Re=Ie=qe,ne=Ve):Ie=Ie.next=qe,k|=Oe;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;qe=H,H=qe.next,qe.next=null,w.lastBaseUpdate=qe,w.shared.pending=null}}while(!0);Ie===null&&(ne=Ve),w.baseState=ne,w.firstBaseUpdate=Re,w.lastBaseUpdate=Ie,T===null&&(w.shared.lanes=0),wu|=k,a.lanes=k,a.memoizedState=Ve}}function oS(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function sS(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)oS(c[a],o)}var ws=U(null),Vf=U(0);function lS(a,o){a=Ui,ue(Vf,a),ue(ws,o),Ui=a|o.baseLanes}function Zh(){ue(Vf,Ui),ue(ws,ws.current)}function Qh(){Ui=Vf.current,X(ws),X(Vf)}var ga=U(null),Ma=null;function gu(a){var o=a.alternate;ue(Kr,Kr.current&1),ue(ga,a),Ma===null&&(o===null||ws.current!==null||o.memoizedState!==null)&&(Ma=a)}function Wh(a){ue(Kr,Kr.current),ue(ga,a),Ma===null&&(Ma=a)}function cS(a){a.tag===22?(ue(Kr,Kr.current),ue(ga,a),Ma===null&&(Ma=a)):yu()}function yu(){ue(Kr,Kr.current),ue(ga,ga.current)}function ya(a){X(ga),Ma===a&&(Ma=null),X(Kr)}var Kr=U(0);function jf(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||ag(c)||ig(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Bi=0,Lt=null,hr=null,nn=null,Gf=!1,xs=!1,xo=!1,Hf=0,Yl=0,Es=null,qz=0;function Vr(){throw Error(n(321))}function Jh(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!Fn(a[c],o[c]))return!1;return!0}function ep(a,o,c,h,w,T){return Bi=T,Lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=a===null||a.memoizedState===null?$S:pp,xo=!1,T=c(h,w),xo=!1,xs&&(T=dS(o,c,h,w)),fS(a),T}function fS(a){G.H=Ql;var o=hr!==null&&hr.next!==null;if(Bi=0,nn=hr=Lt=null,Gf=!1,Yl=0,Es=null,o)throw Error(n(300));a===null||an||(a=a.dependencies,a!==null&&zf(a)&&(an=!0))}function dS(a,o,c,h){Lt=a;var w=0;do{if(xs&&(Es=null),Yl=0,xs=!1,25<=w)throw Error(n(301));if(w+=1,nn=hr=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}G.H=YS,T=o(c,h)}while(xs);return T}function kz(){var a=G.H,o=a.useState()[0];return o=typeof o.then=="function"?Xl(o):o,a=a.useState()[0],(hr!==null?hr.memoizedState:null)!==a&&(Lt.flags|=1024),o}function tp(){var a=Hf!==0;return Hf=0,a}function rp(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function np(a){if(Gf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Gf=!1}Bi=0,nn=hr=Lt=null,xs=!1,Yl=Hf=0,Es=null}function Zn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Lt.memoizedState=nn=a:nn=nn.next=a,nn}function $r(){if(hr===null){var a=Lt.alternate;a=a!==null?a.memoizedState:null}else a=hr.next;var o=nn===null?Lt.memoizedState:nn.next;if(o!==null)nn=o,hr=a;else{if(a===null)throw Lt.alternate===null?Error(n(467)):Error(n(310));hr=a,a={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},nn===null?Lt.memoizedState=nn=a:nn=nn.next=a}return nn}function Kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(a){var o=Yl;return Yl+=1,Es===null&&(Es=[]),a=rS(Es,a,o),o=Lt,(nn===null?o.memoizedState:nn.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?$S:pp),a}function $f(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Xl(a);if(a.$$typeof===A)return qn(a)}throw Error(n(438,String(a)))}function ap(a){var o=null,c=Lt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Lt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Kf(),Lt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),h=0;h<a;h++)c[h]=P;return o.index++,c}function qi(a,o){return typeof o=="function"?o(a):o}function Yf(a){var o=$r();return ip(o,hr,a)}function ip(a,o,c){var h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var w=a.baseQueue,T=h.pending;if(T!==null){if(w!==null){var k=w.next;w.next=T.next,T.next=k}o.baseQueue=w=T,h.pending=null}if(T=a.baseState,w===null)a.memoizedState=T;else{o=w.next;var H=k=null,ne=null,Re=o,Ie=!1;do{var Ve=Re.lane&-536870913;if(Ve!==Re.lane?(Kt&Ve)===Ve:(Bi&Ve)===Ve){var Oe=Re.revertLane;if(Oe===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Ve===gs&&(Ie=!0);else if((Bi&Oe)===Oe){Re=Re.next,Oe===gs&&(Ie=!0);continue}else Ve={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ne===null?(H=ne=Ve,k=T):ne=ne.next=Ve,Lt.lanes|=Oe,wu|=Oe;Ve=Re.action,xo&&c(T,Ve),T=Re.hasEagerState?Re.eagerState:c(T,Ve)}else Oe={lane:Ve,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ne===null?(H=ne=Oe,k=T):ne=ne.next=Oe,Lt.lanes|=Ve,wu|=Ve;Re=Re.next}while(Re!==null&&Re!==o);if(ne===null?k=T:ne.next=H,!Fn(T,a.memoizedState)&&(an=!0,Ie&&(c=ys,c!==null)))throw c;a.memoizedState=T,a.baseState=k,a.baseQueue=ne,h.lastRenderedState=T}return w===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function up(a){var o=$r(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var h=c.dispatch,w=c.pending,T=o.memoizedState;if(w!==null){c.pending=null;var k=w=w.next;do T=a(T,k.action),k=k.next;while(k!==w);Fn(T,o.memoizedState)||(an=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),c.lastRenderedState=T}return[T,h]}function vS(a,o,c){var h=Lt,w=$r(),T=Zt;if(T){if(c===void 0)throw Error(n(407));c=c()}else c=o();var k=!Fn((hr||w).memoizedState,c);if(k&&(w.memoizedState=c,an=!0),w=w.queue,lp(gS.bind(null,h,w,a),[a]),w.getSnapshot!==o||k||nn!==null&&nn.memoizedState.tag&1){if(h.flags|=2048,Ss(9,{destroy:void 0},pS.bind(null,h,w,c,o),null),mr===null)throw Error(n(349));T||(Bi&127)!==0||hS(h,o,c)}return c}function hS(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Lt.updateQueue,o===null?(o=Kf(),Lt.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function pS(a,o,c,h){o.value=c,o.getSnapshot=h,yS(o)&&mS(a)}function gS(a,o,c){return c(function(){yS(o)&&mS(a)})}function yS(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!Fn(a,c)}catch{return!0}}function mS(a){var o=Mr(a,2);o!==null&&sa(o,a,2)}function op(a){var o=Zn();if(typeof a=="function"){var c=a;if(a=c(),xo){Me(!0);try{c()}finally{Me(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},o}function bS(a,o,c,h){return a.baseState=c,ip(a,hr,typeof h=="function"?h:qi)}function zz(a,o,c,h,w){if(Qf(a))throw Error(n(485));if(a=o.action,a!==null){var T={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){T.listeners.push(k)}};G.T!==null?c(!0):T.isTransition=!1,h(T),c=o.pending,c===null?(T.next=o.pending=T,wS(o,T)):(T.next=c.next,o.pending=c.next=T)}}function wS(a,o){var c=o.action,h=o.payload,w=a.state;if(o.isTransition){var T=G.T,k={};G.T=k;try{var H=c(w,h),ne=G.S;ne!==null&&ne(k,H),xS(a,o,H)}catch(Re){sp(a,o,Re)}finally{T!==null&&k.types!==null&&(T.types=k.types),G.T=T}}else try{T=c(w,h),xS(a,o,T)}catch(Re){sp(a,o,Re)}}function xS(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){ES(a,o,h)},function(h){return sp(a,o,h)}):ES(a,o,c)}function ES(a,o,c){o.status="fulfilled",o.value=c,SS(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,wS(a,c)))}function sp(a,o,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,SS(o),o=o.next;while(o!==h)}a.action=null}function SS(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function TS(a,o){return o}function _S(a,o){if(Zt){var c=mr.formState;if(c!==null){e:{var h=Lt;if(Zt){if(Ar){t:{for(var w=Ar,T=Oa;w.nodeType!==8;){if(!T){w=null;break t}if(w=Ba(w.nextSibling),w===null){w=null;break t}}T=w.data,w=T==="F!"||T==="F"?w:null}if(w){Ar=Ba(w.nextSibling),h=w.data==="F!";break e}}fu(h)}h=!1}h&&(o=c[0])}}return c=Zn(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TS,lastRenderedState:o},c.queue=h,c=GS.bind(null,Lt,h),h.dispatch=c,h=op(!1),T=hp.bind(null,Lt,!1,h.queue),h=Zn(),w={state:o,dispatch:null,action:a,pending:null},h.queue=w,c=zz.bind(null,Lt,w,T,c),w.dispatch=c,h.memoizedState=a,[o,c,!1]}function CS(a){var o=$r();return AS(o,hr,a)}function AS(a,o,c){if(o=ip(a,o,TS)[0],a=Yf(qi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Xl(o)}catch(k){throw k===ms?Pf:k}else h=o;o=$r();var w=o.queue,T=w.dispatch;return c!==o.memoizedState&&(Lt.flags|=2048,Ss(9,{destroy:void 0},Nz.bind(null,w,c),null)),[h,T,a]}function Nz(a,o){a.action=o}function RS(a){var o=$r(),c=hr;if(c!==null)return AS(o,c,a);$r(),o=o.memoizedState,c=$r();var h=c.queue.dispatch;return c.memoizedState=a,[o,h,!1]}function Ss(a,o,c,h){return a={tag:a,create:c,deps:h,inst:o,next:null},o=Lt.updateQueue,o===null&&(o=Kf(),Lt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,o.lastEffect=a),a}function DS(){return $r().memoizedState}function Xf(a,o,c,h){var w=Zn();Lt.flags|=a,w.memoizedState=Ss(1|o,{destroy:void 0},c,h===void 0?null:h)}function Zf(a,o,c,h){var w=$r();h=h===void 0?null:h;var T=w.memoizedState.inst;hr!==null&&h!==null&&Jh(h,hr.memoizedState.deps)?w.memoizedState=Ss(o,T,c,h):(Lt.flags|=a,w.memoizedState=Ss(1|o,T,c,h))}function OS(a,o){Xf(8390656,8,a,o)}function lp(a,o){Zf(2048,8,a,o)}function Lz(a){Lt.flags|=4;var o=Lt.updateQueue;if(o===null)o=Kf(),Lt.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function MS(a){var o=$r().memoizedState;return Lz({ref:o,nextImpl:a}),function(){if((ar&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function BS(a,o){return Zf(4,2,a,o)}function qS(a,o){return Zf(4,4,a,o)}function kS(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function zS(a,o,c){c=c!=null?c.concat([a]):null,Zf(4,4,kS.bind(null,o,a),c)}function cp(){}function NS(a,o){var c=$r();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&Jh(o,h[1])?h[0]:(c.memoizedState=[a,o],a)}function LS(a,o){var c=$r();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&Jh(o,h[1]))return h[0];if(h=a(),xo){Me(!0);try{a()}finally{Me(!1)}}return c.memoizedState=[h,o],h}function fp(a,o,c){return c===void 0||(Bi&1073741824)!==0&&(Kt&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=PT(),Lt.lanes|=a,wu|=a,c)}function PS(a,o,c,h){return Fn(c,o)?c:ws.current!==null?(a=fp(a,c,h),Fn(a,o)||(an=!0),a):(Bi&42)===0||(Bi&1073741824)!==0&&(Kt&261930)===0?(an=!0,a.memoizedState=c):(a=PT(),Lt.lanes|=a,wu|=a,o)}function IS(a,o,c,h,w){var T=$.p;$.p=T!==0&&8>T?T:8;var k=G.T,H={};G.T=H,hp(a,!1,o,c);try{var ne=w(),Re=G.S;if(Re!==null&&Re(H,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ie=Bz(ne,h);Zl(a,o,Ie,wa(a))}else Zl(a,o,h,wa(a))}catch(Ve){Zl(a,o,{then:function(){},status:"rejected",reason:Ve},wa())}finally{$.p=T,k!==null&&H.types!==null&&(k.types=H.types),G.T=k}}function Pz(){}function dp(a,o,c,h){if(a.tag!==5)throw Error(n(476));var w=US(a).queue;IS(a,w,o,W,c===null?Pz:function(){return FS(a),c(h)})}function US(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function FS(a){var o=US(a);o.next===null&&(o=a.alternate.memoizedState),Zl(a,o.next.queue,{},wa())}function vp(){return qn(vc)}function VS(){return $r().memoizedState}function jS(){return $r().memoizedState}function Iz(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=wa();a=hu(c);var h=pu(o,a,c);h!==null&&(sa(h,o,c),Hl(h,o,c)),o={cache:Vh()},a.payload=o;return}o=o.return}}function Uz(a,o,c){var h=wa();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qf(a)?HS(o,c):(c=en(a,o,c,h),c!==null&&(sa(c,a,h),KS(c,o,h)))}function GS(a,o,c){var h=wa();Zl(a,o,c,h)}function Zl(a,o,c,h){var w={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Qf(a))HS(o,w);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var k=o.lastRenderedState,H=T(k,c);if(w.hasEagerState=!0,w.eagerState=H,Fn(H,k))return Rt(a,o,w,0),mr===null&&Sn(),!1}catch{}finally{}if(c=en(a,o,w,h),c!==null)return sa(c,a,h),KS(c,o,h),!0}return!1}function hp(a,o,c,h){if(h={lane:2,revertLane:Kp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Qf(a)){if(o)throw Error(n(479))}else o=en(a,c,h,2),o!==null&&sa(o,a,2)}function Qf(a){var o=a.alternate;return a===Lt||o!==null&&o===Lt}function HS(a,o){xs=Gf=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function KS(a,o,c){if((c&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,Bt(a,c)}}var Ql={readContext:qn,use:$f,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useLayoutEffect:Vr,useInsertionEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useSyncExternalStore:Vr,useId:Vr,useHostTransitionStatus:Vr,useFormState:Vr,useActionState:Vr,useOptimistic:Vr,useMemoCache:Vr,useCacheRefresh:Vr};Ql.useEffectEvent=Vr;var $S={readContext:qn,use:$f,useCallback:function(a,o){return Zn().memoizedState=[a,o===void 0?null:o],a},useContext:qn,useEffect:OS,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Xf(4194308,4,kS.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Xf(4194308,4,a,o)},useInsertionEffect:function(a,o){Xf(4,2,a,o)},useMemo:function(a,o){var c=Zn();o=o===void 0?null:o;var h=a();if(xo){Me(!0);try{a()}finally{Me(!1)}}return c.memoizedState=[h,o],h},useReducer:function(a,o,c){var h=Zn();if(c!==void 0){var w=c(o);if(xo){Me(!0);try{c(o)}finally{Me(!1)}}}else w=o;return h.memoizedState=h.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},h.queue=a,a=a.dispatch=Uz.bind(null,Lt,a),[h.memoizedState,a]},useRef:function(a){var o=Zn();return a={current:a},o.memoizedState=a},useState:function(a){a=op(a);var o=a.queue,c=GS.bind(null,Lt,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:cp,useDeferredValue:function(a,o){var c=Zn();return fp(c,a,o)},useTransition:function(){var a=op(!1);return a=IS.bind(null,Lt,a.queue,!0,!1),Zn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var h=Lt,w=Zn();if(Zt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),mr===null)throw Error(n(349));(Kt&127)!==0||hS(h,o,c)}w.memoizedState=c;var T={value:c,getSnapshot:o};return w.queue=T,OS(gS.bind(null,h,T,a),[a]),h.flags|=2048,Ss(9,{destroy:void 0},pS.bind(null,h,T,c,o),null),c},useId:function(){var a=Zn(),o=mr.identifierPrefix;if(Zt){var c=ii,h=ai;c=(h&~(1<<32-pe(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Hf++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=qz++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:vp,useFormState:_S,useActionState:_S,useOptimistic:function(a){var o=Zn();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=hp.bind(null,Lt,!0,c),c.dispatch=o,[a,o]},useMemoCache:ap,useCacheRefresh:function(){return Zn().memoizedState=Iz.bind(null,Lt)},useEffectEvent:function(a){var o=Zn(),c={impl:a};return o.memoizedState=c,function(){if((ar&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},pp={readContext:qn,use:$f,useCallback:NS,useContext:qn,useEffect:lp,useImperativeHandle:zS,useInsertionEffect:BS,useLayoutEffect:qS,useMemo:LS,useReducer:Yf,useRef:DS,useState:function(){return Yf(qi)},useDebugValue:cp,useDeferredValue:function(a,o){var c=$r();return PS(c,hr.memoizedState,a,o)},useTransition:function(){var a=Yf(qi)[0],o=$r().memoizedState;return[typeof a=="boolean"?a:Xl(a),o]},useSyncExternalStore:vS,useId:VS,useHostTransitionStatus:vp,useFormState:CS,useActionState:CS,useOptimistic:function(a,o){var c=$r();return bS(c,hr,a,o)},useMemoCache:ap,useCacheRefresh:jS};pp.useEffectEvent=MS;var YS={readContext:qn,use:$f,useCallback:NS,useContext:qn,useEffect:lp,useImperativeHandle:zS,useInsertionEffect:BS,useLayoutEffect:qS,useMemo:LS,useReducer:up,useRef:DS,useState:function(){return up(qi)},useDebugValue:cp,useDeferredValue:function(a,o){var c=$r();return hr===null?fp(c,a,o):PS(c,hr.memoizedState,a,o)},useTransition:function(){var a=up(qi)[0],o=$r().memoizedState;return[typeof a=="boolean"?a:Xl(a),o]},useSyncExternalStore:vS,useId:VS,useHostTransitionStatus:vp,useFormState:RS,useActionState:RS,useOptimistic:function(a,o){var c=$r();return hr!==null?bS(c,hr,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:ap,useCacheRefresh:jS};YS.useEffectEvent=MS;function gp(a,o,c,h){o=a.memoizedState,c=c(h,o),c=c==null?o:p({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var yp={enqueueSetState:function(a,o,c){a=a._reactInternals;var h=wa(),w=hu(h);w.payload=o,c!=null&&(w.callback=c),o=pu(a,w,h),o!==null&&(sa(o,a,h),Hl(o,a,h))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var h=wa(),w=hu(h);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=pu(a,w,h),o!==null&&(sa(o,a,h),Hl(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=wa(),h=hu(c);h.tag=2,o!=null&&(h.callback=o),o=pu(a,h,c),o!==null&&(sa(o,a,c),Hl(o,a,c))}};function XS(a,o,c,h,w,T,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,T,k):o.prototype&&o.prototype.isPureReactComponent?!y(c,h)||!y(w,T):!0}function ZS(a,o,c,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==a&&yp.enqueueReplaceState(o,o.state,null)}function Eo(a,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(a=a.defaultProps){c===o&&(c=p({},c));for(var w in a)c[w]===void 0&&(c[w]=a[w])}return c}function QS(a){ut(a)}function WS(a){console.error(a)}function JS(a){ut(a)}function Wf(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function eT(a,o,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function mp(a,o,c){return c=hu(c),c.tag=3,c.payload={element:null},c.callback=function(){Wf(a,o)},c}function tT(a){return a=hu(a),a.tag=3,a}function rT(a,o,c,h){var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var T=h.value;a.payload=function(){return w(T)},a.callback=function(){eT(o,c,h)}}var k=c.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){eT(o,c,h),typeof w!="function"&&(xu===null?xu=new Set([this]):xu.add(this));var H=h.stack;this.componentDidCatch(h.value,{componentStack:H!==null?H:""})})}function Fz(a,o,c,h,w){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&ps(o,c,w,!0),c=ga.current,c!==null){switch(c.tag){case 31:case 13:return Ma===null?cd():c.alternate===null&&jr===0&&(jr=3),c.flags&=-257,c.flags|=65536,c.lanes=w,h===If?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),jp(a,h,w)),!1;case 22:return c.flags|=65536,h===If?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),jp(a,h,w)),!1}throw Error(n(435,c.tag))}return jp(a,h,w),cd(),!1}if(Zt)return o=ga.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,h!==Lh&&(a=Error(n(422),{cause:h}),Ul(Aa(a,c)))):(h!==Lh&&(o=Error(n(423),{cause:h}),Ul(Aa(o,c))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,h=Aa(h,c),w=mp(a.stateNode,h,w),Yh(a,w),jr!==4&&(jr=2)),!1;var T=Error(n(520),{cause:h});if(T=Aa(T,c),ic===null?ic=[T]:ic.push(T),jr!==4&&(jr=2),o===null)return!0;h=Aa(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=w&-w,c.lanes|=a,a=mp(c.stateNode,h,a),Yh(c,a),!1;case 1:if(o=c.type,T=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(xu===null||!xu.has(T))))return c.flags|=65536,w&=-w,c.lanes|=w,w=tT(w),rT(w,a,c,h),Yh(c,w),!1}c=c.return}while(c!==null);return!1}var bp=Error(n(461)),an=!1;function kn(a,o,c,h){o.child=a===null?uS(o,null,c,h):wo(o,a.child,c,h)}function nT(a,o,c,h,w){c=c.render;var T=o.ref;if("ref"in h){var k={};for(var H in h)H!=="ref"&&(k[H]=h[H])}else k=h;return go(o),h=ep(a,o,c,k,T,w),H=tp(),a!==null&&!an?(rp(a,o,w),ki(a,o,w)):(Zt&&H&&zh(o),o.flags|=1,kn(a,o,h,w),o.child)}function aT(a,o,c,h,w){if(a===null){var T=c.type;return typeof T=="function"&&!Bh(T)&&T.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=T,iT(a,o,T,h,w)):(a=qf(c.type,null,h,o,o.mode,w),a.ref=o.ref,a.return=o,o.child=a)}if(T=a.child,!Ap(a,w)){var k=T.memoizedProps;if(c=c.compare,c=c!==null?c:y,c(k,h)&&a.ref===o.ref)return ki(a,o,w)}return o.flags|=1,a=Ri(T,h),a.ref=o.ref,a.return=o,o.child=a}function iT(a,o,c,h,w){if(a!==null){var T=a.memoizedProps;if(y(T,h)&&a.ref===o.ref)if(an=!1,o.pendingProps=h=T,Ap(a,w))(a.flags&131072)!==0&&(an=!0);else return o.lanes=a.lanes,ki(a,o,w)}return wp(a,o,c,h,w)}function uT(a,o,c,h){var w=h.children,T=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(T=T!==null?T.baseLanes|c:c,a!==null){for(h=o.child=a.child,w=0;h!==null;)w=w|h.lanes|h.childLanes,h=h.sibling;h=w&~T}else h=0,o.child=null;return oT(a,o,T,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Lf(o,T!==null?T.cachePool:null),T!==null?lS(o,T):Zh(),cS(o);else return h=o.lanes=536870912,oT(a,o,T!==null?T.baseLanes|c:c,c,h)}else T!==null?(Lf(o,T.cachePool),lS(o,T),yu(),o.memoizedState=null):(a!==null&&Lf(o,null),Zh(),yu());return kn(a,o,w,c),o.child}function Wl(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function oT(a,o,c,h,w){var T=Gh();return T=T===null?null:{parent:rn._currentValue,pool:T},o.memoizedState={baseLanes:c,cachePool:T},a!==null&&Lf(o,null),Zh(),cS(o),a!==null&&ps(a,o,h,!0),o.childLanes=w,null}function Jf(a,o){return o=td({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function sT(a,o,c){return wo(o,a.child,null,c),a=Jf(o,o.pendingProps),a.flags|=2,ya(o),o.memoizedState=null,a}function Vz(a,o,c){var h=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Zt){if(h.mode==="hidden")return a=Jf(o,h),o.lanes=536870912,Wl(null,a);if(Wh(o),(a=Ar)?(a=w2(a,Oa),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:lu!==null?{id:ai,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},c=HE(a),c.return=o,o.child=c,Bn=o,Ar=null)):a=null,a===null)throw fu(o);return o.lanes=536870912,null}return Jf(o,h)}var T=a.memoizedState;if(T!==null){var k=T.dehydrated;if(Wh(o),w)if(o.flags&256)o.flags&=-257,o=sT(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(an||ps(a,o,c,!1),w=(c&a.childLanes)!==0,an||w){if(h=mr,h!==null&&(k=Ut(h,c),k!==0&&k!==T.retryLane))throw T.retryLane=k,Mr(a,k),sa(h,a,k),bp;cd(),o=sT(a,o,c)}else a=T.treeContext,Ar=Ba(k.nextSibling),Bn=o,Zt=!0,cu=null,Oa=!1,a!==null&&YE(o,a),o=Jf(o,h),o.flags|=4096;return o}return a=Ri(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function ed(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function wp(a,o,c,h,w){return go(o),c=ep(a,o,c,h,void 0,w),h=tp(),a!==null&&!an?(rp(a,o,w),ki(a,o,w)):(Zt&&h&&zh(o),o.flags|=1,kn(a,o,c,w),o.child)}function lT(a,o,c,h,w,T){return go(o),o.updateQueue=null,c=dS(o,h,c,w),fS(a),h=tp(),a!==null&&!an?(rp(a,o,T),ki(a,o,T)):(Zt&&h&&zh(o),o.flags|=1,kn(a,o,c,T),o.child)}function cT(a,o,c,h,w){if(go(o),o.stateNode===null){var T=na,k=c.contextType;typeof k=="object"&&k!==null&&(T=qn(k)),T=new c(h,T),o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=yp,o.stateNode=T,T._reactInternals=o,T=o.stateNode,T.props=h,T.state=o.memoizedState,T.refs={},Kh(o),k=c.contextType,T.context=typeof k=="object"&&k!==null?qn(k):na,T.state=o.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(gp(o,c,k,h),T.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(k=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),k!==T.state&&yp.enqueueReplaceState(T,T.state,null),$l(o,h,T,w),Kl(),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){T=o.stateNode;var H=o.memoizedProps,ne=Eo(c,H);T.props=ne;var Re=T.context,Ie=c.contextType;k=na,typeof Ie=="object"&&Ie!==null&&(k=qn(Ie));var Ve=c.getDerivedStateFromProps;Ie=typeof Ve=="function"||typeof T.getSnapshotBeforeUpdate=="function",H=o.pendingProps!==H,Ie||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H||Re!==k)&&ZS(o,T,h,k),vu=!1;var Oe=o.memoizedState;T.state=Oe,$l(o,h,T,w),Kl(),Re=o.memoizedState,H||Oe!==Re||vu?(typeof Ve=="function"&&(gp(o,c,Ve,h),Re=o.memoizedState),(ne=vu||XS(o,c,ne,h,Oe,Re,k))?(Ie||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=Re),T.props=h,T.state=Re,T.context=k,h=ne):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,$h(a,o),k=o.memoizedProps,Ie=Eo(c,k),T.props=Ie,Ve=o.pendingProps,Oe=T.context,Re=c.contextType,ne=na,typeof Re=="object"&&Re!==null&&(ne=qn(Re)),H=c.getDerivedStateFromProps,(Re=typeof H=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==Ve||Oe!==ne)&&ZS(o,T,h,ne),vu=!1,Oe=o.memoizedState,T.state=Oe,$l(o,h,T,w),Kl();var qe=o.memoizedState;k!==Ve||Oe!==qe||vu||a!==null&&a.dependencies!==null&&zf(a.dependencies)?(typeof H=="function"&&(gp(o,c,H,h),qe=o.memoizedState),(Ie=vu||XS(o,c,Ie,h,Oe,qe,ne)||a!==null&&a.dependencies!==null&&zf(a.dependencies))?(Re||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,qe,ne),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,qe,ne)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===a.memoizedProps&&Oe===a.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&Oe===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=qe),T.props=h,T.state=qe,T.context=ne,h=Ie):(typeof T.componentDidUpdate!="function"||k===a.memoizedProps&&Oe===a.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&Oe===a.memoizedState||(o.flags|=1024),h=!1)}return T=h,ed(a,o),h=(o.flags&128)!==0,T||h?(T=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:T.render(),o.flags|=1,a!==null&&h?(o.child=wo(o,a.child,null,w),o.child=wo(o,null,c,w)):kn(a,o,c,w),o.memoizedState=T.state,a=o.child):a=ki(a,o,w),a}function fT(a,o,c,h){return ho(),o.flags|=256,kn(a,o,c,h),o.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ep(a){return{baseLanes:a,cachePool:eS()}}function Sp(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=ba),a}function dT(a,o,c){var h=o.pendingProps,w=!1,T=(o.flags&128)!==0,k;if((k=T)||(k=a!==null&&a.memoizedState===null?!1:(Kr.current&2)!==0),k&&(w=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,a===null){if(Zt){if(w?gu(o):yu(),(a=Ar)?(a=w2(a,Oa),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:lu!==null?{id:ai,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},c=HE(a),c.return=o,o.child=c,Bn=o,Ar=null)):a=null,a===null)throw fu(o);return ig(a)?o.lanes=32:o.lanes=536870912,null}var H=h.children;return h=h.fallback,w?(yu(),w=o.mode,H=td({mode:"hidden",children:H},w),h=vo(h,w,c,null),H.return=o,h.return=o,H.sibling=h,o.child=H,h=o.child,h.memoizedState=Ep(c),h.childLanes=Sp(a,k,c),o.memoizedState=xp,Wl(null,h)):(gu(o),Tp(o,H))}var ne=a.memoizedState;if(ne!==null&&(H=ne.dehydrated,H!==null)){if(T)o.flags&256?(gu(o),o.flags&=-257,o=_p(a,o,c)):o.memoizedState!==null?(yu(),o.child=a.child,o.flags|=128,o=null):(yu(),H=h.fallback,w=o.mode,h=td({mode:"visible",children:h.children},w),H=vo(H,w,c,null),H.flags|=2,h.return=o,H.return=o,h.sibling=H,o.child=h,wo(o,a.child,null,c),h=o.child,h.memoizedState=Ep(c),h.childLanes=Sp(a,k,c),o.memoizedState=xp,o=Wl(null,h));else if(gu(o),ig(H)){if(k=H.nextSibling&&H.nextSibling.dataset,k)var Re=k.dgst;k=Re,h=Error(n(419)),h.stack="",h.digest=k,Ul({value:h,source:null,stack:null}),o=_p(a,o,c)}else if(an||ps(a,o,c,!1),k=(c&a.childLanes)!==0,an||k){if(k=mr,k!==null&&(h=Ut(k,c),h!==0&&h!==ne.retryLane))throw ne.retryLane=h,Mr(a,h),sa(k,a,h),bp;ag(H)||cd(),o=_p(a,o,c)}else ag(H)?(o.flags|=192,o.child=a.child,o=null):(a=ne.treeContext,Ar=Ba(H.nextSibling),Bn=o,Zt=!0,cu=null,Oa=!1,a!==null&&YE(o,a),o=Tp(o,h.children),o.flags|=4096);return o}return w?(yu(),H=h.fallback,w=o.mode,ne=a.child,Re=ne.sibling,h=Ri(ne,{mode:"hidden",children:h.children}),h.subtreeFlags=ne.subtreeFlags&65011712,Re!==null?H=Ri(Re,H):(H=vo(H,w,c,null),H.flags|=2),H.return=o,h.return=o,h.sibling=H,o.child=h,Wl(null,h),h=o.child,H=a.child.memoizedState,H===null?H=Ep(c):(w=H.cachePool,w!==null?(ne=rn._currentValue,w=w.parent!==ne?{parent:ne,pool:ne}:w):w=eS(),H={baseLanes:H.baseLanes|c,cachePool:w}),h.memoizedState=H,h.childLanes=Sp(a,k,c),o.memoizedState=xp,Wl(a.child,h)):(gu(o),c=a.child,a=c.sibling,c=Ri(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,a!==null&&(k=o.deletions,k===null?(o.deletions=[a],o.flags|=16):k.push(a)),o.child=c,o.memoizedState=null,c)}function Tp(a,o){return o=td({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function td(a,o){return a=pa(22,a,null,o),a.lanes=0,a}function _p(a,o,c){return wo(o,a.child,null,c),a=Tp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function vT(a,o,c){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),Uh(a.return,o,c)}function Cp(a,o,c,h,w,T){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:w,treeForkCount:T}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=h,k.tail=c,k.tailMode=w,k.treeForkCount=T)}function hT(a,o,c){var h=o.pendingProps,w=h.revealOrder,T=h.tail;h=h.children;var k=Kr.current,H=(k&2)!==0;if(H?(k=k&1|2,o.flags|=128):k&=1,ue(Kr,k),kn(a,o,h,c),h=Zt?Il:0,!H&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&vT(a,c,o);else if(a.tag===19)vT(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(c=o.child,w=null;c!==null;)a=c.alternate,a!==null&&jf(a)===null&&(w=c),c=c.sibling;c=w,c===null?(w=o.child,o.child=null):(w=c.sibling,c.sibling=null),Cp(o,!1,w,c,T,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,w=o.child,o.child=null;w!==null;){if(a=w.alternate,a!==null&&jf(a)===null){o.child=w;break}a=w.sibling,w.sibling=c,c=w,w=a}Cp(o,!0,c,null,T,h);break;case"together":Cp(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function ki(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),wu|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(ps(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,c=Ri(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Ri(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Ap(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&zf(a)))}function jz(a,o,c){switch(o.tag){case 3:ze(o,o.stateNode.containerInfo),du(o,rn,a.memoizedState.cache),ho();break;case 27:case 5:he(o);break;case 4:ze(o,o.stateNode.containerInfo);break;case 10:du(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Wh(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(gu(o),o.flags|=128,null):(c&o.child.childLanes)!==0?dT(a,o,c):(gu(o),a=ki(a,o,c),a!==null?a.sibling:null);gu(o);break;case 19:var w=(a.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(ps(a,o,c,!1),h=(c&o.childLanes)!==0),w){if(h)return hT(a,o,c);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ue(Kr,Kr.current),h)break;return null;case 22:return o.lanes=0,uT(a,o,c,o.pendingProps);case 24:du(o,rn,a.memoizedState.cache)}return ki(a,o,c)}function pT(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)an=!0;else{if(!Ap(a,c)&&(o.flags&128)===0)return an=!1,jz(a,o,c);an=(a.flags&131072)!==0}else an=!1,Zt&&(o.flags&1048576)!==0&&$E(o,Il,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=mo(o.elementType),o.type=a,typeof a=="function")Bh(a)?(h=Eo(a,h),o.tag=1,o=cT(null,o,a,h,c)):(o.tag=0,o=wp(null,o,a,h,c));else{if(a!=null){var w=a.$$typeof;if(w===R){o.tag=11,o=nT(null,o,a,h,c);break e}else if(w===O){o.tag=14,o=aT(null,o,a,h,c);break e}}throw o=Z(a)||a,Error(n(306,o,""))}}return o;case 0:return wp(a,o,o.type,o.pendingProps,c);case 1:return h=o.type,w=Eo(h,o.pendingProps),cT(a,o,h,w,c);case 3:e:{if(ze(o,o.stateNode.containerInfo),a===null)throw Error(n(387));h=o.pendingProps;var T=o.memoizedState;w=T.element,$h(a,o),$l(o,h,null,c);var k=o.memoizedState;if(h=k.cache,du(o,rn,h),h!==T.cache&&Fh(o,[rn],c,!0),Kl(),h=k.element,T.isDehydrated)if(T={element:h,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=T,o.memoizedState=T,o.flags&256){o=fT(a,o,h,c);break e}else if(h!==w){w=Aa(Error(n(424)),o),Ul(w),o=fT(a,o,h,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ar=Ba(a.firstChild),Bn=o,Zt=!0,cu=null,Oa=!0,c=uS(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ho(),h===w){o=ki(a,o,c);break e}kn(a,o,h,c)}o=o.child}return o;case 26:return ed(a,o),a===null?(c=C2(o.type,null,o.pendingProps,null))?o.memoizedState=c:Zt||(c=o.type,a=o.pendingProps,h=yd(re.current).createElement(c),h[Qt]=o,h[wr]=a,zn(h,c,a),Ir(h),o.stateNode=h):o.memoizedState=C2(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return he(o),a===null&&Zt&&(h=o.stateNode=S2(o.type,o.pendingProps,re.current),Bn=o,Oa=!0,w=Ar,_u(o.type)?(ug=w,Ar=Ba(h.firstChild)):Ar=w),kn(a,o,o.pendingProps.children,c),ed(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Zt&&((w=h=Ar)&&(h=bN(h,o.type,o.pendingProps,Oa),h!==null?(o.stateNode=h,Bn=o,Ar=Ba(h.firstChild),Oa=!1,w=!0):w=!1),w||fu(o)),he(o),w=o.type,T=o.pendingProps,k=a!==null?a.memoizedProps:null,h=T.children,tg(w,T)?h=null:k!==null&&tg(w,k)&&(o.flags|=32),o.memoizedState!==null&&(w=ep(a,o,kz,null,null,c),vc._currentValue=w),ed(a,o),kn(a,o,h,c),o.child;case 6:return a===null&&Zt&&((a=c=Ar)&&(c=wN(c,o.pendingProps,Oa),c!==null?(o.stateNode=c,Bn=o,Ar=null,a=!0):a=!1),a||fu(o)),null;case 13:return dT(a,o,c);case 4:return ze(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=wo(o,null,h,c):kn(a,o,h,c),o.child;case 11:return nT(a,o,o.type,o.pendingProps,c);case 7:return kn(a,o,o.pendingProps,c),o.child;case 8:return kn(a,o,o.pendingProps.children,c),o.child;case 12:return kn(a,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,du(o,o.type,h.value),kn(a,o,h.children,c),o.child;case 9:return w=o.type._context,h=o.pendingProps.children,go(o),w=qn(w),h=h(w),o.flags|=1,kn(a,o,h,c),o.child;case 14:return aT(a,o,o.type,o.pendingProps,c);case 15:return iT(a,o,o.type,o.pendingProps,c);case 19:return hT(a,o,c);case 31:return Vz(a,o,c);case 22:return uT(a,o,c,o.pendingProps);case 24:return go(o),h=qn(rn),a===null?(w=Gh(),w===null&&(w=mr,T=Vh(),w.pooledCache=T,T.refCount++,T!==null&&(w.pooledCacheLanes|=c),w=T),o.memoizedState={parent:h,cache:w},Kh(o),du(o,rn,w)):((a.lanes&c)!==0&&($h(a,o),$l(o,null,null,c),Kl()),w=a.memoizedState,T=o.memoizedState,w.parent!==h?(w={parent:h,cache:h},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),du(o,rn,h)):(h=T.cache,du(o,rn,h),h!==w.cache&&Fh(o,[rn],c,!0))),kn(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function zi(a){a.flags|=4}function Rp(a,o,c,h,w){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if(VT())a.flags|=8192;else throw bo=If,Hh}else a.flags&=-16777217}function gT(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!M2(o))if(VT())a.flags|=8192;else throw bo=If,Hh}function rd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?zt():536870912,a.lanes|=o,As|=o)}function Jl(a,o){if(!Zt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Rr(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(o)for(var w=a.child;w!==null;)c|=w.lanes|w.childLanes,h|=w.subtreeFlags&65011712,h|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)c|=w.lanes|w.childLanes,h|=w.subtreeFlags,h|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=h,a.childLanes=c,o}function Gz(a,o,c){var h=o.pendingProps;switch(Nh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(o),null;case 1:return Rr(o),null;case 3:return c=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Mi(rn),ie(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(hs(o)?zi(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ph())),Rr(o),null;case 26:var w=o.type,T=o.memoizedState;return a===null?(zi(o),T!==null?(Rr(o),gT(o,T)):(Rr(o),Rp(o,w,null,h,c))):T?T!==a.memoizedState?(zi(o),Rr(o),gT(o,T)):(Rr(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&zi(o),Rr(o),Rp(o,w,a,h,c)),null;case 27:if(be(o),c=re.current,w=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&zi(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Rr(o),null}a=Y.current,hs(o)?XE(o):(a=S2(w,h,c),o.stateNode=a,zi(o))}return Rr(o),null;case 5:if(be(o),w=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&zi(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Rr(o),null}if(T=Y.current,hs(o))XE(o);else{var k=yd(re.current);switch(T){case 1:T=k.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:T=k.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":T=k.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":T=k.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":T=k.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof h.is=="string"?k.createElement("select",{is:h.is}):k.createElement("select"),h.multiple?T.multiple=!0:h.size&&(T.size=h.size);break;default:T=typeof h.is=="string"?k.createElement(w,{is:h.is}):k.createElement(w)}}T[Qt]=o,T[wr]=h;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)T.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=T;e:switch(zn(T,w,h),w){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&zi(o)}}return Rr(o),Rp(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&zi(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(a=re.current,hs(o)){if(a=o.stateNode,c=o.memoizedProps,h=null,w=Bn,w!==null)switch(w.tag){case 27:case 5:h=w.memoizedProps}a[Qt]=o,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||d2(a.nodeValue,c)),a||fu(o,!0)}else a=yd(a).createTextNode(h),a[Qt]=o,o.stateNode=a}return Rr(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(h=hs(o),c!==null){if(a===null){if(!h)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Qt]=o}else ho(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rr(o),a=!1}else c=Ph(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(ya(o),o):(ya(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Rr(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=hs(o),h!==null&&h.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Qt]=o}else ho(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rr(o),w=!1}else w=Ph(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(ya(o),o):(ya(o),null)}return ya(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=o.child,w=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(w=h.alternate.memoizedState.cachePool.pool),T=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),T!==w&&(h.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),rd(o,o.updateQueue),Rr(o),null);case 4:return ie(),a===null&&Zp(o.stateNode.containerInfo),Rr(o),null;case 10:return Mi(o.type),Rr(o),null;case 19:if(X(Kr),h=o.memoizedState,h===null)return Rr(o),null;if(w=(o.flags&128)!==0,T=h.rendering,T===null)if(w)Jl(h,!1);else{if(jr!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(T=jf(a),T!==null){for(o.flags|=128,Jl(h,!1),a=T.updateQueue,o.updateQueue=a,rd(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)GE(c,a),c=c.sibling;return ue(Kr,Kr.current&1|2),Zt&&Di(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&rt()>od&&(o.flags|=128,w=!0,Jl(h,!1),o.lanes=4194304)}else{if(!w)if(a=jf(T),a!==null){if(o.flags|=128,w=!0,a=a.updateQueue,o.updateQueue=a,rd(o,a),Jl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!T.alternate&&!Zt)return Rr(o),null}else 2*rt()-h.renderingStartTime>od&&c!==536870912&&(o.flags|=128,w=!0,Jl(h,!1),o.lanes=4194304);h.isBackwards?(T.sibling=o.child,o.child=T):(a=h.last,a!==null?a.sibling=T:o.child=T,h.last=T)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=rt(),a.sibling=null,c=Kr.current,ue(Kr,w?c&1|2:c&1),Zt&&Di(o,h.treeForkCount),a):(Rr(o),null);case 22:case 23:return ya(o),Qh(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Rr(o),o.subtreeFlags&6&&(o.flags|=8192)):Rr(o),c=o.updateQueue,c!==null&&rd(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),a!==null&&X(yo),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Mi(rn),Rr(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function Hz(a,o){switch(Nh(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Mi(rn),ie(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return be(o),null;case 31:if(o.memoizedState!==null){if(ya(o),o.alternate===null)throw Error(n(340));ho()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ya(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ho()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return X(Kr),null;case 4:return ie(),null;case 10:return Mi(o.type),null;case 22:case 23:return ya(o),Qh(),a!==null&&X(yo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Mi(rn),null;case 25:return null;default:return null}}function yT(a,o){switch(Nh(o),o.tag){case 3:Mi(rn),ie();break;case 26:case 27:case 5:be(o);break;case 4:ie();break;case 31:o.memoizedState!==null&&ya(o);break;case 13:ya(o);break;case 19:X(Kr);break;case 10:Mi(o.type);break;case 22:case 23:ya(o),Qh(),a!==null&&X(yo);break;case 24:Mi(rn)}}function ec(a,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var w=h.next;c=w;do{if((c.tag&a)===a){h=void 0;var T=c.create,k=c.inst;h=T(),k.destroy=h}c=c.next}while(c!==w)}}catch(H){fr(o,o.return,H)}}function mu(a,o,c){try{var h=o.updateQueue,w=h!==null?h.lastEffect:null;if(w!==null){var T=w.next;h=T;do{if((h.tag&a)===a){var k=h.inst,H=k.destroy;if(H!==void 0){k.destroy=void 0,w=o;var ne=c,Re=H;try{Re()}catch(Ie){fr(w,ne,Ie)}}}h=h.next}while(h!==T)}}catch(Ie){fr(o,o.return,Ie)}}function mT(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{sS(o,c)}catch(h){fr(a,a.return,h)}}}function bT(a,o,c){c.props=Eo(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){fr(a,o,h)}}function tc(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(w){fr(a,o,w)}}function ui(a,o){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(w){fr(a,o,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(w){fr(a,o,w)}else c.current=null}function wT(a){var o=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(w){fr(a,a.return,w)}}function Dp(a,o,c){try{var h=a.stateNode;vN(h,a.type,c,o),h[wr]=o}catch(w){fr(a,a.return,w)}}function xT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&_u(a.type)||a.tag===4}function Op(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||xT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&_u(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Mp(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ra));else if(h!==4&&(h===27&&_u(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(Mp(a,o,c),a=a.sibling;a!==null;)Mp(a,o,c),a=a.sibling}function nd(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(h!==4&&(h===27&&_u(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(nd(a,o,c),a=a.sibling;a!==null;)nd(a,o,c),a=a.sibling}function ET(a){var o=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);zn(o,h,c),o[Qt]=a,o[wr]=c}catch(T){fr(a,a.return,T)}}var Ni=!1,un=!1,Bp=!1,ST=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function Kz(a,o){if(a=a.containerInfo,Jp=Td,a=z(a),F(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var w=h.anchorOffset,T=h.focusNode;h=h.focusOffset;try{c.nodeType,T.nodeType}catch{c=null;break e}var k=0,H=-1,ne=-1,Re=0,Ie=0,Ve=a,Oe=null;t:for(;;){for(var qe;Ve!==c||w!==0&&Ve.nodeType!==3||(H=k+w),Ve!==T||h!==0&&Ve.nodeType!==3||(ne=k+h),Ve.nodeType===3&&(k+=Ve.nodeValue.length),(qe=Ve.firstChild)!==null;)Oe=Ve,Ve=qe;for(;;){if(Ve===a)break t;if(Oe===c&&++Re===w&&(H=k),Oe===T&&++Ie===h&&(ne=k),(qe=Ve.nextSibling)!==null)break;Ve=Oe,Oe=Ve.parentNode}Ve=qe}c=H===-1||ne===-1?null:{start:H,end:ne}}else c=null}c=c||{start:0,end:0}}else c=null;for(eg={focusedElem:a,selectionRange:c},Td=!1,Tn=o;Tn!==null;)if(o=Tn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Tn=a;else for(;Tn!==null;){switch(o=Tn,T=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)w=a[c],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,c=o,w=T.memoizedProps,T=T.memoizedState,h=c.stateNode;try{var vt=Eo(c.type,w);a=h.getSnapshotBeforeUpdate(vt,T),h.__reactInternalSnapshotBeforeUpdate=a}catch(Tt){fr(c,c.return,Tt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)ng(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ng(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,Tn=a;break}Tn=o.return}}function TT(a,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Pi(a,c),h&4&&ec(5,c);break;case 1:if(Pi(a,c),h&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(k){fr(c,c.return,k)}else{var w=Eo(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(w,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){fr(c,c.return,k)}}h&64&&mT(c),h&512&&tc(c,c.return);break;case 3:if(Pi(a,c),h&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{sS(a,o)}catch(k){fr(c,c.return,k)}}break;case 27:o===null&&h&4&&ET(c);case 26:case 5:Pi(a,c),o===null&&h&4&&wT(c),h&512&&tc(c,c.return);break;case 12:Pi(a,c);break;case 31:Pi(a,c),h&4&&AT(a,c);break;case 13:Pi(a,c),h&4&&RT(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=tN.bind(null,c),xN(a,c))));break;case 22:if(h=c.memoizedState!==null||Ni,!h){o=o!==null&&o.memoizedState!==null||un,w=Ni;var T=un;Ni=h,(un=o)&&!T?Ii(a,c,(c.subtreeFlags&8772)!==0):Pi(a,c),Ni=w,un=T}break;case 30:break;default:Pi(a,c)}}function _T(a){var o=a.alternate;o!==null&&(a.alternate=null,_T(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&yi(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Br=null,aa=!1;function Li(a,o,c){for(c=c.child;c!==null;)CT(a,o,c),c=c.sibling}function CT(a,o,c){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(K,c)}catch{}switch(c.tag){case 26:un||ui(c,o),Li(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:un||ui(c,o);var h=Br,w=aa;_u(c.type)&&(Br=c.stateNode,aa=!1),Li(a,o,c),cc(c.stateNode),Br=h,aa=w;break;case 5:un||ui(c,o);case 6:if(h=Br,w=aa,Br=null,Li(a,o,c),Br=h,aa=w,Br!==null)if(aa)try{(Br.nodeType===9?Br.body:Br.nodeName==="HTML"?Br.ownerDocument.body:Br).removeChild(c.stateNode)}catch(T){fr(c,o,T)}else try{Br.removeChild(c.stateNode)}catch(T){fr(c,o,T)}break;case 18:Br!==null&&(aa?(a=Br,m2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),zs(a)):m2(Br,c.stateNode));break;case 4:h=Br,w=aa,Br=c.stateNode.containerInfo,aa=!0,Li(a,o,c),Br=h,aa=w;break;case 0:case 11:case 14:case 15:mu(2,c,o),un||mu(4,c,o),Li(a,o,c);break;case 1:un||(ui(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&bT(c,o,h)),Li(a,o,c);break;case 21:Li(a,o,c);break;case 22:un=(h=un)||c.memoizedState!==null,Li(a,o,c),un=h;break;default:Li(a,o,c)}}function AT(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{zs(a)}catch(c){fr(o,o.return,c)}}}function RT(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{zs(a)}catch(c){fr(o,o.return,c)}}function $z(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new ST),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new ST),o;default:throw Error(n(435,a.tag))}}function ad(a,o){var c=$z(a);o.forEach(function(h){if(!c.has(h)){c.add(h);var w=rN.bind(null,a,h);h.then(w,w)}})}function ia(a,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var w=c[h],T=a,k=o,H=k;e:for(;H!==null;){switch(H.tag){case 27:if(_u(H.type)){Br=H.stateNode,aa=!1;break e}break;case 5:Br=H.stateNode,aa=!1;break e;case 3:case 4:Br=H.stateNode.containerInfo,aa=!0;break e}H=H.return}if(Br===null)throw Error(n(160));CT(T,k,w),Br=null,aa=!1,T=w.alternate,T!==null&&(T.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)DT(o,a),o=o.sibling}var Ha=null;function DT(a,o){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ia(o,a),ua(a),h&4&&(mu(3,a,a.return),ec(3,a),mu(5,a,a.return));break;case 1:ia(o,a),ua(a),h&512&&(un||c===null||ui(c,c.return)),h&64&&Ni&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var w=Ha;if(ia(o,a),ua(a),h&512&&(un||c===null||ui(c,c.return)),h&4){var T=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,w=w.ownerDocument||w;t:switch(h){case"title":T=w.getElementsByTagName("title")[0],(!T||T[xr]||T[Qt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=w.createElement(h),w.head.insertBefore(T,w.querySelector("head > title"))),zn(T,h,c),T[Qt]=a,Ir(T),h=T;break e;case"link":var k=D2("link","href",w).get(h+(c.href||""));if(k){for(var H=0;H<k.length;H++)if(T=k[H],T.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&T.getAttribute("rel")===(c.rel==null?null:c.rel)&&T.getAttribute("title")===(c.title==null?null:c.title)&&T.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){k.splice(H,1);break t}}T=w.createElement(h),zn(T,h,c),w.head.appendChild(T);break;case"meta":if(k=D2("meta","content",w).get(h+(c.content||""))){for(H=0;H<k.length;H++)if(T=k[H],T.getAttribute("content")===(c.content==null?null:""+c.content)&&T.getAttribute("name")===(c.name==null?null:c.name)&&T.getAttribute("property")===(c.property==null?null:c.property)&&T.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&T.getAttribute("charset")===(c.charSet==null?null:c.charSet)){k.splice(H,1);break t}}T=w.createElement(h),zn(T,h,c),w.head.appendChild(T);break;default:throw Error(n(468,h))}T[Qt]=a,Ir(T),h=T}a.stateNode=h}else O2(w,a.type,a.stateNode);else a.stateNode=R2(w,h,a.memoizedProps);else T!==h?(T===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):T.count--,h===null?O2(w,a.type,a.stateNode):R2(w,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Dp(a,a.memoizedProps,c.memoizedProps)}break;case 27:ia(o,a),ua(a),h&512&&(un||c===null||ui(c,c.return)),c!==null&&h&4&&Dp(a,a.memoizedProps,c.memoizedProps);break;case 5:if(ia(o,a),ua(a),h&512&&(un||c===null||ui(c,c.return)),a.flags&32){w=a.stateNode;try{bi(w,"")}catch(vt){fr(a,a.return,vt)}}h&4&&a.stateNode!=null&&(w=a.memoizedProps,Dp(a,w,c!==null?c.memoizedProps:w)),h&1024&&(Bp=!0);break;case 6:if(ia(o,a),ua(a),h&4){if(a.stateNode===null)throw Error(n(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(vt){fr(a,a.return,vt)}}break;case 3:if(wd=null,w=Ha,Ha=md(o.containerInfo),ia(o,a),Ha=w,ua(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{zs(o.containerInfo)}catch(vt){fr(a,a.return,vt)}Bp&&(Bp=!1,OT(a));break;case 4:h=Ha,Ha=md(a.stateNode.containerInfo),ia(o,a),ua(a),Ha=h;break;case 12:ia(o,a),ua(a);break;case 31:ia(o,a),ua(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ad(a,h)));break;case 13:ia(o,a),ua(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ud=rt()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ad(a,h)));break;case 22:w=a.memoizedState!==null;var ne=c!==null&&c.memoizedState!==null,Re=Ni,Ie=un;if(Ni=Re||w,un=Ie||ne,ia(o,a),un=Ie,Ni=Re,ua(a),h&8192)e:for(o=a.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(c===null||ne||Ni||un||So(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){ne=c=o;try{if(T=ne.stateNode,w)k=T.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{H=ne.stateNode;var Ve=ne.memoizedProps.style,Oe=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;H.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(vt){fr(ne,ne.return,vt)}}}else if(o.tag===6){if(c===null){ne=o;try{ne.stateNode.nodeValue=w?"":ne.memoizedProps}catch(vt){fr(ne,ne.return,vt)}}}else if(o.tag===18){if(c===null){ne=o;try{var qe=ne.stateNode;w?b2(qe,!0):b2(ne.stateNode,!1)}catch(vt){fr(ne,ne.return,vt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,ad(a,c))));break;case 19:ia(o,a),ua(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ad(a,h)));break;case 30:break;case 21:break;default:ia(o,a),ua(a)}}function ua(a){var o=a.flags;if(o&2){try{for(var c,h=a.return;h!==null;){if(xT(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var w=c.stateNode,T=Op(a);nd(a,T,w);break;case 5:var k=c.stateNode;c.flags&32&&(bi(k,""),c.flags&=-33);var H=Op(a);nd(a,H,k);break;case 3:case 4:var ne=c.stateNode.containerInfo,Re=Op(a);Mp(a,Re,ne);break;default:throw Error(n(161))}}catch(Ie){fr(a,a.return,Ie)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function OT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;OT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Pi(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)TT(a,o.alternate,o),o=o.sibling}function So(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:mu(4,o,o.return),So(o);break;case 1:ui(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&bT(o,o.return,c),So(o);break;case 27:cc(o.stateNode);case 26:case 5:ui(o,o.return),So(o);break;case 22:o.memoizedState===null&&So(o);break;case 30:So(o);break;default:So(o)}a=a.sibling}}function Ii(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,w=a,T=o,k=T.flags;switch(T.tag){case 0:case 11:case 15:Ii(w,T,c),ec(4,T);break;case 1:if(Ii(w,T,c),h=T,w=h.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Re){fr(h,h.return,Re)}if(h=T,w=h.updateQueue,w!==null){var H=h.stateNode;try{var ne=w.shared.hiddenCallbacks;if(ne!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ne.length;w++)oS(ne[w],H)}catch(Re){fr(h,h.return,Re)}}c&&k&64&&mT(T),tc(T,T.return);break;case 27:ET(T);case 26:case 5:Ii(w,T,c),c&&h===null&&k&4&&wT(T),tc(T,T.return);break;case 12:Ii(w,T,c);break;case 31:Ii(w,T,c),c&&k&4&&AT(w,T);break;case 13:Ii(w,T,c),c&&k&4&&RT(w,T);break;case 22:T.memoizedState===null&&Ii(w,T,c),tc(T,T.return);break;case 30:break;default:Ii(w,T,c)}o=o.sibling}}function qp(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Fl(c))}function kp(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Fl(a))}function Ka(a,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)MT(a,o,c,h),o=o.sibling}function MT(a,o,c,h){var w=o.flags;switch(o.tag){case 0:case 11:case 15:Ka(a,o,c,h),w&2048&&ec(9,o);break;case 1:Ka(a,o,c,h);break;case 3:Ka(a,o,c,h),w&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Fl(a)));break;case 12:if(w&2048){Ka(a,o,c,h),a=o.stateNode;try{var T=o.memoizedProps,k=T.id,H=T.onPostCommit;typeof H=="function"&&H(k,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ne){fr(o,o.return,ne)}}else Ka(a,o,c,h);break;case 31:Ka(a,o,c,h);break;case 13:Ka(a,o,c,h);break;case 23:break;case 22:T=o.stateNode,k=o.alternate,o.memoizedState!==null?T._visibility&2?Ka(a,o,c,h):rc(a,o):T._visibility&2?Ka(a,o,c,h):(T._visibility|=2,Ts(a,o,c,h,(o.subtreeFlags&10256)!==0||!1)),w&2048&&qp(k,o);break;case 24:Ka(a,o,c,h),w&2048&&kp(o.alternate,o);break;default:Ka(a,o,c,h)}}function Ts(a,o,c,h,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var T=a,k=o,H=c,ne=h,Re=k.flags;switch(k.tag){case 0:case 11:case 15:Ts(T,k,H,ne,w),ec(8,k);break;case 23:break;case 22:var Ie=k.stateNode;k.memoizedState!==null?Ie._visibility&2?Ts(T,k,H,ne,w):rc(T,k):(Ie._visibility|=2,Ts(T,k,H,ne,w)),w&&Re&2048&&qp(k.alternate,k);break;case 24:Ts(T,k,H,ne,w),w&&Re&2048&&kp(k.alternate,k);break;default:Ts(T,k,H,ne,w)}o=o.sibling}}function rc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,h=o,w=h.flags;switch(h.tag){case 22:rc(c,h),w&2048&&qp(h.alternate,h);break;case 24:rc(c,h),w&2048&&kp(h.alternate,h);break;default:rc(c,h)}o=o.sibling}}var nc=8192;function _s(a,o,c){if(a.subtreeFlags&nc)for(a=a.child;a!==null;)BT(a,o,c),a=a.sibling}function BT(a,o,c){switch(a.tag){case 26:_s(a,o,c),a.flags&nc&&a.memoizedState!==null&&qN(c,Ha,a.memoizedState,a.memoizedProps);break;case 5:_s(a,o,c);break;case 3:case 4:var h=Ha;Ha=md(a.stateNode.containerInfo),_s(a,o,c),Ha=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=nc,nc=16777216,_s(a,o,c),nc=h):_s(a,o,c));break;default:_s(a,o,c)}}function qT(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function ac(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Tn=h,zT(h,a)}qT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)kT(a),a=a.sibling}function kT(a){switch(a.tag){case 0:case 11:case 15:ac(a),a.flags&2048&&mu(9,a,a.return);break;case 3:ac(a);break;case 12:ac(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,id(a)):ac(a);break;default:ac(a)}}function id(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Tn=h,zT(h,a)}qT(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:mu(8,o,o.return),id(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,id(o));break;default:id(o)}a=a.sibling}}function zT(a,o){for(;Tn!==null;){var c=Tn;switch(c.tag){case 0:case 11:case 15:mu(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Fl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Tn=h;else e:for(c=a;Tn!==null;){h=Tn;var w=h.sibling,T=h.return;if(_T(h),h===c){Tn=null;break e}if(w!==null){w.return=T,Tn=w;break e}Tn=T}}}var Yz={getCacheForType:function(a){var o=qn(rn),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return qn(rn).controller.signal}},Xz=typeof WeakMap=="function"?WeakMap:Map,ar=0,mr=null,Gt=null,Kt=0,cr=0,ma=null,bu=!1,Cs=!1,zp=!1,Ui=0,jr=0,wu=0,To=0,Np=0,ba=0,As=0,ic=null,oa=null,Lp=!1,ud=0,NT=0,od=1/0,sd=null,xu=null,vn=0,Eu=null,Rs=null,Fi=0,Pp=0,Ip=null,LT=null,uc=0,Up=null;function wa(){return(ar&2)!==0&&Kt!==0?Kt&-Kt:G.T!==null?Kp():vr()}function PT(){if(ba===0)if((Kt&536870912)===0||Zt){var a=it;it<<=1,(it&3932160)===0&&(it=262144),ba=a}else ba=536870912;return a=ga.current,a!==null&&(a.flags|=32),ba}function sa(a,o,c){(a===mr&&(cr===2||cr===9)||a.cancelPendingCommit!==null)&&(Ds(a,0),Su(a,Kt,ba,!1)),Yt(a,c),((ar&2)===0||a!==mr)&&(a===mr&&((ar&2)===0&&(To|=c),jr===4&&Su(a,Kt,ba,!1)),oi(a))}function IT(a,o,c){if((ar&6)!==0)throw Error(n(327));var h=!c&&(o&127)===0&&(o&a.expiredLanes)===0||lt(a,o),w=h?Wz(a,o):Vp(a,o,!0),T=h;do{if(w===0){Cs&&!h&&Su(a,o,0,!1);break}else{if(c=a.current.alternate,T&&!Zz(c)){w=Vp(a,o,!1),T=!1;continue}if(w===2){if(T=o,a.errorRecoveryDisabledLanes&T)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var H=a;w=ic;var ne=H.current.memoizedState.isDehydrated;if(ne&&(Ds(H,k).flags|=256),k=Vp(H,k,!1),k!==2){if(zp&&!ne){H.errorRecoveryDisabledLanes|=T,To|=T,w=4;break e}T=oa,oa=w,T!==null&&(oa===null?oa=T:oa.push.apply(oa,T))}w=k}if(T=!1,w!==2)continue}}if(w===1){Ds(a,0),Su(a,o,0,!0);break}e:{switch(h=a,T=w,T){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Su(h,o,ba,!bu);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(w=ud+300-rt(),10<w)){if(Su(h,o,ba,!bu),At(h,0,!0)!==0)break e;Fi=o,h.timeoutHandle=g2(UT.bind(null,h,c,oa,sd,Lp,o,ba,To,As,bu,T,"Throttled",-0,0),w);break e}UT(h,c,oa,sd,Lp,o,ba,To,As,bu,T,null,-0,0)}}break}while(!0);oi(a)}function UT(a,o,c,h,w,T,k,H,ne,Re,Ie,Ve,Oe,qe){if(a.timeoutHandle=-1,Ve=o.subtreeFlags,Ve&8192||(Ve&16785408)===16785408){Ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ra},BT(o,T,Ve);var vt=(T&62914560)===T?ud-rt():(T&4194048)===T?NT-rt():0;if(vt=kN(Ve,vt),vt!==null){Fi=T,a.cancelPendingCommit=vt(YT.bind(null,a,o,T,c,h,w,k,H,ne,Ie,Ve,null,Oe,qe)),Su(a,T,k,!Re);return}}YT(a,o,T,c,h,w,k,H,ne)}function Zz(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var w=c[h],T=w.getSnapshot;w=w.value;try{if(!Fn(T(),w))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Su(a,o,c,h){o&=~Np,o&=~To,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var w=o;0<w;){var T=31-pe(w),k=1<<T;h[T]=-1,w&=~k}c!==0&&dr(a,c,o)}function ld(){return(ar&6)===0?(oc(0),!1):!0}function Fp(){if(Gt!==null){if(cr===0)var a=Gt.return;else a=Gt,Oi=po=null,np(a),bs=null,jl=0,a=Gt;for(;a!==null;)yT(a.alternate,a),a=a.return;Gt=null}}function Ds(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,gN(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Fi=0,Fp(),mr=a,Gt=c=Ri(a.current,null),Kt=o,cr=0,ma=null,bu=!1,Cs=lt(a,o),zp=!1,As=ba=Np=To=wu=jr=0,oa=ic=null,Lp=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var w=31-pe(h),T=1<<w;o|=a[w],h&=~T}return Ui=o,Sn(),c}function FT(a,o){Lt=null,G.H=Ql,o===ms||o===Pf?(o=nS(),cr=3):o===Hh?(o=nS(),cr=4):cr=o===bp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ma=o,Gt===null&&(jr=1,Wf(a,Aa(o,a.current)))}function VT(){var a=ga.current;return a===null?!0:(Kt&4194048)===Kt?Ma===null:(Kt&62914560)===Kt||(Kt&536870912)!==0?a===Ma:!1}function jT(){var a=G.H;return G.H=Ql,a===null?Ql:a}function GT(){var a=G.A;return G.A=Yz,a}function cd(){jr=4,bu||(Kt&4194048)!==Kt&&ga.current!==null||(Cs=!0),(wu&134217727)===0&&(To&134217727)===0||mr===null||Su(mr,Kt,ba,!1)}function Vp(a,o,c){var h=ar;ar|=2;var w=jT(),T=GT();(mr!==a||Kt!==o)&&(sd=null,Ds(a,o)),o=!1;var k=jr;e:do try{if(cr!==0&&Gt!==null){var H=Gt,ne=ma;switch(cr){case 8:Fp(),k=6;break e;case 3:case 2:case 9:case 6:ga.current===null&&(o=!0);var Re=cr;if(cr=0,ma=null,Os(a,H,ne,Re),c&&Cs){k=0;break e}break;default:Re=cr,cr=0,ma=null,Os(a,H,ne,Re)}}Qz(),k=jr;break}catch(Ie){FT(a,Ie)}while(!0);return o&&a.shellSuspendCounter++,Oi=po=null,ar=h,G.H=w,G.A=T,Gt===null&&(mr=null,Kt=0,Sn()),k}function Qz(){for(;Gt!==null;)HT(Gt)}function Wz(a,o){var c=ar;ar|=2;var h=jT(),w=GT();mr!==a||Kt!==o?(sd=null,od=rt()+500,Ds(a,o)):Cs=lt(a,o);e:do try{if(cr!==0&&Gt!==null){o=Gt;var T=ma;t:switch(cr){case 1:cr=0,ma=null,Os(a,o,T,1);break;case 2:case 9:if(tS(T)){cr=0,ma=null,KT(o);break}o=function(){cr!==2&&cr!==9||mr!==a||(cr=7),oi(a)},T.then(o,o);break e;case 3:cr=7;break e;case 4:cr=5;break e;case 7:tS(T)?(cr=0,ma=null,KT(o)):(cr=0,ma=null,Os(a,o,T,7));break;case 5:var k=null;switch(Gt.tag){case 26:k=Gt.memoizedState;case 5:case 27:var H=Gt;if(k?M2(k):H.stateNode.complete){cr=0,ma=null;var ne=H.sibling;if(ne!==null)Gt=ne;else{var Re=H.return;Re!==null?(Gt=Re,fd(Re)):Gt=null}break t}}cr=0,ma=null,Os(a,o,T,5);break;case 6:cr=0,ma=null,Os(a,o,T,6);break;case 8:Fp(),jr=6;break e;default:throw Error(n(462))}}Jz();break}catch(Ie){FT(a,Ie)}while(!0);return Oi=po=null,G.H=h,G.A=w,ar=c,Gt!==null?0:(mr=null,Kt=0,Sn(),jr)}function Jz(){for(;Gt!==null&&!ot();)HT(Gt)}function HT(a){var o=pT(a.alternate,a,Ui);a.memoizedProps=a.pendingProps,o===null?fd(a):Gt=o}function KT(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=lT(c,o,o.pendingProps,o.type,void 0,Kt);break;case 11:o=lT(c,o,o.pendingProps,o.type.render,o.ref,Kt);break;case 5:np(o);default:yT(c,o),o=Gt=GE(o,Ui),o=pT(c,o,Ui)}a.memoizedProps=a.pendingProps,o===null?fd(a):Gt=o}function Os(a,o,c,h){Oi=po=null,np(o),bs=null,jl=0;var w=o.return;try{if(Fz(a,w,o,c,Kt)){jr=1,Wf(a,Aa(c,a.current)),Gt=null;return}}catch(T){if(w!==null)throw Gt=w,T;jr=1,Wf(a,Aa(c,a.current)),Gt=null;return}o.flags&32768?(Zt||h===1?a=!0:Cs||(Kt&536870912)!==0?a=!1:(bu=a=!0,(h===2||h===9||h===3||h===6)&&(h=ga.current,h!==null&&h.tag===13&&(h.flags|=16384))),$T(o,a)):fd(o)}function fd(a){var o=a;do{if((o.flags&32768)!==0){$T(o,bu);return}a=o.return;var c=Gz(o.alternate,o,Ui);if(c!==null){Gt=c;return}if(o=o.sibling,o!==null){Gt=o;return}Gt=o=a}while(o!==null);jr===0&&(jr=5)}function $T(a,o){do{var c=Hz(a.alternate,a);if(c!==null){c.flags&=32767,Gt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Gt=a;return}Gt=a=c}while(a!==null);jr=6,Gt=null}function YT(a,o,c,h,w,T,k,H,ne){a.cancelPendingCommit=null;do dd();while(vn!==0);if((ar&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(T=o.lanes|o.childLanes,T|=Nt,Hr(a,c,T,k,H,ne),a===mr&&(Gt=mr=null,Kt=0),Rs=o,Eu=a,Fi=c,Pp=T,Ip=w,LT=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,nN(Mt,function(){return JT(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=G.T,G.T=null,w=$.p,$.p=2,k=ar,ar|=4;try{Kz(a,o,c)}finally{ar=k,$.p=w,G.T=h}}vn=1,XT(),ZT(),QT()}}function XT(){if(vn===1){vn=0;var a=Eu,o=Rs,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var h=$.p;$.p=2;var w=ar;ar|=4;try{DT(o,a);var T=eg,k=z(a.containerInfo),H=T.focusedElem,ne=T.selectionRange;if(k!==H&&H&&H.ownerDocument&&q(H.ownerDocument.documentElement,H)){if(ne!==null&&F(H)){var Re=ne.start,Ie=ne.end;if(Ie===void 0&&(Ie=Re),"selectionStart"in H)H.selectionStart=Re,H.selectionEnd=Math.min(Ie,H.value.length);else{var Ve=H.ownerDocument||document,Oe=Ve&&Ve.defaultView||window;if(Oe.getSelection){var qe=Oe.getSelection(),vt=H.textContent.length,Tt=Math.min(ne.start,vt),gr=ne.end===void 0?Tt:Math.min(ne.end,vt);!qe.extend&&Tt>gr&&(k=gr,gr=Tt,Tt=k);var Te=D(H,Tt),ve=D(H,gr);if(Te&&ve&&(qe.rangeCount!==1||qe.anchorNode!==Te.node||qe.anchorOffset!==Te.offset||qe.focusNode!==ve.node||qe.focusOffset!==ve.offset)){var Ae=Ve.createRange();Ae.setStart(Te.node,Te.offset),qe.removeAllRanges(),Tt>gr?(qe.addRange(Ae),qe.extend(ve.node,ve.offset)):(Ae.setEnd(ve.node,ve.offset),qe.addRange(Ae))}}}}for(Ve=[],qe=H;qe=qe.parentNode;)qe.nodeType===1&&Ve.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Ve.length;H++){var Ue=Ve[H];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}Td=!!Jp,eg=Jp=null}finally{ar=w,$.p=h,G.T=c}}a.current=o,vn=2}}function ZT(){if(vn===2){vn=0;var a=Eu,o=Rs,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var h=$.p;$.p=2;var w=ar;ar|=4;try{TT(a,o.alternate,o)}finally{ar=w,$.p=h,G.T=c}}vn=3}}function QT(){if(vn===4||vn===3){vn=0,st();var a=Eu,o=Rs,c=Fi,h=LT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?vn=5:(vn=0,Rs=Eu=null,WT(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(xu=null),Dn(c),o=o.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(K,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=G.T,w=$.p,$.p=2,G.T=null;try{for(var T=a.onRecoverableError,k=0;k<h.length;k++){var H=h[k];T(H.value,{componentStack:H.stack})}}finally{G.T=o,$.p=w}}(Fi&3)!==0&&dd(),oi(a),w=a.pendingLanes,(c&261930)!==0&&(w&42)!==0?a===Up?uc++:(uc=0,Up=a):uc=0,oc(0)}}function WT(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Fl(o)))}function dd(){return XT(),ZT(),QT(),JT()}function JT(){if(vn!==5)return!1;var a=Eu,o=Pp;Pp=0;var c=Dn(Fi),h=G.T,w=$.p;try{$.p=32>c?32:c,G.T=null,c=Ip,Ip=null;var T=Eu,k=Fi;if(vn=0,Rs=Eu=null,Fi=0,(ar&6)!==0)throw Error(n(331));var H=ar;if(ar|=4,kT(T.current),MT(T,T.current,k,c),ar=H,oc(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(K,T)}catch{}return!0}finally{$.p=w,G.T=h,WT(a,o)}}function e2(a,o,c){o=Aa(c,o),o=mp(a.stateNode,o,2),a=pu(a,o,2),a!==null&&(Yt(a,2),oi(a))}function fr(a,o,c){if(a.tag===3)e2(a,a,c);else for(;o!==null;){if(o.tag===3){e2(o,a,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xu===null||!xu.has(h))){a=Aa(c,a),c=tT(2),h=pu(o,c,2),h!==null&&(rT(c,h,o,a),Yt(h,2),oi(h));break}}o=o.return}}function jp(a,o,c){var h=a.pingCache;if(h===null){h=a.pingCache=new Xz;var w=new Set;h.set(o,w)}else w=h.get(o),w===void 0&&(w=new Set,h.set(o,w));w.has(c)||(zp=!0,w.add(c),a=eN.bind(null,a,o,c),o.then(a,a))}function eN(a,o,c){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,mr===a&&(Kt&c)===c&&(jr===4||jr===3&&(Kt&62914560)===Kt&&300>rt()-ud?(ar&2)===0&&Ds(a,0):Np|=c,As===Kt&&(As=0)),oi(a)}function t2(a,o){o===0&&(o=zt()),a=Mr(a,o),a!==null&&(Yt(a,o),oi(a))}function tN(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),t2(a,c)}function rN(a,o){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,w=a.memoizedState;w!==null&&(c=w.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),t2(a,c)}function nN(a,o){return Qe(a,o)}var vd=null,Ms=null,Gp=!1,hd=!1,Hp=!1,Tu=0;function oi(a){a!==Ms&&a.next===null&&(Ms===null?vd=Ms=a:Ms=Ms.next=a),hd=!0,Gp||(Gp=!0,iN())}function oc(a,o){if(!Hp&&hd){Hp=!0;do for(var c=!1,h=vd;h!==null;){if(a!==0){var w=h.pendingLanes;if(w===0)var T=0;else{var k=h.suspendedLanes,H=h.pingedLanes;T=(1<<31-pe(42|a)+1)-1,T&=w&~(k&~H),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(c=!0,i2(h,T))}else T=Kt,T=At(h,h===mr?T:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(T&3)===0||lt(h,T)||(c=!0,i2(h,T));h=h.next}while(c);Hp=!1}}function aN(){r2()}function r2(){hd=Gp=!1;var a=0;Tu!==0&&pN()&&(a=Tu);for(var o=rt(),c=null,h=vd;h!==null;){var w=h.next,T=n2(h,o);T===0?(h.next=null,c===null?vd=w:c.next=w,w===null&&(Ms=c)):(c=h,(a!==0||(T&3)!==0)&&(hd=!0)),h=w}vn!==0&&vn!==5||oc(a),Tu!==0&&(Tu=0)}function n2(a,o){for(var c=a.suspendedLanes,h=a.pingedLanes,w=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var k=31-pe(T),H=1<<k,ne=w[k];ne===-1?((H&c)===0||(H&h)!==0)&&(w[k]=It(H,o)):ne<=o&&(a.expiredLanes|=H),T&=~H}if(o=mr,c=Kt,c=At(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===o&&(cr===2||cr===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&tt(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||lt(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(h!==null&&tt(h),Dn(c)){case 2:case 8:c=qt;break;case 32:c=Mt;break;case 268435456:c=yt;break;default:c=Mt}return h=a2.bind(null,a),c=Qe(c,h),a.callbackPriority=o,a.callbackNode=c,o}return h!==null&&h!==null&&tt(h),a.callbackPriority=2,a.callbackNode=null,2}function a2(a,o){if(vn!==0&&vn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(dd()&&a.callbackNode!==c)return null;var h=Kt;return h=At(a,a===mr?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(IT(a,h,o),n2(a,rt()),a.callbackNode!=null&&a.callbackNode===c?a2.bind(null,a):null)}function i2(a,o){if(dd())return null;IT(a,o,!0)}function iN(){yN(function(){(ar&6)!==0?Qe(Dt,aN):r2()})}function Kp(){if(Tu===0){var a=gs;a===0&&(a=ke,ke<<=1,(ke&261888)===0&&(ke=256)),Tu=a}return Tu}function u2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ga(""+a)}function o2(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function uN(a,o,c,h,w){if(o==="submit"&&c&&c.stateNode===w){var T=u2((w[wr]||null).action),k=h.submitter;k&&(o=(o=k[wr]||null)?u2(o.formAction):k.getAttribute("formAction"),o!==null&&(T=o,k=null));var H=new Qo("action","action",null,h,w);a.push({event:H,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Tu!==0){var ne=k?o2(w,k):new FormData(w);dp(c,{pending:!0,data:ne,method:w.method,action:T},null,ne)}}else typeof T=="function"&&(H.preventDefault(),ne=k?o2(w,k):new FormData(w),dp(c,{pending:!0,data:ne,method:w.method,action:T},T,ne))},currentTarget:w}]})}}for(var $p=0;$p<We.length;$p++){var Yp=We[$p],oN=Yp.toLowerCase(),sN=Yp[0].toUpperCase()+Yp.slice(1);$e(oN,"on"+sN)}$e(Ce,"onAnimationEnd"),$e(De,"onAnimationIteration"),$e(Le,"onAnimationStart"),$e("dblclick","onDoubleClick"),$e("focusin","onFocus"),$e("focusout","onBlur"),$e(Fe,"onTransitionRun"),$e(Ye,"onTransitionStart"),$e(Je,"onTransitionCancel"),$e(Ke,"onTransitionEnd"),ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function s2(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],w=h.event;h=h.listeners;e:{var T=void 0;if(o)for(var k=h.length-1;0<=k;k--){var H=h[k],ne=H.instance,Re=H.currentTarget;if(H=H.listener,ne!==T&&w.isPropagationStopped())break e;T=H,w.currentTarget=Re;try{T(w)}catch(Ie){ut(Ie)}w.currentTarget=null,T=ne}else for(k=0;k<h.length;k++){if(H=h[k],ne=H.instance,Re=H.currentTarget,H=H.listener,ne!==T&&w.isPropagationStopped())break e;T=H,w.currentTarget=Re;try{T(w)}catch(Ie){ut(Ie)}w.currentTarget=null,T=ne}}}}function Ht(a,o){var c=o[Pr];c===void 0&&(c=o[Pr]=new Set);var h=a+"__bubble";c.has(h)||(l2(o,a,2,!1),c.add(h))}function Xp(a,o,c){var h=0;o&&(h|=4),l2(c,a,h,o)}var pd="_reactListening"+Math.random().toString(36).slice(2);function Zp(a){if(!a[pd]){a[pd]=!0,Fa.forEach(function(c){c!=="selectionchange"&&(lN.has(c)||Xp(c,!1,a),Xp(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[pd]||(o[pd]=!0,Xp("selectionchange",!1,o))}}function l2(a,o,c,h){switch(P2(o)){case 2:var w=LN;break;case 8:w=PN;break;default:w=fg}c=w.bind(null,o,c,a),w=void 0,!Tl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),h?w!==void 0?a.addEventListener(o,c,{capture:!0,passive:w}):a.addEventListener(o,c,!0):w!==void 0?a.addEventListener(o,c,{passive:w}):a.addEventListener(o,c,!1)}function Qp(a,o,c,h,w){var T=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var H=h.stateNode.containerInfo;if(H===w)break;if(k===4)for(k=h.return;k!==null;){var ne=k.tag;if((ne===3||ne===4)&&k.stateNode.containerInfo===w)return;k=k.return}for(;H!==null;){if(k=Sa(H),k===null)return;if(ne=k.tag,ne===5||ne===6||ne===26||ne===27){h=T=k;continue e}H=H.parentNode}}h=h.return}eu(function(){var Re=T,Ie=Xo(c),Ve=[];e:{var Oe=Xe.get(a);if(Oe!==void 0){var qe=Qo,vt=a;switch(a){case"keypress":if(nu(c)===0)break e;case"keydown":case"keyup":qe=as;break;case"focusin":vt="focus",qe=au;break;case"focusout":vt="blur",qe=au;break;case"beforeblur":case"afterblur":qe=au;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=Ml;break;case Ce:case De:case Le:qe=Sf;break;case Ke:qe=Bl;break;case"scroll":case"scrollend":qe=Wo;break;case"wheel":qe=us;break;case"copy":case"cut":case"paste":qe=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=Ol;break;case"toggle":case"beforetoggle":qe=Cf}var Tt=(o&4)!==0,gr=!Tt&&(a==="scroll"||a==="scrollend"),Te=Tt?Oe!==null?Oe+"Capture":null:Oe;Tt=[];for(var ve=Re,Ae;ve!==null;){var Ue=ve;if(Ae=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||Ae===null||Te===null||(Ue=Ei(ve,Te),Ue!=null&&Tt.push(lc(ve,Ue,Ae))),gr)break;ve=ve.return}0<Tt.length&&(Oe=new qe(Oe,vt,null,c,Ie),Ve.push({event:Oe,listeners:Tt}))}}if((o&7)===0){e:{if(Oe=a==="mouseover"||a==="pointerover",qe=a==="mouseout"||a==="pointerout",Oe&&c!==Ta&&(vt=c.relatedTarget||c.fromElement)&&(Sa(vt)||vt[Lr]))break e;if((qe||Oe)&&(Oe=Ie.window===Ie?Ie:(Oe=Ie.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,qe?(vt=c.relatedTarget||c.toElement,qe=Re,vt=vt?Sa(vt):null,vt!==null&&(gr=u(vt),Tt=vt.tag,vt!==gr||Tt!==5&&Tt!==27&&Tt!==6)&&(vt=null)):(qe=null,vt=Re),qe!==vt)){if(Tt=es,Ue="onMouseLeave",Te="onMouseEnter",ve="mouse",(a==="pointerout"||a==="pointerover")&&(Tt=Ol,Ue="onPointerLeave",Te="onPointerEnter",ve="pointer"),gr=qe==null?Oe:Kn(qe),Ae=vt==null?Oe:Kn(vt),Oe=new Tt(Ue,ve+"leave",qe,c,Ie),Oe.target=gr,Oe.relatedTarget=Ae,Ue=null,Sa(Ie)===Re&&(Tt=new Tt(Te,ve+"enter",vt,c,Ie),Tt.target=Ae,Tt.relatedTarget=gr,Ue=Tt),gr=Ue,qe&&vt)t:{for(Tt=cN,Te=qe,ve=vt,Ae=0,Ue=Te;Ue;Ue=Tt(Ue))Ae++;Ue=0;for(var wt=ve;wt;wt=Tt(wt))Ue++;for(;0<Ae-Ue;)Te=Tt(Te),Ae--;for(;0<Ue-Ae;)ve=Tt(ve),Ue--;for(;Ae--;){if(Te===ve||ve!==null&&Te===ve.alternate){Tt=Te;break t}Te=Tt(Te),ve=Tt(ve)}Tt=null}else Tt=null;qe!==null&&c2(Ve,Oe,qe,Tt,!1),vt!==null&&gr!==null&&c2(Ve,gr,vt,Tt,!0)}}e:{if(Oe=Re?Kn(Re):window,qe=Oe.nodeName&&Oe.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Oe.type==="file")var er=co;else if(ls(Oe))if(Ca)er=su;else{er=Ai;var pt=Bf}else qe=Oe.nodeName,!qe||qe.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Re&&Sl(Re.elementType)&&(er=co):er=Ll;if(er&&(er=er(a,Re))){Nl(Ve,er,c,Ie);break e}pt&&pt(a,Oe,Re),a==="focusout"&&Re&&Oe.type==="number"&&Re.memoizedProps.value!=null&&ro(Oe,"number",Oe.value)}switch(pt=Re?Kn(Re):window,a){case"focusin":(ls(pt)||pt.contentEditable==="true")&&(te=pt,le=Re,ce=null);break;case"focusout":ce=le=te=null;break;case"mousedown":xe=!0;break;case"contextmenu":case"mouseup":case"dragend":xe=!1,ae(Ve,c,Ie);break;case"selectionchange":if(Q)break;case"keydown":case"keyup":ae(Ve,c,Ie)}var Ft;if(so)e:{switch(a){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Ci?zl(a,c)&&($t="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&($t="onCompositionStart");$t&&(os&&c.locale!=="ko"&&(Ci||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Ci&&(Ft=ru()):(_a=Ie,Zo="value"in _a?_a.value:_a.textContent,Ci=!0)),pt=gd(Re,$t),0<pt.length&&($t=new ns($t,a,null,c,Ie),Ve.push({event:$t,listeners:pt}),Ft?$t.data=Ft:(Ft=Rf(c),Ft!==null&&($t.data=Ft)))),(Ft=Dh?Df(a,c):Oh(a,c))&&($t=gd(Re,"onBeforeInput"),0<$t.length&&(pt=new ns("onBeforeInput","beforeinput",null,c,Ie),Ve.push({event:pt,listeners:$t}),pt.data=Ft)),uN(Ve,a,Re,c,Ie)}s2(Ve,o)})}function lc(a,o,c){return{instance:a,listener:o,currentTarget:c}}function gd(a,o){for(var c=o+"Capture",h=[];a!==null;){var w=a,T=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||T===null||(w=Ei(a,c),w!=null&&h.unshift(lc(a,w,T)),w=Ei(a,o),w!=null&&h.push(lc(a,w,T))),a.tag===3)return h;a=a.return}return[]}function cN(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function c2(a,o,c,h,w){for(var T=o._reactName,k=[];c!==null&&c!==h;){var H=c,ne=H.alternate,Re=H.stateNode;if(H=H.tag,ne!==null&&ne===h)break;H!==5&&H!==26&&H!==27||Re===null||(ne=Re,w?(Re=Ei(c,T),Re!=null&&k.unshift(lc(c,Re,ne))):w||(Re=Ei(c,T),Re!=null&&k.push(lc(c,Re,ne)))),c=c.return}k.length!==0&&a.push({event:o,listeners:k})}var fN=/\r\n?/g,dN=/\u0000|\uFFFD/g;function f2(a){return(typeof a=="string"?a:""+a).replace(fN,`
`).replace(dN,"")}function d2(a,o){return o=f2(o),f2(a)===o}function pr(a,o,c,h,w,T){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||bi(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&bi(a,""+h);break;case"className":Va(a,"class",h);break;case"tabIndex":Va(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Va(a,c,h);break;case"style":El(a,h,T);break;case"data":if(o!=="object"){Va(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Ga(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(c==="formAction"?(o!=="input"&&pr(a,o,"name",w.name,w,null),pr(a,o,"formEncType",w.formEncType,w,null),pr(a,o,"formMethod",w.formMethod,w,null),pr(a,o,"formTarget",w.formTarget,w,null)):(pr(a,o,"encType",w.encType,w,null),pr(a,o,"method",w.method,w,null),pr(a,o,"target",w.target,w,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Ga(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=ra);break;case"onScroll":h!=null&&Ht("scroll",a);break;case"onScrollEnd":h!=null&&Ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(w.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=Ga(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":Ht("beforetoggle",a),Ht("toggle",a),Et(a,"popover",h);break;case"xlinkActuate":$n(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":$n(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":$n(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":$n(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":$n(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":$n(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":$n(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":$n(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":$n(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Et(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ch.get(c)||c,Et(a,c,h))}}function Wp(a,o,c,h,w,T){switch(c){case"style":El(a,h,T);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(w.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"children":typeof h=="string"?bi(a,h):(typeof h=="number"||typeof h=="bigint")&&bi(a,""+h);break;case"onScroll":h!=null&&Ht("scroll",a);break;case"onScrollEnd":h!=null&&Ht("scrollend",a);break;case"onClick":h!=null&&(a.onclick=ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mi.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(w=c.endsWith("Capture"),o=c.slice(2,w?c.length-7:void 0),T=a[wr]||null,T=T!=null?T[c]:null,typeof T=="function"&&a.removeEventListener(o,T,w),typeof h=="function")){typeof T!="function"&&T!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,h,w);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):Et(a,c,h)}}}function zn(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",a),Ht("load",a);var h=!1,w=!1,T;for(T in c)if(c.hasOwnProperty(T)){var k=c[T];if(k!=null)switch(T){case"src":h=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:pr(a,o,T,k,c,null)}}w&&pr(a,o,"srcSet",c.srcSet,c,null),h&&pr(a,o,"src",c.src,c,null);return;case"input":Ht("invalid",a);var H=T=k=w=null,ne=null,Re=null;for(h in c)if(c.hasOwnProperty(h)){var Ie=c[h];if(Ie!=null)switch(h){case"name":w=Ie;break;case"type":k=Ie;break;case"checked":ne=Ie;break;case"defaultChecked":Re=Ie;break;case"value":T=Ie;break;case"defaultValue":H=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,o));break;default:pr(a,o,h,Ie,c,null)}}Yo(a,T,H,ne,Re,k,w,!1);return;case"select":Ht("invalid",a),h=k=T=null;for(w in c)if(c.hasOwnProperty(w)&&(H=c[w],H!=null))switch(w){case"value":T=H;break;case"defaultValue":k=H;break;case"multiple":h=H;default:pr(a,o,w,H,c,null)}o=T,c=k,a.multiple=!!h,o!=null?ja(a,!!h,o,!1):c!=null&&ja(a,!!h,c,!0);return;case"textarea":Ht("invalid",a),T=w=h=null;for(k in c)if(c.hasOwnProperty(k)&&(H=c[k],H!=null))switch(k){case"value":h=H;break;case"defaultValue":w=H;break;case"children":T=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:pr(a,o,k,H,c,null)}no(a,h,w,T);return;case"option":for(ne in c)if(c.hasOwnProperty(ne)&&(h=c[ne],h!=null))switch(ne){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:pr(a,o,ne,h,c,null)}return;case"dialog":Ht("beforetoggle",a),Ht("toggle",a),Ht("cancel",a),Ht("close",a);break;case"iframe":case"object":Ht("load",a);break;case"video":case"audio":for(h=0;h<sc.length;h++)Ht(sc[h],a);break;case"image":Ht("error",a),Ht("load",a);break;case"details":Ht("toggle",a);break;case"embed":case"source":case"link":Ht("error",a),Ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in c)if(c.hasOwnProperty(Re)&&(h=c[Re],h!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:pr(a,o,Re,h,c,null)}return;default:if(Sl(o)){for(Ie in c)c.hasOwnProperty(Ie)&&(h=c[Ie],h!==void 0&&Wp(a,o,Ie,h,c,void 0));return}}for(H in c)c.hasOwnProperty(H)&&(h=c[H],h!=null&&pr(a,o,H,h,c,null))}function vN(a,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,T=null,k=null,H=null,ne=null,Re=null,Ie=null;for(qe in c){var Ve=c[qe];if(c.hasOwnProperty(qe)&&Ve!=null)switch(qe){case"checked":break;case"value":break;case"defaultValue":ne=Ve;default:h.hasOwnProperty(qe)||pr(a,o,qe,null,h,Ve)}}for(var Oe in h){var qe=h[Oe];if(Ve=c[Oe],h.hasOwnProperty(Oe)&&(qe!=null||Ve!=null))switch(Oe){case"type":T=qe;break;case"name":w=qe;break;case"checked":Re=qe;break;case"defaultChecked":Ie=qe;break;case"value":k=qe;break;case"defaultValue":H=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(n(137,o));break;default:qe!==Ve&&pr(a,o,Oe,qe,h,Ve)}}ei(a,k,H,ne,Re,Ie,T,w);return;case"select":qe=k=H=Oe=null;for(T in c)if(ne=c[T],c.hasOwnProperty(T)&&ne!=null)switch(T){case"value":break;case"multiple":qe=ne;default:h.hasOwnProperty(T)||pr(a,o,T,null,h,ne)}for(w in h)if(T=h[w],ne=c[w],h.hasOwnProperty(w)&&(T!=null||ne!=null))switch(w){case"value":Oe=T;break;case"defaultValue":H=T;break;case"multiple":k=T;default:T!==ne&&pr(a,o,w,T,h,ne)}o=H,c=k,h=qe,Oe!=null?ja(a,!!c,Oe,!1):!!h!=!!c&&(o!=null?ja(a,!!c,o,!0):ja(a,!!c,c?[]:"",!1));return;case"textarea":qe=Oe=null;for(H in c)if(w=c[H],c.hasOwnProperty(H)&&w!=null&&!h.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:pr(a,o,H,null,h,w)}for(k in h)if(w=h[k],T=c[k],h.hasOwnProperty(k)&&(w!=null||T!=null))switch(k){case"value":Oe=w;break;case"defaultValue":qe=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==T&&pr(a,o,k,w,h,T)}xl(a,Oe,qe);return;case"option":for(var vt in c)if(Oe=c[vt],c.hasOwnProperty(vt)&&Oe!=null&&!h.hasOwnProperty(vt))switch(vt){case"selected":a.selected=!1;break;default:pr(a,o,vt,null,h,Oe)}for(ne in h)if(Oe=h[ne],qe=c[ne],h.hasOwnProperty(ne)&&Oe!==qe&&(Oe!=null||qe!=null))switch(ne){case"selected":a.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:pr(a,o,ne,Oe,h,qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in c)Oe=c[Tt],c.hasOwnProperty(Tt)&&Oe!=null&&!h.hasOwnProperty(Tt)&&pr(a,o,Tt,null,h,Oe);for(Re in h)if(Oe=h[Re],qe=c[Re],h.hasOwnProperty(Re)&&Oe!==qe&&(Oe!=null||qe!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(n(137,o));break;default:pr(a,o,Re,Oe,h,qe)}return;default:if(Sl(o)){for(var gr in c)Oe=c[gr],c.hasOwnProperty(gr)&&Oe!==void 0&&!h.hasOwnProperty(gr)&&Wp(a,o,gr,void 0,h,Oe);for(Ie in h)Oe=h[Ie],qe=c[Ie],!h.hasOwnProperty(Ie)||Oe===qe||Oe===void 0&&qe===void 0||Wp(a,o,Ie,Oe,h,qe);return}}for(var Te in c)Oe=c[Te],c.hasOwnProperty(Te)&&Oe!=null&&!h.hasOwnProperty(Te)&&pr(a,o,Te,null,h,Oe);for(Ve in h)Oe=h[Ve],qe=c[Ve],!h.hasOwnProperty(Ve)||Oe===qe||Oe==null&&qe==null||pr(a,o,Ve,Oe,h,qe)}function v2(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hN(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var w=c[h],T=w.transferSize,k=w.initiatorType,H=w.duration;if(T&&H&&v2(k)){for(k=0,H=w.responseEnd,h+=1;h<c.length;h++){var ne=c[h],Re=ne.startTime;if(Re>H)break;var Ie=ne.transferSize,Ve=ne.initiatorType;Ie&&v2(Ve)&&(ne=ne.responseEnd,k+=Ie*(ne<H?1:(H-Re)/(ne-Re)))}if(--h,o+=8*(T+k)/(w.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Jp=null,eg=null;function yd(a){return a.nodeType===9?a:a.ownerDocument}function h2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p2(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function tg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var rg=null;function pN(){var a=window.event;return a&&a.type==="popstate"?a===rg?!1:(rg=a,!0):(rg=null,!1)}var g2=typeof setTimeout=="function"?setTimeout:void 0,gN=typeof clearTimeout=="function"?clearTimeout:void 0,y2=typeof Promise=="function"?Promise:void 0,yN=typeof queueMicrotask=="function"?queueMicrotask:typeof y2<"u"?function(a){return y2.resolve(null).then(a).catch(mN)}:g2;function mN(a){setTimeout(function(){throw a})}function _u(a){return a==="head"}function m2(a,o){var c=o,h=0;do{var w=c.nextSibling;if(a.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(w),zs(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")cc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,cc(c);for(var T=c.firstChild;T;){var k=T.nextSibling,H=T.nodeName;T[xr]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=k}}else c==="body"&&cc(a.ownerDocument.body);c=w}while(c);zs(o)}function b2(a,o){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function ng(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ng(c),yi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function bN(a,o,c,h){for(;a.nodeType===1;){var w=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[xr])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var T=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=Ba(a.nextSibling),a===null)break}return null}function wN(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Ba(a.nextSibling),a===null))return null;return a}function w2(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ba(a.nextSibling),a===null))return null;return a}function ag(a){return a.data==="$?"||a.data==="$~"}function ig(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function xN(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ba(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var ug=null;function x2(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Ba(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function E2(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function S2(a,o,c){switch(o=yd(c),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function cc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);yi(a)}var qa=new Map,T2=new Set;function md(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Vi=$.d;$.d={f:EN,r:SN,D:TN,C:_N,L:CN,m:AN,X:DN,S:RN,M:ON};function EN(){var a=Vi.f(),o=ld();return a||o}function SN(a){var o=ur(a);o!==null&&o.tag===5&&o.type==="form"?FS(o):Vi.r(a)}var Bs=typeof document>"u"?null:document;function _2(a,o,c){var h=Bs;if(h&&typeof o=="string"&&o){var w=wn(o);w='link[rel="'+a+'"][href="'+w+'"]',typeof c=="string"&&(w+='[crossorigin="'+c+'"]'),T2.has(w)||(T2.add(w),a={rel:a,crossOrigin:c,href:o},h.querySelector(w)===null&&(o=h.createElement("link"),zn(o,"link",a),Ir(o),h.head.appendChild(o)))}}function TN(a){Vi.D(a),_2("dns-prefetch",a,null)}function _N(a,o){Vi.C(a,o),_2("preconnect",a,o)}function CN(a,o,c){Vi.L(a,o,c);var h=Bs;if(h&&a&&o){var w='link[rel="preload"][as="'+wn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(w+='[imagesrcset="'+wn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(w+='[imagesizes="'+wn(c.imageSizes)+'"]')):w+='[href="'+wn(a)+'"]';var T=w;switch(o){case"style":T=qs(a);break;case"script":T=ks(a)}qa.has(T)||(a=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),qa.set(T,a),h.querySelector(w)!==null||o==="style"&&h.querySelector(fc(T))||o==="script"&&h.querySelector(dc(T))||(o=h.createElement("link"),zn(o,"link",a),Ir(o),h.head.appendChild(o)))}}function AN(a,o){Vi.m(a,o);var c=Bs;if(c&&a){var h=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+wn(h)+'"][href="'+wn(a)+'"]',T=w;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=ks(a)}if(!qa.has(T)&&(a=p({rel:"modulepreload",href:a},o),qa.set(T,a),c.querySelector(w)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(dc(T)))return}h=c.createElement("link"),zn(h,"link",a),Ir(h),c.head.appendChild(h)}}}function RN(a,o,c){Vi.S(a,o,c);var h=Bs;if(h&&a){var w=bn(h).hoistableStyles,T=qs(a);o=o||"default";var k=w.get(T);if(!k){var H={loading:0,preload:null};if(k=h.querySelector(fc(T)))H.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},c),(c=qa.get(T))&&og(a,c);var ne=k=h.createElement("link");Ir(ne),zn(ne,"link",a),ne._p=new Promise(function(Re,Ie){ne.onload=Re,ne.onerror=Ie}),ne.addEventListener("load",function(){H.loading|=1}),ne.addEventListener("error",function(){H.loading|=2}),H.loading|=4,bd(k,o,h)}k={type:"stylesheet",instance:k,count:1,state:H},w.set(T,k)}}}function DN(a,o){Vi.X(a,o);var c=Bs;if(c&&a){var h=bn(c).hoistableScripts,w=ks(a),T=h.get(w);T||(T=c.querySelector(dc(w)),T||(a=p({src:a,async:!0},o),(o=qa.get(w))&&sg(a,o),T=c.createElement("script"),Ir(T),zn(T,"link",a),c.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(w,T))}}function ON(a,o){Vi.M(a,o);var c=Bs;if(c&&a){var h=bn(c).hoistableScripts,w=ks(a),T=h.get(w);T||(T=c.querySelector(dc(w)),T||(a=p({src:a,async:!0,type:"module"},o),(o=qa.get(w))&&sg(a,o),T=c.createElement("script"),Ir(T),zn(T,"link",a),c.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(w,T))}}function C2(a,o,c,h){var w=(w=re.current)?md(w):null;if(!w)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=qs(c.href),c=bn(w).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=qs(c.href);var T=bn(w).hoistableStyles,k=T.get(a);if(k||(w=w.ownerDocument||w,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,k),(T=w.querySelector(fc(a)))&&!T._p&&(k.instance=T,k.state.loading=5),qa.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},qa.set(a,c),T||MN(w,a,c,k.state))),o&&h===null)throw Error(n(528,""));return k}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ks(c),c=bn(w).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function qs(a){return'href="'+wn(a)+'"'}function fc(a){return'link[rel="stylesheet"]['+a+"]"}function A2(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function MN(a,o,c,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),zn(o,"link",c),Ir(o),a.head.appendChild(o))}function ks(a){return'[src="'+wn(a)+'"]'}function dc(a){return"script[async]"+a}function R2(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+wn(c.href)+'"]');if(h)return o.instance=h,Ir(h),h;var w=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Ir(h),zn(h,"style",w),bd(h,c.precedence,a),o.instance=h;case"stylesheet":w=qs(c.href);var T=a.querySelector(fc(w));if(T)return o.state.loading|=4,o.instance=T,Ir(T),T;h=A2(c),(w=qa.get(w))&&og(h,w),T=(a.ownerDocument||a).createElement("link"),Ir(T);var k=T;return k._p=new Promise(function(H,ne){k.onload=H,k.onerror=ne}),zn(T,"link",h),o.state.loading|=4,bd(T,c.precedence,a),o.instance=T;case"script":return T=ks(c.src),(w=a.querySelector(dc(T)))?(o.instance=w,Ir(w),w):(h=c,(w=qa.get(T))&&(h=p({},c),sg(h,w)),a=a.ownerDocument||a,w=a.createElement("script"),Ir(w),zn(w,"link",h),a.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,bd(h,c.precedence,a));return o.instance}function bd(a,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=h.length?h[h.length-1]:null,T=w,k=0;k<h.length;k++){var H=h[k];if(H.dataset.precedence===o)T=H;else if(T!==w)break}T?T.parentNode.insertBefore(a,T.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function og(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function sg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var wd=null;function D2(a,o,c){if(wd===null){var h=new Map,w=wd=new Map;w.set(c,h)}else w=wd,h=w.get(c),h||(h=new Map,w.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),w=0;w<c.length;w++){var T=c[w];if(!(T[xr]||T[Qt]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var k=T.getAttribute(o)||"";k=a+k;var H=h.get(k);H?H.push(T):h.set(k,[T])}}return h}function O2(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function BN(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function M2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function qN(a,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=qs(h.href),T=o.querySelector(fc(w));if(T){o=T._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=xd.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=T,Ir(T);return}T=o.ownerDocument||o,h=A2(h),(w=qa.get(w))&&og(h,w),T=T.createElement("link"),Ir(T);var k=T;k._p=new Promise(function(H,ne){k.onload=H,k.onerror=ne}),zn(T,"link",h),c.instance=T}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=xd.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var lg=0;function kN(a,o){return a.stylesheets&&a.count===0&&Sd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&Sd(a,a.stylesheets),a.unsuspend){var T=a.unsuspend;a.unsuspend=null,T()}},6e4+o);0<a.imgBytes&&lg===0&&(lg=62500*hN());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Sd(a,a.stylesheets),a.unsuspend)){var T=a.unsuspend;a.unsuspend=null,T()}},(a.imgBytes>lg?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(w)}}:null}function xd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ed=null;function Sd(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ed=new Map,o.forEach(zN,a),Ed=null,xd.call(a))}function zN(a,o){if(!(o.state.loading&4)){var c=Ed.get(a);if(c)var h=c.get(null);else{c=new Map,Ed.set(a,c);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<w.length;T++){var k=w[T];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(c.set(k.dataset.precedence,k),h=k)}h&&c.set(null,h)}w=o.instance,k=w.getAttribute("data-precedence"),T=c.get(k)||h,T===h&&c.set(null,w),c.set(k,w),this.count++,h=xd.bind(this),w.addEventListener("load",h),w.addEventListener("error",h),T?T.parentNode.insertBefore(w,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),o.state.loading|=4}}var vc={$$typeof:A,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function NN(a,o,c,h,w,T,k,H,ne){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ir(0),this.hiddenUpdates=ir(null),this.identifierPrefix=h,this.onUncaughtError=w,this.onCaughtError=T,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function B2(a,o,c,h,w,T,k,H,ne,Re,Ie,Ve){return a=new NN(a,o,c,k,ne,Re,Ie,Ve,H),o=1,T===!0&&(o|=24),T=pa(3,null,null,o),a.current=T,T.stateNode=a,o=Vh(),o.refCount++,a.pooledCache=o,o.refCount++,T.memoizedState={element:h,isDehydrated:c,cache:o},Kh(T),a}function q2(a){return a?(a=na,a):na}function k2(a,o,c,h,w,T){w=q2(w),h.context===null?h.context=w:h.pendingContext=w,h=hu(o),h.payload={element:c},T=T===void 0?null:T,T!==null&&(h.callback=T),c=pu(a,h,o),c!==null&&(sa(c,a,o),Hl(c,a,o))}function z2(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function cg(a,o){z2(a,o),(a=a.alternate)&&z2(a,o)}function N2(a){if(a.tag===13||a.tag===31){var o=Mr(a,67108864);o!==null&&sa(o,a,67108864),cg(a,67108864)}}function L2(a){if(a.tag===13||a.tag===31){var o=wa();o=Nr(o);var c=Mr(a,o);c!==null&&sa(c,a,o),cg(a,o)}}var Td=!0;function LN(a,o,c,h){var w=G.T;G.T=null;var T=$.p;try{$.p=2,fg(a,o,c,h)}finally{$.p=T,G.T=w}}function PN(a,o,c,h){var w=G.T;G.T=null;var T=$.p;try{$.p=8,fg(a,o,c,h)}finally{$.p=T,G.T=w}}function fg(a,o,c,h){if(Td){var w=dg(h);if(w===null)Qp(a,o,h,_d,c),I2(a,h);else if(UN(w,a,o,c,h))h.stopPropagation();else if(I2(a,h),o&4&&-1<IN.indexOf(a)){for(;w!==null;){var T=ur(w);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var k=_t(T.pendingLanes);if(k!==0){var H=T;for(H.pendingLanes|=2,H.entangledLanes|=2;k;){var ne=1<<31-pe(k);H.entanglements[1]|=ne,k&=~ne}oi(T),(ar&6)===0&&(od=rt()+500,oc(0))}}break;case 31:case 13:H=Mr(T,2),H!==null&&sa(H,T,2),ld(),cg(T,2)}if(T=dg(h),T===null&&Qp(a,o,h,_d,c),T===w)break;w=T}w!==null&&h.stopPropagation()}else Qp(a,o,h,null,c)}}function dg(a){return a=Xo(a),vg(a)}var _d=null;function vg(a){if(_d=null,a=Sa(a),a!==null){var o=u(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=s(o),a!==null)return a;a=null}else if(c===31){if(a=l(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return _d=a,null}function P2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case Dt:return 2;case qt:return 8;case Mt:case Pt:return 32;case yt:return 268435456;default:return 32}default:return 32}}var hg=!1,Cu=null,Au=null,Ru=null,hc=new Map,pc=new Map,Du=[],IN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I2(a,o){switch(a){case"focusin":case"focusout":Cu=null;break;case"dragenter":case"dragleave":Au=null;break;case"mouseover":case"mouseout":Ru=null;break;case"pointerover":case"pointerout":hc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(o.pointerId)}}function gc(a,o,c,h,w,T){return a===null||a.nativeEvent!==T?(a={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:T,targetContainers:[w]},o!==null&&(o=ur(o),o!==null&&N2(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),a)}function UN(a,o,c,h,w){switch(o){case"focusin":return Cu=gc(Cu,a,o,c,h,w),!0;case"dragenter":return Au=gc(Au,a,o,c,h,w),!0;case"mouseover":return Ru=gc(Ru,a,o,c,h,w),!0;case"pointerover":var T=w.pointerId;return hc.set(T,gc(hc.get(T)||null,a,o,c,h,w)),!0;case"gotpointercapture":return T=w.pointerId,pc.set(T,gc(pc.get(T)||null,a,o,c,h,w)),!0}return!1}function U2(a){var o=Sa(a.target);if(o!==null){var c=u(o);if(c!==null){if(o=c.tag,o===13){if(o=s(c),o!==null){a.blockedOn=o,On(a.priority,function(){L2(c)});return}}else if(o===31){if(o=l(c),o!==null){a.blockedOn=o,On(a.priority,function(){L2(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Cd(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=dg(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);Ta=h,c.target.dispatchEvent(h),Ta=null}else return o=ur(c),o!==null&&N2(o),a.blockedOn=c,!1;o.shift()}return!0}function F2(a,o,c){Cd(a)&&c.delete(o)}function FN(){hg=!1,Cu!==null&&Cd(Cu)&&(Cu=null),Au!==null&&Cd(Au)&&(Au=null),Ru!==null&&Cd(Ru)&&(Ru=null),hc.forEach(F2),pc.forEach(F2)}function Ad(a,o){a.blockedOn===o&&(a.blockedOn=null,hg||(hg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FN)))}var Rd=null;function V2(a){Rd!==a&&(Rd=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rd===a&&(Rd=null);for(var o=0;o<a.length;o+=3){var c=a[o],h=a[o+1],w=a[o+2];if(typeof h!="function"){if(vg(h||c)===null)continue;break}var T=ur(c);T!==null&&(a.splice(o,3),o-=3,dp(T,{pending:!0,data:w,method:c.method,action:h},h,w))}}))}function zs(a){function o(ne){return Ad(ne,a)}Cu!==null&&Ad(Cu,a),Au!==null&&Ad(Au,a),Ru!==null&&Ad(Ru,a),hc.forEach(o),pc.forEach(o);for(var c=0;c<Du.length;c++){var h=Du[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Du.length&&(c=Du[0],c.blockedOn===null);)U2(c),c.blockedOn===null&&Du.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var w=c[h],T=c[h+1],k=w[wr]||null;if(typeof T=="function")k||V2(c);else if(k){var H=null;if(T&&T.hasAttribute("formAction")){if(w=T,k=T[wr]||null)H=k.formAction;else if(vg(w)!==null)continue}else H=k.action;typeof H=="function"?c[h+1]=H:(c.splice(h,3),h-=3),V2(c)}}}function j2(){function a(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(k){return w=k})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function pg(a){this._internalRoot=a}Dd.prototype.render=pg.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,h=wa();k2(c,h,a,o,null,null)},Dd.prototype.unmount=pg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;k2(a.current,2,null,a,null,null),ld(),o[Lr]=null}};function Dd(a){this._internalRoot=a}Dd.prototype.unstable_scheduleHydration=function(a){if(a){var o=vr();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Du.length&&o!==0&&o<Du[c].priority;c++);Du.splice(c,0,a),c===0&&U2(a)}};var G2=e.version;if(G2!=="19.2.0")throw Error(n(527,G2,"19.2.0"));$.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=d(o),a=a!==null?v(a):null,a=a===null?null:a.stateNode,a};var VN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{K=Od.inject(VN),we=Od}catch{}}return mc.createRoot=function(a,o){if(!i(a))throw Error(n(299));var c=!1,h="",w=QS,T=WS,k=JS;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=B2(a,1,!1,null,null,c,h,null,w,T,k,j2),a[Lr]=o.current,Zp(a),new pg(o)},mc.hydrateRoot=function(a,o,c){if(!i(a))throw Error(n(299));var h=!1,w="",T=QS,k=WS,H=JS,ne=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onUncaughtError!==void 0&&(T=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(H=c.onRecoverableError),c.formState!==void 0&&(ne=c.formState)),o=B2(a,1,!0,o,c??null,h,w,ne,T,k,H,j2),o.context=q2(null),c=o.current,h=wa(),h=Nr(h),w=hu(h),w.callback=null,pu(c,w,h),c=h,o.current.lanes=c,Yt(o,c),oi(o),a[Lr]=o.current,Zp(a),new Dd(o)},mc.version="19.2.0",mc}var e_;function WN(){if(e_)return mg.exports;e_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mg.exports=QN(),mg.exports}var JN=WN();const eL=Lv(JN);var fa=function(){return fa=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u])}return e},fa.apply(this,arguments)};function yv(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,u;n<i;n++)(u||!(n in e))&&(u||(u=Array.prototype.slice.call(e,0,n)),u[n]=e[n]);return t.concat(u||Array.prototype.slice.call(e))}var Dr="-ms-",Fc="-moz-",or="-webkit-",hB="comm",Pv="rule",Zx="decl",tL="@import",pB="@keyframes",rL="@layer",gB=Math.abs,Qx=String.fromCharCode,xx=Object.assign;function nL(t,e){return Cn(t,0)^45?(((e<<2^Cn(t,0))<<2^Cn(t,1))<<2^Cn(t,2))<<2^Cn(t,3):0}function yB(t){return t.trim()}function Gi(t,e){return(t=e.exec(t))?t[0]:t}function Vt(t,e,r){return t.replace(e,r)}function Wd(t,e,r){return t.indexOf(e,r)}function Cn(t,e){return t.charCodeAt(e)|0}function tl(t,e,r){return t.slice(e,r)}function fi(t){return t.length}function mB(t){return t.length}function kc(t,e){return e.push(t),t}function aL(t,e){return t.map(e).join("")}function t_(t,e){return t.filter(function(r){return!Gi(r,e)})}var Iv=1,rl=1,bB=0,La=0,cn=0,ll="";function Uv(t,e,r,n,i,u,s,l){return{value:t,root:e,parent:r,type:n,props:i,children:u,line:Iv,column:rl,length:s,return:"",siblings:l}}function qu(t,e){return xx(Uv("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Ns(t){for(;t.root;)t=qu(t.root,{children:[t]});kc(t,t.siblings)}function iL(){return cn}function uL(){return cn=La>0?Cn(ll,--La):0,rl--,cn===10&&(rl=1,Iv--),cn}function Ya(){return cn=La<bB?Cn(ll,La++):0,rl++,cn===10&&(rl=1,Iv++),cn}function qo(){return Cn(ll,La)}function Jd(){return La}function Fv(t,e){return tl(ll,t,e)}function Ex(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oL(t){return Iv=rl=1,bB=fi(ll=t),La=0,[]}function sL(t){return ll="",t}function Eg(t){return yB(Fv(La-1,Sx(t===91?t+2:t===40?t+1:t)))}function lL(t){for(;(cn=qo())&&cn<33;)Ya();return Ex(t)>2||Ex(cn)>3?"":" "}function cL(t,e){for(;--e&&Ya()&&!(cn<48||cn>102||cn>57&&cn<65||cn>70&&cn<97););return Fv(t,Jd()+(e<6&&qo()==32&&Ya()==32))}function Sx(t){for(;Ya();)switch(cn){case t:return La;case 34:case 39:t!==34&&t!==39&&Sx(cn);break;case 40:t===41&&Sx(t);break;case 92:Ya();break}return La}function fL(t,e){for(;Ya()&&t+cn!==57;)if(t+cn===84&&qo()===47)break;return"/*"+Fv(e,La-1)+"*"+Qx(t===47?t:Ya())}function dL(t){for(;!Ex(qo());)Ya();return Fv(t,La)}function vL(t){return sL(ev("",null,null,null,[""],t=oL(t),0,[0],t))}function ev(t,e,r,n,i,u,s,l,f){for(var d=0,v=0,p=s,g=0,m=0,b=0,_=1,x=1,E=1,C=0,A="",R=i,M=u,B=n,O=A;x;)switch(b=C,C=Ya()){case 40:if(b!=108&&Cn(O,p-1)==58){Wd(O+=Vt(Eg(C),"&","&\f"),"&\f",gB(d?l[d-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:O+=Eg(C);break;case 9:case 10:case 13:case 32:O+=lL(b);break;case 92:O+=cL(Jd()-1,7);continue;case 47:switch(qo()){case 42:case 47:kc(hL(fL(Ya(),Jd()),e,r,f),f);break;default:O+="/"}break;case 123*_:l[d++]=fi(O)*E;case 125*_:case 59:case 0:switch(C){case 0:case 125:x=0;case 59+v:E==-1&&(O=Vt(O,/\f/g,"")),m>0&&fi(O)-p&&kc(m>32?n_(O+";",n,r,p-1,f):n_(Vt(O," ","")+";",n,r,p-2,f),f);break;case 59:O+=";";default:if(kc(B=r_(O,e,r,d,v,i,l,A,R=[],M=[],p,u),u),C===123)if(v===0)ev(O,e,B,B,R,u,p,l,M);else switch(g===99&&Cn(O,3)===110?100:g){case 100:case 108:case 109:case 115:ev(t,B,B,n&&kc(r_(t,B,B,0,0,i,l,A,i,R=[],p,M),M),i,M,p,l,n?R:M);break;default:ev(O,B,B,B,[""],M,0,l,M)}}d=v=m=0,_=E=1,A=O="",p=s;break;case 58:p=1+fi(O),m=b;default:if(_<1){if(C==123)--_;else if(C==125&&_++==0&&uL()==125)continue}switch(O+=Qx(C),C*_){case 38:E=v>0?1:(O+="\f",-1);break;case 44:l[d++]=(fi(O)-1)*E,E=1;break;case 64:qo()===45&&(O+=Eg(Ya())),g=qo(),v=p=fi(A=O+=dL(Jd())),C++;break;case 45:b===45&&fi(O)==2&&(_=0)}}return u}function r_(t,e,r,n,i,u,s,l,f,d,v,p){for(var g=i-1,m=i===0?u:[""],b=mB(m),_=0,x=0,E=0;_<n;++_)for(var C=0,A=tl(t,g+1,g=gB(x=s[_])),R=t;C<b;++C)(R=yB(x>0?m[C]+" "+A:Vt(A,/&\f/g,m[C])))&&(f[E++]=R);return Uv(t,e,r,i===0?Pv:l,f,d,v,p)}function hL(t,e,r,n){return Uv(t,e,r,hB,Qx(iL()),tl(t,2,-2),0,n)}function n_(t,e,r,n,i){return Uv(t,e,r,Zx,tl(t,0,n),tl(t,n+1,-1),n,i)}function wB(t,e,r){switch(nL(t,e)){case 5103:return or+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return or+t+t;case 4789:return Fc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return or+t+Fc+t+Dr+t+t;case 5936:switch(Cn(t,e+11)){case 114:return or+t+Dr+Vt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return or+t+Dr+Vt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return or+t+Dr+Vt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return or+t+Dr+t+t;case 6165:return or+t+Dr+"flex-"+t+t;case 5187:return or+t+Vt(t,/(\w+).+(:[^]+)/,or+"box-$1$2"+Dr+"flex-$1$2")+t;case 5443:return or+t+Dr+"flex-item-"+Vt(t,/flex-|-self/g,"")+(Gi(t,/flex-|baseline/)?"":Dr+"grid-row-"+Vt(t,/flex-|-self/g,""))+t;case 4675:return or+t+Dr+"flex-line-pack"+Vt(t,/align-content|flex-|-self/g,"")+t;case 5548:return or+t+Dr+Vt(t,"shrink","negative")+t;case 5292:return or+t+Dr+Vt(t,"basis","preferred-size")+t;case 6060:return or+"box-"+Vt(t,"-grow","")+or+t+Dr+Vt(t,"grow","positive")+t;case 4554:return or+Vt(t,/([^-])(transform)/g,"$1"+or+"$2")+t;case 6187:return Vt(Vt(Vt(t,/(zoom-|grab)/,or+"$1"),/(image-set)/,or+"$1"),t,"")+t;case 5495:case 3959:return Vt(t,/(image-set\([^]*)/,or+"$1$`$1");case 4968:return Vt(Vt(t,/(.+:)(flex-)?(.*)/,or+"box-pack:$3"+Dr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+or+t+t;case 4200:if(!Gi(t,/flex-|baseline/))return Dr+"grid-column-align"+tl(t,e)+t;break;case 2592:case 3360:return Dr+Vt(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,Gi(n.props,/grid-\w+-end/)})?~Wd(t+(r=r[e].value),"span",0)?t:Dr+Vt(t,"-start","")+t+Dr+"grid-row-span:"+(~Wd(r,"span",0)?Gi(r,/\d+/):+Gi(r,/\d+/)-+Gi(t,/\d+/))+";":Dr+Vt(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return Gi(n.props,/grid-\w+-start/)})?t:Dr+Vt(Vt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Vt(t,/(.+)-inline(.+)/,or+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fi(t)-1-e>6)switch(Cn(t,e+1)){case 109:if(Cn(t,e+4)!==45)break;case 102:return Vt(t,/(.+:)(.+)-([^]+)/,"$1"+or+"$2-$3$1"+Fc+(Cn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Wd(t,"stretch",0)?wB(Vt(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Vt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,u,s,l,f,d){return Dr+i+":"+u+d+(s?Dr+i+"-span:"+(l?f:+f-+u)+d:"")+t});case 4949:if(Cn(t,e+6)===121)return Vt(t,":",":"+or)+t;break;case 6444:switch(Cn(t,Cn(t,14)===45?18:11)){case 120:return Vt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+or+(Cn(t,14)===45?"inline-":"")+"box$3$1"+or+"$2$3$1"+Dr+"$2box$3")+t;case 100:return Vt(t,":",":"+Dr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Vt(t,"scroll-","scroll-snap-")+t}return t}function mv(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function pL(t,e,r,n){switch(t.type){case rL:if(t.children.length)break;case tL:case Zx:return t.return=t.return||t.value;case hB:return"";case pB:return t.return=t.value+"{"+mv(t.children,n)+"}";case Pv:if(!fi(t.value=t.props.join(",")))return""}return fi(r=mv(t.children,n))?t.return=t.value+"{"+r+"}":""}function gL(t){var e=mB(t);return function(r,n,i,u){for(var s="",l=0;l<e;l++)s+=t[l](r,n,i,u)||"";return s}}function yL(t){return function(e){e.root||(e=e.return)&&t(e)}}function mL(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case Zx:t.return=wB(t.value,t.length,r);return;case pB:return mv([qu(t,{value:Vt(t.value,"@","@"+or)})],n);case Pv:if(t.length)return aL(r=t.props,function(i){switch(Gi(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ns(qu(t,{props:[Vt(i,/:(read-\w+)/,":"+Fc+"$1")]})),Ns(qu(t,{props:[i]})),xx(t,{props:t_(r,n)});break;case"::placeholder":Ns(qu(t,{props:[Vt(i,/:(plac\w+)/,":"+or+"input-$1")]})),Ns(qu(t,{props:[Vt(i,/:(plac\w+)/,":"+Fc+"$1")]})),Ns(qu(t,{props:[Vt(i,/:(plac\w+)/,Dr+"input-$1")]})),Ns(qu(t,{props:[i]})),xx(t,{props:t_(r,n)});break}return""})}}var bL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xa={},nl=typeof process<"u"&&xa!==void 0&&(xa.REACT_APP_SC_ATTR||xa.SC_ATTR)||"data-styled",xB="active",EB="data-styled-version",Vv="6.1.19",Wx=`/*!sc*/
`,bv=typeof window<"u"&&typeof document<"u",wL=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&xa!==void 0&&xa.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&xa.REACT_APP_SC_DISABLE_SPEEDY!==""?xa.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&xa.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&xa!==void 0&&xa.SC_DISABLE_SPEEDY!==void 0&&xa.SC_DISABLE_SPEEDY!==""&&xa.SC_DISABLE_SPEEDY!=="false"&&xa.SC_DISABLE_SPEEDY),jv=Object.freeze([]),al=Object.freeze({});function xL(t,e,r){return r===void 0&&(r=al),t.theme!==r.theme&&t.theme||e||r.theme}var SB=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),EL=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,SL=/(^-|-$)/g;function a_(t){return t.replace(EL,"-").replace(SL,"")}var TL=/(a)(d)/gi,Md=52,i_=function(t){return String.fromCharCode(t+(t>25?39:97))};function Tx(t){var e,r="";for(e=Math.abs(t);e>Md;e=e/Md|0)r=i_(e%Md)+r;return(i_(e%Md)+r).replace(TL,"$1-$2")}var Sg,TB=5381,Ks=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},_B=function(t){return Ks(TB,t)};function _L(t){return Tx(_B(t)>>>0)}function CL(t){return t.displayName||t.name||"Component"}function Tg(t){return typeof t=="string"&&!0}var CB=typeof Symbol=="function"&&Symbol.for,AB=CB?Symbol.for("react.memo"):60115,AL=CB?Symbol.for("react.forward_ref"):60112,RL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},DL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},RB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OL=((Sg={})[AL]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sg[AB]=RB,Sg);function u_(t){return("type"in(e=t)&&e.type.$$typeof)===AB?RB:"$$typeof"in t?OL[t.$$typeof]:RL;var e}var ML=Object.defineProperty,BL=Object.getOwnPropertyNames,o_=Object.getOwnPropertySymbols,qL=Object.getOwnPropertyDescriptor,kL=Object.getPrototypeOf,s_=Object.prototype;function DB(t,e,r){if(typeof e!="string"){if(s_){var n=kL(e);n&&n!==s_&&DB(t,n,r)}var i=BL(e);o_&&(i=i.concat(o_(e)));for(var u=u_(t),s=u_(e),l=0;l<i.length;++l){var f=i[l];if(!(f in DL||r&&r[f]||s&&f in s||u&&f in u)){var d=qL(e,f);try{ML(t,f,d)}catch{}}}}return t}function il(t){return typeof t=="function"}function Jx(t){return typeof t=="object"&&"styledComponentId"in t}function Mo(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function l_(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function Hc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function _x(t,e,r){if(r===void 0&&(r=!1),!r&&!Hc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=_x(t[n],e[n]);else if(Hc(e))for(var n in e)t[n]=_x(t[n],e[n]);return t}function eE(t,e){Object.defineProperty(t,"toString",{value:e})}function rf(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var zL=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,u=i;e>=u;)if((u<<=1)<0)throw rf(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(n),this.length=u;for(var s=i;s<u;s++)this.groupSizes[s]=0}for(var l=this.indexOfGroup(e+1),f=(s=0,r.length);s<f;s++)this.tag.insertRule(l,r[s])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var u=n;u<i;u++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),u=i+n,s=i;s<u;s++)r+="".concat(this.tag.getRule(s)).concat(Wx);return r},t})(),tv=new Map,wv=new Map,rv=1,Bd=function(t){if(tv.has(t))return tv.get(t);for(;wv.has(rv);)rv++;var e=rv++;return tv.set(t,e),wv.set(e,t),e},NL=function(t,e){rv=e+1,tv.set(t,e),wv.set(e,t)},LL="style[".concat(nl,"][").concat(EB,'="').concat(Vv,'"]'),PL=new RegExp("^".concat(nl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),IL=function(t,e,r){for(var n,i=r.split(","),u=0,s=i.length;u<s;u++)(n=i[u])&&t.registerName(e,n)},UL=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(Wx),i=[],u=0,s=n.length;u<s;u++){var l=n[u].trim();if(l){var f=l.match(PL);if(f){var d=0|parseInt(f[1],10),v=f[2];d!==0&&(NL(v,d),IL(t,v,f[3]),t.getTag().insertRules(d,i)),i.length=0}else i.push(l)}}},c_=function(t){for(var e=document.querySelectorAll(LL),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(nl)!==xB&&(UL(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function FL(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var OB=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=(function(l){var f=Array.from(l.querySelectorAll("style[".concat(nl,"]")));return f[f.length-1]})(r),u=i!==void 0?i.nextSibling:null;n.setAttribute(nl,xB),n.setAttribute(EB,Vv);var s=FL();return s&&n.setAttribute("nonce",s),r.insertBefore(n,u),n},VL=(function(){function t(e){this.element=OB(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,u=n.length;i<u;i++){var s=n[i];if(s.ownerNode===r)return s}throw rf(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t})(),jL=(function(){function t(e){this.element=OB(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),GL=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),f_=bv,HL={isServer:!bv,useCSSOMInjection:!wL},MB=(function(){function t(e,r,n){e===void 0&&(e=al),r===void 0&&(r={});var i=this;this.options=fa(fa({},HL),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&bv&&f_&&(f_=!1,c_(this)),eE(this,function(){return(function(u){for(var s=u.getTag(),l=s.length,f="",d=function(p){var g=(function(E){return wv.get(E)})(p);if(g===void 0)return"continue";var m=u.names.get(g),b=s.getGroup(p);if(m===void 0||!m.size||b.length===0)return"continue";var _="".concat(nl,".g").concat(p,'[id="').concat(g,'"]'),x="";m!==void 0&&m.forEach(function(E){E.length>0&&(x+="".concat(E,","))}),f+="".concat(b).concat(_,'{content:"').concat(x,'"}').concat(Wx)},v=0;v<l;v++)d(v);return f})(i)})}return t.registerId=function(e){return Bd(e)},t.prototype.rehydrate=function(){!this.server&&bv&&c_(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(fa(fa({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new GL(i):n?new VL(i):new jL(i)})(this.options),new zL(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(Bd(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(Bd(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Bd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),KL=/&/g,$L=/^\s*\/\/.*$/gm;function BB(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=BB(r.children,e)),r})}function YL(t){var e,r,n,i=al,u=i.options,s=u===void 0?al:u,l=i.plugins,f=l===void 0?jv:l,d=function(g,m,b){return b.startsWith(r)&&b.endsWith(r)&&b.replaceAll(r,"").length>0?".".concat(e):g},v=f.slice();v.push(function(g){g.type===Pv&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(KL,r).replace(n,d))}),s.prefix&&v.push(mL),v.push(pL);var p=function(g,m,b,_){m===void 0&&(m=""),b===void 0&&(b=""),_===void 0&&(_="&"),e=_,r=m,n=new RegExp("\\".concat(r,"\\b"),"g");var x=g.replace($L,""),E=vL(b||m?"".concat(b," ").concat(m," { ").concat(x," }"):x);s.namespace&&(E=BB(E,s.namespace));var C=[];return mv(E,gL(v.concat(yL(function(A){return C.push(A)})))),C};return p.hash=f.length?f.reduce(function(g,m){return m.name||rf(15),Ks(g,m.name)},TB).toString():"",p}var XL=new MB,Cx=YL(),qB=el.createContext({shouldForwardProp:void 0,styleSheet:XL,stylis:Cx});qB.Consumer;el.createContext(void 0);function d_(){return fn.useContext(qB)}var ZL=(function(){function t(e,r){var n=this;this.inject=function(i,u){u===void 0&&(u=Cx);var s=n.name+u.hash;i.hasNameForId(n.id,s)||i.insertRules(n.id,s,u(n.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,eE(this,function(){throw rf(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Cx),this.name+e.hash},t})(),QL=function(t){return t>="A"&&t<="Z"};function v_(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;QL(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var kB=function(t){return t==null||t===!1||t===""},zB=function(t){var e,r,n=[];for(var i in t){var u=t[i];t.hasOwnProperty(i)&&!kB(u)&&(Array.isArray(u)&&u.isCss||il(u)?n.push("".concat(v_(i),":"),u,";"):Hc(u)?n.push.apply(n,yv(yv(["".concat(i," {")],zB(u),!1),["}"],!1)):n.push("".concat(v_(i),": ").concat((e=i,(r=u)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in bL||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function ko(t,e,r,n){if(kB(t))return[];if(Jx(t))return[".".concat(t.styledComponentId)];if(il(t)){if(!il(u=t)||u.prototype&&u.prototype.isReactComponent||!e)return[t];var i=t(e);return ko(i,e,r,n)}var u;return t instanceof ZL?r?(t.inject(r,n),[t.getName(n)]):[t]:Hc(t)?zB(t):Array.isArray(t)?Array.prototype.concat.apply(jv,t.map(function(s){return ko(s,e,r,n)})):[t.toString()]}function WL(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(il(r)&&!Jx(r))return!1}return!0}var JL=_B(Vv),e3=(function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&WL(e),this.componentId=r,this.baseHash=Ks(JL,r),this.baseStyle=n,MB.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=Mo(i,this.staticRulesId);else{var u=l_(ko(this.rules,e,r,n)),s=Tx(Ks(this.baseHash,u)>>>0);if(!r.hasNameForId(this.componentId,s)){var l=n(u,".".concat(s),void 0,this.componentId);r.insertRules(this.componentId,s,l)}i=Mo(i,s),this.staticRulesId=s}else{for(var f=Ks(this.baseHash,n.hash),d="",v=0;v<this.rules.length;v++){var p=this.rules[v];if(typeof p=="string")d+=p;else if(p){var g=l_(ko(p,e,r,n));f=Ks(f,g+v),d+=g}}if(d){var m=Tx(f>>>0);r.hasNameForId(this.componentId,m)||r.insertRules(this.componentId,m,n(d,".".concat(m),void 0,this.componentId)),i=Mo(i,m)}}return i},t})(),NB=el.createContext(void 0);NB.Consumer;var _g={};function t3(t,e,r){var n=Jx(t),i=t,u=!Tg(t),s=e.attrs,l=s===void 0?jv:s,f=e.componentId,d=f===void 0?(function(R,M){var B=typeof R!="string"?"sc":a_(R);_g[B]=(_g[B]||0)+1;var O="".concat(B,"-").concat(_L(Vv+B+_g[B]));return M?"".concat(M,"-").concat(O):O})(e.displayName,e.parentComponentId):f,v=e.displayName,p=v===void 0?(function(R){return Tg(R)?"styled.".concat(R):"Styled(".concat(CL(R),")")})(t):v,g=e.displayName&&e.componentId?"".concat(a_(e.displayName),"-").concat(e.componentId):e.componentId||d,m=n&&i.attrs?i.attrs.concat(l).filter(Boolean):l,b=e.shouldForwardProp;if(n&&i.shouldForwardProp){var _=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;b=function(R,M){return _(R,M)&&x(R,M)}}else b=_}var E=new e3(r,g,n?i.componentStyle:void 0);function C(R,M){return(function(B,O,N){var L=B.attrs,P=B.componentStyle,I=B.defaultProps,V=B.foldedComponentIds,j=B.styledComponentId,Z=B.target,J=el.useContext(NB),G=d_(),$=B.shouldForwardProp||G.shouldForwardProp,W=xL(O,J,I)||al,oe=(function(ee,re,de){for(var ze,ie=fa(fa({},re),{className:void 0,theme:de}),he=0;he<ee.length;he+=1){var be=il(ze=ee[he])?ze(ie):ze;for(var ge in be)ie[ge]=ge==="className"?Mo(ie[ge],be[ge]):ge==="style"?fa(fa({},ie[ge]),be[ge]):be[ge]}return re.className&&(ie.className=Mo(ie.className,re.className)),ie})(L,O,W),se=oe.as||Z,U={};for(var X in oe)oe[X]===void 0||X[0]==="$"||X==="as"||X==="theme"&&oe.theme===W||(X==="forwardedAs"?U.as=oe.forwardedAs:$&&!$(X,se)||(U[X]=oe[X]));var ue=(function(ee,re){var de=d_(),ze=ee.generateAndInjectStyles(re,de.styleSheet,de.stylis);return ze})(P,oe),Y=Mo(V,j);return ue&&(Y+=" "+ue),oe.className&&(Y+=" "+oe.className),U[Tg(se)&&!SB.has(se)?"class":"className"]=Y,N&&(U.ref=N),fn.createElement(se,U)})(A,R,M)}C.displayName=p;var A=el.forwardRef(C);return A.attrs=m,A.componentStyle=E,A.displayName=p,A.shouldForwardProp=b,A.foldedComponentIds=n?Mo(i.foldedComponentIds,i.styledComponentId):"",A.styledComponentId=g,A.target=n?i.target:t,Object.defineProperty(A,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(R){this._foldedDefaultProps=n?(function(M){for(var B=[],O=1;O<arguments.length;O++)B[O-1]=arguments[O];for(var N=0,L=B;N<L.length;N++)_x(M,L[N],!0);return M})({},i.defaultProps,R):R}}),eE(A,function(){return".".concat(A.styledComponentId)}),u&&DB(A,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),A}function h_(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var p_=function(t){return Object.assign(t,{isCss:!0})};function r3(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(il(t)||Hc(t))return p_(ko(h_(jv,yv([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?ko(n):p_(ko(h_(n,e)))}function Ax(t,e,r){if(r===void 0&&(r=al),!e)throw rf(1,e);var n=function(i){for(var u=[],s=1;s<arguments.length;s++)u[s-1]=arguments[s];return t(e,r,r3.apply(void 0,yv([i],u,!1)))};return n.attrs=function(i){return Ax(t,e,fa(fa({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return Ax(t,e,fa(fa({},r),i))},n}var LB=function(t){return Ax(t3,t)},dt=LB;SB.forEach(function(t){dt[t]=LB(t)});var nv={exports:{}},n3=nv.exports,g_;function a3(){return g_||(g_=1,(function(t,e){(function(r,n){t.exports=n()})(n3,function(){var r=function(y,S){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,q){D.__proto__=q}||function(D,q){for(var z in q)Object.prototype.hasOwnProperty.call(q,z)&&(D[z]=q[z])})(y,S)},n=function(){return(n=Object.assign||function(y){for(var S,D=1,q=arguments.length;D<q;D++)for(var z in S=arguments[D])Object.prototype.hasOwnProperty.call(S,z)&&(y[z]=S[z]);return y}).apply(this,arguments)};function i(y,S,D){for(var q,z=0,F=S.length;z<F;z++)!q&&z in S||((q=q||Array.prototype.slice.call(S,0,z))[z]=S[z]);return y.concat(q||Array.prototype.slice.call(S))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:qc,s=Object.keys,l=Array.isArray;function f(y,S){return typeof S!="object"||s(S).forEach(function(D){y[D]=S[D]}),y}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var d=Object.getPrototypeOf,v={}.hasOwnProperty;function p(y,S){return v.call(y,S)}function g(y,S){typeof S=="function"&&(S=S(d(y))),(typeof Reflect>"u"?s:Reflect.ownKeys)(S).forEach(function(D){b(y,D,S[D])})}var m=Object.defineProperty;function b(y,S,D,q){m(y,S,f(D&&p(D,"get")&&typeof D.get=="function"?{get:D.get,set:D.set,configurable:!0}:{value:D,configurable:!0,writable:!0},q))}function _(y){return{from:function(S){return y.prototype=Object.create(S.prototype),b(y.prototype,"constructor",y),{extend:g.bind(null,y.prototype)}}}}var x=Object.getOwnPropertyDescriptor,E=[].slice;function C(y,S,D){return E.call(y,S,D)}function A(y,S){return S(y)}function R(y){if(!y)throw new Error("Assertion Failed")}function M(y){u.setImmediate?setImmediate(y):setTimeout(y,0)}function B(y,S){if(typeof S=="string"&&p(y,S))return y[S];if(!S)return y;if(typeof S!="string"){for(var D=[],q=0,z=S.length;q<z;++q){var F=B(y,S[q]);D.push(F)}return D}var Q=S.indexOf(".");if(Q!==-1){var te=y[S.substr(0,Q)];return te==null?void 0:B(te,S.substr(Q+1))}}function O(y,S,D){if(y&&S!==void 0&&!("isFrozen"in Object&&Object.isFrozen(y)))if(typeof S!="string"&&"length"in S){R(typeof D!="string"&&"length"in D);for(var q=0,z=S.length;q<z;++q)O(y,S[q],D[q])}else{var F,Q,te=S.indexOf(".");te!==-1?(F=S.substr(0,te),(Q=S.substr(te+1))===""?D===void 0?l(y)&&!isNaN(parseInt(F))?y.splice(F,1):delete y[F]:y[F]=D:O(te=!(te=y[F])||!p(y,F)?y[F]={}:te,Q,D)):D===void 0?l(y)&&!isNaN(parseInt(S))?y.splice(S,1):delete y[S]:y[S]=D}}function N(y){var S,D={};for(S in y)p(y,S)&&(D[S]=y[S]);return D}var L=[].concat;function P(y){return L.apply([],y)}var Dt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(P([8,16,32,64].map(function(y){return["Int","Uint","Float"].map(function(S){return S+y+"Array"})}))).filter(function(y){return u[y]}),I=new Set(Dt.map(function(y){return u[y]})),V=null;function j(y){return V=new WeakMap,y=(function S(D){if(!D||typeof D!="object")return D;var q=V.get(D);if(q)return q;if(l(D)){q=[],V.set(D,q);for(var z=0,F=D.length;z<F;++z)q.push(S(D[z]))}else if(I.has(D.constructor))q=D;else{var Q,te=d(D);for(Q in q=te===Object.prototype?{}:Object.create(te),V.set(D,q),D)p(D,Q)&&(q[Q]=S(D[Q]))}return q})(y),V=null,y}var Z={}.toString;function J(y){return Z.call(y).slice(8,-1)}var G=typeof Symbol<"u"?Symbol.iterator:"@@iterator",$=typeof G=="symbol"?function(y){var S;return y!=null&&(S=y[G])&&S.apply(y)}:function(){return null};function W(y,S){return S=y.indexOf(S),0<=S&&y.splice(S,1),0<=S}var oe={};function se(y){var S,D,q,z;if(arguments.length===1){if(l(y))return y.slice();if(this===oe&&typeof y=="string")return[y];if(z=$(y)){for(D=[];!(q=z.next()).done;)D.push(q.value);return D}if(y==null)return[y];if(typeof(S=y.length)!="number")return[y];for(D=new Array(S);S--;)D[S]=y[S];return D}for(S=arguments.length,D=new Array(S);S--;)D[S]=arguments[S];return D}var U=typeof Symbol<"u"?function(y){return y[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},xt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Xn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(xt),X={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ue(y,S){this.name=y,this.message=S}function Y(y,S){return y+". Errors: "+Object.keys(S).map(function(D){return S[D].toString()}).filter(function(D,q,z){return z.indexOf(D)===q}).join(`
`)}function ee(y,S,D,q){this.failures=S,this.failedKeys=q,this.successCount=D,this.message=Y(y,S)}function re(y,S){this.name="BulkError",this.failures=Object.keys(S).map(function(D){return S[D]}),this.failuresByPos=S,this.message=Y(y,this.failures)}_(ue).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(ee).from(ue),_(re).from(ue);var de=Xn.reduce(function(y,S){return y[S]=S+"Error",y},{}),ze=ue,ie=Xn.reduce(function(y,S){var D=S+"Error";function q(z,F){this.name=D,z?typeof z=="string"?(this.message="".concat(z).concat(F?`
 `+F:""),this.inner=F||null):typeof z=="object"&&(this.message="".concat(z.name," ").concat(z.message),this.inner=z):(this.message=X[S]||D,this.inner=null)}return _(q).from(ze),y[S]=q,y},{});ie.Syntax=SyntaxError,ie.Type=TypeError,ie.Range=RangeError;var he=xt.reduce(function(y,S){return y[S+"Error"]=ie[S],y},{}),be=Xn.reduce(function(y,S){return["Syntax","Type","Range"].indexOf(S)===-1&&(y[S+"Error"]=ie[S]),y},{});function ge(){}function Be(y){return y}function Ge(y,S){return y==null||y===Be?S:function(D){return S(y(D))}}function He(y,S){return function(){y.apply(this,arguments),S.apply(this,arguments)}}function Ct(y,S){return y===ge?S:function(){var D=y.apply(this,arguments);D!==void 0&&(arguments[0]=D);var q=this.onsuccess,z=this.onerror;this.onsuccess=null,this.onerror=null;var F=S.apply(this,arguments);return q&&(this.onsuccess=this.onsuccess?He(q,this.onsuccess):q),z&&(this.onerror=this.onerror?He(z,this.onerror):z),F!==void 0?F:D}}function Ze(y,S){return y===ge?S:function(){y.apply(this,arguments);var D=this.onsuccess,q=this.onerror;this.onsuccess=this.onerror=null,S.apply(this,arguments),D&&(this.onsuccess=this.onsuccess?He(D,this.onsuccess):D),q&&(this.onerror=this.onerror?He(q,this.onerror):q)}}function ht(y,S){return y===ge?S:function(D){var q=y.apply(this,arguments);f(D,q);var z=this.onsuccess,F=this.onerror;return this.onsuccess=null,this.onerror=null,D=S.apply(this,arguments),z&&(this.onsuccess=this.onsuccess?He(z,this.onsuccess):z),F&&(this.onerror=this.onerror?He(F,this.onerror):F),q===void 0?D===void 0?void 0:D:f(q,D)}}function ct(y,S){return y===ge?S:function(){return S.apply(this,arguments)!==!1&&y.apply(this,arguments)}}function Qe(y,S){return y===ge?S:function(){var D=y.apply(this,arguments);if(D&&typeof D.then=="function"){for(var q=this,z=arguments.length,F=new Array(z);z--;)F[z]=arguments[z];return D.then(function(){return S.apply(q,F)})}return S.apply(this,arguments)}}be.ModifyError=ee,be.DexieError=ue,be.BulkError=re;var tt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ot(y){tt=y}var st={},rt=100,Dt=typeof Promise>"u"?[]:(function(){var y=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[y,d(y),y];var S=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[S,d(S),y]})(),xt=Dt[0],Xn=Dt[1],Dt=Dt[2],Xn=Xn&&Xn.then,qt=xt&&xt.constructor,Mt=!!Dt,Pt=function(y,S){Pe.push([y,S]),at&&(queueMicrotask(zt),at=!1)},yt=!0,at=!0,Ne=[],K=[],we=Be,Me={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ge,pgp:!1,env:{},finalize:ge},pe=Me,Pe=[],nt=0,je=[];function ke(y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var S=this._PSD=pe;if(typeof y!="function"){if(y!==st)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&_t(this,this._value))}this._state=null,this._value=null,++S.ref,(function D(q,z){try{z(function(F){if(q._state===null){if(F===q)throw new TypeError("A promise cannot be resolved with itself.");var Q=q._lib&&ir();F&&typeof F.then=="function"?D(q,function(te,le){F instanceof ke?F._then(te,le):F.then(te,le)}):(q._state=!0,q._value=F,At(q)),Q&&Yt()}},_t.bind(null,q))}catch(F){_t(q,F)}})(this,y)}var it={get:function(){var y=pe,S=On;function D(q,z){var F=this,Q=!y.global&&(y!==pe||S!==On),te=Q&&!Lr(),le=new ke(function(ce,xe){lt(F,new gt(yi(q,y,Q,te),yi(z,y,Q,te),ce,xe,y))});return this._consoleTask&&(le._consoleTask=this._consoleTask),le}return D.prototype=st,D},set:function(y){b(this,"then",y&&y.prototype===st?it:{get:function(){return y},set:it.set})}};function gt(y,S,D,q,z){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof S=="function"?S:null,this.resolve=D,this.reject=q,this.psd=z}function _t(y,S){var D,q;K.push(S),y._state===null&&(D=y._lib&&ir(),S=we(S),y._state=!1,y._value=S,q=y,Ne.some(function(z){return z._value===q._value})||Ne.push(q),At(y),D&&Yt())}function At(y){var S=y._listeners;y._listeners=[];for(var D=0,q=S.length;D<q;++D)lt(y,S[D]);var z=y._PSD;--z.ref||z.finalize(),nt===0&&(++nt,Pt(function(){--nt==0&&Hr()},[]))}function lt(y,S){if(y._state!==null){var D=y._state?S.onFulfilled:S.onRejected;if(D===null)return(y._state?S.resolve:S.reject)(y._value);++S.psd.ref,++nt,Pt(It,[D,y,S])}else y._listeners.push(S)}function It(y,S,D){try{var q,z=S._value;!S._state&&K.length&&(K=[]),q=tt&&S._consoleTask?S._consoleTask.run(function(){return y(z)}):y(z),S._state||K.indexOf(z)!==-1||(function(F){for(var Q=Ne.length;Q;)if(Ne[--Q]._value===F._value)return Ne.splice(Q,1)})(S),D.resolve(q)}catch(F){D.reject(F)}finally{--nt==0&&Hr(),--D.psd.ref||D.psd.finalize()}}function zt(){xr(Me,function(){ir()&&Yt()})}function ir(){var y=yt;return at=yt=!1,y}function Yt(){var y,S,D;do for(;0<Pe.length;)for(y=Pe,Pe=[],D=y.length,S=0;S<D;++S){var q=y[S];q[0].apply(null,q[1])}while(0<Pe.length);at=yt=!0}function Hr(){var y=Ne;Ne=[],y.forEach(function(q){q._PSD.onunhandled.call(null,q._value,q)});for(var S=je.slice(0),D=S.length;D;)S[--D]()}function dr(y){return new ke(st,!1,y)}function Bt(y,S){var D=pe;return function(){var q=ir(),z=pe;try{return Tr(D,!0),y.apply(this,arguments)}catch(F){S&&S(F)}finally{Tr(z,!1),q&&Yt()}}}g(ke.prototype,{then:it,_then:function(y,S){lt(this,new gt(null,null,y,S,pe))},catch:function(y){if(arguments.length===1)return this.then(null,y);var S=y,D=arguments[1];return typeof S=="function"?this.then(null,function(q){return(q instanceof S?D:dr)(q)}):this.then(null,function(q){return(q&&q.name===S?D:dr)(q)})},finally:function(y){return this.then(function(S){return ke.resolve(y()).then(function(){return S})},function(S){return ke.resolve(y()).then(function(){return dr(S)})})},timeout:function(y,S){var D=this;return y<1/0?new ke(function(q,z){var F=setTimeout(function(){return z(new ie.Timeout(S))},y);D.then(q,z).finally(clearTimeout.bind(null,F))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(ke.prototype,Symbol.toStringTag,"Dexie.Promise"),Me.env=Ua(),g(ke,{all:function(){var y=se.apply(null,arguments).map(Pr);return new ke(function(S,D){y.length===0&&S([]);var q=y.length;y.forEach(function(z,F){return ke.resolve(z).then(function(Q){y[F]=Q,--q||S(y)},D)})})},resolve:function(y){return y instanceof ke?y:y&&typeof y.then=="function"?new ke(function(S,D){y.then(S,D)}):new ke(st,!0,y)},reject:dr,race:function(){var y=se.apply(null,arguments).map(Pr);return new ke(function(S,D){y.map(function(q){return ke.resolve(q).then(S,D)})})},PSD:{get:function(){return pe},set:function(y){return pe=y}},totalEchoes:{get:function(){return On}},newPSD:Qt,usePSD:xr,scheduler:{get:function(){return Pt},set:function(y){Pt=y}},rejectionMapper:{get:function(){return we},set:function(y){we=y}},follow:function(y,S){return new ke(function(D,q){return Qt(function(z,F){var Q=pe;Q.unhandleds=[],Q.onunhandled=F,Q.finalize=He(function(){var te,le=this;te=function(){le.unhandleds.length===0?z():F(le.unhandleds[0])},je.push(function ce(){te(),je.splice(je.indexOf(ce),1)}),++nt,Pt(function(){--nt==0&&Hr()},[])},Q.finalize),y()},S,D,q)})}}),qt&&(qt.allSettled&&b(ke,"allSettled",function(){var y=se.apply(null,arguments).map(Pr);return new ke(function(S){y.length===0&&S([]);var D=y.length,q=new Array(D);y.forEach(function(z,F){return ke.resolve(z).then(function(Q){return q[F]={status:"fulfilled",value:Q}},function(Q){return q[F]={status:"rejected",reason:Q}}).then(function(){return--D||S(q)})})})}),qt.any&&typeof AggregateError<"u"&&b(ke,"any",function(){var y=se.apply(null,arguments).map(Pr);return new ke(function(S,D){y.length===0&&D(new AggregateError([]));var q=y.length,z=new Array(q);y.forEach(function(F,Q){return ke.resolve(F).then(function(te){return S(te)},function(te){z[Q]=te,--q||D(new AggregateError(z))})})})}),qt.withResolvers&&(ke.withResolvers=qt.withResolvers));var Ut={awaits:0,echoes:0,id:0},Nr=0,Dn=[],vr=0,On=0,Zr=0;function Qt(y,S,D,q){var z=pe,F=Object.create(z);return F.parent=z,F.ref=0,F.global=!1,F.id=++Zr,Me.env,F.env=Mt?{Promise:ke,PromiseProp:{value:ke,configurable:!0,writable:!0},all:ke.all,race:ke.race,allSettled:ke.allSettled,any:ke.any,resolve:ke.resolve,reject:ke.reject}:{},S&&f(F,S),++z.ref,F.finalize=function(){--this.parent.ref||this.parent.finalize()},q=xr(F,y,D,q),F.ref===0&&F.finalize(),q}function wr(){return Ut.id||(Ut.id=++Nr),++Ut.awaits,Ut.echoes+=rt,Ut.id}function Lr(){return!!Ut.awaits&&(--Ut.awaits==0&&(Ut.id=0),Ut.echoes=Ut.awaits*rt,!0)}function Pr(y){return Ut.echoes&&y&&y.constructor===qt?(wr(),y.then(function(S){return Lr(),S},function(S){return Lr(),ur(S)})):y}function Qr(){var y=Dn[Dn.length-1];Dn.pop(),Tr(y,!1)}function Tr(y,S){var D,q=pe;(S?!Ut.echoes||vr++&&y===pe:!vr||--vr&&y===pe)||queueMicrotask(S?(function(z){++On,Ut.echoes&&--Ut.echoes!=0||(Ut.echoes=Ut.awaits=Ut.id=0),Dn.push(pe),Tr(z,!0)}).bind(null,y):Qr),y!==pe&&(pe=y,q===Me&&(Me.env=Ua()),Mt&&(D=Me.env.Promise,S=y.env,(q.global||y.global)&&(Object.defineProperty(u,"Promise",S.PromiseProp),D.all=S.all,D.race=S.race,D.resolve=S.resolve,D.reject=S.reject,S.allSettled&&(D.allSettled=S.allSettled),S.any&&(D.any=S.any))))}function Ua(){var y=u.Promise;return Mt?{Promise:y,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:y.all,race:y.race,allSettled:y.allSettled,any:y.any,resolve:y.resolve,reject:y.reject}:{}}function xr(y,S,D,q,z){var F=pe;try{return Tr(y,!0),S(D,q,z)}finally{Tr(F,!1)}}function yi(y,S,D,q){return typeof y!="function"?y:function(){var z=pe;D&&wr(),Tr(S,!0);try{return y.apply(this,arguments)}finally{Tr(z,!1),q&&queueMicrotask(Lr)}}}function Sa(y){Promise===qt&&Ut.echoes===0?vr===0?y():enqueueNativeMicroTask(y):setTimeout(y,0)}(""+Xn).indexOf("[native code]")===-1&&(wr=Lr=ge);var ur=ke.reject,Kn="",bn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ir="String expected.",Fa=[],mi="__dbnames",Mn="readonly",ea="readwrite";function ta(y,S){return y?S?function(){return y.apply(this,arguments)&&S.apply(this,arguments)}:y:S}var Ji={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ja(y){return typeof y!="string"||/\./.test(y)?function(S){return S}:function(S){return S[y]===void 0&&y in S&&delete(S=j(S))[y],S}}function Ko(){throw ie.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Et(y,S){try{var D=Va(y),q=Va(S);if(D!==q)return D==="Array"?1:q==="Array"?-1:D==="binary"?1:q==="binary"?-1:D==="string"?1:q==="string"?-1:D==="Date"?1:q!=="Date"?NaN:-1;switch(D){case"number":case"Date":case"string":return S<y?1:y<S?-1:0;case"binary":return(function(z,F){for(var Q=z.length,te=F.length,le=Q<te?Q:te,ce=0;ce<le;++ce)if(z[ce]!==F[ce])return z[ce]<F[ce]?-1:1;return Q===te?0:Q<te?-1:1})($n(y),$n(S));case"Array":return(function(z,F){for(var Q=z.length,te=F.length,le=Q<te?Q:te,ce=0;ce<le;++ce){var xe=Et(z[ce],F[ce]);if(xe!==0)return xe}return Q===te?0:Q<te?-1:1})(y,S)}}catch{}return NaN}function Va(y){var S=typeof y;return S!="object"?S:ArrayBuffer.isView(y)?"binary":(y=J(y),y==="ArrayBuffer"?"binary":y)}function $n(y){return y instanceof Uint8Array?y:ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):new Uint8Array(y)}function Ur(y,S,D){var q=y.schema.yProps;return q?(S&&0<D.numFailures&&(S=S.filter(function(z,F){return!D.failures[F]})),Promise.all(q.map(function(z){return z=z.updatesTable,S?y.db.table(z).where("k").anyOf(S).delete():y.db.table(z).clear()})).then(function(){return D})):D}var Wr=($o.prototype.execute=function(y){var S=this["@@propmod"];if(S.add!==void 0){var D=S.add;if(l(D))return i(i([],l(y)?y:[],!0),D).sort();if(typeof D=="number")return(Number(y)||0)+D;if(typeof D=="bigint")try{return BigInt(y)+D}catch{return BigInt(0)+D}throw new TypeError("Invalid term ".concat(D))}if(S.remove!==void 0){var q=S.remove;if(l(q))return l(y)?y.filter(function(z){return!q.includes(z)}).sort():[];if(typeof q=="number")return Number(y)-q;if(typeof q=="bigint")try{return BigInt(y)-q}catch{return BigInt(0)-q}throw new TypeError("Invalid subtrahend ".concat(q))}return D=(D=S.replacePrefix)===null||D===void 0?void 0:D[0],D&&typeof y=="string"&&y.startsWith(D)?S.replacePrefix[1]+y.substring(D.length):y},$o);function $o(y){this["@@propmod"]=y}function Ju(y,S){for(var D=s(S),q=D.length,z=!1,F=0;F<q;++F){var Q=D[F],te=S[Q],le=B(y,Q);te instanceof Wr?(O(y,Q,te.execute(le)),z=!0):le!==te&&(O(y,Q,te),z=!0)}return z}var eo=(nr.prototype._trans=function(y,S,D){var q=this._tx||pe.trans,z=this.name,F=tt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(y==="readonly"?"read":"write"," ").concat(this.name));function Q(ce,xe,ae){if(!ae.schema[z])throw new ie.NotFound("Table "+z+" not part of transaction");return S(ae.idbtrans,ae)}var te=ir();try{var le=q&&q.db._novip===this.db._novip?q===pe.trans?q._promise(y,Q,D):Qt(function(){return q._promise(y,Q,D)},{trans:q,transless:pe.transless||pe}):(function ce(xe,ae,Se,fe){if(xe.idbdb&&(xe._state.openComplete||pe.letThrough||xe._vip)){var ye=xe._createTransaction(ae,Se,xe._dbSchema);try{ye.create(),xe._state.PR1398_maxLoop=3}catch(me){return me.name===de.InvalidState&&xe.isOpen()&&0<--xe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),xe.close({disableAutoOpen:!1}),xe.open().then(function(){return ce(xe,ae,Se,fe)})):ur(me)}return ye._promise(ae,function(me,Ee){return Qt(function(){return pe.trans=ye,fe(me,Ee,ye)})}).then(function(me){if(ae==="readwrite")try{ye.idbtrans.commit()}catch{}return ae==="readonly"?me:ye._completion.then(function(){return me})})}if(xe._state.openComplete)return ur(new ie.DatabaseClosed(xe._state.dbOpenError));if(!xe._state.isBeingOpened){if(!xe._state.autoOpen)return ur(new ie.DatabaseClosed);xe.open().catch(ge)}return xe._state.dbReadyPromise.then(function(){return ce(xe,ae,Se,fe)})})(this.db,y,[this.name],Q);return F&&(le._consoleTask=F,le=le.catch(function(ce){return console.trace(ce),ur(ce)})),le}finally{te&&Yt()}},nr.prototype.get=function(y,S){var D=this;return y&&y.constructor===Object?this.where(y).first(S):y==null?ur(new ie.Type("Invalid argument to Table.get()")):this._trans("readonly",function(q){return D.core.get({trans:q,key:y}).then(function(z){return D.hook.reading.fire(z)})}).then(S)},nr.prototype.where=function(y){if(typeof y=="string")return new this.db.WhereClause(this,y);if(l(y))return new this.db.WhereClause(this,"[".concat(y.join("+"),"]"));var S=s(y);if(S.length===1)return this.where(S[0]).equals(y[S[0]]);var D=this.schema.indexes.concat(this.schema.primKey).filter(function(te){if(te.compound&&S.every(function(ce){return 0<=te.keyPath.indexOf(ce)})){for(var le=0;le<S.length;++le)if(S.indexOf(te.keyPath[le])===-1)return!1;return!0}return!1}).sort(function(te,le){return te.keyPath.length-le.keyPath.length})[0];if(D&&this.db._maxKey!==Kn){var F=D.keyPath.slice(0,S.length);return this.where(F).equals(F.map(function(le){return y[le]}))}!D&&tt&&console.warn("The query ".concat(JSON.stringify(y)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(S.join("+"),"]"));var q=this.schema.idxByName;function z(te,le){return Et(te,le)===0}var Q=S.reduce(function(ae,le){var ce=ae[0],xe=ae[1],ae=q[le],Se=y[le];return[ce||ae,ce||!ae?ta(xe,ae&&ae.multi?function(fe){return fe=B(fe,le),l(fe)&&fe.some(function(ye){return z(Se,ye)})}:function(fe){return z(Se,B(fe,le))}):xe]},[null,null]),F=Q[0],Q=Q[1];return F?this.where(F.name).equals(y[F.keyPath]).filter(Q):D?this.filter(Q):this.where(S).equals("")},nr.prototype.filter=function(y){return this.toCollection().and(y)},nr.prototype.count=function(y){return this.toCollection().count(y)},nr.prototype.offset=function(y){return this.toCollection().offset(y)},nr.prototype.limit=function(y){return this.toCollection().limit(y)},nr.prototype.each=function(y){return this.toCollection().each(y)},nr.prototype.toArray=function(y){return this.toCollection().toArray(y)},nr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},nr.prototype.orderBy=function(y){return new this.db.Collection(new this.db.WhereClause(this,l(y)?"[".concat(y.join("+"),"]"):y))},nr.prototype.reverse=function(){return this.toCollection().reverse()},nr.prototype.mapToClass=function(y){var S,D=this.db,q=this.name;function z(){return S!==null&&S.apply(this,arguments)||this}(this.schema.mappedClass=y).prototype instanceof Ko&&((function(le,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Class extends value "+String(ce)+" is not a constructor or null");function xe(){this.constructor=le}r(le,ce),le.prototype=ce===null?Object.create(ce):(xe.prototype=ce.prototype,new xe)})(z,S=y),Object.defineProperty(z.prototype,"db",{get:function(){return D},enumerable:!1,configurable:!0}),z.prototype.table=function(){return q},y=z);for(var F=new Set,Q=y.prototype;Q;Q=d(Q))Object.getOwnPropertyNames(Q).forEach(function(le){return F.add(le)});function te(le){if(!le)return le;var ce,xe=Object.create(y.prototype);for(ce in le)if(!F.has(ce))try{xe[ce]=le[ce]}catch{}return xe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=te,this.hook("reading",te),y},nr.prototype.defineClass=function(){return this.mapToClass(function(y){f(this,y)})},nr.prototype.add=function(y,S){var D=this,q=this.schema.primKey,z=q.auto,F=q.keyPath,Q=y;return F&&z&&(Q=Ja(F)(y)),this._trans("readwrite",function(te){return D.core.mutate({trans:te,type:"add",keys:S!=null?[S]:null,values:[Q]})}).then(function(te){return te.numFailures?ke.reject(te.failures[0]):te.lastResult}).then(function(te){if(F)try{O(y,F,te)}catch{}return te})},nr.prototype.upsert=function(y,S){var D=this,q=this.schema.primKey.keyPath;return this._trans("readwrite",function(z){return D.core.get({trans:z,key:y}).then(function(F){var Q=F??{};return Ju(Q,S),q&&O(Q,q,y),D.core.mutate({trans:z,type:"put",values:[Q],keys:[y],upsert:!0,updates:{keys:[y],changeSpecs:[S]}}).then(function(te){return te.numFailures?ke.reject(te.failures[0]):!!F})})})},nr.prototype.update=function(y,S){return typeof y!="object"||l(y)?this.where(":id").equals(y).modify(S):(y=B(y,this.schema.primKey.keyPath),y===void 0?ur(new ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(y).modify(S))},nr.prototype.put=function(y,S){var D=this,q=this.schema.primKey,z=q.auto,F=q.keyPath,Q=y;return F&&z&&(Q=Ja(F)(y)),this._trans("readwrite",function(te){return D.core.mutate({trans:te,type:"put",values:[Q],keys:S!=null?[S]:null})}).then(function(te){return te.numFailures?ke.reject(te.failures[0]):te.lastResult}).then(function(te){if(F)try{O(y,F,te)}catch{}return te})},nr.prototype.delete=function(y){var S=this;return this._trans("readwrite",function(D){return S.core.mutate({trans:D,type:"delete",keys:[y]}).then(function(q){return Ur(S,[y],q)}).then(function(q){return q.numFailures?ke.reject(q.failures[0]):void 0})})},nr.prototype.clear=function(){var y=this;return this._trans("readwrite",function(S){return y.core.mutate({trans:S,type:"deleteRange",range:Ji}).then(function(D){return Ur(y,null,D)})}).then(function(S){return S.numFailures?ke.reject(S.failures[0]):void 0})},nr.prototype.bulkGet=function(y){var S=this;return this._trans("readonly",function(D){return S.core.getMany({keys:y,trans:D}).then(function(q){return q.map(function(z){return S.hook.reading.fire(z)})})})},nr.prototype.bulkAdd=function(y,S,D){var q=this,z=Array.isArray(S)?S:void 0,F=(D=D||(z?void 0:S))?D.allKeys:void 0;return this._trans("readwrite",function(Q){var ce=q.schema.primKey,te=ce.auto,ce=ce.keyPath;if(ce&&z)throw new ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(z&&z.length!==y.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var le=y.length,ce=ce&&te?y.map(Ja(ce)):y;return q.core.mutate({trans:Q,type:"add",keys:z,values:ce,wantResults:F}).then(function(ye){var ae=ye.numFailures,Se=ye.results,fe=ye.lastResult,ye=ye.failures;if(ae===0)return F?Se:fe;throw new re("".concat(q.name,".bulkAdd(): ").concat(ae," of ").concat(le," operations failed"),ye)})})},nr.prototype.bulkPut=function(y,S,D){var q=this,z=Array.isArray(S)?S:void 0,F=(D=D||(z?void 0:S))?D.allKeys:void 0;return this._trans("readwrite",function(Q){var ce=q.schema.primKey,te=ce.auto,ce=ce.keyPath;if(ce&&z)throw new ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(z&&z.length!==y.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var le=y.length,ce=ce&&te?y.map(Ja(ce)):y;return q.core.mutate({trans:Q,type:"put",keys:z,values:ce,wantResults:F}).then(function(ye){var ae=ye.numFailures,Se=ye.results,fe=ye.lastResult,ye=ye.failures;if(ae===0)return F?Se:fe;throw new re("".concat(q.name,".bulkPut(): ").concat(ae," of ").concat(le," operations failed"),ye)})})},nr.prototype.bulkUpdate=function(y){var S=this,D=this.core,q=y.map(function(Q){return Q.key}),z=y.map(function(Q){return Q.changes}),F=[];return this._trans("readwrite",function(Q){return D.getMany({trans:Q,keys:q,cache:"clone"}).then(function(te){var le=[],ce=[];y.forEach(function(ae,Se){var fe=ae.key,ye=ae.changes,me=te[Se];if(me){for(var Ee=0,Ce=Object.keys(ye);Ee<Ce.length;Ee++){var De=Ce[Ee],Le=ye[De];if(De===S.schema.primKey.keyPath){if(Et(Le,fe)!==0)throw new ie.Constraint("Cannot update primary key in bulkUpdate()")}else O(me,De,Le)}F.push(Se),le.push(fe),ce.push(me)}});var xe=le.length;return D.mutate({trans:Q,type:"put",keys:le,values:ce,updates:{keys:q,changeSpecs:z}}).then(function(ae){var Se=ae.numFailures,fe=ae.failures;if(Se===0)return xe;for(var ye=0,me=Object.keys(fe);ye<me.length;ye++){var Ee,Ce=me[ye],De=F[Number(Ce)];De!=null&&(Ee=fe[Ce],delete fe[Ce],fe[De]=Ee)}throw new re("".concat(S.name,".bulkUpdate(): ").concat(Se," of ").concat(xe," operations failed"),fe)})})})},nr.prototype.bulkDelete=function(y){var S=this,D=y.length;return this._trans("readwrite",function(q){return S.core.mutate({trans:q,type:"delete",keys:y}).then(function(z){return Ur(S,y,z)})}).then(function(Q){var z=Q.numFailures,F=Q.lastResult,Q=Q.failures;if(z===0)return F;throw new re("".concat(S.name,".bulkDelete(): ").concat(z," of ").concat(D," operations failed"),Q)})},nr);function nr(){}function to(y){function S(Q,te){if(te){for(var le=arguments.length,ce=new Array(le-1);--le;)ce[le-1]=arguments[le];return D[Q].subscribe.apply(null,ce),y}if(typeof Q=="string")return D[Q]}var D={};S.addEventType=F;for(var q=1,z=arguments.length;q<z;++q)F(arguments[q]);return S;function F(Q,te,le){if(typeof Q!="object"){var ce;te=te||ct;var xe={subscribers:[],fire:le=le||ge,subscribe:function(ae){xe.subscribers.indexOf(ae)===-1&&(xe.subscribers.push(ae),xe.fire=te(xe.fire,ae))},unsubscribe:function(ae){xe.subscribers=xe.subscribers.filter(function(Se){return Se!==ae}),xe.fire=xe.subscribers.reduce(te,le)}};return D[Q]=S[Q]=xe}s(ce=Q).forEach(function(ae){var Se=ce[ae];if(l(Se))F(ae,ce[ae][0],ce[ae][1]);else{if(Se!=="asap")throw new ie.InvalidArgument("Invalid event config");var fe=F(ae,Be,function(){for(var ye=arguments.length,me=new Array(ye);ye--;)me[ye]=arguments[ye];fe.subscribers.forEach(function(Ee){M(function(){Ee.apply(null,me)})})})}})}}function wn(y,S){return _(S).from({prototype:y}),S}function ei(y,S){return!(y.filter||y.algorithm||y.or)&&(S?y.justLimit:!y.replayFilter)}function Yo(y,S){y.filter=ta(y.filter,S)}function ro(y,S,D){var q=y.replayFilter;y.replayFilter=q?function(){return ta(q(),S())}:S,y.justLimit=D&&!q}function ja(y,S){if(y.isPrimKey)return S.primaryKey;var D=S.getIndexByKeyPath(y.index);if(!D)throw new ie.Schema("KeyPath "+y.index+" on object store "+S.name+" is not indexed");return D}function xl(y,S,D){var q=ja(y,S.schema);return S.openCursor({trans:D,values:!y.keysOnly,reverse:y.dir==="prev",unique:!!y.unique,query:{index:q,range:y.range}})}function no(y,S,D,q){var z=y.replayFilter?ta(y.filter,y.replayFilter()):y.filter;if(y.or){var F={},Q=function(te,le,ce){var xe,ae;z&&!z(le,ce,function(Se){return le.stop(Se)},function(Se){return le.fail(Se)})||((ae=""+(xe=le.primaryKey))=="[object ArrayBuffer]"&&(ae=""+new Uint8Array(xe)),p(F,ae)||(F[ae]=!0,S(te,le,ce)))};return Promise.all([y.or._iterate(Q,D),bi(xl(y,q,D),y.algorithm,Q,!y.keysOnly&&y.valueMapper)])}return bi(xl(y,q,D),ta(y.algorithm,z),S,!y.keysOnly&&y.valueMapper)}function bi(y,S,D,q){var z=Bt(q?function(F,Q,te){return D(q(F),Q,te)}:D);return y.then(function(F){if(F)return F.start(function(){var Q=function(){return F.continue()};S&&!S(F,function(te){return Q=te},function(te){F.stop(te),Q=ge},function(te){F.fail(te),Q=ge})||z(F.value,F,function(te){return Q=te}),Q()})})}var _h=(Xt.prototype._read=function(y,S){var D=this._ctx;return D.error?D.table._trans(null,ur.bind(null,D.error)):D.table._trans("readonly",y).then(S)},Xt.prototype._write=function(y){var S=this._ctx;return S.error?S.table._trans(null,ur.bind(null,S.error)):S.table._trans("readwrite",y,"locked")},Xt.prototype._addAlgorithm=function(y){var S=this._ctx;S.algorithm=ta(S.algorithm,y)},Xt.prototype._iterate=function(y,S){return no(this._ctx,y,S,this._ctx.table.core)},Xt.prototype.clone=function(y){var S=Object.create(this.constructor.prototype),D=Object.create(this._ctx);return y&&f(D,y),S._ctx=D,S},Xt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Xt.prototype.each=function(y){var S=this._ctx;return this._read(function(D){return no(S,y,D,S.table.core)})},Xt.prototype.count=function(y){var S=this;return this._read(function(D){var q=S._ctx,z=q.table.core;if(ei(q,!0))return z.count({trans:D,query:{index:ja(q,z.schema),range:q.range}}).then(function(Q){return Math.min(Q,q.limit)});var F=0;return no(q,function(){return++F,!1},D,z).then(function(){return F})}).then(y)},Xt.prototype.sortBy=function(y,S){var D=y.split(".").reverse(),q=D[0],z=D.length-1;function F(le,ce){return ce?F(le[D[ce]],ce-1):le[q]}var Q=this._ctx.dir==="next"?1:-1;function te(le,ce){return Et(F(le,z),F(ce,z))*Q}return this.toArray(function(le){return le.sort(te)}).then(S)},Xt.prototype.toArray=function(y){var S=this;return this._read(function(D){var q=S._ctx;if(q.dir==="next"&&ei(q,!0)&&0<q.limit){var z=q.valueMapper,F=ja(q,q.table.core.schema);return q.table.core.query({trans:D,limit:q.limit,values:!0,query:{index:F,range:q.range}}).then(function(te){return te=te.result,z?te.map(z):te})}var Q=[];return no(q,function(te){return Q.push(te)},D,q.table.core).then(function(){return Q})},y)},Xt.prototype.offset=function(y){var S=this._ctx;return y<=0||(S.offset+=y,ei(S)?ro(S,function(){var D=y;return function(q,z){return D===0||(D===1?--D:z(function(){q.advance(D),D=0}),!1)}}):ro(S,function(){var D=y;return function(){return--D<0}})),this},Xt.prototype.limit=function(y){return this._ctx.limit=Math.min(this._ctx.limit,y),ro(this._ctx,function(){var S=y;return function(D,q,z){return--S<=0&&q(z),0<=S}},!0),this},Xt.prototype.until=function(y,S){return Yo(this._ctx,function(D,q,z){return!y(D.value)||(q(z),S)}),this},Xt.prototype.first=function(y){return this.limit(1).toArray(function(S){return S[0]}).then(y)},Xt.prototype.last=function(y){return this.reverse().first(y)},Xt.prototype.filter=function(y){var S;return Yo(this._ctx,function(D){return y(D.value)}),(S=this._ctx).isMatch=ta(S.isMatch,y),this},Xt.prototype.and=function(y){return this.filter(y)},Xt.prototype.or=function(y){return new this.db.WhereClause(this._ctx.table,y,this)},Xt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Xt.prototype.desc=function(){return this.reverse()},Xt.prototype.eachKey=function(y){var S=this._ctx;return S.keysOnly=!S.isMatch,this.each(function(D,q){y(q.key,q)})},Xt.prototype.eachUniqueKey=function(y){return this._ctx.unique="unique",this.eachKey(y)},Xt.prototype.eachPrimaryKey=function(y){var S=this._ctx;return S.keysOnly=!S.isMatch,this.each(function(D,q){y(q.primaryKey,q)})},Xt.prototype.keys=function(y){var S=this._ctx;S.keysOnly=!S.isMatch;var D=[];return this.each(function(q,z){D.push(z.key)}).then(function(){return D}).then(y)},Xt.prototype.primaryKeys=function(y){var S=this._ctx;if(S.dir==="next"&&ei(S,!0)&&0<S.limit)return this._read(function(q){var z=ja(S,S.table.core.schema);return S.table.core.query({trans:q,values:!1,limit:S.limit,query:{index:z,range:S.range}})}).then(function(q){return q.result}).then(y);S.keysOnly=!S.isMatch;var D=[];return this.each(function(q,z){D.push(z.primaryKey)}).then(function(){return D}).then(y)},Xt.prototype.uniqueKeys=function(y){return this._ctx.unique="unique",this.keys(y)},Xt.prototype.firstKey=function(y){return this.limit(1).keys(function(S){return S[0]}).then(y)},Xt.prototype.lastKey=function(y){return this.reverse().firstKey(y)},Xt.prototype.distinct=function(){var y=this._ctx,y=y.index&&y.table.schema.idxByName[y.index];if(!y||!y.multi)return this;var S={};return Yo(this._ctx,function(z){var q=z.primaryKey.toString(),z=p(S,q);return S[q]=!0,!z}),this},Xt.prototype.modify=function(y){var S=this,D=this._ctx;return this._write(function(q){var z=typeof y=="function"?y:function(me){return Ju(me,y)},F=D.table.core,ce=F.schema.primaryKey,Q=ce.outbound,te=ce.extractKey,le=200,ce=S.db._options.modifyChunkSize;ce&&(le=typeof ce=="object"?ce[F.name]||ce["*"]||200:ce);function xe(me,De){var Ce=De.failures,De=De.numFailures;Se+=me-De;for(var Le=0,Fe=s(Ce);Le<Fe.length;Le++){var Ye=Fe[Le];ae.push(Ce[Ye])}}var ae=[],Se=0,fe=[],ye=y===El;return S.clone().primaryKeys().then(function(me){function Ee(De){var Le=Math.min(le,me.length-De),Fe=me.slice(De,De+Le);return(ye?Promise.resolve([]):F.getMany({trans:q,keys:Fe,cache:"immutable"})).then(function(Ye){var Je=[],Ke=[],Xe=Q?[]:null,We=ye?Fe:[];if(!ye)for(var $e=0;$e<Le;++$e){var ut=Ye[$e],bt={value:j(ut),primKey:me[De+$e]};z.call(bt,bt.value,bt)!==!1&&(bt.value==null?We.push(me[De+$e]):Q||Et(te(ut),te(bt.value))===0?(Ke.push(bt.value),Q&&Xe.push(me[De+$e])):(We.push(me[De+$e]),Je.push(bt.value)))}return Promise.resolve(0<Je.length&&F.mutate({trans:q,type:"add",values:Je}).then(function(Ot){for(var Nt in Ot.failures)We.splice(parseInt(Nt),1);xe(Je.length,Ot)})).then(function(){return(0<Ke.length||Ce&&typeof y=="object")&&F.mutate({trans:q,type:"put",keys:Xe,values:Ke,criteria:Ce,changeSpec:typeof y!="function"&&y,isAdditionalChunk:0<De}).then(function(Ot){return xe(Ke.length,Ot)})}).then(function(){return(0<We.length||Ce&&ye)&&F.mutate({trans:q,type:"delete",keys:We,criteria:Ce,isAdditionalChunk:0<De}).then(function(Ot){return Ur(D.table,We,Ot)}).then(function(Ot){return xe(We.length,Ot)})}).then(function(){return me.length>De+Le&&Ee(De+le)})})}var Ce=ei(D)&&D.limit===1/0&&(typeof y!="function"||ye)&&{index:D.index,range:D.range};return Ee(0).then(function(){if(0<ae.length)throw new ee("Error modifying one or more objects",ae,Se,fe);return me.length})})})},Xt.prototype.delete=function(){var y=this._ctx,S=y.range;return!ei(y)||y.table.schema.yProps||!y.isPrimKey&&S.type!==3?this.modify(El):this._write(function(D){var q=y.table.core.schema.primaryKey,z=S;return y.table.core.count({trans:D,query:{index:q,range:z}}).then(function(F){return y.table.core.mutate({trans:D,type:"deleteRange",range:z}).then(function(le){var te=le.failures,le=le.numFailures;if(le)throw new ee("Could not delete some values",Object.keys(te).map(function(ce){return te[ce]}),F-le);return F-le})})})},Xt);function Xt(){}var El=function(y,S){return S.value=null};function Sl(y,S){return y<S?-1:y===S?0:1}function Ch(y,S){return S<y?-1:y===S?0:1}function Yn(y,S,D){return y=y instanceof wi?new y.Collection(y):y,y._ctx.error=new(D||TypeError)(S),y}function Ga(y){return new y.Collection(y,function(){return Xo("")}).limit(0)}function ra(y,S,D,q){var z,F,Q,te,le,ce,xe,ae=D.length;if(!D.every(function(ye){return typeof ye=="string"}))return Yn(y,Ir);function Se(ye){z=ye==="next"?function(Ee){return Ee.toUpperCase()}:function(Ee){return Ee.toLowerCase()},F=ye==="next"?function(Ee){return Ee.toLowerCase()}:function(Ee){return Ee.toUpperCase()},Q=ye==="next"?Sl:Ch;var me=D.map(function(Ee){return{lower:F(Ee),upper:z(Ee)}}).sort(function(Ee,Ce){return Q(Ee.lower,Ce.lower)});te=me.map(function(Ee){return Ee.upper}),le=me.map(function(Ee){return Ee.lower}),xe=(ce=ye)==="next"?"":q}Se("next"),y=new y.Collection(y,function(){return Ta(te[0],le[ae-1]+q)}),y._ondirectionchange=function(ye){Se(ye)};var fe=0;return y._addAlgorithm(function(ye,me,Ee){var Ce=ye.key;if(typeof Ce!="string")return!1;var De=F(Ce);if(S(De,le,fe))return!0;for(var Le=null,Fe=fe;Fe<ae;++Fe){var Ye=(function(Je,Ke,Xe,We,$e,ut){for(var bt=Math.min(Je.length,We.length),Ot=-1,Nt=0;Nt<bt;++Nt){var Sn=Ke[Nt];if(Sn!==We[Nt])return $e(Je[Nt],Xe[Nt])<0?Je.substr(0,Nt)+Xe[Nt]+Xe.substr(Nt+1):$e(Je[Nt],We[Nt])<0?Je.substr(0,Nt)+We[Nt]+Xe.substr(Nt+1):0<=Ot?Je.substr(0,Ot)+Ke[Ot]+Xe.substr(Ot+1):null;$e(Je[Nt],Sn)<0&&(Ot=Nt)}return bt<We.length&&ut==="next"?Je+Xe.substr(Je.length):bt<Je.length&&ut==="prev"?Je.substr(0,Xe.length):Ot<0?null:Je.substr(0,Ot)+We[Ot]+Xe.substr(Ot+1)})(Ce,De,te[Fe],le[Fe],Q,ce);Ye===null&&Le===null?fe=Fe+1:(Le===null||0<Q(Le,Ye))&&(Le=Ye)}return me(Le!==null?function(){ye.continue(Le+xe)}:Ee),!1}),y}function Ta(y,S,D,q){return{type:2,lower:y,upper:S,lowerOpen:D,upperOpen:q}}function Xo(y){return{type:1,lower:y,upper:y}}var wi=(Object.defineProperty(_r.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),_r.prototype.between=function(y,S,D,q){D=D!==!1,q=q===!0;try{return 0<this._cmp(y,S)||this._cmp(y,S)===0&&(D||q)&&(!D||!q)?Ga(this):new this.Collection(this,function(){return Ta(y,S,!D,!q)})}catch{return Yn(this,bn)}},_r.prototype.equals=function(y){return y==null?Yn(this,bn):new this.Collection(this,function(){return Xo(y)})},_r.prototype.above=function(y){return y==null?Yn(this,bn):new this.Collection(this,function(){return Ta(y,void 0,!0)})},_r.prototype.aboveOrEqual=function(y){return y==null?Yn(this,bn):new this.Collection(this,function(){return Ta(y,void 0,!1)})},_r.prototype.below=function(y){return y==null?Yn(this,bn):new this.Collection(this,function(){return Ta(void 0,y,!1,!0)})},_r.prototype.belowOrEqual=function(y){return y==null?Yn(this,bn):new this.Collection(this,function(){return Ta(void 0,y)})},_r.prototype.startsWith=function(y){return typeof y!="string"?Yn(this,Ir):this.between(y,y+Kn,!0,!0)},_r.prototype.startsWithIgnoreCase=function(y){return y===""?this.startsWith(y):ra(this,function(S,D){return S.indexOf(D[0])===0},[y],Kn)},_r.prototype.equalsIgnoreCase=function(y){return ra(this,function(S,D){return S===D[0]},[y],"")},_r.prototype.anyOfIgnoreCase=function(){var y=se.apply(oe,arguments);return y.length===0?Ga(this):ra(this,function(S,D){return D.indexOf(S)!==-1},y,"")},_r.prototype.startsWithAnyOfIgnoreCase=function(){var y=se.apply(oe,arguments);return y.length===0?Ga(this):ra(this,function(S,D){return D.some(function(q){return S.indexOf(q)===0})},y,Kn)},_r.prototype.anyOf=function(){var y=this,S=se.apply(oe,arguments),D=this._cmp;try{S.sort(D)}catch{return Yn(this,bn)}if(S.length===0)return Ga(this);var q=new this.Collection(this,function(){return Ta(S[0],S[S.length-1])});q._ondirectionchange=function(F){D=F==="next"?y._ascending:y._descending,S.sort(D)};var z=0;return q._addAlgorithm(function(F,Q,te){for(var le=F.key;0<D(le,S[z]);)if(++z===S.length)return Q(te),!1;return D(le,S[z])===0||(Q(function(){F.continue(S[z])}),!1)}),q},_r.prototype.notEqual=function(y){return this.inAnyRange([[-1/0,y],[y,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},_r.prototype.noneOf=function(){var y=se.apply(oe,arguments);if(y.length===0)return new this.Collection(this);try{y.sort(this._ascending)}catch{return Yn(this,bn)}var S=y.reduce(function(D,q){return D?D.concat([[D[D.length-1][1],q]]):[[-1/0,q]]},null);return S.push([y[y.length-1],this.db._maxKey]),this.inAnyRange(S,{includeLowers:!1,includeUppers:!1})},_r.prototype.inAnyRange=function(Ce,S){var D=this,q=this._cmp,z=this._ascending,F=this._descending,Q=this._min,te=this._max;if(Ce.length===0)return Ga(this);if(!Ce.every(function(De){return De[0]!==void 0&&De[1]!==void 0&&z(De[0],De[1])<=0}))return Yn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ie.InvalidArgument);var le=!S||S.includeLowers!==!1,ce=S&&S.includeUppers===!0,xe,ae=z;function Se(De,Le){return ae(De[0],Le[0])}try{(xe=Ce.reduce(function(De,Le){for(var Fe=0,Ye=De.length;Fe<Ye;++Fe){var Je=De[Fe];if(q(Le[0],Je[1])<0&&0<q(Le[1],Je[0])){Je[0]=Q(Je[0],Le[0]),Je[1]=te(Je[1],Le[1]);break}}return Fe===Ye&&De.push(Le),De},[])).sort(Se)}catch{return Yn(this,bn)}var fe=0,ye=ce?function(De){return 0<z(De,xe[fe][1])}:function(De){return 0<=z(De,xe[fe][1])},me=le?function(De){return 0<F(De,xe[fe][0])}:function(De){return 0<=F(De,xe[fe][0])},Ee=ye,Ce=new this.Collection(this,function(){return Ta(xe[0][0],xe[xe.length-1][1],!le,!ce)});return Ce._ondirectionchange=function(De){ae=De==="next"?(Ee=ye,z):(Ee=me,F),xe.sort(Se)},Ce._addAlgorithm(function(De,Le,Fe){for(var Ye,Je=De.key;Ee(Je);)if(++fe===xe.length)return Le(Fe),!1;return!ye(Ye=Je)&&!me(Ye)||(D._cmp(Je,xe[fe][1])===0||D._cmp(Je,xe[fe][0])===0||Le(function(){ae===z?De.continue(xe[fe][0]):De.continue(xe[fe][1])}),!1)}),Ce},_r.prototype.startsWithAnyOf=function(){var y=se.apply(oe,arguments);return y.every(function(S){return typeof S=="string"})?y.length===0?Ga(this):this.inAnyRange(y.map(function(S){return[S,S+Kn]})):Yn(this,"startsWithAnyOf() only works with strings")},_r);function _r(){}function ha(y){return Bt(function(S){return xi(S),y(S.target.error),!1})}function xi(y){y.stopPropagation&&y.stopPropagation(),y.preventDefault&&y.preventDefault()}var eu="storagemutated",Ei="x-storagemutated-1",xn=to(null,eu),Tl=(Un.prototype._lock=function(){return R(!pe.global),++this._reculock,this._reculock!==1||pe.global||(pe.lockOwnerFor=this),this},Un.prototype._unlock=function(){if(R(!pe.global),--this._reculock==0)for(pe.global||(pe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var y=this._blockedFuncs.shift();try{xr(y[1],y[0])}catch{}}return this},Un.prototype._locked=function(){return this._reculock&&pe.lockOwnerFor!==this},Un.prototype.create=function(y){var S=this;if(!this.mode)return this;var D=this.db.idbdb,q=this.db._state.dbOpenError;if(R(!this.idbtrans),!y&&!D)switch(q&&q.name){case"DatabaseClosedError":throw new ie.DatabaseClosed(q);case"MissingAPIError":throw new ie.MissingAPI(q.message,q);default:throw new ie.OpenFailed(q)}if(!this.active)throw new ie.TransactionInactive;return R(this._completion._state===null),(y=this.idbtrans=y||(this.db.core||D).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Bt(function(z){xi(z),S._reject(y.error)}),y.onabort=Bt(function(z){xi(z),S.active&&S._reject(new ie.Abort(y.error)),S.active=!1,S.on("abort").fire(z)}),y.oncomplete=Bt(function(){S.active=!1,S._resolve(),"mutatedParts"in y&&xn.storagemutated.fire(y.mutatedParts)}),this},Un.prototype._promise=function(y,S,D){var q=this;if(y==="readwrite"&&this.mode!=="readwrite")return ur(new ie.ReadOnly("Transaction is readonly"));if(!this.active)return ur(new ie.TransactionInactive);if(this._locked())return new ke(function(F,Q){q._blockedFuncs.push([function(){q._promise(y,S,D).then(F,Q)},pe])});if(D)return Qt(function(){var F=new ke(function(Q,te){q._lock();var le=S(Q,te,q);le&&le.then&&le.then(Q,te)});return F.finally(function(){return q._unlock()}),F._lib=!0,F});var z=new ke(function(F,Q){var te=S(F,Q,q);te&&te.then&&te.then(F,Q)});return z._lib=!0,z},Un.prototype._root=function(){return this.parent?this.parent._root():this},Un.prototype.waitFor=function(y){var S,D=this._root(),q=ke.resolve(y);D._waitingFor?D._waitingFor=D._waitingFor.then(function(){return q}):(D._waitingFor=q,D._waitingQueue=[],S=D.idbtrans.objectStore(D.storeNames[0]),(function F(){for(++D._spinCount;D._waitingQueue.length;)D._waitingQueue.shift()();D._waitingFor&&(S.get(-1/0).onsuccess=F)})());var z=D._waitingFor;return new ke(function(F,Q){q.then(function(te){return D._waitingQueue.push(Bt(F.bind(null,te)))},function(te){return D._waitingQueue.push(Bt(Q.bind(null,te)))}).finally(function(){D._waitingFor===z&&(D._waitingFor=null)})})},Un.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ie.Abort))},Un.prototype.table=function(y){var S=this._memoizedTables||(this._memoizedTables={});if(p(S,y))return S[y];var D=this.schema[y];if(!D)throw new ie.NotFound("Table "+y+" not part of transaction");return D=new this.db.Table(y,D,this),D.core=this.db.core.table(y),S[y]=D},Un);function Un(){}function _a(y,S,D,q,z,F,Q,te){return{name:y,keyPath:S,unique:D,multi:q,auto:z,compound:F,src:(D&&!Q?"&":"")+(q?"*":"")+(z?"++":"")+Zo(S),type:te}}function Zo(y){return typeof y=="string"?y:y?"["+[].join.call(y,"+")+"]":""}function tu(y,S,D){return{name:y,primKey:S,indexes:D,mappedClass:null,idxByName:(q=function(z){return[z.name,z]},D.reduce(function(z,F,Q){return Q=q(F,Q),Q&&(z[Q[0]]=Q[1]),z},{}))};var q}var ru=function(y){try{return y.only([[]]),ru=function(){return[[]]},[[]]}catch{return ru=function(){return Kn},Kn}};function nu(y){return y==null?function(){}:typeof y=="string"?(S=y).split(".").length===1?function(D){return D[S]}:function(D){return B(D,S)}:function(D){return B(D,y)};var S}function ao(y){return[].slice.call(y)}var xf=0;function Jr(y){return y==null?":id":typeof y=="string"?y:"[".concat(y.join("+"),"]")}function Si(y,S,le){function q(Ee){if(Ee.type===3)return null;if(Ee.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var fe=Ee.lower,ye=Ee.upper,me=Ee.lowerOpen,Ee=Ee.upperOpen;return fe===void 0?ye===void 0?null:S.upperBound(ye,!!Ee):ye===void 0?S.lowerBound(fe,!!me):S.bound(fe,ye,!!me,!!Ee)}function z(Se){var fe,ye=Se.name;return{name:ye,schema:Se,mutate:function(me){var Ee=me.trans,Ce=me.type,De=me.keys,Le=me.values,Fe=me.range;return new Promise(function(Ye,Je){Ye=Bt(Ye);var Ke=Ee.objectStore(ye),Xe=Ke.keyPath==null,We=Ce==="put"||Ce==="add";if(!We&&Ce!=="delete"&&Ce!=="deleteRange")throw new Error("Invalid operation type: "+Ce);var $e,ut=(De||Le||{length:1}).length;if(De&&Le&&De.length!==Le.length)throw new Error("Given keys array must have same length as given values array.");if(ut===0)return Ye({numFailures:0,failures:{},results:[],lastResult:void 0});function bt(tn){++Sn,xi(tn)}var Ot=[],Nt=[],Sn=0;if(Ce==="deleteRange"){if(Fe.type===4)return Ye({numFailures:Sn,failures:Nt,results:[],lastResult:void 0});Fe.type===3?Ot.push($e=Ke.clear()):Ot.push($e=Ke.delete(q(Fe)))}else{var Xe=We?Xe?[Le,De]:[Le,null]:[De,null],Rt=Xe[0],en=Xe[1];if(We)for(var Mr=0;Mr<ut;++Mr)Ot.push($e=en&&en[Mr]!==void 0?Ke[Ce](Rt[Mr],en[Mr]):Ke[Ce](Rt[Mr])),$e.onerror=bt;else for(Mr=0;Mr<ut;++Mr)Ot.push($e=Ke[Ce](Rt[Mr])),$e.onerror=bt}function fo(tn){tn=tn.target.result,Ot.forEach(function(na,Pl){return na.error!=null&&(Nt[Pl]=na.error)}),Ye({numFailures:Sn,failures:Nt,results:Ce==="delete"?De:Ot.map(function(na){return na.result}),lastResult:tn})}$e.onerror=function(tn){bt(tn),fo(tn)},$e.onsuccess=fo})},getMany:function(me){var Ee=me.trans,Ce=me.keys;return new Promise(function(De,Le){De=Bt(De);for(var Fe,Ye=Ee.objectStore(ye),Je=Ce.length,Ke=new Array(Je),Xe=0,We=0,$e=function(Ot){Ot=Ot.target,Ke[Ot._pos]=Ot.result,++We===Xe&&De(Ke)},ut=ha(Le),bt=0;bt<Je;++bt)Ce[bt]!=null&&((Fe=Ye.get(Ce[bt]))._pos=bt,Fe.onsuccess=$e,Fe.onerror=ut,++Xe);Xe===0&&De(Ke)})},get:function(me){var Ee=me.trans,Ce=me.key;return new Promise(function(De,Le){De=Bt(De);var Fe=Ee.objectStore(ye).get(Ce);Fe.onsuccess=function(Ye){return De(Ye.target.result)},Fe.onerror=ha(Le)})},query:(fe=ce,function(me){return new Promise(function(Ee,Ce){Ee=Bt(Ee);var De,Le,Fe,Xe=me.trans,Ye=me.values,Je=me.limit,$e=me.query,Ke=Je===1/0?void 0:Je,We=$e.index,$e=$e.range,Xe=Xe.objectStore(ye),We=We.isPrimaryKey?Xe:Xe.index(We.name),$e=q($e);if(Je===0)return Ee({result:[]});fe?((Ke=Ye?We.getAll($e,Ke):We.getAllKeys($e,Ke)).onsuccess=function(ut){return Ee({result:ut.target.result})},Ke.onerror=ha(Ce)):(De=0,Le=!Ye&&"openKeyCursor"in We?We.openKeyCursor($e):We.openCursor($e),Fe=[],Le.onsuccess=function(ut){var bt=Le.result;return bt?(Fe.push(Ye?bt.value:bt.primaryKey),++De===Je?Ee({result:Fe}):void bt.continue()):Ee({result:Fe})},Le.onerror=ha(Ce))})}),openCursor:function(me){var Ee=me.trans,Ce=me.values,De=me.query,Le=me.reverse,Fe=me.unique;return new Promise(function(Ye,Je){Ye=Bt(Ye);var We=De.index,Ke=De.range,Xe=Ee.objectStore(ye),Xe=We.isPrimaryKey?Xe:Xe.index(We.name),We=Le?Fe?"prevunique":"prev":Fe?"nextunique":"next",$e=!Ce&&"openKeyCursor"in Xe?Xe.openKeyCursor(q(Ke),We):Xe.openCursor(q(Ke),We);$e.onerror=ha(Je),$e.onsuccess=Bt(function(ut){var bt,Ot,Nt,Sn,Rt=$e.result;Rt?(Rt.___id=++xf,Rt.done=!1,bt=Rt.continue.bind(Rt),Ot=(Ot=Rt.continuePrimaryKey)&&Ot.bind(Rt),Nt=Rt.advance.bind(Rt),Sn=function(){throw new Error("Cursor not stopped")},Rt.trans=Ee,Rt.stop=Rt.continue=Rt.continuePrimaryKey=Rt.advance=function(){throw new Error("Cursor not started")},Rt.fail=Bt(Je),Rt.next=function(){var en=this,Mr=1;return this.start(function(){return Mr--?en.continue():en.stop()}).then(function(){return en})},Rt.start=function(en){function Mr(){if($e.result)try{en()}catch(tn){Rt.fail(tn)}else Rt.done=!0,Rt.start=function(){throw new Error("Cursor behind last entry")},Rt.stop()}var fo=new Promise(function(tn,na){tn=Bt(tn),$e.onerror=ha(na),Rt.fail=na,Rt.stop=function(Pl){Rt.stop=Rt.continue=Rt.continuePrimaryKey=Rt.advance=Sn,tn(Pl)}});return $e.onsuccess=Bt(function(tn){$e.onsuccess=Mr,Mr()}),Rt.continue=bt,Rt.continuePrimaryKey=Ot,Rt.advance=Nt,Mr(),fo},Ye(Rt)):Ye(null)},Je)})},count:function(me){var Ee=me.query,Ce=me.trans,De=Ee.index,Le=Ee.range;return new Promise(function(Fe,Ye){var Je=Ce.objectStore(ye),Ke=De.isPrimaryKey?Je:Je.index(De.name),Je=q(Le),Ke=Je?Ke.count(Je):Ke.count();Ke.onsuccess=Bt(function(Xe){return Fe(Xe.target.result)}),Ke.onerror=ha(Ye)})}}}var F,Q,te,xe=(Q=le,te=ao((F=y).objectStoreNames),{schema:{name:F.name,tables:te.map(function(Se){return Q.objectStore(Se)}).map(function(Se){var fe=Se.keyPath,Ee=Se.autoIncrement,ye=l(fe),me={},Ee={name:Se.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:fe==null,compound:ye,keyPath:fe,autoIncrement:Ee,unique:!0,extractKey:nu(fe)},indexes:ao(Se.indexNames).map(function(Ce){return Se.index(Ce)}).map(function(Fe){var De=Fe.name,Le=Fe.unique,Ye=Fe.multiEntry,Fe=Fe.keyPath,Ye={name:De,compound:l(Fe),keyPath:Fe,unique:Le,multiEntry:Ye,extractKey:nu(Fe)};return me[Jr(Fe)]=Ye}),getIndexByKeyPath:function(Ce){return me[Jr(Ce)]}};return me[":id"]=Ee.primaryKey,fe!=null&&(me[Jr(fe)]=Ee.primaryKey),Ee})},hasGetAll:0<te.length&&"getAll"in Q.objectStore(te[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),le=xe.schema,ce=xe.hasGetAll,xe=le.tables.map(z),ae={};return xe.forEach(function(Se){return ae[Se.name]=Se}),{stack:"dbcore",transaction:y.transaction.bind(y),table:function(Se){if(!ae[Se])throw new Error("Table '".concat(Se,"' not found"));return ae[Se]},MIN_KEY:-1/0,MAX_KEY:ru(S),schema:le}}function Qo(y,S,D,q){var z=D.IDBKeyRange;return D.indexedDB,{dbcore:(q=Si(S,z,q),y.dbcore.reduce(function(F,Q){return Q=Q.create,n(n({},F),Q(F))},q))}}function ti(y,q){var D=q.db,q=Qo(y._middlewares,D,y._deps,q);y.core=q.dbcore,y.tables.forEach(function(z){var F=z.name;y.core.schema.tables.some(function(Q){return Q.name===F})&&(z.core=y.core.table(F),y[F]instanceof y.Table&&(y[F].core=z.core))})}function Wo(y,S,D,q){D.forEach(function(z){var F=q[z];S.forEach(function(Q){var te=(function le(ce,xe){return x(ce,xe)||(ce=d(ce))&&le(ce,xe)})(Q,z);(!te||"value"in te&&te.value===void 0)&&(Q===y.Transaction.prototype||Q instanceof y.Transaction?b(Q,z,{get:function(){return this.table(z)},set:function(le){m(this,z,{value:le,writable:!0,configurable:!0,enumerable:!0})}}):Q[z]=new y.Table(z,F))})})}function io(y,S){S.forEach(function(D){for(var q in D)D[q]instanceof y.Table&&delete D[q]})}function _l(y,S){return y._cfg.version-S._cfg.version}function uo(y,S,D,q){var z=y._dbSchema;D.objectStoreNames.contains("$meta")&&!z.$meta&&(z.$meta=tu("$meta",Sf("")[0],[]),y._storeNames.push("$meta"));var F=y._createTransaction("readwrite",y._storeNames,z);F.create(D),F._completion.catch(q);var Q=F._reject.bind(F),te=pe.transless||pe;Qt(function(){return pe.trans=F,pe.transless=te,S!==0?(ti(y,D),ce=S,((le=F).storeNames.includes("$meta")?le.table("$meta").get("version").then(function(xe){return xe??ce}):ke.resolve(ce)).then(function(xe){return Se=xe,fe=F,ye=D,me=[],xe=(ae=y)._versions,Ee=ae._dbSchema=au(0,ae.idbdb,ye),(xe=xe.filter(function(Ce){return Ce._cfg.version>=Se})).length!==0?(xe.forEach(function(Ce){me.push(function(){var De=Ee,Le=Ce._cfg.dbschema;rs(ae,De,ye),rs(ae,Le,ye),Ee=ae._dbSchema=Le;var Fe=es(De,Le);Fe.add.forEach(function(We){Cl(ye,We[0],We[1].primKey,We[1].indexes)}),Fe.change.forEach(function(We){if(We.recreate)throw new ie.Upgrade("Not yet support for changing primary key");var $e=ye.objectStore(We.name);We.add.forEach(function(ut){return ts($e,ut)}),We.change.forEach(function(ut){$e.deleteIndex(ut.name),ts($e,ut)}),We.del.forEach(function(ut){return $e.deleteIndex(ut)})});var Ye=Ce._cfg.contentUpgrade;if(Ye&&Ce._cfg.version>Se){ti(ae,ye),fe._memoizedTables={};var Je=N(Le);Fe.del.forEach(function(We){Je[We]=De[We]}),io(ae,[ae.Transaction.prototype]),Wo(ae,[ae.Transaction.prototype],s(Je),Je),fe.schema=Je;var Ke,Xe=U(Ye);return Xe&&wr(),Fe=ke.follow(function(){var We;(Ke=Ye(fe))&&Xe&&(We=Lr.bind(null,null),Ke.then(We,We))}),Ke&&typeof Ke.then=="function"?ke.resolve(Ke):Fe.then(function(){return Ke})}}),me.push(function(De){var Le,Fe,Ye=Ce._cfg.dbschema;Le=Ye,Fe=De,[].slice.call(Fe.db.objectStoreNames).forEach(function(Je){return Le[Je]==null&&Fe.db.deleteObjectStore(Je)}),io(ae,[ae.Transaction.prototype]),Wo(ae,[ae.Transaction.prototype],ae._storeNames,ae._dbSchema),fe.schema=ae._dbSchema}),me.push(function(De){ae.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ae.idbdb.version/10)===Ce._cfg.version?(ae.idbdb.deleteObjectStore("$meta"),delete ae._dbSchema.$meta,ae._storeNames=ae._storeNames.filter(function(Le){return Le!=="$meta"})):De.objectStore("$meta").put(Ce._cfg.version,"version"))})}),(function Ce(){return me.length?ke.resolve(me.shift()(fe.idbtrans)).then(Ce):ke.resolve()})().then(function(){Ef(Ee,ye)})):ke.resolve();var ae,Se,fe,ye,me,Ee}).catch(Q)):(s(z).forEach(function(xe){Cl(D,xe,z[xe].primKey,z[xe].indexes)}),ti(y,D),void ke.follow(function(){return y.on.populate.fire(F)}).catch(Q));var le,ce})}function Jo(y,S){Ef(y._dbSchema,S),S.db.version%10!=0||S.objectStoreNames.contains("$meta")||S.db.createObjectStore("$meta").add(Math.ceil(S.db.version/10-1),"version");var D=au(0,y.idbdb,S);rs(y,y._dbSchema,S);for(var q=0,z=es(D,y._dbSchema).change;q<z.length;q++){var F=(function(Q){if(Q.change.length||Q.recreate)return console.warn("Unable to patch indexes of table ".concat(Q.name," because it has changes on the type of index or primary key.")),{value:void 0};var te=S.objectStore(Q.name);Q.add.forEach(function(le){tt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Q.name,".").concat(le.src)),ts(te,le)})})(z[q]);if(typeof F=="object")return F.value}}function es(y,S){var D,q={del:[],add:[],change:[]};for(D in y)S[D]||q.del.push(D);for(D in S){var z=y[D],F=S[D];if(z){var Q={name:D,def:F,recreate:!1,del:[],add:[],change:[]};if(""+(z.primKey.keyPath||"")!=""+(F.primKey.keyPath||"")||z.primKey.auto!==F.primKey.auto)Q.recreate=!0,q.change.push(Q);else{var te=z.idxByName,le=F.idxByName,ce=void 0;for(ce in te)le[ce]||Q.del.push(ce);for(ce in le){var xe=te[ce],ae=le[ce];xe?xe.src!==ae.src&&Q.change.push(ae):Q.add.push(ae)}(0<Q.del.length||0<Q.add.length||0<Q.change.length)&&q.change.push(Q)}}else q.add.push([D,F])}return q}function Cl(y,S,D,q){var z=y.db.createObjectStore(S,D.keyPath?{keyPath:D.keyPath,autoIncrement:D.auto}:{autoIncrement:D.auto});return q.forEach(function(F){return ts(z,F)}),z}function Ef(y,S){s(y).forEach(function(D){S.db.objectStoreNames.contains(D)||(tt&&console.debug("Dexie: Creating missing table",D),Cl(S,D,y[D].primKey,y[D].indexes))})}function ts(y,S){y.createIndex(S.name,S.keyPath,{unique:S.unique,multiEntry:S.multi})}function au(y,S,D){var q={};return C(S.objectStoreNames,0).forEach(function(z){for(var F=D.objectStore(z),Q=_a(Zo(ce=F.keyPath),ce||"",!0,!1,!!F.autoIncrement,ce&&typeof ce!="string",!0),te=[],le=0;le<F.indexNames.length;++le){var xe=F.index(F.indexNames[le]),ce=xe.keyPath,xe=_a(xe.name,ce,!!xe.unique,!!xe.multiEntry,!1,ce&&typeof ce!="string",!1);te.push(xe)}q[z]=tu(z,Q,te)}),q}function rs(y,S,D){for(var q=D.db.objectStoreNames,z=0;z<q.length;++z){var F=q[z],Q=D.objectStore(F);y._hasGetAll="getAll"in Q;for(var te=0;te<Q.indexNames.length;++te){var le=Q.indexNames[te],ce=Q.index(le).keyPath,xe=typeof ce=="string"?ce:"["+C(ce).join("+")+"]";!S[F]||(ce=S[F].idxByName[xe])&&(ce.name=le,delete S[F].idxByName[xe],S[F].idxByName[le]=ce)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(y._hasGetAll=!1)}function Sf(y){return y.split(",").map(function(S,D){var F=S.split(":"),q=(z=F[1])===null||z===void 0?void 0:z.trim(),z=(S=F[0].trim()).replace(/([&*]|\+\+)/g,""),F=/^\[/.test(z)?z.match(/^\[(.*)\]$/)[1].split("+"):z;return _a(z,F||null,/\&/.test(S),/\*/.test(S),/\+\+/.test(S),l(F),D===0,q)})}var Ah=(iu.prototype._createTableSchema=tu,iu.prototype._parseIndexSyntax=Sf,iu.prototype._parseStoresSpec=function(y,S){var D=this;s(y).forEach(function(q){if(y[q]!==null){var z=D._parseIndexSyntax(y[q]),F=z.shift();if(!F)throw new ie.Schema("Invalid schema for table "+q+": "+y[q]);if(F.unique=!0,F.multi)throw new ie.Schema("Primary key cannot be multiEntry*");z.forEach(function(Q){if(Q.auto)throw new ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!Q.keyPath)throw new ie.Schema("Index must have a name and cannot be an empty string")}),z=D._createTableSchema(q,F,z),S[q]=z}})},iu.prototype.stores=function(D){var S=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,D):D;var D=S._versions,q={},z={};return D.forEach(function(F){f(q,F._cfg.storesSource),z=F._cfg.dbschema={},F._parseStoresSpec(q,z)}),S._dbSchema=z,io(S,[S._allTables,S,S.Transaction.prototype]),Wo(S,[S._allTables,S,S.Transaction.prototype,this._cfg.tables],s(z),z),S._storeNames=s(z),this},iu.prototype.upgrade=function(y){return this._cfg.contentUpgrade=Qe(this._cfg.contentUpgrade||ge,y),this},iu);function iu(){}function Al(y,S){var D=y._dbNamesDB;return D||(D=y._dbNamesDB=new Ca(mi,{addons:[],indexedDB:y,IDBKeyRange:S})).version(1).stores({dbnames:"name"}),D.table("dbnames")}function ns(y){return y&&typeof y.databases=="function"}function Rl(y){return Qt(function(){return pe.letThrough=!0,y()})}function Dl(y){return!("from"in y)}var En=function(y,S){if(!this){var D=new En;return y&&"d"in y&&f(D,y),D}f(this,arguments.length?{d:1,from:y,to:1<arguments.length?S:y}:{d:0})};function oo(y,S,D){var q=Et(S,D);if(!isNaN(q)){if(0<q)throw RangeError();if(Dl(y))return f(y,{from:S,to:D,d:1});var z=y.l,q=y.r;if(Et(D,y.from)<0)return z?oo(z,S,D):y.l={from:S,to:D,d:1,l:null,r:null},_f(y);if(0<Et(S,y.to))return q?oo(q,S,D):y.r={from:S,to:D,d:1,l:null,r:null},_f(y);Et(S,y.from)<0&&(y.from=S,y.l=null,y.d=q?q.d+1:1),0<Et(D,y.to)&&(y.to=D,y.r=null,y.d=y.l?y.l.d+1:1),D=!y.r,z&&!y.l&&Ti(y,z),q&&D&&Ti(y,q)}}function Ti(y,S){Dl(S)||(function D(q,le){var F=le.from,Q=le.to,te=le.l,le=le.r;oo(q,F,Q),te&&D(q,te),le&&D(q,le)})(y,S)}function Tf(y,S){var D=as(S),q=D.next();if(q.done)return!1;for(var z=q.value,F=as(y),Q=F.next(z.from),te=Q.value;!q.done&&!Q.done;){if(Et(te.from,z.to)<=0&&0<=Et(te.to,z.from))return!0;Et(z.from,te.from)<0?z=(q=D.next(te.from)).value:te=(Q=F.next(z.from)).value}return!1}function as(y){var S=Dl(y)?null:{s:0,n:y};return{next:function(D){for(var q=0<arguments.length;S;)switch(S.s){case 0:if(S.s=1,q)for(;S.n.l&&Et(D,S.n.from)<0;)S={up:S,n:S.n.l,s:1};else for(;S.n.l;)S={up:S,n:S.n.l,s:1};case 1:if(S.s=2,!q||Et(D,S.n.to)<=0)return{value:S.n,done:!1};case 2:if(S.n.r){S.s=3,S={up:S,n:S.n.r,s:0};continue}case 3:S=S.up}return{done:!0}}}}function _f(y){var S,D,q=(((S=y.r)===null||S===void 0?void 0:S.d)||0)-(((D=y.l)===null||D===void 0?void 0:D.d)||0),z=1<q?"r":q<-1?"l":"";z&&(S=z=="r"?"l":"r",D=n({},y),q=y[z],y.from=q.from,y.to=q.to,y[z]=q[z],D[z]=q[S],(y[S]=D).d=Ol(D)),y.d=Ol(y)}function Ol(D){var S=D.r,D=D.l;return(S?D?Math.max(S.d,D.d):S.d:D?D.d:0)+1}function is(y,S){return s(S).forEach(function(D){y[D]?Ti(y[D],S[D]):y[D]=(function q(z){var F,Q,te={};for(F in z)p(z,F)&&(Q=z[F],te[F]=!Q||typeof Q!="object"||I.has(Q.constructor)?Q:q(Q));return te})(S[D])}),y}function Ml(y,S){return y.all||S.all||Object.keys(y).some(function(D){return S[D]&&Tf(S[D],y[D])})}g(En.prototype,((Xn={add:function(y){return Ti(this,y),this},addKey:function(y){return oo(this,y,y),this},addKeys:function(y){var S=this;return y.forEach(function(D){return oo(S,D,D)}),this},hasKey:function(y){var S=as(this).next(y).value;return S&&Et(S.from,y)<=0&&0<=Et(S.to,y)}})[G]=function(){return as(this)},Xn));var _i={},Bl={},ql=!1;function us(y){is(Bl,y),ql||(ql=!0,setTimeout(function(){ql=!1,kl(Bl,!(Bl={}))},0))}function kl(y,S){S===void 0&&(S=!1);var D=new Set;if(y.all)for(var q=0,z=Object.values(_i);q<z.length;q++)Cf(Q=z[q],y,D,S);else for(var F in y){var Q,te=/^idb\:\/\/(.*)\/(.*)\//.exec(F);te&&(F=te[1],te=te[2],(Q=_i["idb://".concat(F,"/").concat(te)])&&Cf(Q,y,D,S))}D.forEach(function(le){return le()})}function Cf(y,S,D,q){for(var z=[],F=0,Q=Object.entries(y.queries.query);F<Q.length;F++){for(var te=Q[F],le=te[0],ce=[],xe=0,ae=te[1];xe<ae.length;xe++){var Se=ae[xe];Ml(S,Se.obsSet)?Se.subscribers.forEach(function(Ee){return D.add(Ee)}):q&&ce.push(Se)}q&&z.push([le,ce])}if(q)for(var fe=0,ye=z;fe<ye.length;fe++){var me=ye[fe],le=me[0],ce=me[1];y.queries.query[le]=ce}}function Rh(y){var S=y._state,D=y._deps.indexedDB;if(S.isBeingOpened||y.idbdb)return S.dbReadyPromise.then(function(){return S.dbOpenError?ur(S.dbOpenError):y});S.isBeingOpened=!0,S.dbOpenError=null,S.openComplete=!1;var q=S.openCanceller,z=Math.round(10*y.verno),F=!1;function Q(){if(S.openCanceller!==q)throw new ie.DatabaseClosed("db.open() was cancelled")}function te(){return new ke(function(Se,fe){if(Q(),!D)throw new ie.MissingAPI;var ye=y.name,me=S.autoSchema||!z?D.open(ye):D.open(ye,z);if(!me)throw new ie.MissingAPI;me.onerror=ha(fe),me.onblocked=Bt(y._fireOnBlocked),me.onupgradeneeded=Bt(function(Ee){var Ce;xe=me.transaction,S.autoSchema&&!y._options.allowEmptyDB?(me.onerror=xi,xe.abort(),me.result.close(),(Ce=D.deleteDatabase(ye)).onsuccess=Ce.onerror=Bt(function(){fe(new ie.NoSuchDatabase("Database ".concat(ye," doesnt exist")))})):(xe.onerror=ha(fe),Ee=Ee.oldVersion>Math.pow(2,62)?0:Ee.oldVersion,ae=Ee<1,y.idbdb=me.result,F&&Jo(y,xe),uo(y,Ee/10,xe,fe))},fe),me.onsuccess=Bt(function(){xe=null;var Ee,Ce,De,Le,Fe,Ye=y.idbdb=me.result,Je=C(Ye.objectStoreNames);if(0<Je.length)try{var Ke=Ye.transaction((Le=Je).length===1?Le[0]:Le,"readonly");if(S.autoSchema)Ce=Ye,De=Ke,(Ee=y).verno=Ce.version/10,De=Ee._dbSchema=au(0,Ce,De),Ee._storeNames=C(Ce.objectStoreNames,0),Wo(Ee,[Ee._allTables],s(De),De);else if(rs(y,y._dbSchema,Ke),((Fe=es(au(0,(Fe=y).idbdb,Ke),Fe._dbSchema)).add.length||Fe.change.some(function(Xe){return Xe.add.length||Xe.change.length}))&&!F)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ye.close(),z=Ye.version+1,F=!0,Se(te());ti(y,Ke)}catch{}Fa.push(y),Ye.onversionchange=Bt(function(Xe){S.vcFired=!0,y.on("versionchange").fire(Xe)}),Ye.onclose=Bt(function(){y.close({disableAutoOpen:!1})}),ae&&(Fe=y._deps,Ke=ye,Ye=Fe.indexedDB,Fe=Fe.IDBKeyRange,ns(Ye)||Ke===mi||Al(Ye,Fe).put({name:Ke}).catch(ge)),Se()},fe)}).catch(function(Se){switch(Se?.name){case"UnknownError":if(0<S.PR1398_maxLoop)return S.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),te();break;case"VersionError":if(0<z)return z=0,te()}return ke.reject(Se)})}var le,ce=S.dbReadyResolve,xe=null,ae=!1;return ke.race([q,(typeof navigator>"u"?ke.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Se){function fe(){return indexedDB.databases().finally(Se)}le=setInterval(fe,100),fe()}).finally(function(){return clearInterval(le)}):Promise.resolve()).then(te)]).then(function(){return Q(),S.onReadyBeingFired=[],ke.resolve(Rl(function(){return y.on.ready.fire(y.vip)})).then(function Se(){if(0<S.onReadyBeingFired.length){var fe=S.onReadyBeingFired.reduce(Qe,ge);return S.onReadyBeingFired=[],ke.resolve(Rl(function(){return fe(y.vip)})).then(Se)}})}).finally(function(){S.openCanceller===q&&(S.onReadyBeingFired=null,S.isBeingOpened=!1)}).catch(function(Se){S.dbOpenError=Se;try{xe&&xe.abort()}catch{}return q===S.openCanceller&&y._close(),ur(Se)}).finally(function(){S.openComplete=!0,ce()}).then(function(){var Se;return ae&&(Se={},y.tables.forEach(function(fe){fe.schema.indexes.forEach(function(ye){ye.name&&(Se["idb://".concat(y.name,"/").concat(fe.name,"/").concat(ye.name)]=new En(-1/0,[[[]]]))}),Se["idb://".concat(y.name,"/").concat(fe.name,"/")]=Se["idb://".concat(y.name,"/").concat(fe.name,"/:dels")]=new En(-1/0,[[[]]])}),xn(eu).fire(Se),kl(Se,!0)),y})}function so(y){function S(F){return y.next(F)}var D=z(S),q=z(function(F){return y.throw(F)});function z(F){return function(le){var te=F(le),le=te.value;return te.done?le:le&&typeof le.then=="function"?le.then(D,q):l(le)?Promise.all(le).then(D,q):D(le)}}return z(S)()}function ri(y,S,D){for(var q=l(y)?y.slice():[y],z=0;z<D;++z)q.push(S);return q}var Dh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(y){return n(n({},y),{table:function(S){var D=y.table(S),q=D.schema,z={},F=[];function Q(ae,Se,fe){var ye=Jr(ae),me=z[ye]=z[ye]||[],Ee=ae==null?0:typeof ae=="string"?1:ae.length,Ce=0<Se,Ce=n(n({},fe),{name:Ce?"".concat(ye,"(virtual-from:").concat(fe.name,")"):fe.name,lowLevelIndex:fe,isVirtual:Ce,keyTail:Se,keyLength:Ee,extractKey:nu(ae),unique:!Ce&&fe.unique});return me.push(Ce),Ce.isPrimaryKey||F.push(Ce),1<Ee&&Q(Ee===2?ae[0]:ae.slice(0,Ee-1),Se+1,fe),me.sort(function(De,Le){return De.keyTail-Le.keyTail}),Ce}S=Q(q.primaryKey.keyPath,0,q.primaryKey),z[":id"]=[S];for(var te=0,le=q.indexes;te<le.length;te++){var ce=le[te];Q(ce.keyPath,0,ce)}function xe(ae){var Se,fe=ae.query.index;return fe.isVirtual?n(n({},ae),{query:{index:fe.lowLevelIndex,range:(Se=ae.query.range,fe=fe.keyTail,{type:Se.type===1?2:Se.type,lower:ri(Se.lower,Se.lowerOpen?y.MAX_KEY:y.MIN_KEY,fe),lowerOpen:!0,upper:ri(Se.upper,Se.upperOpen?y.MIN_KEY:y.MAX_KEY,fe),upperOpen:!0})}}):ae}return n(n({},D),{schema:n(n({},q),{primaryKey:S,indexes:F,getIndexByKeyPath:function(ae){return(ae=z[Jr(ae)])&&ae[0]}}),count:function(ae){return D.count(xe(ae))},query:function(ae){return D.query(xe(ae))},openCursor:function(ae){var Se=ae.query.index,fe=Se.keyTail,ye=Se.isVirtual,me=Se.keyLength;return ye?D.openCursor(xe(ae)).then(function(Ce){return Ce&&Ee(Ce)}):D.openCursor(ae);function Ee(Ce){return Object.create(Ce,{continue:{value:function(De){De!=null?Ce.continue(ri(De,ae.reverse?y.MAX_KEY:y.MIN_KEY,fe)):ae.unique?Ce.continue(Ce.key.slice(0,me).concat(ae.reverse?y.MIN_KEY:y.MAX_KEY,fe)):Ce.continue()}},continuePrimaryKey:{value:function(De,Le){Ce.continuePrimaryKey(ri(De,y.MAX_KEY,fe),Le)}},primaryKey:{get:function(){return Ce.primaryKey}},key:{get:function(){var De=Ce.key;return me===1?De[0]:De.slice(0,me)}},value:{get:function(){return Ce.value}}})}}})}})}};function os(y,S,D,q){return D=D||{},q=q||"",s(y).forEach(function(z){var F,Q,te;p(S,z)?(F=y[z],Q=S[z],typeof F=="object"&&typeof Q=="object"&&F&&Q?(te=J(F))!==J(Q)?D[q+z]=S[z]:te==="Object"?os(F,Q,D,q+z+"."):F!==Q&&(D[q+z]=S[z]):F!==Q&&(D[q+z]=S[z])):D[q+z]=void 0}),s(S).forEach(function(z){p(y,z)||(D[q+z]=S[z])}),D}function ss(y,S){return S.type==="delete"?S.keys:S.keys||S.values.map(y.extractKey)}var Af={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(y){return n(n({},y),{table:function(S){var D=y.table(S),q=D.schema.primaryKey;return n(n({},D),{mutate:function(z){var F=pe.trans,Q=F.table(S).hook,te=Q.deleting,le=Q.creating,ce=Q.updating;switch(z.type){case"add":if(le.fire===ge)break;return F._promise("readwrite",function(){return xe(z)},!0);case"put":if(le.fire===ge&&ce.fire===ge)break;return F._promise("readwrite",function(){return xe(z)},!0);case"delete":if(te.fire===ge)break;return F._promise("readwrite",function(){return xe(z)},!0);case"deleteRange":if(te.fire===ge)break;return F._promise("readwrite",function(){return(function ae(Se,fe,ye){return D.query({trans:Se,values:!1,query:{index:q,range:fe},limit:ye}).then(function(me){var Ee=me.result;return xe({type:"delete",keys:Ee,trans:Se}).then(function(Ce){return 0<Ce.numFailures?Promise.reject(Ce.failures[0]):Ee.length<ye?{failures:[],numFailures:0,lastResult:void 0}:ae(Se,n(n({},fe),{lower:Ee[Ee.length-1],lowerOpen:!0}),ye)})})})(z.trans,z.range,1e4)},!0)}return D.mutate(z);function xe(ae){var Se,fe,ye,me=pe.trans,Ee=ae.keys||ss(q,ae);if(!Ee)throw new Error("Keys missing");return(ae=ae.type==="add"||ae.type==="put"?n(n({},ae),{keys:Ee}):n({},ae)).type!=="delete"&&(ae.values=i([],ae.values)),ae.keys&&(ae.keys=i([],ae.keys)),Se=D,ye=Ee,((fe=ae).type==="add"?Promise.resolve([]):Se.getMany({trans:fe.trans,keys:ye,cache:"immutable"})).then(function(Ce){var De=Ee.map(function(Le,Fe){var Ye,Je,Ke,Xe=Ce[Fe],We={onerror:null,onsuccess:null};return ae.type==="delete"?te.fire.call(We,Le,Xe,me):ae.type==="add"||Xe===void 0?(Ye=le.fire.call(We,Le,ae.values[Fe],me),Le==null&&Ye!=null&&(ae.keys[Fe]=Le=Ye,q.outbound||O(ae.values[Fe],q.keyPath,Le))):(Ye=os(Xe,ae.values[Fe]),(Je=ce.fire.call(We,Ye,Le,Xe,me))&&(Ke=ae.values[Fe],Object.keys(Je).forEach(function($e){p(Ke,$e)?Ke[$e]=Je[$e]:O(Ke,$e,Je[$e])}))),We});return D.mutate(ae).then(function(Le){for(var Fe=Le.failures,Ye=Le.results,Je=Le.numFailures,Le=Le.lastResult,Ke=0;Ke<Ee.length;++Ke){var Xe=(Ye||Ee)[Ke],We=De[Ke];Xe==null?We.onerror&&We.onerror(Fe[Ke]):We.onsuccess&&We.onsuccess(ae.type==="put"&&Ce[Ke]?ae.values[Ke]:Xe)}return{failures:Fe,results:Ye,numFailures:Je,lastResult:Le}}).catch(function(Le){return De.forEach(function(Fe){return Fe.onerror&&Fe.onerror(Le)}),Promise.reject(Le)})})}}})}})}};function zl(y,S,D){try{if(!S||S.keys.length<y.length)return null;for(var q=[],z=0,F=0;z<S.keys.length&&F<y.length;++z)Et(S.keys[z],y[F])===0&&(q.push(D?j(S.values[z]):S.values[z]),++F);return q.length===y.length?q:null}catch{return null}}var Rf={stack:"dbcore",level:-1,create:function(y){return{table:function(S){var D=y.table(S);return n(n({},D),{getMany:function(q){if(!q.cache)return D.getMany(q);var z=zl(q.keys,q.trans._cache,q.cache==="clone");return z?ke.resolve(z):D.getMany(q).then(function(F){return q.trans._cache={keys:q.keys,values:q.cache==="clone"?j(F):F},F})},mutate:function(q){return q.type!=="add"&&(q.trans._cache=null),D.mutate(q)}})}}}};function Ci(y,S){return y.trans.mode==="readonly"&&!!y.subscr&&!y.trans.explicit&&y.trans.db._options.cache!=="disabled"&&!S.schema.primaryKey.outbound}function Df(y,S){switch(y){case"query":return S.values&&!S.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Oh={stack:"dbcore",level:0,name:"Observability",create:function(y){var S=y.schema.name,D=new En(y.MIN_KEY,y.MAX_KEY);return n(n({},y),{transaction:function(q,z,F){if(pe.subscr&&z!=="readonly")throw new ie.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(pe.querier));return y.transaction(q,z,F)},table:function(q){var z=y.table(q),F=z.schema,Q=F.primaryKey,ae=F.indexes,te=Q.extractKey,le=Q.outbound,ce=Q.autoIncrement&&ae.filter(function(fe){return fe.compound&&fe.keyPath.includes(Q.keyPath)}),xe=n(n({},z),{mutate:function(fe){function ye($e){return $e="idb://".concat(S,"/").concat(q,"/").concat($e),Le[$e]||(Le[$e]=new En)}var me,Ee,Ce,De=fe.trans,Le=fe.mutatedParts||(fe.mutatedParts={}),Fe=ye(""),Ye=ye(":dels"),Je=fe.type,We=fe.type==="deleteRange"?[fe.range]:fe.type==="delete"?[fe.keys]:fe.values.length<50?[ss(Q,fe).filter(function($e){return $e}),fe.values]:[],Ke=We[0],Xe=We[1],We=fe.trans._cache;return l(Ke)?(Fe.addKeys(Ke),(We=Je==="delete"||Ke.length===Xe.length?zl(Ke,We):null)||Ye.addKeys(Ke),(We||Xe)&&(me=ye,Ee=We,Ce=Xe,F.indexes.forEach(function($e){var ut=me($e.name||"");function bt(Nt){return Nt!=null?$e.extractKey(Nt):null}function Ot(Nt){return $e.multiEntry&&l(Nt)?Nt.forEach(function(Sn){return ut.addKey(Sn)}):ut.addKey(Nt)}(Ee||Ce).forEach(function(Nt,en){var Rt=Ee&&bt(Ee[en]),en=Ce&&bt(Ce[en]);Et(Rt,en)!==0&&(Rt!=null&&Ot(Rt),en!=null&&Ot(en))})}))):Ke?(Xe={from:(Xe=Ke.lower)!==null&&Xe!==void 0?Xe:y.MIN_KEY,to:(Xe=Ke.upper)!==null&&Xe!==void 0?Xe:y.MAX_KEY},Ye.add(Xe),Fe.add(Xe)):(Fe.add(D),Ye.add(D),F.indexes.forEach(function($e){return ye($e.name).add(D)})),z.mutate(fe).then(function($e){return!Ke||fe.type!=="add"&&fe.type!=="put"||(Fe.addKeys($e.results),ce&&ce.forEach(function(ut){for(var bt=fe.values.map(function(Rt){return ut.extractKey(Rt)}),Ot=ut.keyPath.findIndex(function(Rt){return Rt===Q.keyPath}),Nt=0,Sn=$e.results.length;Nt<Sn;++Nt)bt[Nt][Ot]=$e.results[Nt];ye(ut.name).addKeys(bt)})),De.mutatedParts=is(De.mutatedParts||{},Le),$e})}}),ae=function(ye){var me=ye.query,ye=me.index,me=me.range;return[ye,new En((ye=me.lower)!==null&&ye!==void 0?ye:y.MIN_KEY,(me=me.upper)!==null&&me!==void 0?me:y.MAX_KEY)]},Se={get:function(fe){return[Q,new En(fe.key)]},getMany:function(fe){return[Q,new En().addKeys(fe.keys)]},count:ae,query:ae,openCursor:ae};return s(Se).forEach(function(fe){xe[fe]=function(ye){var me=pe.subscr,Ee=!!me,Ce=Ci(pe,z)&&Df(fe,ye)?ye.obsSet={}:me;if(Ee){var De=function(Xe){return Xe="idb://".concat(S,"/").concat(q,"/").concat(Xe),Ce[Xe]||(Ce[Xe]=new En)},Le=De(""),Fe=De(":dels"),me=Se[fe](ye),Ee=me[0],me=me[1];if((fe==="query"&&Ee.isPrimaryKey&&!ye.values?Fe:De(Ee.name||"")).add(me),!Ee.isPrimaryKey){if(fe!=="count"){var Ye=fe==="query"&&le&&ye.values&&z.query(n(n({},ye),{values:!1}));return z[fe].apply(this,arguments).then(function(Xe){if(fe==="query"){if(le&&ye.values)return Ye.then(function(bt){return bt=bt.result,Le.addKeys(bt),Xe});var We=ye.values?Xe.result.map(te):Xe.result;(ye.values?Le:Fe).addKeys(We)}else if(fe==="openCursor"){var $e=Xe,ut=ye.values;return $e&&Object.create($e,{key:{get:function(){return Fe.addKey($e.primaryKey),$e.key}},primaryKey:{get:function(){var bt=$e.primaryKey;return Fe.addKey(bt),bt}},value:{get:function(){return ut&&Le.addKey($e.primaryKey),$e.value}}})}return Xe})}Fe.add(D)}}return z[fe].apply(this,arguments)}}),xe}})}};function Of(y,S,D){if(D.numFailures===0)return S;if(S.type==="deleteRange")return null;var q=S.keys?S.keys.length:"values"in S&&S.values?S.values.length:1;return D.numFailures===q?null:(S=n({},S),l(S.keys)&&(S.keys=S.keys.filter(function(z,F){return!(F in D.failures)})),"values"in S&&l(S.values)&&(S.values=S.values.filter(function(z,F){return!(F in D.failures)})),S)}function ls(y,S){return D=y,((q=S).lower===void 0||(q.lowerOpen?0<Et(D,q.lower):0<=Et(D,q.lower)))&&(y=y,(S=S).upper===void 0||(S.upperOpen?Et(y,S.upper)<0:Et(y,S.upper)<=0));var D,q}function Nl(y,S,Se,q,z,F){if(!Se||Se.length===0)return y;var Q=S.query.index,te=Q.multiEntry,le=S.query.range,ce=q.schema.primaryKey.extractKey,xe=Q.extractKey,ae=(Q.lowLevelIndex||Q).extractKey,Se=Se.reduce(function(fe,ye){var me=fe,Ee=[];if(ye.type==="add"||ye.type==="put")for(var Ce=new En,De=ye.values.length-1;0<=De;--De){var Le,Fe=ye.values[De],Ye=ce(Fe);Ce.hasKey(Ye)||(Le=xe(Fe),(te&&l(Le)?Le.some(function($e){return ls($e,le)}):ls(Le,le))&&(Ce.addKey(Ye),Ee.push(Fe)))}switch(ye.type){case"add":var Je=new En().addKeys(S.values?fe.map(function(ut){return ce(ut)}):fe),me=fe.concat(S.values?Ee.filter(function(ut){return ut=ce(ut),!Je.hasKey(ut)&&(Je.addKey(ut),!0)}):Ee.map(function(ut){return ce(ut)}).filter(function(ut){return!Je.hasKey(ut)&&(Je.addKey(ut),!0)}));break;case"put":var Ke=new En().addKeys(ye.values.map(function(ut){return ce(ut)}));me=fe.filter(function(ut){return!Ke.hasKey(S.values?ce(ut):ut)}).concat(S.values?Ee:Ee.map(function(ut){return ce(ut)}));break;case"delete":var Xe=new En().addKeys(ye.keys);me=fe.filter(function(ut){return!Xe.hasKey(S.values?ce(ut):ut)});break;case"deleteRange":var We=ye.range;me=fe.filter(function(ut){return!ls(ce(ut),We)})}return me},y);return Se===y?y:(Se.sort(function(fe,ye){return Et(ae(fe),ae(ye))||Et(ce(fe),ce(ye))}),S.limit&&S.limit<1/0&&(Se.length>S.limit?Se.length=S.limit:y.length===S.limit&&Se.length<S.limit&&(z.dirty=!0)),F?Object.freeze(Se):Se)}function uu(y,S){return Et(y.lower,S.lower)===0&&Et(y.upper,S.upper)===0&&!!y.lowerOpen==!!S.lowerOpen&&!!y.upperOpen==!!S.upperOpen}function lo(y,S){return(function(D,q,z,F){if(D===void 0)return q!==void 0?-1:0;if(q===void 0)return 1;if((q=Et(D,q))===0){if(z&&F)return 0;if(z)return 1;if(F)return-1}return q})(y.lower,S.lower,y.lowerOpen,S.lowerOpen)<=0&&0<=(function(D,q,z,F){if(D===void 0)return q!==void 0?1:0;if(q===void 0)return-1;if((q=Et(D,q))===0){if(z&&F)return 0;if(z)return-1;if(F)return 1}return q})(y.upper,S.upper,y.upperOpen,S.upperOpen)}function Mh(y,S,D,q){y.subscribers.add(D),q.addEventListener("abort",function(){var z,F;y.subscribers.delete(D),y.subscribers.size===0&&(z=y,F=S,setTimeout(function(){z.subscribers.size===0&&W(F,z)},3e3))})}var cs={stack:"dbcore",level:0,name:"Cache",create:function(y){var S=y.schema.name;return n(n({},y),{transaction:function(D,q,z){var F,Q,te=y.transaction(D,q,z);return q==="readwrite"&&(Q=(F=new AbortController).signal,z=function(le){return function(){if(F.abort(),q==="readwrite"){for(var ce=new Set,xe=0,ae=D;xe<ae.length;xe++){var Se=ae[xe],fe=_i["idb://".concat(S,"/").concat(Se)];if(fe){var ye=y.table(Se),me=fe.optimisticOps.filter(function(ut){return ut.trans===te});if(te._explicit&&le&&te.mutatedParts)for(var Ee=0,Ce=Object.values(fe.queries.query);Ee<Ce.length;Ee++)for(var De=0,Le=(Je=Ce[Ee]).slice();De<Le.length;De++)Ml((Ke=Le[De]).obsSet,te.mutatedParts)&&(W(Je,Ke),Ke.subscribers.forEach(function(ut){return ce.add(ut)}));else if(0<me.length){fe.optimisticOps=fe.optimisticOps.filter(function(ut){return ut.trans!==te});for(var Fe=0,Ye=Object.values(fe.queries.query);Fe<Ye.length;Fe++)for(var Je,Ke,Xe,We=0,$e=(Je=Ye[Fe]).slice();We<$e.length;We++)(Ke=$e[We]).res!=null&&te.mutatedParts&&(le&&!Ke.dirty?(Xe=Object.isFrozen(Ke.res),Xe=Nl(Ke.res,Ke.req,me,ye,Ke,Xe),Ke.dirty?(W(Je,Ke),Ke.subscribers.forEach(function(ut){return ce.add(ut)})):Xe!==Ke.res&&(Ke.res=Xe,Ke.promise=ke.resolve({result:Xe}))):(Ke.dirty&&W(Je,Ke),Ke.subscribers.forEach(function(ut){return ce.add(ut)})))}}}ce.forEach(function(ut){return ut()})}}},te.addEventListener("abort",z(!1),{signal:Q}),te.addEventListener("error",z(!1),{signal:Q}),te.addEventListener("complete",z(!0),{signal:Q})),te},table:function(D){var q=y.table(D),z=q.schema.primaryKey;return n(n({},q),{mutate:function(F){var Q=pe.trans;if(z.outbound||Q.db._options.cache==="disabled"||Q.explicit||Q.idbtrans.mode!=="readwrite")return q.mutate(F);var te=_i["idb://".concat(S,"/").concat(D)];return te?(Q=q.mutate(F),F.type!=="add"&&F.type!=="put"||!(50<=F.values.length||ss(z,F).some(function(le){return le==null}))?(te.optimisticOps.push(F),F.mutatedParts&&us(F.mutatedParts),Q.then(function(le){0<le.numFailures&&(W(te.optimisticOps,F),(le=Of(0,F,le))&&te.optimisticOps.push(le),F.mutatedParts&&us(F.mutatedParts))}),Q.catch(function(){W(te.optimisticOps,F),F.mutatedParts&&us(F.mutatedParts)})):Q.then(function(le){var ce=Of(0,n(n({},F),{values:F.values.map(function(xe,ae){var Se;return le.failures[ae]?xe:(xe=(Se=z.keyPath)!==null&&Se!==void 0&&Se.includes(".")?j(xe):n({},xe),O(xe,z.keyPath,le.results[ae]),xe)})}),le);te.optimisticOps.push(ce),queueMicrotask(function(){return F.mutatedParts&&us(F.mutatedParts)})}),Q):q.mutate(F)},query:function(F){if(!Ci(pe,q)||!Df("query",F))return q.query(F);var Q=((ce=pe.trans)===null||ce===void 0?void 0:ce.db._options.cache)==="immutable",ae=pe,te=ae.requery,le=ae.signal,ce=(function(ye,me,Ee,Ce){var De=_i["idb://".concat(ye,"/").concat(me)];if(!De)return[];if(!(me=De.queries[Ee]))return[null,!1,De,null];var Le=me[(Ce.query?Ce.query.index.name:null)||""];if(!Le)return[null,!1,De,null];switch(Ee){case"query":var Fe=Le.find(function(Ye){return Ye.req.limit===Ce.limit&&Ye.req.values===Ce.values&&uu(Ye.req.query.range,Ce.query.range)});return Fe?[Fe,!0,De,Le]:[Le.find(function(Ye){return("limit"in Ye.req?Ye.req.limit:1/0)>=Ce.limit&&(!Ce.values||Ye.req.values)&&lo(Ye.req.query.range,Ce.query.range)}),!1,De,Le];case"count":return Fe=Le.find(function(Ye){return uu(Ye.req.query.range,Ce.query.range)}),[Fe,!!Fe,De,Le]}})(S,D,"query",F),xe=ce[0],ae=ce[1],Se=ce[2],fe=ce[3];return xe&&ae?xe.obsSet=F.obsSet:(ae=q.query(F).then(function(ye){var me=ye.result;if(xe&&(xe.res=me),Q){for(var Ee=0,Ce=me.length;Ee<Ce;++Ee)Object.freeze(me[Ee]);Object.freeze(me)}else ye.result=j(me);return ye}).catch(function(ye){return fe&&xe&&W(fe,xe),Promise.reject(ye)}),xe={obsSet:F.obsSet,promise:ae,subscribers:new Set,type:"query",req:F,dirty:!1},fe?fe.push(xe):(fe=[xe],(Se=Se||(_i["idb://".concat(S,"/").concat(D)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[F.query.index.name||""]=fe)),Mh(xe,fe,te,le),xe.promise.then(function(ye){return{result:Nl(ye.result,F,Se?.optimisticOps,q,xe,Q)}})}})}})}};function co(y,S){return new Proxy(y,{get:function(D,q,z){return q==="db"?S:Reflect.get(D,q,z)}})}var Ca=(Cr.prototype.version=function(y){if(isNaN(y)||y<.1)throw new ie.Type("Given version is not a positive number");if(y=Math.round(10*y)/10,this.idbdb||this._state.isBeingOpened)throw new ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,y);var S=this._versions,D=S.filter(function(q){return q._cfg.version===y})[0];return D||(D=new this.Version(y),S.push(D),S.sort(_l),D.stores({}),this._state.autoSchema=!1,D)},Cr.prototype._whenReady=function(y){var S=this;return this.idbdb&&(this._state.openComplete||pe.letThrough||this._vip)?y():new ke(function(D,q){if(S._state.openComplete)return q(new ie.DatabaseClosed(S._state.dbOpenError));if(!S._state.isBeingOpened){if(!S._state.autoOpen)return void q(new ie.DatabaseClosed);S.open().catch(ge)}S._state.dbReadyPromise.then(D,q)}).then(y)},Cr.prototype.use=function(y){var S=y.stack,D=y.create,q=y.level,z=y.name;return z&&this.unuse({stack:S,name:z}),y=this._middlewares[S]||(this._middlewares[S]=[]),y.push({stack:S,create:D,level:q??10,name:z}),y.sort(function(F,Q){return F.level-Q.level}),this},Cr.prototype.unuse=function(y){var S=y.stack,D=y.name,q=y.create;return S&&this._middlewares[S]&&(this._middlewares[S]=this._middlewares[S].filter(function(z){return q?z.create!==q:!!D&&z.name!==D})),this},Cr.prototype.open=function(){var y=this;return xr(Me,function(){return Rh(y)})},Cr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var y=this._state,S=Fa.indexOf(this);if(0<=S&&Fa.splice(S,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}y.isBeingOpened||(y.dbReadyPromise=new ke(function(D){y.dbReadyResolve=D}),y.openCanceller=new ke(function(D,q){y.cancelOpen=q}))},Cr.prototype.close=function(D){var S=(D===void 0?{disableAutoOpen:!0}:D).disableAutoOpen,D=this._state;S?(D.isBeingOpened&&D.cancelOpen(new ie.DatabaseClosed),this._close(),D.autoOpen=!1,D.dbOpenError=new ie.DatabaseClosed):(this._close(),D.autoOpen=this._options.autoOpen||D.isBeingOpened,D.openComplete=!1,D.dbOpenError=null)},Cr.prototype.delete=function(y){var S=this;y===void 0&&(y={disableAutoOpen:!0});var D=0<arguments.length&&typeof arguments[0]!="object",q=this._state;return new ke(function(z,F){function Q(){S.close(y);var te=S._deps.indexedDB.deleteDatabase(S.name);te.onsuccess=Bt(function(){var le,ce,xe;le=S._deps,ce=S.name,xe=le.indexedDB,le=le.IDBKeyRange,ns(xe)||ce===mi||Al(xe,le).delete(ce).catch(ge),z()}),te.onerror=ha(F),te.onblocked=S._fireOnBlocked}if(D)throw new ie.InvalidArgument("Invalid closeOptions argument to db.delete()");q.isBeingOpened?q.dbReadyPromise.then(Q):Q()})},Cr.prototype.backendDB=function(){return this.idbdb},Cr.prototype.isOpen=function(){return this.idbdb!==null},Cr.prototype.hasBeenClosed=function(){var y=this._state.dbOpenError;return y&&y.name==="DatabaseClosed"},Cr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Cr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Cr.prototype,"tables",{get:function(){var y=this;return s(this._allTables).map(function(S){return y._allTables[S]})},enumerable:!1,configurable:!0}),Cr.prototype.transaction=function(){var y=(function(S,D,q){var z=arguments.length;if(z<2)throw new ie.InvalidArgument("Too few arguments");for(var F=new Array(z-1);--z;)F[z-1]=arguments[z];return q=F.pop(),[S,P(F),q]}).apply(this,arguments);return this._transaction.apply(this,y)},Cr.prototype._transaction=function(y,S,D){var q=this,z=pe.trans;z&&z.db===this&&y.indexOf("!")===-1||(z=null);var F,Q,te=y.indexOf("?")!==-1;y=y.replace("!","").replace("?","");try{if(Q=S.map(function(ce){if(ce=ce instanceof q.Table?ce.name:ce,typeof ce!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ce}),y=="r"||y===Mn)F=Mn;else{if(y!="rw"&&y!=ea)throw new ie.InvalidArgument("Invalid transaction mode: "+y);F=ea}if(z){if(z.mode===Mn&&F===ea){if(!te)throw new ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");z=null}z&&Q.forEach(function(ce){if(z&&z.storeNames.indexOf(ce)===-1){if(!te)throw new ie.SubTransaction("Table "+ce+" not included in parent transaction.");z=null}}),te&&z&&!z.active&&(z=null)}}catch(ce){return z?z._promise(null,function(xe,ae){ae(ce)}):ur(ce)}var le=(function ce(xe,ae,Se,fe,ye){return ke.resolve().then(function(){var me=pe.transless||pe,Ee=xe._createTransaction(ae,Se,xe._dbSchema,fe);if(Ee.explicit=!0,me={trans:Ee,transless:me},fe)Ee.idbtrans=fe.idbtrans;else try{Ee.create(),Ee.idbtrans._explicit=!0,xe._state.PR1398_maxLoop=3}catch(Le){return Le.name===de.InvalidState&&xe.isOpen()&&0<--xe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),xe.close({disableAutoOpen:!1}),xe.open().then(function(){return ce(xe,ae,Se,null,ye)})):ur(Le)}var Ce,De=U(ye);return De&&wr(),me=ke.follow(function(){var Le;(Ce=ye.call(Ee,Ee))&&(De?(Le=Lr.bind(null,null),Ce.then(Le,Le)):typeof Ce.next=="function"&&typeof Ce.throw=="function"&&(Ce=so(Ce)))},me),(Ce&&typeof Ce.then=="function"?ke.resolve(Ce).then(function(Le){return Ee.active?Le:ur(new ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):me.then(function(){return Ce})).then(function(Le){return fe&&Ee._resolve(),Ee._completion.then(function(){return Le})}).catch(function(Le){return Ee._reject(Le),ur(Le)})})}).bind(null,this,F,Q,z,D);return z?z._promise(F,le,"lock"):pe.trans?xr(pe.transless,function(){return q._whenReady(le)}):this._whenReady(le)},Cr.prototype.table=function(y){if(!p(this._allTables,y))throw new ie.InvalidTable("Table ".concat(y," does not exist"));return this._allTables[y]},Cr);function Cr(y,S){var D=this;this._middlewares={},this.verno=0;var q=Cr.dependencies;this._options=S=n({addons:Cr.addons,autoOpen:!0,indexedDB:q.indexedDB,IDBKeyRange:q.IDBKeyRange,cache:"cloned"},S),this._deps={indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange},q=S.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var z,F,Q,te,le,ce={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ge,dbReadyPromise:null,cancelOpen:ge,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:S.autoOpen};ce.dbReadyPromise=new ke(function(ae){ce.dbReadyResolve=ae}),ce.openCanceller=new ke(function(ae,Se){ce.cancelOpen=Se}),this._state=ce,this.name=y,this.on=to(this,"populate","blocked","versionchange","close",{ready:[Qe,ge]}),this.once=function(ae,Se){var fe=function(){for(var ye=[],me=0;me<arguments.length;me++)ye[me]=arguments[me];D.on(ae).unsubscribe(fe),Se.apply(D,ye)};return D.on(ae,fe)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(ae){return function(Se,fe){Cr.vip(function(){var ye,me=D._state;me.openComplete?(me.dbOpenError||ke.resolve().then(Se),fe&&ae(Se)):me.onReadyBeingFired?(me.onReadyBeingFired.push(Se),fe&&ae(Se)):(ae(Se),ye=D,fe||ae(function Ee(){ye.on.ready.unsubscribe(Se),ye.on.ready.unsubscribe(Ee)}))})}}),this.Collection=(z=this,wn(_h.prototype,function(Ce,Ee){this.db=z;var fe=Ji,ye=null;if(Ee)try{fe=Ee()}catch(De){ye=De}var me=Ce._ctx,Ee=me.table,Ce=Ee.hook.reading.fire;this._ctx={table:Ee,index:me.index,isPrimKey:!me.index||Ee.schema.primKey.keyPath&&me.index===Ee.schema.primKey.name,range:fe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ye,or:me.or,valueMapper:Ce!==Be?Ce:null}})),this.Table=(F=this,wn(eo.prototype,function(ae,Se,fe){this.db=F,this._tx=fe,this.name=ae,this.schema=Se,this.hook=F._allTables[ae]?F._allTables[ae].hook:to(null,{creating:[Ct,ge],reading:[Ge,Be],updating:[ht,ge],deleting:[Ze,ge]})})),this.Transaction=(Q=this,wn(Tl.prototype,function(ae,Se,fe,ye,me){var Ee=this;ae!=="readonly"&&Se.forEach(function(Ce){Ce=(Ce=fe[Ce])===null||Ce===void 0?void 0:Ce.yProps,Ce&&(Se=Se.concat(Ce.map(function(De){return De.updatesTable})))}),this.db=Q,this.mode=ae,this.storeNames=Se,this.schema=fe,this.chromeTransactionDurability=ye,this.idbtrans=null,this.on=to(this,"complete","error","abort"),this.parent=me||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ke(function(Ce,De){Ee._resolve=Ce,Ee._reject=De}),this._completion.then(function(){Ee.active=!1,Ee.on.complete.fire()},function(Ce){var De=Ee.active;return Ee.active=!1,Ee.on.error.fire(Ce),Ee.parent?Ee.parent._reject(Ce):De&&Ee.idbtrans&&Ee.idbtrans.abort(),ur(Ce)})})),this.Version=(te=this,wn(Ah.prototype,function(ae){this.db=te,this._cfg={version:ae,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(le=this,wn(wi.prototype,function(ae,Se,fe){if(this.db=le,this._ctx={table:ae,index:Se===":id"?null:Se,or:fe},this._cmp=this._ascending=Et,this._descending=function(ye,me){return Et(me,ye)},this._max=function(ye,me){return 0<Et(ye,me)?ye:me},this._min=function(ye,me){return Et(ye,me)<0?ye:me},this._IDBKeyRange=le._deps.IDBKeyRange,!this._IDBKeyRange)throw new ie.MissingAPI})),this.on("versionchange",function(ae){0<ae.newVersion?console.warn("Another connection wants to upgrade database '".concat(D.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(D.name,"'. Closing db now to resume the delete request.")),D.close({disableAutoOpen:!1})}),this.on("blocked",function(ae){!ae.newVersion||ae.newVersion<ae.oldVersion?console.warn("Dexie.delete('".concat(D.name,"') was blocked")):console.warn("Upgrade '".concat(D.name,"' blocked by other connection holding version ").concat(ae.oldVersion/10))}),this._maxKey=ru(S.IDBKeyRange),this._createTransaction=function(ae,Se,fe,ye){return new D.Transaction(ae,Se,fe,D._options.chromeTransactionDurability,ye)},this._fireOnBlocked=function(ae){D.on("blocked").fire(ae),Fa.filter(function(Se){return Se.name===D.name&&Se!==D&&!Se._state.vcFired}).map(function(Se){return Se.on("versionchange").fire(ae)})},this.use(Rf),this.use(cs),this.use(Oh),this.use(Dh),this.use(Af);var xe=new Proxy(this,{get:function(ae,Se,fe){if(Se==="_vip")return!0;if(Se==="table")return function(me){return co(D.table(me),xe)};var ye=Reflect.get(ae,Se,fe);return ye instanceof eo?co(ye,xe):Se==="tables"?ye.map(function(me){return co(me,xe)}):Se==="_createTransaction"?function(){return co(ye.apply(this,arguments),xe)}:ye}});this.vip=xe,q.forEach(function(ae){return ae(D)})}var ou,Xn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Mf=(fs.prototype.subscribe=function(y,S,D){return this._subscribe(y&&typeof y!="function"?y:{next:y,error:S,complete:D})},fs.prototype[Xn]=function(){return this},fs);function fs(y){this._subscribe=y}try{ou={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{ou={indexedDB:null,IDBKeyRange:null}}function Bf(y){var S,D=!1,q=new Mf(function(z){var F=U(y),Q,te=!1,le={},ce={},xe={get closed(){return te},unsubscribe:function(){te||(te=!0,Q&&Q.abort(),ae&&xn.storagemutated.unsubscribe(fe))}};z.start&&z.start(xe);var ae=!1,Se=function(){return Sa(ye)},fe=function(me){is(le,me),Ml(ce,le)&&Se()},ye=function(){var me,Ee,Ce;!te&&ou.indexedDB&&(le={},me={},Q&&Q.abort(),Q=new AbortController,Ce=(function(De){var Le=ir();try{F&&wr();var Fe=Qt(y,De);return Fe=F?Fe.finally(Lr):Fe}finally{Le&&Yt()}})(Ee={subscr:me,signal:Q.signal,requery:Se,querier:y,trans:null}),Promise.resolve(Ce).then(function(De){D=!0,S=De,te||Ee.signal.aborted||(le={},(function(Le){for(var Fe in Le)if(p(Le,Fe))return;return 1})(ce=me)||ae||(xn(eu,fe),ae=!0),Sa(function(){return!te&&z.next&&z.next(De)}))},function(De){D=!1,["DatabaseClosedError","AbortError"].includes(De?.name)||te||Sa(function(){te||z.error&&z.error(De)})}))};return setTimeout(Se,0),xe});return q.hasValue=function(){return D},q.getValue=function(){return S},q}var Ai=Ca;function Ll(y){var S=ni;try{ni=!0,xn.storagemutated.fire(y),kl(y,!0)}finally{ni=S}}g(Ai,n(n({},be),{delete:function(y){return new Ai(y,{addons:[]}).delete()},exists:function(y){return new Ai(y,{addons:[]}).open().then(function(S){return S.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(y){try{return S=Ai.dependencies,D=S.indexedDB,S=S.IDBKeyRange,(ns(D)?Promise.resolve(D.databases()).then(function(q){return q.map(function(z){return z.name}).filter(function(z){return z!==mi})}):Al(D,S).toCollection().primaryKeys()).then(y)}catch{return ur(new ie.MissingAPI)}var S,D},defineClass:function(){return function(y){f(this,y)}},ignoreTransaction:function(y){return pe.trans?xr(pe.transless,y):y()},vip:Rl,async:function(y){return function(){try{var S=so(y.apply(this,arguments));return S&&typeof S.then=="function"?S:ke.resolve(S)}catch(D){return ur(D)}}},spawn:function(y,S,D){try{var q=so(y.apply(D,S||[]));return q&&typeof q.then=="function"?q:ke.resolve(q)}catch(z){return ur(z)}},currentTransaction:{get:function(){return pe.trans||null}},waitFor:function(y,S){return S=ke.resolve(typeof y=="function"?Ai.ignoreTransaction(y):y).timeout(S||6e4),pe.trans?pe.trans.waitFor(S):S},Promise:ke,debug:{get:function(){return tt},set:function(y){ot(y)}},derive:_,extend:f,props:g,override:A,Events:to,on:xn,liveQuery:Bf,extendObservabilitySet:is,getByKeyPath:B,setByKeyPath:O,delByKeyPath:function(y,S){typeof S=="string"?O(y,S,void 0):"length"in S&&[].map.call(S,function(D){O(y,D,void 0)})},shallowClone:N,deepClone:j,getObjectDiff:os,cmp:Et,asap:M,minKey:-1/0,addons:[],connections:Fa,errnames:de,dependencies:ou,cache:_i,semVer:"4.2.1",version:"4.2.1".split(".").map(function(y){return parseInt(y)}).reduce(function(y,S,D){return y+S/Math.pow(10,2*D)})})),Ai.maxKey=ru(Ai.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(xn(eu,function(y){ni||(y=new CustomEvent(Ei,{detail:y}),ni=!0,dispatchEvent(y),ni=!1)}),addEventListener(Ei,function(y){y=y.detail,ni||Ll(y)}));var su,ni=!1,Fn=function(){};return typeof BroadcastChannel<"u"&&((Fn=function(){(su=new BroadcastChannel(Ei)).onmessage=function(y){return y.data&&Ll(y.data)}})(),typeof su.unref=="function"&&su.unref(),xn(eu,function(y){ni||su.postMessage(y)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(y){if(!Ca.disableBfCache&&y.persisted){tt&&console.debug("Dexie: handling persisted pagehide"),su?.close();for(var S=0,D=Fa;S<D.length;S++)D[S].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(y){!Ca.disableBfCache&&y.persisted&&(tt&&console.debug("Dexie: handling persisted pageshow"),Fn(),Ll({all:new En(-1/0,[[]])}))})),ke.rejectionMapper=function(y,S){return!y||y instanceof ue||y instanceof TypeError||y instanceof SyntaxError||!y.name||!he[y.name]?y:(S=new he[y.name](S||y.message,y),"stack"in y&&b(S,"stack",{get:function(){return this.inner.stack}}),S)},ot(tt),n(Ca,Object.freeze({__proto__:null,Dexie:Ca,liveQuery:Bf,Entity:Ko,cmp:Et,PropModification:Wr,replacePrefix:function(y,S){return new Wr({replacePrefix:[y,S]})},add:function(y){return new Wr({add:y})},remove:function(y){return new Wr({remove:y})},default:Ca,RangeSet:En,mergeRanges:Ti,rangesOverlap:Tf}),{default:Ca}),Ca})})(nv)),nv.exports}var i3=a3();const Rx=Lv(i3),y_=Symbol.for("Dexie"),xv=globalThis[y_]||(globalThis[y_]=Rx);if(Rx.semVer!==xv.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Rx.semVer} and ${xv.semVer}`);const{liveQuery:nH,mergeRanges:aH,rangesOverlap:iH,RangeSet:uH,cmp:oH,Entity:sH,PropModification:lH,replacePrefix:cH,add:fH,remove:dH,DexieYProvider:vH}=xv,qr=new xv("IRBRulesEngine");qr.version(2).stores({nodes:"++id, type, key, name",edges:"++id, sourceId, targetId, type",metadata:"key, value"});const on={TECH_TYPE:"tech_type",CHARACTERISTIC:"characteristic",CONTROL:"control",QUESTION:"question",PHASE:"phase",PROFILE:"profile",SCORING_RULE:"scoring_rule"},Yr={HAS_CHARACTERISTIC:"has_characteristic",HAS_CONTROL:"has_control",DEPENDS_ON:"depends_on",SYNERGIZES_WITH:"synergizes_with",SCORES:"scores",IMPACTS:"impacts",BELONGS_TO_PHASE:"belongs_to_phase",PREREQUISITE:"prerequisite"};async function hn(t,e){return await qr.nodes.add({type:t,...e,createdAt:new Date().toISOString()})}async function Xr(t,e,r,n={}){return await qr.edges.add({sourceId:t,targetId:e,type:r,metadata:n,createdAt:new Date().toISOString()})}async function u3(t){return await qr.nodes.where("type").equals(t).toArray()}async function o3(t){await qr.edges.where("sourceId").equals(t).delete(),await qr.edges.where("targetId").equals(t).delete(),await qr.nodes.delete(t)}async function s3(){if(await qr.nodes.count()===0){console.log("Seeding initial data with graph structure...");const e=await hn(on.TECH_TYPE,{key:"ml",name:"Machine Learning",description:"Traditional ML models including supervised/unsupervised learning",icon:""}),r=await hn(on.TECH_TYPE,{key:"llm",name:"Large Language Model",description:"Generative AI models based on transformer architecture",icon:""});await hn(on.TECH_TYPE,{key:"imaging",name:"Medical Imaging AI",description:"AI for analyzing medical images (X-ray, MRI, CT, etc.)",icon:""});const n=await hn(on.PHASE,{key:"discovery",name:"Discovery/Feasibility",description:"Early stage research, proof of concept",order:1}),i=await hn(on.PHASE,{key:"translational",name:"Translational/Pilot",description:"Testing with real but limited clinical data",order:2}),u=await hn(on.PHASE,{key:"clinical",name:"Clinical Validation",description:"Full clinical deployment and validation",order:3}),s=await hn(on.CHARACTERISTIC,{key:"autonomous",name:"Operates Autonomously",description:"AI makes decisions without requiring human approval",baseScore:4}),l=await hn(on.CHARACTERISTIC,{key:"patient_data",name:"Uses Patient Data",description:"System is trained on or uses actual medical records",baseScore:2}),f=await hn(on.CHARACTERISTIC,{key:"hallucination",name:"May Generate False Information",description:"LLM can create plausible but incorrect medical information",baseScore:4});await Xr(e,s,Yr.HAS_CHARACTERISTIC),await Xr(e,l,Yr.HAS_CHARACTERISTIC),await Xr(r,f,Yr.HAS_CHARACTERISTIC),await Xr(r,s,Yr.HAS_CHARACTERISTIC),await Xr(s,l,Yr.DEPENDS_ON,{reason:"Autonomous decisions on patient data require extra scrutiny"}),await Xr(f,s,Yr.SYNERGIZES_WITH,{bonusPoints:10,reason:"Autonomous hallucinations are critically dangerous"});const d=await hn(on.CONTROL,{key:"kill_switch",name:"Kill Switch Mechanism",description:"Ability to immediately disable AI system"}),v=await hn(on.CONTROL,{key:"human_oversight",name:"Human Oversight Required",description:"All AI decisions must be reviewed by humans"}),p=await hn(on.CONTROL,{key:"audit_log",name:"Comprehensive Audit Logging",description:"Log all AI decisions and inputs for review"});await Xr(s,d,Yr.HAS_CONTROL,{riskLevel:"high"}),await Xr(s,v,Yr.HAS_CONTROL,{riskLevel:"medium"}),await Xr(s,p,Yr.HAS_CONTROL,{riskLevel:"low"}),await Xr(f,v,Yr.HAS_CONTROL,{riskLevel:"high"}),await Xr(f,p,Yr.HAS_CONTROL,{riskLevel:"medium"}),await Xr(d,p,Yr.PREREQUISITE,{reason:"Need audit trail before allowing kill switch activation"});const g=await hn(on.QUESTION,{key:"autonomous",text:"Can the AI make decisions without human review?",priority:10}),m=await hn(on.QUESTION,{key:"vulnerable",text:"Will this involve vulnerable populations?",priority:10}),b=await hn(on.QUESTION,{key:"real_data",text:"Will you use actual patient records or data?",priority:9});await Xr(g,u,Yr.BELONGS_TO_PHASE),await Xr(g,i,Yr.BELONGS_TO_PHASE),await Xr(m,u,Yr.BELONGS_TO_PHASE),await Xr(b,n,Yr.BELONGS_TO_PHASE),await Xr(g,s,Yr.IMPACTS,{answer:"yes",points:25,reason:"Autonomous operation significantly increases risk"}),await Xr(b,l,Yr.IMPACTS,{answer:"yes",points:18,reason:"Using real patient data requires data protection controls"}),await hn(on.PROFILE,{key:"standard",name:"Standard",description:"Balanced approach for most institutions",multiplier:1,thresholdAdjustment:0,minCharacteristics:7}),await hn(on.PROFILE,{key:"conservative",name:"Conservative",description:"More comprehensive coverage, lower thresholds",multiplier:1.3,thresholdAdjustment:-5,minCharacteristics:10});const _=await hn(on.SCORING_RULE,{key:"ml_trans_autonomous",name:"ML Translational Autonomous Scoring"});await Xr(e,_,Yr.SCORES),await Xr(i,_,Yr.SCORES),await Xr(_,s,Yr.SCORES,{points:12,reason:"Autonomous ML in translational phase requires careful oversight"}),console.log("Graph-based data seeded successfully!"),console.log(`Created ${await qr.nodes.count()} nodes and ${await qr.edges.count()} edges`)}}s3();const l3=dt.div`
  display: grid;
  grid-template-columns: 350px 1fr;
  height: 100%;
  gap: 20px;
  padding: 20px 40px;
`,c3=dt.aside`
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  padding: 20px;
  overflow-y: auto;
  border: 1px solid rgba(255, 255, 255, 0.1);
`,f3=dt.div`
  background: ${t=>t.$selected?"rgba(74, 226, 192, 0.15)":"rgba(255, 255, 255, 0.05)"};
  border: 1px solid ${t=>t.$selected?"#4AE2C0":"rgba(255, 255, 255, 0.1)"};
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 10px;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background: rgba(74, 226, 192, 0.1);
    border-color: #4AE2C0;
    transform: translateX(5px);
  }
`,d3=dt.div`
  font-size: 32px;
  margin-bottom: 8px;
`,v3=dt.div`
  font-size: 14px;
  font-weight: 600;
  color: white;
`,h3=dt.div`
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  padding: 30px;
  overflow-y: auto;
  border: 1px solid rgba(255, 255, 255, 0.1);
`,qd=dt.div`
  margin-bottom: 24px;
`,kd=dt.label`
  display: block;
  font-size: 13px;
  font-weight: 600;
  margin-bottom: 8px;
  color: rgba(255, 255, 255, 0.9);
`,Cg=dt.input`
  width: 100%;
  padding: 12px;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 6px;
  color: white;
  font-size: 14px;
  box-sizing: border-box;

  &:focus {
    outline: none;
    border-color: #4AE2C0;
    box-shadow: 0 0 0 3px rgba(74, 226, 192, 0.1);
  }

  &::placeholder {
    color: rgba(255, 255, 255, 0.4);
  }
`,p3=dt.textarea`
  width: 100%;
  padding: 12px;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 6px;
  color: white;
  font-size: 14px;
  min-height: 100px;
  box-sizing: border-box;
  font-family: inherit;
  resize: vertical;

  &:focus {
    outline: none;
    border-color: #4AE2C0;
    box-shadow: 0 0 0 3px rgba(74, 226, 192, 0.1);
  }

  &::placeholder {
    color: rgba(255, 255, 255, 0.4);
  }
`,Ag=dt.button`
  background: ${t=>t.$variant==="primary"?"linear-gradient(90deg, #4AE2C0, #3cc8a8)":t.$variant==="danger"?"rgba(244, 67, 54, 0.2)":"rgba(255, 255, 255, 0.1)"};
  color: ${t=>t.$variant==="primary"?"#1e3c72":"white"};
  border: 1px solid ${t=>t.$variant==="primary"?"#4AE2C0":t.$variant==="danger"?"rgba(244, 67, 54, 0.5)":"rgba(255, 255, 255, 0.3)"};
  padding: 12px 24px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-right: 10px;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
`,g3=dt.div`
  margin-top: 40px;
  padding-top: 30px;
  border-top: 2px solid rgba(255, 255, 255, 0.1);
  display: flex;
  gap: 10px;
`,y3=dt.div`
  text-align: center;
  padding: 80px 40px;
  color: rgba(255, 255, 255, 0.5);

  h2 {
    font-size: 24px;
    margin-bottom: 10px;
    color: rgba(255, 255, 255, 0.7);
  }

  p {
    font-size: 14px;
  }
`;function m3(){const[t,e]=fn.useState([]),[r,n]=fn.useState(null),[i,u]=fn.useState({key:"",name:"",description:"",icon:""});fn.useEffect(()=>{s()},[]);async function s(){const p=await u3(on.TECH_TYPE);e(p)}async function l(p){n(p),u({key:p.key,name:p.name,description:p.description||"",icon:p.icon||""})}function f(){n(null),u({key:"",name:"",description:"",icon:""})}async function d(){if(!i.key||!i.name){alert("Please fill in key and name");return}try{r?await qr.nodes.update(r.id,i):await hn(on.TECH_TYPE,i),await s(),alert(" Saved successfully!")}catch(p){alert("Error saving: "+p.message)}}async function v(){if(r&&confirm(`Delete "${r.name}"? This will remove all associated characteristics.`))try{await o3(r.id),n(null),f(),await s(),alert(" Deleted successfully")}catch(p){alert("Error deleting: "+p.message)}}return _e.jsxs(l3,{children:[_e.jsxs(c3,{children:[_e.jsx(Ag,{$variant:"primary",onClick:f,style:{width:"100%",marginBottom:"20px"},children:"+ New Technology Type"}),t.map(p=>_e.jsxs(f3,{$selected:r?.id===p.id,onClick:()=>l(p),children:[_e.jsx(d3,{children:p.icon||""}),_e.jsx(v3,{children:p.name})]},p.id)),t.length===0&&_e.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontSize:"13px"},children:"No technology types yet."})]}),_e.jsx(h3,{children:r||i.key===""?_e.jsxs(_e.Fragment,{children:[_e.jsx("h2",{children:r?"Edit Technology Type":"New Technology Type"}),_e.jsxs(qd,{children:[_e.jsx(kd,{children:"Key (unique identifier) *"}),_e.jsx(Cg,{value:i.key,onChange:p=>u({...i,key:p.target.value}),placeholder:"e.g., ml"})]}),_e.jsxs(qd,{children:[_e.jsx(kd,{children:"Display Name *"}),_e.jsx(Cg,{value:i.name,onChange:p=>u({...i,name:p.target.value}),placeholder:"e.g., Machine Learning"})]}),_e.jsxs(qd,{children:[_e.jsx(kd,{children:"Description"}),_e.jsx(p3,{value:i.description,onChange:p=>u({...i,description:p.target.value}),placeholder:"Describe this technology type..."})]}),_e.jsxs(qd,{children:[_e.jsx(kd,{children:"Icon (emoji)"}),_e.jsx(Cg,{value:i.icon,onChange:p=>u({...i,icon:p.target.value}),placeholder:""})]}),_e.jsxs(g3,{children:[_e.jsx(Ag,{$variant:"primary",onClick:d,children:" Save Technology Type"}),r&&_e.jsx(Ag,{$variant:"danger",onClick:v,children:" Delete"})]})]}):_e.jsxs(y3,{children:[_e.jsx("h2",{children:"Select a technology type to edit"}),_e.jsx("p",{children:"or create a new one from the sidebar"})]})})]})}const b3=dt.div`
  display: grid;
  grid-template-columns: 350px 1fr;
  height: 100%;
  gap: 20px;
  padding: 20px 40px;
`,w3=dt.aside`
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  padding: 20px;
  overflow-y: auto;
  border: 1px solid rgba(255, 255, 255, 0.1);

  &::-webkit-scrollbar {
    width: 8px;
  }
  &::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }
  &::-webkit-scrollbar-thumb {
    background: rgba(74, 226, 192, 0.3);
    border-radius: 4px;
  }
`,x3=dt.div`
  background: ${t=>t.$selected?"rgba(74, 226, 192, 0.15)":"rgba(255, 255, 255, 0.05)"};
  border: 1px solid ${t=>t.$selected?"#4AE2C0":"rgba(255, 255, 255, 0.1)"};
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 10px;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background: rgba(74, 226, 192, 0.1);
    border-color: #4AE2C0;
    transform: translateX(5px);
  }
`,E3=dt.div`
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 5px;
  color: white;
`,S3=dt.div`
  font-size: 11px;
  color: rgba(255, 255, 255, 0.6);
  text-transform: uppercase;
  display: flex;
  justify-content: space-between;
`,T3=dt.div`
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  padding: 30px;
  overflow-y: auto;
  border: 1px solid rgba(255, 255, 255, 0.1);

  &::-webkit-scrollbar {
    width: 8px;
  }
  &::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }
  &::-webkit-scrollbar-thumb {
    background: rgba(74, 226, 192, 0.3);
    border-radius: 4px;
  }
`,bc=dt.div`
  margin-bottom: 24px;
`,wc=dt.label`
  display: block;
  font-size: 13px;
  font-weight: 600;
  margin-bottom: 8px;
  color: rgba(255, 255, 255, 0.9);
`,av=dt.input`
  width: 100%;
  padding: 12px;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 6px;
  color: white;
  font-size: 14px;
  box-sizing: border-box;

  &:focus {
    outline: none;
    border-color: #4AE2C0;
    box-shadow: 0 0 0 3px rgba(74, 226, 192, 0.1);
  }

  &::placeholder {
    color: rgba(255, 255, 255, 0.4);
  }
`,_3=dt.textarea`
  width: 100%;
  padding: 12px;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 6px;
  color: white;
  font-size: 14px;
  min-height: 100px;
  box-sizing: border-box;
  font-family: inherit;
  resize: vertical;

  &:focus {
    outline: none;
    border-color: #4AE2C0;
    box-shadow: 0 0 0 3px rgba(74, 226, 192, 0.1);
  }

  &::placeholder {
    color: rgba(255, 255, 255, 0.4);
  }
`,C3=dt.select`
  width: 100%;
  padding: 12px;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 6px;
  color: white;
  font-size: 14px;
  box-sizing: border-box;
  cursor: pointer;

  &:focus {
    outline: none;
    border-color: #4AE2C0;
    box-shadow: 0 0 0 3px rgba(74, 226, 192, 0.1);
  }

  option {
    background: #1e3c72;
    color: white;
  }
`,zd=dt.button`
  background: ${t=>t.$variant==="primary"?"linear-gradient(90deg, #4AE2C0, #3cc8a8)":t.$variant==="danger"?"rgba(244, 67, 54, 0.2)":"rgba(255, 255, 255, 0.1)"};
  color: ${t=>t.$variant==="primary"?"#1e3c72":"white"};
  border: 1px solid ${t=>t.$variant==="primary"?"#4AE2C0":t.$variant==="danger"?"rgba(244, 67, 54, 0.5)":"rgba(255, 255, 255, 0.3)"};
  padding: 12px 24px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-right: 10px;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    background: ${t=>t.$variant==="primary"?"linear-gradient(90deg, #3cc8a8, #2db090)":t.$variant==="danger"?"rgba(244, 67, 54, 0.3)":"rgba(255, 255, 255, 0.15)"};
  }

  &:active {
    transform: translateY(0);
  }
`,A3=dt.div`
  margin-top: 40px;
  padding-top: 40px;
  border-top: 2px solid rgba(255, 255, 255, 0.1);
`,R3=dt.h3`
  font-size: 18px;
  margin: 0 0 10px 0;
  color: white;
`,D3=dt.p`
  font-size: 13px;
  color: rgba(255, 255, 255, 0.6);
  margin: 0 0 25px 0;
  line-height: 1.5;
`,O3=dt.div`
  background: ${t=>t.$level==="low"?"rgba(76, 175, 80, 0.08)":t.$level==="medium"?"rgba(255, 193, 7, 0.08)":"rgba(244, 67, 54, 0.08)"};
  border: 2px solid ${t=>t.$level==="low"?"rgba(76, 175, 80, 0.3)":t.$level==="medium"?"rgba(255, 193, 7, 0.3)":"rgba(244, 67, 54, 0.3)"};
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 20px;
`,M3=dt.h4`
  margin: 0 0 15px 0;
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: ${t=>t.$level==="low"?"#4CAF50":t.$level==="medium"?"#FFC107":"#F44336"};
  display: flex;
  align-items: center;
  gap: 8px;

  &::before {
    content: ${t=>t.$level==="low"?'""':t.$level==="medium"?'""':'""'};
  }
`,B3=dt.div`
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
  align-items: center;
`,q3=dt(av)`
  flex: 1;
  margin: 0;
`,k3=dt.button`
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  padding: 10px 14px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.2s ease;
  white-space: nowrap;

  &:hover {
    background: rgba(244, 67, 54, 0.2);
    border-color: #F44336;
  }
`,z3=dt.div`
  text-align: center;
  padding: 80px 40px;
  color: rgba(255, 255, 255, 0.5);

  h2 {
    font-size: 24px;
    margin-bottom: 10px;
    color: rgba(255, 255, 255, 0.7);
  }

  p {
    font-size: 14px;
  }
`,N3=dt.div`
  margin-top: 40px;
  padding-top: 30px;
  border-top: 2px solid rgba(255, 255, 255, 0.1);
  display: flex;
  gap: 10px;
`;function L3(){const[t,e]=fn.useState([]),[r,n]=fn.useState(null),[i,u]=fn.useState({low:[],medium:[],high:[]}),[s,l]=fn.useState({key:"",name:"",description:"",techType:"ml",baseScore:2});fn.useEffect(()=>{f()},[]);async function f(){const x=await qr.characteristics.toArray();e(x)}async function d(x){n(x),l({key:x.key,name:x.name,description:x.description,techType:x.techType,baseScore:x.baseScore});const E=await qr.controls.where("characteristicId").equals(x.id).toArray(),C={low:E.filter(A=>A.riskLevel==="low").map(A=>A.description),medium:E.filter(A=>A.riskLevel==="medium").map(A=>A.description),high:E.filter(A=>A.riskLevel==="high").map(A=>A.description)};u(C)}async function v(){if(!s.key||!s.name){alert("Please fill in at least the Key and Name fields");return}try{if(r){await qr.characteristics.update(r.id,s),await qr.controls.where("characteristicId").equals(r.id).delete();for(const[x,E]of Object.entries(i))for(const C of E)C.trim()&&await qr.controls.add({characteristicId:r.id,riskLevel:x,description:C.trim()})}else{const x=await qr.characteristics.add(s);for(const[E,C]of Object.entries(i))for(const A of C)A.trim()&&await qr.controls.add({characteristicId:x,riskLevel:E,description:A.trim()})}await f(),alert(" Saved successfully!")}catch(x){alert("Error saving: "+x.message)}}function p(){n(null),l({key:"",name:"",description:"",techType:"ml",baseScore:2}),u({low:[],medium:[],high:[]})}function g(x){u({...i,[x]:[...i[x],""]})}function m(x,E,C){const A=[...i[x]];A[E]=C,u({...i,[x]:A})}function b(x,E){const C=[...i[x]];C.splice(E,1),u({...i,[x]:C})}async function _(){if(r&&confirm(`Are you sure you want to delete "${r.name}"? This cannot be undone.`))try{await qr.controls.where("characteristicId").equals(r.id).delete(),await qr.characteristics.delete(r.id),n(null),p(),await f(),alert(" Deleted successfully")}catch(x){alert("Error deleting: "+x.message)}}return _e.jsxs(b3,{children:[_e.jsxs(w3,{children:[_e.jsx(zd,{$variant:"primary",onClick:p,style:{width:"100%",marginBottom:"20px"},children:"+ New Characteristic"}),t.map(x=>_e.jsxs(x3,{$selected:r?.id===x.id,onClick:()=>d(x),children:[_e.jsx(E3,{children:x.name}),_e.jsxs(S3,{children:[_e.jsx("span",{children:x.techType.toUpperCase()}),_e.jsxs("span",{children:["Score: ",x.baseScore]})]})]},x.id)),t.length===0&&_e.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontSize:"13px"},children:["No characteristics yet.",_e.jsx("br",{}),'Click "New Characteristic" to add one.']})]}),_e.jsx(T3,{children:r||s.key===""?_e.jsxs(_e.Fragment,{children:[_e.jsx("h2",{children:r?"Edit Characteristic":"New Characteristic"}),_e.jsxs(bc,{children:[_e.jsx(wc,{children:"Key (unique identifier) *"}),_e.jsx(av,{value:s.key,onChange:x=>l({...s,key:x.target.value}),placeholder:"e.g., autonomous_decision"})]}),_e.jsxs(bc,{children:[_e.jsx(wc,{children:"Display Name *"}),_e.jsx(av,{value:s.name,onChange:x=>l({...s,name:x.target.value}),placeholder:"e.g., Operates Autonomously"})]}),_e.jsxs(bc,{children:[_e.jsx(wc,{children:"Description"}),_e.jsx(_3,{value:s.description,onChange:x=>l({...s,description:x.target.value}),placeholder:"Describe what this characteristic means and why it matters..."})]}),_e.jsxs(bc,{children:[_e.jsx(wc,{children:"Technology Type"}),_e.jsxs(C3,{value:s.techType,onChange:x=>l({...s,techType:x.target.value}),children:[_e.jsx("option",{value:"ml",children:"Machine Learning (ML)"}),_e.jsx("option",{value:"llm",children:"Large Language Model (LLM)"}),_e.jsx("option",{value:"imaging",children:"Medical Imaging AI"}),_e.jsx("option",{value:"wearables",children:"Wearables/Sensors"}),_e.jsx("option",{value:"apps",children:"Digital Health Apps"})]})]}),_e.jsxs(bc,{children:[_e.jsx(wc,{children:"Base Severity Score (1-4)"}),_e.jsx(av,{type:"number",min:"1",max:"4",value:s.baseScore,onChange:x=>l({...s,baseScore:parseInt(x.target.value)||1})}),_e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.5)",marginTop:"5px"},children:"1 = Low concern, 4 = High concern"})]}),_e.jsxs(A3,{children:[_e.jsx(R3,{children:"Recommended Controls by Risk Level"}),_e.jsx(D3,{children:"Define different controls based on the overall project risk level. Low risk projects get simpler controls, high risk projects get comprehensive ones."}),["low","medium","high"].map(x=>_e.jsxs(O3,{$level:x,children:[_e.jsxs(M3,{$level:x,children:[x.toUpperCase()," Risk Controls"]}),i[x].map((E,C)=>_e.jsxs(B3,{children:[_e.jsx(q3,{value:E,onChange:A=>m(x,C,A.target.value),placeholder:`Enter ${x} risk control...`}),_e.jsx(k3,{onClick:()=>b(x,C),children:"Remove"})]},C)),_e.jsxs(zd,{onClick:()=>g(x),style:{marginTop:"10px"},children:["+ Add ",x," risk control"]})]},x))]}),_e.jsxs(N3,{children:[_e.jsx(zd,{$variant:"primary",onClick:v,children:" Save Characteristic"}),r&&_e.jsx(zd,{$variant:"danger",onClick:_,children:" Delete"})]})]}):_e.jsxs(z3,{children:[_e.jsx("h2",{children:"Select a characteristic to edit"}),_e.jsx("p",{children:"or create a new one from the sidebar"})]})})]})}function Dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function P3(t){if(Array.isArray(t))return t}function I3(t){if(Array.isArray(t))return Dx(t)}function $u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IB(n.key),n)}}function Yu(t,e,r){return e&&U3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function da(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=tE(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var f=r.next();return s=f.done,f},e:function(f){l=!0,u=f},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw u}}}}function PB(t,e,r){return(e=IB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V3(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,u,s,l=[],f=!0,d=!1;try{if(u=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=u.call(r)).done)&&(l.push(n.value),l.length!==e);f=!0);}catch(v){d=!0,i=v}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function j3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ln(t,e){return P3(t)||V3(t,e)||tE(t,e)||j3()}function Ev(t){return I3(t)||F3(t)||tE(t)||G3()}function H3(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IB(t){var e=H3(t,"string");return typeof e=="symbol"?e:e+""}function yn(t){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(t)}function tE(t,e){if(t){if(typeof t=="string")return Dx(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dx(t,e):void 0}}var pn=typeof window>"u"?null:window,m_=pn?pn.navigator:null;pn&&pn.document;var K3=yn(""),UB=yn({}),$3=yn(function(){}),Y3=typeof HTMLElement>"u"?"undefined":yn(HTMLElement),nf=function(e){return e&&e.instanceString&&Fr(e.instanceString)?e.instanceString():null},mt=function(e){return e!=null&&yn(e)==K3},Fr=function(e){return e!=null&&yn(e)===$3},br=function(e){return!Ea(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Jt=function(e){return e!=null&&yn(e)===UB&&!br(e)&&e.constructor===Object},X3=function(e){return e!=null&&yn(e)===UB},et=function(e){return e!=null&&yn(e)===yn(1)&&!isNaN(e)},Z3=function(e){return et(e)&&Math.floor(e)===e},Sv=function(e){if(Y3!=="undefined")return e!=null&&e instanceof HTMLElement},Ea=function(e){return af(e)||FB(e)},af=function(e){return nf(e)==="collection"&&e._private.single},FB=function(e){return nf(e)==="collection"&&!e._private.single},rE=function(e){return nf(e)==="core"},VB=function(e){return nf(e)==="stylesheet"},Q3=function(e){return nf(e)==="event"},Uu=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},W3=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},J3=function(e){return Jt(e)&&et(e.x1)&&et(e.x2)&&et(e.y1)&&et(e.y2)},e4=function(e){return X3(e)&&Fr(e.then)},t4=function(){return m_&&m_.userAgent.match(/msie|trident|edge/i)},ul=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var u=[],s=0;s<arguments.length;s++)u.push(arguments[s]);return u.join("$")});var n=function(){var u=this,s=arguments,l,f=r.apply(u,s),d=n.cache;return(l=d[f])||(l=d[f]=e.apply(u,s)),l};return n.cache={},n},nE=ul(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Gv=ul(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),jB=ul(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),b_=function(e){return Uu(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},zu=function(e,r){return e.slice(-1*r.length)===r},gn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",r4="rgb[a]?\\(("+gn+"[%]?)\\s*,\\s*("+gn+"[%]?)\\s*,\\s*("+gn+"[%]?)(?:\\s*,\\s*("+gn+"))?\\)",n4="rgb[a]?\\((?:"+gn+"[%]?)\\s*,\\s*(?:"+gn+"[%]?)\\s*,\\s*(?:"+gn+"[%]?)(?:\\s*,\\s*(?:"+gn+"))?\\)",a4="hsl[a]?\\(("+gn+")\\s*,\\s*("+gn+"[%])\\s*,\\s*("+gn+"[%])(?:\\s*,\\s*("+gn+"))?\\)",i4="hsl[a]?\\((?:"+gn+")\\s*,\\s*(?:"+gn+"[%])\\s*,\\s*(?:"+gn+"[%])(?:\\s*,\\s*(?:"+gn+"))?\\)",u4="\\#[0-9a-fA-F]{3}",o4="\\#[0-9a-fA-F]{6}",GB=function(e,r){return e<r?-1:e>r?1:0},s4=function(e,r){return-1*GB(e,r)},St=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),u=0;u<i.length;u++){var s=i[u];t[s]=n[s]}}return t},l4=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,u,s=16;return r?(n=parseInt(e[1]+e[1],s),i=parseInt(e[2]+e[2],s),u=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),i=parseInt(e[3]+e[4],s),u=parseInt(e[5]+e[6],s)),[n,i,u]}},c4=function(e){var r,n,i,u,s,l,f,d;function v(b,_,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?b+(_-b)*6*x:x<1/2?_:x<2/3?b+(_-b)*(2/3-x)*6:b}var p=new RegExp("^"+a4+"$").exec(e);if(p){if(n=parseInt(p[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(p[2]),i<0||i>100||(i=i/100,u=parseFloat(p[3]),u<0||u>100)||(u=u/100,s=p[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(i===0)l=f=d=Math.round(u*255);else{var g=u<.5?u*(1+i):u+i-u*i,m=2*u-g;l=Math.round(255*v(m,g,n+1/3)),f=Math.round(255*v(m,g,n)),d=Math.round(255*v(m,g,n-1/3))}r=[l,f,d,s]}return r},f4=function(e){var r,n=new RegExp("^"+r4+"$").exec(e);if(n){r=[];for(var i=[],u=1;u<=3;u++){var s=n[u];if(s[s.length-1]==="%"&&(i[u]=!0),s=parseFloat(s),i[u]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var l=i[1]||i[2]||i[3],f=i[1]&&i[2]&&i[3];if(l&&!f)return;var d=n[4];if(d!==void 0){if(d=parseFloat(d),d<0||d>1)return;r.push(d)}}return r},d4=function(e){return v4[e.toLowerCase()]},HB=function(e){return(br(e)?e:null)||d4(e)||l4(e)||f4(e)||c4(e)},v4={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},KB=function(e){for(var r=e.map,n=e.keys,i=n.length,u=0;u<i;u++){var s=n[u];if(Jt(s))throw Error("Tried to set map with object key");u<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},$B=function(e){for(var r=e.map,n=e.keys,i=n.length,u=0;u<i;u++){var s=n[u];if(Jt(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rg,w_;function of(){if(w_)return Rg;w_=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Rg=t,Rg}var Dg,x_;function h4(){if(x_)return Dg;x_=1;var t=typeof Nd=="object"&&Nd&&Nd.Object===Object&&Nd;return Dg=t,Dg}var Og,E_;function Hv(){if(E_)return Og;E_=1;var t=h4(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Og=r,Og}var Mg,S_;function p4(){if(S_)return Mg;S_=1;var t=Hv(),e=function(){return t.Date.now()};return Mg=e,Mg}var Bg,T_;function g4(){if(T_)return Bg;T_=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Bg=e,Bg}var qg,__;function y4(){if(__)return qg;__=1;var t=g4(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return qg=r,qg}var kg,C_;function aE(){if(C_)return kg;C_=1;var t=Hv(),e=t.Symbol;return kg=e,kg}var zg,A_;function m4(){if(A_)return zg;A_=1;var t=aE(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function u(s){var l=r.call(s,i),f=s[i];try{s[i]=void 0;var d=!0}catch{}var v=n.call(s);return d&&(l?s[i]=f:delete s[i]),v}return zg=u,zg}var Ng,R_;function b4(){if(R_)return Ng;R_=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Ng=r,Ng}var Lg,D_;function YB(){if(D_)return Lg;D_=1;var t=aE(),e=m4(),r=b4(),n="[object Null]",i="[object Undefined]",u=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:u&&u in Object(l)?e(l):r(l)}return Lg=s,Lg}var Pg,O_;function w4(){if(O_)return Pg;O_=1;function t(e){return e!=null&&typeof e=="object"}return Pg=t,Pg}var Ig,M_;function sf(){if(M_)return Ig;M_=1;var t=YB(),e=w4(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Ig=n,Ig}var Ug,B_;function x4(){if(B_)return Ug;B_=1;var t=y4(),e=of(),r=sf(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function f(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var v=typeof d.valueOf=="function"?d.valueOf():d;d=e(v)?v+"":v}if(typeof d!="string")return d===0?d:+d;d=t(d);var p=u.test(d);return p||s.test(d)?l(d.slice(2),p?2:8):i.test(d)?n:+d}return Ug=f,Ug}var Fg,q_;function E4(){if(q_)return Fg;q_=1;var t=of(),e=p4(),r=x4(),n="Expected a function",i=Math.max,u=Math.min;function s(l,f,d){var v,p,g,m,b,_,x=0,E=!1,C=!1,A=!0;if(typeof l!="function")throw new TypeError(n);f=r(f)||0,t(d)&&(E=!!d.leading,C="maxWait"in d,g=C?i(r(d.maxWait)||0,f):g,A="trailing"in d?!!d.trailing:A);function R(j){var Z=v,J=p;return v=p=void 0,x=j,m=l.apply(J,Z),m}function M(j){return x=j,b=setTimeout(N,f),E?R(j):m}function B(j){var Z=j-_,J=j-x,G=f-Z;return C?u(G,g-J):G}function O(j){var Z=j-_,J=j-x;return _===void 0||Z>=f||Z<0||C&&J>=g}function N(){var j=e();if(O(j))return L(j);b=setTimeout(N,B(j))}function L(j){return b=void 0,A&&v?R(j):(v=p=void 0,m)}function P(){b!==void 0&&clearTimeout(b),x=0,v=_=p=b=void 0}function I(){return b===void 0?m:L(e())}function V(){var j=e(),Z=O(j);if(v=arguments,p=this,_=j,Z){if(b===void 0)return M(_);if(C)return clearTimeout(b),b=setTimeout(N,f),R(_)}return b===void 0&&(b=setTimeout(N,f)),m}return V.cancel=P,V.flush=I,V}return Fg=s,Fg}var S4=E4(),lf=uf(S4),Vg=pn?pn.performance:null,XB=Vg&&Vg.now?function(){return Vg.now()}:function(){return Date.now()},T4=(function(){if(pn){if(pn.requestAnimationFrame)return function(t){pn.requestAnimationFrame(t)};if(pn.mozRequestAnimationFrame)return function(t){pn.mozRequestAnimationFrame(t)};if(pn.webkitRequestAnimationFrame)return function(t){pn.webkitRequestAnimationFrame(t)};if(pn.msRequestAnimationFrame)return function(t){pn.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(XB())},1e3/60)}})(),Tv=function(e){return T4(e)},$i=XB,Do=9261,ZB=65599,Hs=5381,QB=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do,n=r,i;i=e.next(),!i.done;)n=n*ZB+i.value|0;return n},Kc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do;return r*ZB+e|0},$c=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs;return(r<<5)+r+e|0},_4=function(e,r){return e*2097152+r},Mu=function(e){return e[0]*2097152+e[1]},Ld=function(e,r){return[Kc(e[0],r[0]),$c(e[1],r[1])]},k_=function(e,r){var n={value:0,done:!1},i=0,u=e.length,s={next:function(){return i<u?n.value=e[i++]:n.done=!0,n}};return QB(s,r)},zo=function(e,r){var n={value:0,done:!1},i=0,u=e.length,s={next:function(){return i<u?n.value=e.charCodeAt(i++):n.done=!0,n}};return QB(s,r)},WB=function(){return C4(arguments)},C4=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=zo(i):r=zo(i,r)}return r};function A4(t,e,r,n,i){var u=i*Math.PI/180,s=Math.cos(u)*(t-r)-Math.sin(u)*(e-n)+r,l=Math.sin(u)*(t-r)+Math.cos(u)*(e-n)+n;return{x:s,y:l}}var R4=function(e,r,n,i,u,s){return{x:(e-n)*u+n,y:(r-i)*s+i}};function D4(t,e,r){if(r===0)return t;var n=(e.x1+e.x2)/2,i=(e.y1+e.y2)/2,u=e.w/e.h,s=1/u,l=A4(t.x,t.y,n,i,r),f=R4(l.x,l.y,n,i,u,s);return{x:f.x,y:f.y}}var z_=!0,O4=console.warn!=null,M4=console.trace!=null,iE=Number.MAX_SAFE_INTEGER||9007199254740991,JB=function(){return!0},_v=function(){return!1},N_=function(){return 0},uE=function(){},kr=function(e){throw new Error(e)},eq=function(e){if(e!==void 0)z_=!!e;else return z_},lr=function(e){eq()&&(O4?console.warn(e):(console.log(e),M4&&console.trace()))},B4=function(e){return St({},e)},di=function(e){return e==null?e:br(e)?e.slice():Jt(e)?B4(e):e},q4=function(e){return e.slice()},tq=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},k4={},rq=function(){return k4},Pn=function(e){var r=Object.keys(e);return function(n){for(var i={},u=0;u<r.length;u++){var s=r[u],l=n?.[s];i[s]=l===void 0?e[s]:l}return i}},Fu=function(e,r,n){for(var i=e.length-1;i>=0;i--)e[i]===r&&e.splice(i,1)},oE=function(e){e.splice(0,e.length)},z4=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},la=function(e,r,n){return n&&(r=jB(n,r)),e[r]},Hi=function(e,r,n,i){n&&(r=jB(n,r)),e[r]=i},N4=(function(){function t(){$u(this,t),this._obj={}}return Yu(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])})(),Ki=typeof Map<"u"?Map:N4,L4="undefined",P4=(function(){function t(e){if($u(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Yu(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])})(),cl=(typeof Set>"u"?"undefined":yn(Set))!==L4?Set:P4,Kv=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!rE(e)){kr("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){kr("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var u=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new cl,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(u.position.x==null&&(u.position.x=0),u.position.y==null&&(u.position.y=0),r.renderedPosition){var s=r.renderedPosition,l=e.pan(),f=e.zoom();u.position={x:(s.x-l.x)/f,y:(s.y-l.y)/f}}var d=[];br(r.classes)?d=r.classes:mt(r.classes)&&(d=r.classes.split(/\s+/));for(var v=0,p=d.length;v<p;v++){var g=d[v];!g||g===""||u.classes.add(g)}this.createEmitter(),(n===void 0||n)&&this.restore();var m=r.style||r.css;m&&(lr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(m))},L_=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,u){var s;Jt(n)&&!Ea(n)&&(s=n,n=s.roots||s.root,i=s.visit,u=s.directed),u=arguments.length===2&&!Fr(i)?i:u,i=Fr(i)?i:function(){};for(var l=this._private.cy,f=n=mt(n)?this.filter(n):n,d=[],v=[],p={},g={},m={},b=0,_,x=this.byGroup(),E=x.nodes,C=x.edges,A=0;A<f.length;A++){var R=f[A],M=R.id();R.isNode()&&(d.unshift(R),e.bfs&&(m[M]=!0,v.push(R)),g[M]=0)}for(var B=function(){var j=e.bfs?d.shift():d.pop(),Z=j.id();if(e.dfs){if(m[Z])return 0;m[Z]=!0,v.push(j)}var J=g[Z],G=p[Z],$=G!=null?G.source():null,W=G!=null?G.target():null,oe=G==null?void 0:j.same($)?W[0]:$[0],se;if(se=i(j,G,oe,b++,J),se===!0)return _=j,1;if(se===!1)return 1;for(var U=j.connectedEdges().filter(function(re){return(!u||re.source().same(j))&&C.has(re)}),X=0;X<U.length;X++){var ue=U[X],Y=ue.connectedNodes().filter(function(re){return!re.same(j)&&E.has(re)}),ee=Y.id();Y.length!==0&&!m[ee]&&(Y=Y[0],d.push(Y),e.bfs&&(m[ee]=!0,v.push(Y)),p[ee]=ue,g[ee]=g[Z]+1)}},O;d.length!==0&&(O=B(),!(O!==0&&O===1)););for(var N=l.collection(),L=0;L<v.length;L++){var P=v[L],I=p[P.id()];I!=null&&N.push(I),N.push(P)}return{path:l.collection(N),found:l.collection(_)}}},Yc={breadthFirstSearch:L_({bfs:!0}),depthFirstSearch:L_({dfs:!0})};Yc.bfs=Yc.breadthFirstSearch;Yc.dfs=Yc.depthFirstSearch;var iv={exports:{}},I4=iv.exports,P_;function U4(){return P_||(P_=1,(function(t,e){(function(){var r,n,i,u,s,l,f,d,v,p,g,m,b,_,x;i=Math.floor,p=Math.min,n=function(E,C){return E<C?-1:E>C?1:0},v=function(E,C,A,R,M){var B;if(A==null&&(A=0),M==null&&(M=n),A<0)throw new Error("lo must be non-negative");for(R==null&&(R=E.length);A<R;)B=i((A+R)/2),M(C,E[B])<0?R=B:A=B+1;return[].splice.apply(E,[A,A-A].concat(C)),C},l=function(E,C,A){return A==null&&(A=n),E.push(C),_(E,0,E.length-1,A)},s=function(E,C){var A,R;return C==null&&(C=n),A=E.pop(),E.length?(R=E[0],E[0]=A,x(E,0,C)):R=A,R},d=function(E,C,A){var R;return A==null&&(A=n),R=E[0],E[0]=C,x(E,0,A),R},f=function(E,C,A){var R;return A==null&&(A=n),E.length&&A(E[0],C)<0&&(R=[E[0],C],C=R[0],E[0]=R[1],x(E,0,A)),C},u=function(E,C){var A,R,M,B,O,N;for(C==null&&(C=n),B=(function(){N=[];for(var L=0,P=i(E.length/2);0<=P?L<P:L>P;0<=P?L++:L--)N.push(L);return N}).apply(this).reverse(),O=[],R=0,M=B.length;R<M;R++)A=B[R],O.push(x(E,A,C));return O},b=function(E,C,A){var R;if(A==null&&(A=n),R=E.indexOf(C),R!==-1)return _(E,0,R,A),x(E,R,A)},g=function(E,C,A){var R,M,B,O,N;if(A==null&&(A=n),M=E.slice(0,C),!M.length)return M;for(u(M,A),N=E.slice(C),B=0,O=N.length;B<O;B++)R=N[B],f(M,R,A);return M.sort(A).reverse()},m=function(E,C,A){var R,M,B,O,N,L,P,I,V;if(A==null&&(A=n),C*10<=E.length){if(B=E.slice(0,C).sort(A),!B.length)return B;for(M=B[B.length-1],P=E.slice(C),O=0,L=P.length;O<L;O++)R=P[O],A(R,M)<0&&(v(B,R,0,null,A),B.pop(),M=B[B.length-1]);return B}for(u(E,A),V=[],N=0,I=p(C,E.length);0<=I?N<I:N>I;0<=I?++N:--N)V.push(s(E,A));return V},_=function(E,C,A,R){var M,B,O;for(R==null&&(R=n),M=E[A];A>C;){if(O=A-1>>1,B=E[O],R(M,B)<0){E[A]=B,A=O;continue}break}return E[A]=M},x=function(E,C,A){var R,M,B,O,N;for(A==null&&(A=n),M=E.length,N=C,B=E[C],R=2*C+1;R<M;)O=R+1,O<M&&!(A(E[R],E[O])<0)&&(R=O),E[C]=E[R],C=R,R=2*C+1;return E[C]=B,_(E,N,C,A)},r=(function(){E.push=l,E.pop=s,E.replace=d,E.pushpop=f,E.heapify=u,E.updateItem=b,E.nlargest=g,E.nsmallest=m;function E(C){this.cmp=C??n,this.nodes=[]}return E.prototype.push=function(C){return l(this.nodes,C,this.cmp)},E.prototype.pop=function(){return s(this.nodes,this.cmp)},E.prototype.peek=function(){return this.nodes[0]},E.prototype.contains=function(C){return this.nodes.indexOf(C)!==-1},E.prototype.replace=function(C){return d(this.nodes,C,this.cmp)},E.prototype.pushpop=function(C){return f(this.nodes,C,this.cmp)},E.prototype.heapify=function(){return u(this.nodes,this.cmp)},E.prototype.updateItem=function(C){return b(this.nodes,C,this.cmp)},E.prototype.clear=function(){return this.nodes=[]},E.prototype.empty=function(){return this.nodes.length===0},E.prototype.size=function(){return this.nodes.length},E.prototype.clone=function(){var C;return C=new E,C.nodes=this.nodes.slice(0),C},E.prototype.toArray=function(){return this.nodes.slice(0)},E.prototype.insert=E.prototype.push,E.prototype.top=E.prototype.peek,E.prototype.front=E.prototype.peek,E.prototype.has=E.prototype.contains,E.prototype.copy=E.prototype.clone,E})(),(function(E,C){return t.exports=C()})(this,function(){return r})}).call(I4)})(iv)),iv.exports}var jg,I_;function F4(){return I_||(I_=1,jg=U4()),jg}var V4=F4(),cf=uf(V4),j4=Pn({root:null,weight:function(e){return 1},directed:!1}),G4={dijkstra:function(e){if(!Jt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=j4(e),i=n.root,u=n.weight,s=n.directed,l=this,f=u,d=mt(i)?this.filter(i)[0]:i[0],v={},p={},g={},m=this.byGroup(),b=m.nodes,_=m.edges;_.unmergeBy(function(J){return J.isLoop()});for(var x=function(G){return v[G.id()]},E=function(G,$){v[G.id()]=$,C.updateItem(G)},C=new cf(function(J,G){return x(J)-x(G)}),A=0;A<b.length;A++){var R=b[A];v[R.id()]=R.same(d)?0:1/0,C.push(R)}for(var M=function(G,$){for(var W=(s?G.edgesTo($):G.edgesWith($)).intersect(_),oe=1/0,se,U=0;U<W.length;U++){var X=W[U],ue=f(X);(ue<oe||!se)&&(oe=ue,se=X)}return{edge:se,dist:oe}};C.size()>0;){var B=C.pop(),O=x(B),N=B.id();if(g[N]=O,O!==1/0)for(var L=B.neighborhood().intersect(b),P=0;P<L.length;P++){var I=L[P],V=I.id(),j=M(B,I),Z=O+j.dist;Z<x(I)&&(E(I,Z),p[V]={node:B,edge:j.edge})}}return{distanceTo:function(G){var $=mt(G)?b.filter(G)[0]:G[0];return g[$.id()]},pathTo:function(G){var $=mt(G)?b.filter(G)[0]:G[0],W=[],oe=$,se=oe.id();if($.length>0)for(W.unshift($);p[se];){var U=p[se];W.unshift(U.edge),W.unshift(U.node),oe=U.node,se=oe.id()}return l.spawn(W)}}}},H4={kruskal:function(e){e=e||function(A){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,u=n.length,s=new Array(u),l=n,f=function(R){for(var M=0;M<s.length;M++){var B=s[M];if(B.has(R))return M}},d=0;d<u;d++)s[d]=this.spawn(n[d]);for(var v=i.sort(function(A,R){return e(A)-e(R)}),p=0;p<v.length;p++){var g=v[p],m=g.source()[0],b=g.target()[0],_=f(m),x=f(b),E=s[_],C=s[x];_!==x&&(l.merge(g),E.merge(C),s.splice(x,1))}return l}},K4=Pn({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),$4={aStar:function(e){var r=this.cy(),n=K4(e),i=n.root,u=n.goal,s=n.heuristic,l=n.directed,f=n.weight;i=r.collection(i)[0],u=r.collection(u)[0];var d=i.id(),v=u.id(),p={},g={},m={},b=new cf(function(se,U){return g[se.id()]-g[U.id()]}),_=new cl,x={},E={},C=function(U,X){b.push(U),_.add(X)},A,R,M=function(){A=b.pop(),R=A.id(),_.delete(R)},B=function(U){return _.has(U)};C(i,d),p[d]=0,g[d]=s(i);for(var O=0;b.size()>0;){if(M(),O++,R===v){for(var N=[],L=u,P=v,I=E[P];N.unshift(L),I!=null&&N.unshift(I),L=x[P],L!=null;)P=L.id(),I=E[P];return{found:!0,distance:p[R],path:this.spawn(N),steps:O}}m[R]=!0;for(var V=A._private.edges,j=0;j<V.length;j++){var Z=V[j];if(this.hasElementWithId(Z.id())&&!(l&&Z.data("source")!==R)){var J=Z.source(),G=Z.target(),$=J.id()!==R?J:G,W=$.id();if(this.hasElementWithId(W)&&!m[W]){var oe=p[R]+f(Z);if(!B(W)){p[W]=oe,g[W]=oe+s($),C($,W),x[W]=A,E[W]=Z;continue}oe<p[W]&&(p[W]=oe,g[W]=oe+s($),x[W]=A,E[W]=Z)}}}}return{found:!1,distance:void 0,path:void 0,steps:O}}},Y4=Pn({weight:function(e){return 1},directed:!1}),X4={floydWarshall:function(e){for(var r=this.cy(),n=Y4(e),i=n.weight,u=n.directed,s=i,l=this.byGroup(),f=l.nodes,d=l.edges,v=f.length,p=v*v,g=function(ue){return f.indexOf(ue)},m=function(ue){return f[ue]},b=new Array(p),_=0;_<p;_++){var x=_%v,E=(_-x)/v;E===x?b[_]=0:b[_]=1/0}for(var C=new Array(p),A=new Array(p),R=0;R<d.length;R++){var M=d[R],B=M.source()[0],O=M.target()[0];if(B!==O){var N=g(B),L=g(O),P=N*v+L,I=s(M);if(b[P]>I&&(b[P]=I,C[P]=L,A[P]=M),!u){var V=L*v+N;!u&&b[V]>I&&(b[V]=I,C[V]=N,A[V]=M)}}}for(var j=0;j<v;j++)for(var Z=0;Z<v;Z++)for(var J=Z*v+j,G=0;G<v;G++){var $=Z*v+G,W=j*v+G;b[J]+b[W]<b[$]&&(b[$]=b[J]+b[W],C[$]=C[J])}var oe=function(ue){return(mt(ue)?r.filter(ue):ue)[0]},se=function(ue){return g(oe(ue))},U={distance:function(ue,Y){var ee=se(ue),re=se(Y);return b[ee*v+re]},path:function(ue,Y){var ee=se(ue),re=se(Y),de=m(ee);if(ee===re)return de.collection();if(C[ee*v+re]==null)return r.collection();var ze=r.collection(),ie=ee,he;for(ze.merge(de);ee!==re;)ie=ee,ee=C[ee*v+re],he=A[ie*v+ee],ze.merge(he),ze.merge(m(ee));return ze}};return U}},Z4=Pn({weight:function(e){return 1},directed:!1,root:null}),Q4={bellmanFord:function(e){var r=this,n=Z4(e),i=n.weight,u=n.directed,s=n.root,l=i,f=this,d=this.cy(),v=this.byGroup(),p=v.edges,g=v.nodes,m=g.length,b=new Ki,_=!1,x=[];s=d.collection(s)[0],p.unmergeBy(function(Ze){return Ze.isLoop()});for(var E=p.length,C=function(ht){var ct=b.get(ht.id());return ct||(ct={},b.set(ht.id(),ct)),ct},A=function(ht){return(mt(ht)?d.$(ht):ht)[0]},R=function(ht){return C(A(ht)).dist},M=function(ht){for(var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Qe=A(ht),tt=[],ot=Qe;;){if(ot==null)return r.spawn();var st=C(ot),rt=st.edge,xt=st.pred;if(tt.unshift(ot[0]),ot.same(ct)&&tt.length>0)break;rt!=null&&tt.unshift(rt),ot=xt}return f.spawn(tt)},B=0;B<m;B++){var O=g[B],N=C(O);O.same(s)?N.dist=0:N.dist=1/0,N.pred=null,N.edge=null}for(var L=!1,P=function(ht,ct,Qe,tt,ot,st){var rt=tt.dist+st;rt<ot.dist&&!Qe.same(tt.edge)&&(ot.dist=rt,ot.pred=ht,ot.edge=Qe,L=!0)},I=1;I<m;I++){L=!1;for(var V=0;V<E;V++){var j=p[V],Z=j.source(),J=j.target(),G=l(j),$=C(Z),W=C(J);P(Z,J,j,$,W,G),u||P(J,Z,j,W,$,G)}if(!L)break}if(L)for(var oe=[],se=0;se<E;se++){var U=p[se],X=U.source(),ue=U.target(),Y=l(U),ee=C(X).dist,re=C(ue).dist;if(ee+Y<re||!u&&re+Y<ee)if(_||(lr("Graph contains a negative weight cycle for Bellman-Ford"),_=!0),e.findNegativeWeightCycles!==!1){var de=[];ee+Y<re&&de.push(X),!u&&re+Y<ee&&de.push(ue);for(var ze=de.length,ie=0;ie<ze;ie++){var he=de[ie],be=[he];be.push(C(he).edge);for(var ge=C(he).pred;be.indexOf(ge)===-1;)be.push(ge),be.push(C(ge).edge),ge=C(ge).pred;be=be.slice(be.indexOf(ge));for(var Be=be[0].id(),Ge=0,He=2;He<be.length;He+=2)be[He].id()<Be&&(Be=be[He].id(),Ge=He);be=be.slice(Ge).concat(be.slice(0,Ge)),be.push(be[0]);var Ct=be.map(function(Ze){return Ze.id()}).join(",");oe.indexOf(Ct)===-1&&(x.push(f.spawn(be)),oe.push(Ct))}}else break}return{distanceTo:R,pathTo:M,hasNegativeWeightCycle:_,negativeWeightCycles:x}}},W4=Math.sqrt(2),J4=function(e,r,n){n.length===0&&kr("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],u=i[1],s=i[2],l=r[u],f=r[s],d=n,v=d.length-1;v>=0;v--){var p=d[v],g=p[1],m=p[2];(r[g]===l&&r[m]===f||r[g]===f&&r[m]===l)&&d.splice(v,1)}for(var b=0;b<d.length;b++){var _=d[b];_[1]===f?(d[b]=_.slice(),d[b][1]=l):_[2]===f&&(d[b]=_.slice(),d[b][2]=l)}for(var x=0;x<r.length;x++)r[x]===f&&(r[x]=l);return d},Gg=function(e,r,n,i){for(;n>i;){var u=Math.floor(Math.random()*r.length);r=J4(u,e,r),n--}return r},eP={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(W){return W.isLoop()});var u=n.length,s=i.length,l=Math.ceil(Math.pow(Math.log(u)/Math.LN2,2)),f=Math.floor(u/W4);if(u<2){kr("At least 2 nodes are required for Karger-Stein algorithm");return}for(var d=[],v=0;v<s;v++){var p=i[v];d.push([v,n.indexOf(p.source()),n.indexOf(p.target())])}for(var g=1/0,m=[],b=new Array(u),_=new Array(u),x=new Array(u),E=function(oe,se){for(var U=0;U<u;U++)se[U]=oe[U]},C=0;C<=l;C++){for(var A=0;A<u;A++)_[A]=A;var R=Gg(_,d.slice(),u,f),M=R.slice();E(_,x);var B=Gg(_,R,f,2),O=Gg(x,M,f,2);B.length<=O.length&&B.length<g?(g=B.length,m=B,E(_,b)):O.length<=B.length&&O.length<g&&(g=O.length,m=O,E(x,b))}for(var N=this.spawn(m.map(function(W){return i[W[0]]})),L=this.spawn(),P=this.spawn(),I=b[0],V=0;V<b.length;V++){var j=b[V],Z=n[V];j===I?L.merge(Z):P.merge(Z)}var J=function(oe){var se=e.spawn();return oe.forEach(function(U){se.merge(U),U.connectedEdges().forEach(function(X){e.contains(X)&&!N.contains(X)&&se.merge(X)})}),se},G=[J(L),J(P)],$={cut:N,components:G,partition1:L,partition2:P};return $}},Hg,tP=function(e){return{x:e.x,y:e.y}},$v=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},nq=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},$s=function(e){return{x:e[0],y:e[1]}},rP=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,u=r;u<n;u++){var s=e[u];isFinite(s)&&(i=Math.min(s,i))}return i},nP=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,u=r;u<n;u++){var s=e[u];isFinite(s)&&(i=Math.max(s,i))}return i},aP=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,u=0,s=r;s<n;s++){var l=e[s];isFinite(l)&&(i+=l,u++)}return i/u},iP=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var l=0,f=e.length-1;f>=0;f--){var d=e[f];s?isFinite(d)||(e[f]=-1/0,l++):e.splice(f,1)}u&&e.sort(function(g,m){return g-m});var v=e.length,p=Math.floor(v/2);return v%2!==0?e[p+1+l]:(e[p-1+l]+e[p+l])/2},uP=function(e){return Math.PI*e/180},Pd=function(e,r){return Math.atan2(r,e)-Math.PI/2},sE=Math.log2||function(t){return Math.log(t)/Math.log(2)},lE=function(e){return e>0?1:e<0?-1:0},No=function(e,r){return Math.sqrt(Ao(e,r))},Ao=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},oP=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var u=0;u<r;u++)e[u]=e[u]/n;return e},_n=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},Zs=function(e,r,n,i){return{x:_n(e.x,r.x,n.x,i),y:_n(e.y,r.y,n.y,i)}},sP=function(e,r,n,i){var u={x:r.x-e.x,y:r.y-e.y},s=No(e,r),l={x:u.x/s,y:u.y/s};return n=n??0,i=i??n*s,{x:e.x+l.x*i,y:e.y+l.y*i}},Xc=function(e,r,n){return Math.max(e,Math.min(n,r))},Wn=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},lP=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},cP=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},fP=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},aq=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},uv=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},ov=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,u,s;if(r.length===1)n=i=u=s=r[0];else if(r.length===2)n=u=r[0],s=i=r[1];else if(r.length===4){var l=ln(r,4);n=l[0],i=l[1],u=l[2],s=l[3]}return e.x1-=s,e.x2+=i,e.y1-=n,e.y2+=u,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},U_=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},cE=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Nu=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},F_=function(e,r){return Nu(e,r.x,r.y)},iq=function(e,r){return Nu(e,r.x1,r.y1)&&Nu(e,r.x2,r.y2)},dP=(Hg=Math.hypot)!==null&&Hg!==void 0?Hg:function(t,e){return Math.sqrt(t*t+e*e)};function vP(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var r=function(N,L){return{x:N.x+L.x,y:N.y+L.y}},n=function(N,L){return{x:N.x-L.x,y:N.y-L.y}},i=function(N,L){return{x:N.x*L,y:N.y*L}},u=function(N,L){return N.x*L.y-N.y*L.x},s=function(N){var L=dP(N.x,N.y);return L===0?{x:0,y:0}:{x:N.x/L,y:N.y/L}},l=function(N){for(var L=0,P=0;P<N.length;P++){var I=N[P],V=N[(P+1)%N.length];L+=I.x*V.y-V.x*I.y}return L/2},f=function(N,L,P,I){var V=n(L,N),j=n(I,P),Z=u(V,j);if(Math.abs(Z)<1e-9)return r(N,i(V,.5));var J=u(n(P,N),j)/Z;return r(N,i(V,J))},d=t.map(function(O){return{x:O.x,y:O.y}});l(d)<0&&d.reverse();for(var v=d.length,p=[],g=0;g<v;g++){var m=d[g],b=d[(g+1)%v],_=n(b,m),x=s({x:_.y,y:-_.x});p.push(x)}for(var E=p.map(function(O,N){var L=r(d[N],i(O,e)),P=r(d[(N+1)%v],i(O,e));return{p1:L,p2:P}}),C=[],A=0;A<v;A++){var R=E[(A-1+v)%v],M=E[A],B=f(R.p1,R.p2,M.p1,M.p2);C.push(B)}return C}function hP(t,e,r,n,i,u){var s=SP(t,e,r,n,i),l=vP(s,u),f=Wn();return l.forEach(function(d){return aq(f,d.x,d.y)}),f}var uq=function(e,r,n,i,u,s,l){var f=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",d=f==="auto"?Vu(u,s):f,v=u/2,p=s/2;d=Math.min(d,v,p);var g=d!==v,m=d!==p,b;if(g){var _=n-v+d-l,x=i-p-l,E=n+v-d+l,C=x;if(b=Lu(e,r,n,i,_,x,E,C,!1),b.length>0)return b}if(m){var A=n+v+l,R=i-p+d-l,M=A,B=i+p-d+l;if(b=Lu(e,r,n,i,A,R,M,B,!1),b.length>0)return b}if(g){var O=n-v+d-l,N=i+p+l,L=n+v-d+l,P=N;if(b=Lu(e,r,n,i,O,N,L,P,!1),b.length>0)return b}if(m){var I=n-v-l,V=i-p+d-l,j=I,Z=i+p-d+l;if(b=Lu(e,r,n,i,I,V,j,Z,!1),b.length>0)return b}var J;{var G=n-v+d,$=i-p+d;if(J=zc(e,r,n,i,G,$,d+l),J.length>0&&J[0]<=G&&J[1]<=$)return[J[0],J[1]]}{var W=n+v-d,oe=i-p+d;if(J=zc(e,r,n,i,W,oe,d+l),J.length>0&&J[0]>=W&&J[1]<=oe)return[J[0],J[1]]}{var se=n+v-d,U=i+p-d;if(J=zc(e,r,n,i,se,U,d+l),J.length>0&&J[0]>=se&&J[1]>=U)return[J[0],J[1]]}{var X=n-v+d,ue=i+p-d;if(J=zc(e,r,n,i,X,ue,d+l),J.length>0&&J[0]<=X&&J[1]>=ue)return[J[0],J[1]]}return[]},pP=function(e,r,n,i,u,s,l){var f=l,d=Math.min(n,u),v=Math.max(n,u),p=Math.min(i,s),g=Math.max(i,s);return d-f<=e&&e<=v+f&&p-f<=r&&r<=g+f},gP=function(e,r,n,i,u,s,l,f,d){var v={x1:Math.min(n,l,u)-d,x2:Math.max(n,l,u)+d,y1:Math.min(i,f,s)-d,y2:Math.max(i,f,s)+d};return!(e<v.x1||e>v.x2||r<v.y1||r>v.y2)},yP=function(e,r,n,i){n-=i;var u=r*r-4*e*n;if(u<0)return[];var s=Math.sqrt(u),l=2*e,f=(-r+s)/l,d=(-r-s)/l;return[f,d]},mP=function(e,r,n,i,u){var s=1e-5;e===0&&(e=s),r/=e,n/=e,i/=e;var l,f,d,v,p,g,m,b;if(f=(3*n-r*r)/9,d=-(27*i)+r*(9*n-2*(r*r)),d/=54,l=f*f*f+d*d,u[1]=0,m=r/3,l>0){p=d+Math.sqrt(l),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),g=d-Math.sqrt(l),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),u[0]=-m+p+g,m+=(p+g)/2,u[4]=u[2]=-m,m=Math.sqrt(3)*(-g+p)/2,u[3]=m,u[5]=-m;return}if(u[5]=u[3]=0,l===0){b=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),u[0]=-m+2*b,u[4]=u[2]=-(b+m);return}f=-f,v=f*f*f,v=Math.acos(d/Math.sqrt(v)),b=2*Math.sqrt(f),u[0]=-m+b*Math.cos(v/3),u[2]=-m+b*Math.cos((v+2*Math.PI)/3),u[4]=-m+b*Math.cos((v+4*Math.PI)/3)},bP=function(e,r,n,i,u,s,l,f){var d=1*n*n-4*n*u+2*n*l+4*u*u-4*u*l+l*l+i*i-4*i*s+2*i*f+4*s*s-4*s*f+f*f,v=9*n*u-3*n*n-3*n*l-6*u*u+3*u*l+9*i*s-3*i*i-3*i*f-6*s*s+3*s*f,p=3*n*n-6*n*u+n*l-n*e+2*u*u+2*u*e-l*e+3*i*i-6*i*s+i*f-i*r+2*s*s+2*s*r-f*r,g=1*n*u-n*n+n*e-u*e+i*s-i*i+i*r-s*r,m=[];mP(d,v,p,g,m);for(var b=1e-7,_=[],x=0;x<6;x+=2)Math.abs(m[x+1])<b&&m[x]>=0&&m[x]<=1&&_.push(m[x]);_.push(1),_.push(0);for(var E=-1,C,A,R,M=0;M<_.length;M++)C=Math.pow(1-_[M],2)*n+2*(1-_[M])*_[M]*u+_[M]*_[M]*l,A=Math.pow(1-_[M],2)*i+2*(1-_[M])*_[M]*s+_[M]*_[M]*f,R=Math.pow(C-e,2)+Math.pow(A-r,2),E>=0?R<E&&(E=R):E=R;return E},wP=function(e,r,n,i,u,s){var l=[e-n,r-i],f=[u-n,s-i],d=f[0]*f[0]+f[1]*f[1],v=l[0]*l[0]+l[1]*l[1],p=l[0]*f[0]+l[1]*f[1],g=p*p/d;return p<0?v:g>d?(e-u)*(e-u)+(r-s)*(r-s):v-g},ca=function(e,r,n){for(var i,u,s,l,f,d=0,v=0;v<n.length/2;v++)if(i=n[v*2],u=n[v*2+1],v+1<n.length/2?(s=n[(v+1)*2],l=n[(v+1)*2+1]):(s=n[(v+1-n.length/2)*2],l=n[(v+1-n.length/2)*2+1]),!(i==e&&s==e))if(i>=e&&e>=s||i<=e&&e<=s)f=(e-i)/(s-i)*(l-u)+u,f>r&&d++;else continue;return d%2!==0},Yi=function(e,r,n,i,u,s,l,f,d){var v=new Array(n.length),p;f[0]!=null?(p=Math.atan(f[1]/f[0]),f[0]<0?p=p+Math.PI/2:p=-p-Math.PI/2):p=f;for(var g=Math.cos(-p),m=Math.sin(-p),b=0;b<v.length/2;b++)v[b*2]=s/2*(n[b*2]*g-n[b*2+1]*m),v[b*2+1]=l/2*(n[b*2+1]*g+n[b*2]*m),v[b*2]+=i,v[b*2+1]+=u;var _;if(d>0){var x=Av(v,-d);_=Cv(x)}else _=v;return ca(e,r,_)},xP=function(e,r,n,i,u,s,l,f){for(var d=new Array(n.length*2),v=0;v<f.length;v++){var p=f[v];d[v*4+0]=p.startX,d[v*4+1]=p.startY,d[v*4+2]=p.stopX,d[v*4+3]=p.stopY;var g=Math.pow(p.cx-e,2)+Math.pow(p.cy-r,2);if(g<=Math.pow(p.radius,2))return!0}return ca(e,r,d)},Cv=function(e){for(var r=new Array(e.length/2),n,i,u,s,l,f,d,v,p=0;p<e.length/4;p++){n=e[p*4],i=e[p*4+1],u=e[p*4+2],s=e[p*4+3],p<e.length/4-1?(l=e[(p+1)*4],f=e[(p+1)*4+1],d=e[(p+1)*4+2],v=e[(p+1)*4+3]):(l=e[0],f=e[1],d=e[2],v=e[3]);var g=Lu(n,i,u,s,l,f,d,v,!0);r[p*2]=g[0],r[p*2+1]=g[1]}return r},Av=function(e,r){for(var n=new Array(e.length*2),i,u,s,l,f=0;f<e.length/2;f++){i=e[f*2],u=e[f*2+1],f<e.length/2-1?(s=e[(f+1)*2],l=e[(f+1)*2+1]):(s=e[0],l=e[1]);var d=l-u,v=-(s-i),p=Math.sqrt(d*d+v*v),g=d/p,m=v/p;n[f*4]=i+g*r,n[f*4+1]=u+m*r,n[f*4+2]=s+g*r,n[f*4+3]=l+m*r}return n},EP=function(e,r,n,i,u,s){var l=n-e,f=i-r;l/=u,f/=s;var d=Math.sqrt(l*l+f*f),v=d-1;if(v<0)return[];var p=v/d;return[(n-e)*p+e,(i-r)*p+r]},Bo=function(e,r,n,i,u,s,l){return e-=u,r-=s,e/=n/2+l,r/=i/2+l,e*e+r*r<=1},zc=function(e,r,n,i,u,s,l){var f=[n-e,i-r],d=[e-u,r-s],v=f[0]*f[0]+f[1]*f[1],p=2*(d[0]*f[0]+d[1]*f[1]),g=d[0]*d[0]+d[1]*d[1]-l*l,m=p*p-4*v*g;if(m<0)return[];var b=(-p+Math.sqrt(m))/(2*v),_=(-p-Math.sqrt(m))/(2*v),x=Math.min(b,_),E=Math.max(b,_),C=[];if(x>=0&&x<=1&&C.push(x),E>=0&&E<=1&&C.push(E),C.length===0)return[];var A=C[0]*f[0]+e,R=C[0]*f[1]+r;if(C.length>1){if(C[0]==C[1])return[A,R];var M=C[1]*f[0]+e,B=C[1]*f[1]+r;return[A,R,M,B]}else return[A,R]},Kg=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Lu=function(e,r,n,i,u,s,l,f,d){var v=e-u,p=n-e,g=l-u,m=r-s,b=i-r,_=f-s,x=g*m-_*v,E=p*m-b*v,C=_*p-g*b;if(C!==0){var A=x/C,R=E/C,M=.001,B=0-M,O=1+M;return B<=A&&A<=O&&B<=R&&R<=O?[e+A*p,r+A*b]:d?[e+A*p,r+A*b]:[]}else return x===0||E===0?Kg(e,n,l)===l?[l,f]:Kg(e,n,u)===u?[u,s]:Kg(u,l,n)===n?[n,i]:[]:[]},SP=function(e,r,n,i,u){var s=[],l=i/2,f=u/2,d=r,v=n;s.push({x:d+l*e[0],y:v+f*e[1]});for(var p=1;p<e.length/2;p++)s.push({x:d+l*e[p*2],y:v+f*e[p*2+1]});return s},Zc=function(e,r,n,i,u,s,l,f){var d=[],v,p=new Array(n.length),g=!0;s==null&&(g=!1);var m;if(g){for(var b=0;b<p.length/2;b++)p[b*2]=n[b*2]*s+i,p[b*2+1]=n[b*2+1]*l+u;if(f>0){var _=Av(p,-f);m=Cv(_)}else m=p}else m=n;for(var x,E,C,A,R=0;R<m.length/2;R++)x=m[R*2],E=m[R*2+1],R<m.length/2-1?(C=m[(R+1)*2],A=m[(R+1)*2+1]):(C=m[0],A=m[1]),v=Lu(e,r,i,u,x,E,C,A),v.length!==0&&d.push(v[0],v[1]);return d},TP=function(e,r,n,i,u,s,l,f,d){var v=[],p,g=new Array(n.length*2);d.forEach(function(C,A){A===0?(g[g.length-2]=C.startX,g[g.length-1]=C.startY):(g[A*4-2]=C.startX,g[A*4-1]=C.startY),g[A*4]=C.stopX,g[A*4+1]=C.stopY,p=zc(e,r,i,u,C.cx,C.cy,C.radius),p.length!==0&&v.push(p[0],p[1])});for(var m=0;m<g.length/4;m++)p=Lu(e,r,i,u,g[m*4],g[m*4+1],g[m*4+2],g[m*4+3],!1),p.length!==0&&v.push(p[0],p[1]);if(v.length>2){for(var b=[v[0],v[1]],_=Math.pow(b[0]-e,2)+Math.pow(b[1]-r,2),x=1;x<v.length/2;x++){var E=Math.pow(v[x*2]-e,2)+Math.pow(v[x*2+1]-r,2);E<=_&&(b[0]=v[x*2],b[1]=v[x*2+1],_=E)}return b}return v},Id=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],u=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(u-n)/u;return s<0&&(s=1e-5),[r[0]+s*i[0],r[1]+s*i[1]]},Qn=function(e,r){var n=Ox(e,r);return n=oq(n),n},oq=function(e){for(var r,n,i=e.length/2,u=1/0,s=1/0,l=-1/0,f=-1/0,d=0;d<i;d++)r=e[2*d],n=e[2*d+1],u=Math.min(u,r),l=Math.max(l,r),s=Math.min(s,n),f=Math.max(f,n);for(var v=2/(l-u),p=2/(f-s),g=0;g<i;g++)r=e[2*g]=e[2*g]*v,n=e[2*g+1]=e[2*g+1]*p,u=Math.min(u,r),l=Math.max(l,r),s=Math.min(s,n),f=Math.max(f,n);if(s<-1)for(var m=0;m<i;m++)n=e[2*m+1]=e[2*m+1]+(-1-s);return e},Ox=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var u=new Array(e*2),s,l=0;l<e;l++)s=l*n+i,u[2*l]=Math.cos(s),u[2*l+1]=Math.sin(-s);return u},Vu=function(e,r){return Math.min(e/4,r/4,8)},sq=function(e,r){return Math.min(e/10,r/10,8)},fE=function(){return 8},_P=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Mx=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function $g(t,e){function r(p){for(var g=[],m=0;m<p.length;m++){var b=p[m],_=p[(m+1)%p.length],x={x:_.x-b.x,y:_.y-b.y},E={x:-x.y,y:x.x},C=Math.sqrt(E.x*E.x+E.y*E.y);g.push({x:E.x/C,y:E.y/C})}return g}function n(p,g){var m=1/0,b=-1/0,_=da(p),x;try{for(_.s();!(x=_.n()).done;){var E=x.value,C=E.x*g.x+E.y*g.y;m=Math.min(m,C),b=Math.max(b,C)}}catch(A){_.e(A)}finally{_.f()}return{min:m,max:b}}function i(p,g){return!(p.max<g.min||g.max<p.min)}var u=[].concat(Ev(r(t)),Ev(r(e))),s=da(u),l;try{for(s.s();!(l=s.n()).done;){var f=l.value,d=n(t,f),v=n(e,f);if(!i(d,v))return!1}}catch(p){s.e(p)}finally{s.f()}return!0}var CP=Pn({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),AP={pageRank:function(e){for(var r=CP(e),n=r.dampingFactor,i=r.precision,u=r.iterations,s=r.weight,l=this._private.cy,f=this.byGroup(),d=f.nodes,v=f.edges,p=d.length,g=p*p,m=v.length,b=new Array(g),_=new Array(p),x=(1-n)/p,E=0;E<p;E++){for(var C=0;C<p;C++){var A=E*p+C;b[A]=0}_[E]=0}for(var R=0;R<m;R++){var M=v[R],B=M.data("source"),O=M.data("target");if(B!==O){var N=d.indexOfId(B),L=d.indexOfId(O),P=s(M),I=L*p+N;b[I]+=P,_[N]+=P}}for(var V=1/p+x,j=0;j<p;j++)if(_[j]===0)for(var Z=0;Z<p;Z++){var J=Z*p+j;b[J]=V}else for(var G=0;G<p;G++){var $=G*p+j;b[$]=b[$]/_[j]+x}for(var W=new Array(p),oe=new Array(p),se,U=0;U<p;U++)W[U]=1;for(var X=0;X<u;X++){for(var ue=0;ue<p;ue++)oe[ue]=0;for(var Y=0;Y<p;Y++)for(var ee=0;ee<p;ee++){var re=Y*p+ee;oe[Y]+=b[re]*W[ee]}oP(oe),se=W,W=oe,oe=se;for(var de=0,ze=0;ze<p;ze++){var ie=se[ze]-W[ze];de+=ie*ie}if(de<i)break}var he={rank:function(ge){return ge=l.collection(ge)[0],W[d.indexOf(ge)]}};return he}},V_=Pn({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Qs={degreeCentralityNormalized:function(e){e=V_(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var v={},p={},g=0,m=0,b=0;b<i;b++){var _=n[b],x=_.id();e.root=_;var E=this.degreeCentrality(e);g<E.indegree&&(g=E.indegree),m<E.outdegree&&(m=E.outdegree),v[x]=E.indegree,p[x]=E.outdegree}return{indegree:function(A){return g==0?0:(mt(A)&&(A=r.filter(A)),v[A.id()]/g)},outdegree:function(A){return m===0?0:(mt(A)&&(A=r.filter(A)),p[A.id()]/m)}}}else{for(var u={},s=0,l=0;l<i;l++){var f=n[l];e.root=f;var d=this.degreeCentrality(e);s<d.degree&&(s=d.degree),u[f.id()]=d.degree}return{degree:function(A){return s===0?0:(mt(A)&&(A=r.filter(A)),u[A.id()]/s)}}}},degreeCentrality:function(e){e=V_(e);var r=this.cy(),n=this,i=e,u=i.root,s=i.weight,l=i.directed,f=i.alpha;if(u=r.collection(u)[0],l){for(var m=u.connectedEdges(),b=m.filter(function(B){return B.target().same(u)&&n.has(B)}),_=m.filter(function(B){return B.source().same(u)&&n.has(B)}),x=b.length,E=_.length,C=0,A=0,R=0;R<b.length;R++)C+=s(b[R]);for(var M=0;M<_.length;M++)A+=s(_[M]);return{indegree:Math.pow(x,1-f)*Math.pow(C,f),outdegree:Math.pow(E,1-f)*Math.pow(A,f)}}else{for(var d=u.connectedEdges().intersection(n),v=d.length,p=0,g=0;g<d.length;g++)p+=s(d[g]);return{degree:Math.pow(v,1-f)*Math.pow(p,f)}}}};Qs.dc=Qs.degreeCentrality;Qs.dcn=Qs.degreeCentralityNormalised=Qs.degreeCentralityNormalized;var j_=Pn({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ws={closenessCentralityNormalized:function(e){for(var r=j_(e),n=r.harmonic,i=r.weight,u=r.directed,s=this.cy(),l={},f=0,d=this.nodes(),v=this.floydWarshall({weight:i,directed:u}),p=0;p<d.length;p++){for(var g=0,m=d[p],b=0;b<d.length;b++)if(p!==b){var _=v.distance(m,d[b]);n?g+=1/_:g+=_}n||(g=1/g),f<g&&(f=g),l[m.id()]=g}return{closeness:function(E){return f==0?0:(mt(E)?E=s.filter(E)[0].id():E=E.id(),l[E]/f)}}},closenessCentrality:function(e){var r=j_(e),n=r.root,i=r.weight,u=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var l=this.dijkstra({root:n,weight:i,directed:u}),f=0,d=this.nodes(),v=0;v<d.length;v++){var p=d[v];if(!p.same(n)){var g=l.distanceTo(p);s?f+=1/g:f+=g}}return s?f:1/f}};Ws.cc=Ws.closenessCentrality;Ws.ccn=Ws.closenessCentralityNormalised=Ws.closenessCentralityNormalized;var RP=Pn({weight:null,directed:!1}),Bx={betweennessCentrality:function(e){for(var r=RP(e),n=r.directed,i=r.weight,u=i!=null,s=this.cy(),l=this.nodes(),f={},d={},v=0,p={set:function(A,R){d[A]=R,R>v&&(v=R)},get:function(A){return d[A]}},g=0;g<l.length;g++){var m=l[g],b=m.id();n?f[b]=m.outgoers().nodes():f[b]=m.openNeighborhood().nodes(),p.set(b,0)}for(var _=function(){for(var A=l[x].id(),R=[],M={},B={},O={},N=new cf(function(Y,ee){return O[Y]-O[ee]}),L=0;L<l.length;L++){var P=l[L].id();M[P]=[],B[P]=0,O[P]=1/0}for(B[A]=1,O[A]=0,N.push(A);!N.empty();){var I=N.pop();if(R.push(I),u)for(var V=0;V<f[I].length;V++){var j=f[I][V],Z=s.getElementById(I),J=void 0;Z.edgesTo(j).length>0?J=Z.edgesTo(j)[0]:J=j.edgesTo(Z)[0];var G=i(J);j=j.id(),O[j]>O[I]+G&&(O[j]=O[I]+G,N.nodes.indexOf(j)<0?N.push(j):N.updateItem(j),B[j]=0,M[j]=[]),O[j]==O[I]+G&&(B[j]=B[j]+B[I],M[j].push(I))}else for(var $=0;$<f[I].length;$++){var W=f[I][$].id();O[W]==1/0&&(N.push(W),O[W]=O[I]+1),O[W]==O[I]+1&&(B[W]=B[W]+B[I],M[W].push(I))}}for(var oe={},se=0;se<l.length;se++)oe[l[se].id()]=0;for(;R.length>0;){for(var U=R.pop(),X=0;X<M[U].length;X++){var ue=M[U][X];oe[ue]=oe[ue]+B[ue]/B[U]*(1+oe[U])}U!=l[x].id()&&p.set(U,p.get(U)+oe[U])}},x=0;x<l.length;x++)_();var E={betweenness:function(A){var R=s.collection(A).id();return p.get(R)},betweennessNormalized:function(A){if(v==0)return 0;var R=s.collection(A).id();return p.get(R)/v}};return E.betweennessNormalised=E.betweennessNormalized,E}};Bx.bc=Bx.betweennessCentrality;var DP=Pn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),OP=function(e){return DP(e)},MP=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},BP=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},lq=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var u=0;u<r;u++)n+=e[u*r+i];for(var s=0;s<r;s++)e[s*r+i]=e[s*r+i]/n}},qP=function(e,r,n){for(var i=new Array(n*n),u=0;u<n;u++){for(var s=0;s<n;s++)i[u*n+s]=0;for(var l=0;l<n;l++)for(var f=0;f<n;f++)i[u*n+f]+=e[u*n+l]*r[l*n+f]}return i},kP=function(e,r,n){for(var i=e.slice(0),u=1;u<n;u++)e=qP(e,i,r);return e},zP=function(e,r,n){for(var i=new Array(r*r),u=0;u<r*r;u++)i[u]=Math.pow(e[u],n);return lq(i,r),i},NP=function(e,r,n,i){for(var u=0;u<n;u++){var s=Math.round(e[u]*Math.pow(10,i))/Math.pow(10,i),l=Math.round(r[u]*Math.pow(10,i))/Math.pow(10,i);if(s!==l)return!1}return!0},LP=function(e,r,n,i){for(var u=[],s=0;s<r;s++){for(var l=[],f=0;f<r;f++)Math.round(e[s*r+f]*1e3)/1e3>0&&l.push(n[f]);l.length!==0&&u.push(i.collection(l))}return u},PP=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},IP=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&PP(e[r],e[n])&&e.splice(n,1);return e},G_=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),u=OP(e),s={},l=0;l<r.length;l++)s[r[l].id()]=l;for(var f=r.length,d=f*f,v=new Array(d),p,g=0;g<d;g++)v[g]=0;for(var m=0;m<n.length;m++){var b=n[m],_=s[b.source().id()],x=s[b.target().id()],E=MP(b,u.attributes);v[_*f+x]+=E,v[x*f+_]+=E}BP(v,f,u.multFactor),lq(v,f);for(var C=!0,A=0;C&&A<u.maxIterations;)C=!1,p=kP(v,f,u.expandFactor),v=zP(p,f,u.inflateFactor),NP(v,p,d,4)||(C=!0),A++;var R=LP(v,f,r,i);return R=IP(R),R},UP={markovClustering:G_,mcl:G_},FP=function(e){return e},cq=function(e,r){return Math.abs(r-e)},H_=function(e,r,n){return e+cq(r,n)},K_=function(e,r,n){return e+Math.pow(n-r,2)},VP=function(e){return Math.sqrt(e)},jP=function(e,r,n){return Math.max(e,cq(r,n))},xc=function(e,r,n,i,u){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:FP,l=i,f,d,v=0;v<e;v++)f=r(v),d=n(v),l=u(l,f,d);return s(l)},ol={euclidean:function(e,r,n){return e>=2?xc(e,r,n,0,K_,VP):xc(e,r,n,0,H_)},squaredEuclidean:function(e,r,n){return xc(e,r,n,0,K_)},manhattan:function(e,r,n){return xc(e,r,n,0,H_)},max:function(e,r,n){return xc(e,r,n,-1/0,jP)}};ol["squared-euclidean"]=ol.squaredEuclidean;ol.squaredeuclidean=ol.squaredEuclidean;function Yv(t,e,r,n,i,u){var s;return Fr(t)?s=t:s=ol[t]||ol.euclidean,e===0&&Fr(t)?s(i,u):s(e,r,n,i,u)}var GP=Pn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),dE=function(e){return GP(e)},Rv=function(e,r,n,i,u){var s=u!=="kMedoids",l=s?function(p){return n[p]}:function(p){return i[p](n)},f=function(g){return i[g](r)},d=n,v=r;return Yv(e,i.length,l,f,d,v)},Yg=function(e,r,n){for(var i=n.length,u=new Array(i),s=new Array(i),l=new Array(r),f=null,d=0;d<i;d++)u[d]=e.min(n[d]).value,s[d]=e.max(n[d]).value;for(var v=0;v<r;v++){f=[];for(var p=0;p<i;p++)f[p]=Math.random()*(s[p]-u[p])+u[p];l[v]=f}return l},fq=function(e,r,n,i,u){for(var s=1/0,l=0,f=0;f<r.length;f++){var d=Rv(n,e,r[f],i,u);d<s&&(s=d,l=f)}return l},dq=function(e,r,n){for(var i=[],u=null,s=0;s<r.length;s++)u=r[s],n[u.id()]===e&&i.push(u);return i},HP=function(e,r,n){return Math.abs(r-e)<=n},KP=function(e,r,n){for(var i=0;i<e.length;i++)for(var u=0;u<e[i].length;u++){var s=Math.abs(e[i][u]-r[i][u]);if(s>n)return!1}return!0},$P=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},$_=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var u=e[Math.floor(Math.random()*e.length)];$P(u,n,i);)u=e[Math.floor(Math.random()*e.length)];n[i]=u}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},Y_=function(e,r,n){for(var i=0,u=0;u<r.length;u++)i+=Rv("manhattan",r[u],e,n,"kMedoids");return i},YP=function(e){var r=this.cy(),n=this.nodes(),i=null,u=dE(e),s=new Array(u.k),l={},f;u.testMode?typeof u.testCentroids=="number"?(u.testCentroids,f=Yg(n,u.k,u.attributes)):yn(u.testCentroids)==="object"?f=u.testCentroids:f=Yg(n,u.k,u.attributes):f=Yg(n,u.k,u.attributes);for(var d=!0,v=0;d&&v<u.maxIterations;){for(var p=0;p<n.length;p++)i=n[p],l[i.id()]=fq(i,f,u.distance,u.attributes,"kMeans");d=!1;for(var g=0;g<u.k;g++){var m=dq(g,n,l);if(m.length!==0){for(var b=u.attributes.length,_=f[g],x=new Array(b),E=new Array(b),C=0;C<b;C++){E[C]=0;for(var A=0;A<m.length;A++)i=m[A],E[C]+=u.attributes[C](i);x[C]=E[C]/m.length,HP(x[C],_[C],u.sensitivityThreshold)||(d=!0)}f[g]=x,s[g]=r.collection(m)}}v++}return s},XP=function(e){var r=this.cy(),n=this.nodes(),i=null,u=dE(e),s=new Array(u.k),l,f={},d,v=new Array(u.k);u.testMode?typeof u.testCentroids=="number"||(yn(u.testCentroids)==="object"?l=u.testCentroids:l=$_(n,u.k)):l=$_(n,u.k);for(var p=!0,g=0;p&&g<u.maxIterations;){for(var m=0;m<n.length;m++)i=n[m],f[i.id()]=fq(i,l,u.distance,u.attributes,"kMedoids");p=!1;for(var b=0;b<l.length;b++){var _=dq(b,n,f);if(_.length!==0){v[b]=Y_(l[b],_,u.attributes);for(var x=0;x<_.length;x++)d=Y_(_[x],_,u.attributes),d<v[b]&&(v[b]=d,l[b]=_[x],p=!0);s[b]=r.collection(_)}}g++}return s},ZP=function(e,r,n,i,u){for(var s,l,f=0;f<r.length;f++)for(var d=0;d<e.length;d++)i[f][d]=Math.pow(n[f][d],u.m);for(var v=0;v<e.length;v++)for(var p=0;p<u.attributes.length;p++){s=0,l=0;for(var g=0;g<r.length;g++)s+=i[g][v]*u.attributes[p](r[g]),l+=i[g][v];e[v][p]=s/l}},QP=function(e,r,n,i,u){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var l,f,d,v=2/(u.m-1),p=0;p<n.length;p++)for(var g=0;g<i.length;g++){l=0;for(var m=0;m<n.length;m++)f=Rv(u.distance,i[g],n[p],u.attributes,"cmeans"),d=Rv(u.distance,i[g],n[m],u.attributes,"cmeans"),l+=Math.pow(f/d,v);e[g][p]=1/l}},WP=function(e,r,n,i){for(var u=new Array(n.k),s=0;s<u.length;s++)u[s]=[];for(var l,f,d=0;d<r.length;d++){l=-1/0,f=-1;for(var v=0;v<r[0].length;v++)r[d][v]>l&&(l=r[d][v],f=v);u[f].push(e[d])}for(var p=0;p<u.length;p++)u[p]=i.collection(u[p]);return u},X_=function(e){var r=this.cy(),n=this.nodes(),i=dE(e),u,s,l,f,d;f=new Array(n.length);for(var v=0;v<n.length;v++)f[v]=new Array(i.k);l=new Array(n.length);for(var p=0;p<n.length;p++)l[p]=new Array(i.k);for(var g=0;g<n.length;g++){for(var m=0,b=0;b<i.k;b++)l[g][b]=Math.random(),m+=l[g][b];for(var _=0;_<i.k;_++)l[g][_]=l[g][_]/m}s=new Array(i.k);for(var x=0;x<i.k;x++)s[x]=new Array(i.attributes.length);d=new Array(n.length);for(var E=0;E<n.length;E++)d[E]=new Array(i.k);for(var C=!0,A=0;C&&A<i.maxIterations;)C=!1,ZP(s,n,l,d,i),QP(l,f,s,n,i),KP(l,f,i.sensitivityThreshold)||(C=!0),A++;return u=WP(n,l,i,r),{clusters:u,degreeOfMembership:l}},JP={kMeans:YP,kMedoids:XP,fuzzyCMeans:X_,fcm:X_},eI=Pn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),tI={single:"min",complete:"max"},rI=function(e){var r=eI(e),n=tI[r.linkage];return n!=null&&(r.linkage=n),r},Z_=function(e,r,n,i,u){for(var s=0,l=1/0,f,d=u.attributes,v=function(L,P){return Yv(u.distance,d.length,function(I){return d[I](L)},function(I){return d[I](P)},L,P)},p=0;p<e.length;p++){var g=e[p].key,m=n[g][i[g]];m<l&&(s=g,l=m)}if(u.mode==="threshold"&&l>=u.threshold||u.mode==="dendrogram"&&e.length===1)return!1;var b=r[s],_=r[i[s]],x;u.mode==="dendrogram"?x={left:b,right:_,key:b.key}:x={value:b.value.concat(_.value),key:b.key},e[b.index]=x,e.splice(_.index,1),r[b.key]=x;for(var E=0;E<e.length;E++){var C=e[E];b.key===C.key?f=1/0:u.linkage==="min"?(f=n[b.key][C.key],n[b.key][C.key]>n[_.key][C.key]&&(f=n[_.key][C.key])):u.linkage==="max"?(f=n[b.key][C.key],n[b.key][C.key]<n[_.key][C.key]&&(f=n[_.key][C.key])):u.linkage==="mean"?f=(n[b.key][C.key]*b.size+n[_.key][C.key]*_.size)/(b.size+_.size):u.mode==="dendrogram"?f=v(C.value,b.value):f=v(C.value[0],b.value[0]),n[b.key][C.key]=n[C.key][b.key]=f}for(var A=0;A<e.length;A++){var R=e[A].key;if(i[R]===b.key||i[R]===_.key){for(var M=R,B=0;B<e.length;B++){var O=e[B].key;n[R][O]<n[R][M]&&(M=O)}i[R]=M}e[A].index=A}return b.key=_.key=b.index=_.index=null,!0},Ys=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&Ys(e.left,r),e.right&&Ys(e.right,r)))},qx=function(e,r){if(!e)return"";if(e.left&&e.right){var n=qx(e.left,r),i=qx(e.right,r),u=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:u.id()}}),r.add({group:"edges",data:{source:i,target:u.id()}}),u.id()}else if(e.value)return e.value.id()},kx=function(e,r,n){if(!e)return[];var i=[],u=[],s=[];return r===0?(e.left&&Ys(e.left,i),e.right&&Ys(e.right,u),s=i.concat(u),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Ys(e.left,i),e.right&&Ys(e.right,u),[n.collection(i),n.collection(u)]):e.value?[n.collection(e.value)]:(e.left&&(i=kx(e.left,r-1,n)),e.right&&(u=kx(e.right,r-1,n)),i.concat(u))},Q_=function(e){for(var r=this.cy(),n=this.nodes(),i=rI(e),u=i.attributes,s=function(A,R){return Yv(i.distance,u.length,function(M){return u[M](A)},function(M){return u[M](R)},A,R)},l=[],f=[],d=[],v=[],p=0;p<n.length;p++){var g={value:i.mode==="dendrogram"?n[p]:[n[p]],key:p,index:p};l[p]=g,v[p]=g,f[p]=[],d[p]=0}for(var m=0;m<l.length;m++)for(var b=0;b<=m;b++){var _=void 0;i.mode==="dendrogram"?_=m===b?1/0:s(l[m].value,l[b].value):_=m===b?1/0:s(l[m].value[0],l[b].value[0]),f[m][b]=_,f[b][m]=_,_<f[m][d[m]]&&(d[m]=b)}for(var x=Z_(l,v,f,d,i);x;)x=Z_(l,v,f,d,i);var E;return i.mode==="dendrogram"?(E=kx(l[0],i.dendrogramDepth,r),i.addDendrogram&&qx(l[0],r)):(E=new Array(l.length),l.forEach(function(C,A){C.key=C.index=null,E[A]=r.collection(C.value)})),E},nI={hierarchicalClustering:Q_,hca:Q_},aI=Pn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),iI=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||kr("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(u){return u===n})||et(n)||kr("Preference must be one of [".concat(i.map(function(u){return"'".concat(u,"'")}).join(", "),"] or a number.  Got: ").concat(n)),aI(e)},uI=function(e,r,n,i){var u=function(l,f){return i[f](l)};return-Yv(e,i.length,function(s){return u(r,s)},function(s){return u(n,s)},r,n)},oI=function(e,r){var n=null;return r==="median"?n=iP(e):r==="mean"?n=aP(e):r==="min"?n=rP(e):r==="max"?n=nP(e):n=r,n},sI=function(e,r,n){for(var i=[],u=0;u<e;u++)r[u*e+u]+n[u*e+u]>0&&i.push(u);return i},W_=function(e,r,n){for(var i=[],u=0;u<e;u++){for(var s=-1,l=-1/0,f=0;f<n.length;f++){var d=n[f];r[u*e+d]>l&&(s=d,l=r[u*e+d])}s>0&&i.push(s)}for(var v=0;v<n.length;v++)i[n[v]]=n[v];return i},lI=function(e,r,n){for(var i=W_(e,r,n),u=0;u<n.length;u++){for(var s=[],l=0;l<i.length;l++)i[l]===n[u]&&s.push(l);for(var f=-1,d=-1/0,v=0;v<s.length;v++){for(var p=0,g=0;g<s.length;g++)p+=r[s[g]*e+s[v]];p>d&&(f=v,d=p)}n[u]=s[f]}return i=W_(e,r,n),i},J_=function(e){for(var r=this.cy(),n=this.nodes(),i=iI(e),u={},s=0;s<n.length;s++)u[n[s].id()]=s;var l,f,d,v,p,g;l=n.length,f=l*l,d=new Array(f);for(var m=0;m<f;m++)d[m]=-1/0;for(var b=0;b<l;b++)for(var _=0;_<l;_++)b!==_&&(d[b*l+_]=uI(i.distance,n[b],n[_],i.attributes));v=oI(d,i.preference);for(var x=0;x<l;x++)d[x*l+x]=v;p=new Array(f);for(var E=0;E<f;E++)p[E]=0;g=new Array(f);for(var C=0;C<f;C++)g[C]=0;for(var A=new Array(l),R=new Array(l),M=new Array(l),B=0;B<l;B++)A[B]=0,R[B]=0,M[B]=0;for(var O=new Array(l*i.minIterations),N=0;N<O.length;N++)O[N]=0;var L;for(L=0;L<i.maxIterations;L++){for(var P=0;P<l;P++){for(var I=-1/0,V=-1/0,j=-1,Z=0,J=0;J<l;J++)A[J]=p[P*l+J],Z=g[P*l+J]+d[P*l+J],Z>=I?(V=I,I=Z,j=J):Z>V&&(V=Z);for(var G=0;G<l;G++)p[P*l+G]=(1-i.damping)*(d[P*l+G]-I)+i.damping*A[G];p[P*l+j]=(1-i.damping)*(d[P*l+j]-V)+i.damping*A[j]}for(var $=0;$<l;$++){for(var W=0,oe=0;oe<l;oe++)A[oe]=g[oe*l+$],R[oe]=Math.max(0,p[oe*l+$]),W+=R[oe];W-=R[$],R[$]=p[$*l+$],W+=R[$];for(var se=0;se<l;se++)g[se*l+$]=(1-i.damping)*Math.min(0,W-R[se])+i.damping*A[se];g[$*l+$]=(1-i.damping)*(W-R[$])+i.damping*A[$]}for(var U=0,X=0;X<l;X++){var ue=g[X*l+X]+p[X*l+X]>0?1:0;O[L%i.minIterations*l+X]=ue,U+=ue}if(U>0&&(L>=i.minIterations-1||L==i.maxIterations-1)){for(var Y=0,ee=0;ee<l;ee++){M[ee]=0;for(var re=0;re<i.minIterations;re++)M[ee]+=O[re*l+ee];(M[ee]===0||M[ee]===i.minIterations)&&Y++}if(Y===l)break}}for(var de=sI(l,p,g),ze=lI(l,d,de),ie={},he=0;he<de.length;he++)ie[de[he]]=[];for(var be=0;be<n.length;be++){var ge=u[n[be].id()],Be=ze[ge];Be!=null&&ie[Be].push(n[be])}for(var Ge=new Array(de.length),He=0;He<de.length;He++)Ge[He]=r.collection(ie[de[He]]);return Ge},cI={affinityPropagation:J_,ap:J_},fI=Pn({root:void 0,directed:!1}),dI={hierholzer:function(e){if(!Jt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=fI(e),i=n.root,u=n.directed,s=this,l=!1,f,d,v;i&&(v=mt(i)?this.filter(i)[0].id():i[0].id());var p={},g={};u?s.forEach(function(C){var A=C.id();if(C.isNode()){var R=C.indegree(!0),M=C.outdegree(!0),B=R-M,O=M-R;B==1?f?l=!0:f=A:O==1?d?l=!0:d=A:(O>1||B>1)&&(l=!0),p[A]=[],C.outgoers().forEach(function(N){N.isEdge()&&p[A].push(N.id())})}else g[A]=[void 0,C.target().id()]}):s.forEach(function(C){var A=C.id();if(C.isNode()){var R=C.degree(!0);R%2&&(f?d?l=!0:d=A:f=A),p[A]=[],C.connectedEdges().forEach(function(M){return p[A].push(M.id())})}else g[A]=[C.source().id(),C.target().id()]});var m={found:!1,trail:void 0};if(l)return m;if(d&&f)if(u){if(v&&d!=v)return m;v=d}else{if(v&&d!=v&&f!=v)return m;v||(v=d)}else v||(v=s[0].id());var b=function(A){for(var R=A,M=[A],B,O,N;p[R].length;)B=p[R].shift(),O=g[B][0],N=g[B][1],R!=N?(p[N]=p[N].filter(function(L){return L!=B}),R=N):!u&&R!=O&&(p[O]=p[O].filter(function(L){return L!=B}),R=O),M.unshift(B),M.unshift(R);return M},_=[],x=[];for(x=b(v);x.length!=1;)p[x[0]].length==0?(_.unshift(s.getElementById(x.shift())),_.unshift(s.getElementById(x.shift()))):x=b(x.shift()).concat(x);_.unshift(s.getElementById(x.shift()));for(var E in p)if(p[E].length)return m;return m.found=!0,m.trail=this.spawn(_,!0),m}},Ud=function(){var e=this,r={},n=0,i=0,u=[],s=[],l={},f=function(g,m){for(var b=s.length-1,_=[],x=e.spawn();s[b].x!=g||s[b].y!=m;)_.push(s.pop().edge),b--;_.push(s.pop().edge),_.forEach(function(E){var C=E.connectedNodes().intersection(e);x.merge(E),C.forEach(function(A){var R=A.id(),M=A.connectedEdges().intersection(e);x.merge(A),r[R].cutVertex?x.merge(M.filter(function(B){return B.isLoop()})):x.merge(M)})}),u.push(x)},d=function(g,m,b){g===b&&(i+=1),r[m]={id:n,low:n++,cutVertex:!1};var _=e.getElementById(m).connectedEdges().intersection(e);if(_.size()===0)u.push(e.spawn(e.getElementById(m)));else{var x,E,C,A;_.forEach(function(R){x=R.source().id(),E=R.target().id(),C=x===m?E:x,C!==b&&(A=R.id(),l[A]||(l[A]=!0,s.push({x:m,y:C,edge:R})),C in r?r[m].low=Math.min(r[m].low,r[C].id):(d(g,C,m),r[m].low=Math.min(r[m].low,r[C].low),r[m].id<=r[C].low&&(r[m].cutVertex=!0,f(m,C))))})}};e.forEach(function(p){if(p.isNode()){var g=p.id();g in r||(i=0,d(g,g),r[g].cutVertex=i>1)}});var v=Object.keys(r).filter(function(p){return r[p].cutVertex}).map(function(p){return e.getElementById(p)});return{cut:e.spawn(v),components:u}},vI={hopcroftTarjanBiconnected:Ud,htbc:Ud,htb:Ud,hopcroftTarjanBiconnectedComponents:Ud},Fd=function(){var e=this,r={},n=0,i=[],u=[],s=e.spawn(e),l=function(d){u.push(d),r[d]={index:n,low:n++,explored:!1};var v=e.getElementById(d).connectedEdges().intersection(e);if(v.forEach(function(_){var x=_.target().id();x!==d&&(x in r||l(x),r[x].explored||(r[d].low=Math.min(r[d].low,r[x].low)))}),r[d].index===r[d].low){for(var p=e.spawn();;){var g=u.pop();if(p.merge(e.getElementById(g)),r[g].low=r[d].index,r[g].explored=!0,g===d)break}var m=p.edgesWith(p),b=p.merge(m);i.push(b),s=s.difference(b)}};return e.forEach(function(f){if(f.isNode()){var d=f.id();d in r||l(d)}}),{cut:s,components:i}},hI={tarjanStronglyConnected:Fd,tsc:Fd,tscc:Fd,tarjanStronglyConnectedComponents:Fd},vq={};[Yc,G4,H4,$4,X4,Q4,eP,AP,Qs,Ws,Bx,UP,JP,nI,cI,dI,vI,hI].forEach(function(t){St(vq,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var hq=0,pq=1,gq=2,Za=function(e){if(!(this instanceof Za))return new Za(e);this.id="Thenable/1.0.7",this.state=hq,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Za.prototype={fulfill:function(e){return eC(this,pq,"fulfillValue",e)},reject:function(e){return eC(this,gq,"rejectReason",e)},then:function(e,r){var n=this,i=new Za;return n.onFulfilled.push(rC(e,i,"fulfill")),n.onRejected.push(rC(r,i,"reject")),yq(n),i.proxy}};var eC=function(e,r,n,i){return e.state===hq&&(e.state=r,e[n]=i,yq(e)),e},yq=function(e){e.state===pq?tC(e,"onFulfilled",e.fulfillValue):e.state===gq&&tC(e,"onRejected",e.rejectReason)},tC=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var u=function(){for(var l=0;l<i.length;l++)i[l](n)};typeof setImmediate=="function"?setImmediate(u):setTimeout(u,0)}},rC=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var u;try{u=e(i)}catch(s){r.reject(s);return}mq(r,u)}}},mq=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(yn(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(u){e.reject(u);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(u){i||(i=!0,u===r?e.reject(new TypeError("circular thenable chain")):mq(e,u))},function(u){i||(i=!0,e.reject(u))})}catch(u){i||e.reject(u)}return}e.fulfill(r)};Za.all=function(t){return new Za(function(e,r){for(var n=new Array(t.length),i=0,u=function(f,d){n[f]=d,i++,i===t.length&&e(n)},s=0;s<t.length;s++)(function(l){var f=t[l],d=f!=null&&f.then!=null;if(d)f.then(function(p){u(l,p)},function(p){r(p)});else{var v=f;u(l,v)}})(s)})};Za.resolve=function(t){return new Za(function(e,r){e(t)})};Za.reject=function(t){return new Za(function(e,r){r(t)})};var fl=typeof Promise<"u"?Promise:Za,zx=function(e,r,n){var i=rE(e),u=!i,s=this._private=St({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&Fr(s.complete)&&s.completes.push(s.complete),u){var l=e.position();s.startPosition=s.startPosition||{x:l.x,y:l.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(i){var f=e.pan();s.startPan={x:f.x,y:f.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},Lo=zx.prototype;St(Lo,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Ea(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(d,v){var p=e[d];p!=null&&(e[d]=e[v],e[v]=p)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var u=e.style[i],s=u.name,l=e.startStyle[s];e.startStyle[s]=u,e.style[i]=l}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new fl(function(i,u){n.push(function(){i()})})}});Lo.complete=Lo.completed;Lo.run=Lo.play;Lo.running=Lo.playing;var pI={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],u=this._private.cy||this;if(!u.styleEnabled())return!1;var s=i[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var s=0;s<i.length;s++){var l=i[s];l._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,u=i.length!==void 0,s=u?i:[i],l=this._private.cy||this,f=!u,d=!f;if(!l.styleEnabled())return this;var v=l.style();r=St({},r,n);var p=Object.keys(r).length===0;if(p)return new zx(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(d&&(r.style=v.getPropsList(r.style||r.css),r.css=void 0),d&&r.renderedPosition!=null){var g=r.renderedPosition,m=l.pan(),b=l.zoom();r.position=nq(g,b,m)}if(f&&r.panBy!=null){var _=r.panBy,x=l.pan();r.pan={x:x.x+_.x,y:x.y+_.y}}var E=r.center||r.centre;if(f&&E!=null){var C=l.getCenterPan(E.eles,r.zoom);C!=null&&(r.pan=C)}if(f&&r.fit!=null){var A=r.fit,R=l.getFitViewport(A.eles||A.boundingBox,A.padding);R!=null&&(r.pan=R.pan,r.zoom=R.zoom)}if(f&&Jt(r.zoom)){var M=l.getZoomedViewport(r.zoom);M!=null?(M.zoomed&&(r.zoom=M.zoom),M.panned&&(r.pan=M.pan)):r.zoom=null}return new zx(s[0],r)}},animate:function(){return function(r,n){var i=this,u=i.length!==void 0,s=u?i:[i],l=this._private.cy||this;if(!l.styleEnabled())return this;n&&(r=St({},r,n));for(var f=0;f<s.length;f++){var d=s[f],v=d.animated()&&(r.queue===void 0||r.queue),p=d.animation(r,v?{queue:!0}:void 0);p.play()}return this}},stop:function(){return function(r,n){var i=this,u=i.length!==void 0,s=u?i:[i],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var f=0;f<s.length;f++){for(var d=s[f],v=d._private,p=v.animation.current,g=0;g<p.length;g++){var m=p[g],b=m._private;n&&(b.duration=0)}r&&(v.animation.queue=[]),n||(v.animation.current=[])}return l.notify("draw"),this}}},Xg,nC;function Xv(){if(nC)return Xg;nC=1;var t=Array.isArray;return Xg=t,Xg}var Zg,aC;function gI(){if(aC)return Zg;aC=1;var t=Xv(),e=sf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(u,s){if(t(u))return!1;var l=typeof u;return l=="number"||l=="symbol"||l=="boolean"||u==null||e(u)?!0:n.test(u)||!r.test(u)||s!=null&&u in Object(s)}return Zg=i,Zg}var Qg,iC;function yI(){if(iC)return Qg;iC=1;var t=YB(),e=of(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",u="[object Proxy]";function s(l){if(!e(l))return!1;var f=t(l);return f==n||f==i||f==r||f==u}return Qg=s,Qg}var Wg,uC;function mI(){if(uC)return Wg;uC=1;var t=Hv(),e=t["__core-js_shared__"];return Wg=e,Wg}var Jg,oC;function bI(){if(oC)return Jg;oC=1;var t=mI(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Jg=r,Jg}var ey,sC;function wI(){if(sC)return ey;sC=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return ey=r,ey}var ty,lC;function xI(){if(lC)return ty;lC=1;var t=yI(),e=bI(),r=of(),n=wI(),i=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,f=s.toString,d=l.hasOwnProperty,v=RegExp("^"+f.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||e(g))return!1;var m=t(g)?v:u;return m.test(n(g))}return ty=p,ty}var ry,cC;function EI(){if(cC)return ry;cC=1;function t(e,r){return e?.[r]}return ry=t,ry}var ny,fC;function vE(){if(fC)return ny;fC=1;var t=xI(),e=EI();function r(n,i){var u=e(n,i);return t(u)?u:void 0}return ny=r,ny}var ay,dC;function Zv(){if(dC)return ay;dC=1;var t=vE(),e=t(Object,"create");return ay=e,ay}var iy,vC;function SI(){if(vC)return iy;vC=1;var t=Zv();function e(){this.__data__=t?t(null):{},this.size=0}return iy=e,iy}var uy,hC;function TI(){if(hC)return uy;hC=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return uy=t,uy}var oy,pC;function _I(){if(pC)return oy;pC=1;var t=Zv(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(u){var s=this.__data__;if(t){var l=s[u];return l===e?void 0:l}return n.call(s,u)?s[u]:void 0}return oy=i,oy}var sy,gC;function CI(){if(gC)return sy;gC=1;var t=Zv(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var u=this.__data__;return t?u[i]!==void 0:r.call(u,i)}return sy=n,sy}var ly,yC;function AI(){if(yC)return ly;yC=1;var t=Zv(),e="__lodash_hash_undefined__";function r(n,i){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=t&&i===void 0?e:i,this}return ly=r,ly}var cy,mC;function RI(){if(mC)return cy;mC=1;var t=SI(),e=TI(),r=_I(),n=CI(),i=AI();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,cy=u,cy}var fy,bC;function DI(){if(bC)return fy;bC=1;function t(){this.__data__=[],this.size=0}return fy=t,fy}var dy,wC;function bq(){if(wC)return dy;wC=1;function t(e,r){return e===r||e!==e&&r!==r}return dy=t,dy}var vy,xC;function Qv(){if(xC)return vy;xC=1;var t=bq();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return vy=e,vy}var hy,EC;function OI(){if(EC)return hy;EC=1;var t=Qv(),e=Array.prototype,r=e.splice;function n(i){var u=this.__data__,s=t(u,i);if(s<0)return!1;var l=u.length-1;return s==l?u.pop():r.call(u,s,1),--this.size,!0}return hy=n,hy}var py,SC;function MI(){if(SC)return py;SC=1;var t=Qv();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return py=e,py}var gy,TC;function BI(){if(TC)return gy;TC=1;var t=Qv();function e(r){return t(this.__data__,r)>-1}return gy=e,gy}var yy,_C;function qI(){if(_C)return yy;_C=1;var t=Qv();function e(r,n){var i=this.__data__,u=t(i,r);return u<0?(++this.size,i.push([r,n])):i[u][1]=n,this}return yy=e,yy}var my,CC;function kI(){if(CC)return my;CC=1;var t=DI(),e=OI(),r=MI(),n=BI(),i=qI();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,my=u,my}var by,AC;function zI(){if(AC)return by;AC=1;var t=vE(),e=Hv(),r=t(e,"Map");return by=r,by}var wy,RC;function NI(){if(RC)return wy;RC=1;var t=RI(),e=kI(),r=zI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return wy=n,wy}var xy,DC;function LI(){if(DC)return xy;DC=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return xy=t,xy}var Ey,OC;function Wv(){if(OC)return Ey;OC=1;var t=LI();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Ey=e,Ey}var Sy,MC;function PI(){if(MC)return Sy;MC=1;var t=Wv();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Sy=e,Sy}var Ty,BC;function II(){if(BC)return Ty;BC=1;var t=Wv();function e(r){return t(this,r).get(r)}return Ty=e,Ty}var _y,qC;function UI(){if(qC)return _y;qC=1;var t=Wv();function e(r){return t(this,r).has(r)}return _y=e,_y}var Cy,kC;function FI(){if(kC)return Cy;kC=1;var t=Wv();function e(r,n){var i=t(this,r),u=i.size;return i.set(r,n),this.size+=i.size==u?0:1,this}return Cy=e,Cy}var Ay,zC;function VI(){if(zC)return Ay;zC=1;var t=NI(),e=PI(),r=II(),n=UI(),i=FI();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,Ay=u,Ay}var Ry,NC;function jI(){if(NC)return Ry;NC=1;var t=VI(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var u=function(){var s=arguments,l=i?i.apply(this,s):s[0],f=u.cache;if(f.has(l))return f.get(l);var d=n.apply(this,s);return u.cache=f.set(l,d)||f,d};return u.cache=new(r.Cache||t),u}return r.Cache=t,Ry=r,Ry}var Dy,LC;function GI(){if(LC)return Dy;LC=1;var t=jI(),e=500;function r(n){var i=t(n,function(s){return u.size===e&&u.clear(),s}),u=i.cache;return i}return Dy=r,Dy}var Oy,PC;function wq(){if(PC)return Oy;PC=1;var t=GI(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var u=[];return i.charCodeAt(0)===46&&u.push(""),i.replace(e,function(s,l,f,d){u.push(f?d.replace(r,"$1"):l||s)}),u});return Oy=n,Oy}var My,IC;function xq(){if(IC)return My;IC=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,u=Array(i);++n<i;)u[n]=r(e[n],n,e);return u}return My=t,My}var By,UC;function HI(){if(UC)return By;UC=1;var t=aE(),e=xq(),r=Xv(),n=sf(),i=t?t.prototype:void 0,u=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return u?u.call(l):"";var f=l+"";return f=="0"&&1/l==-1/0?"-0":f}return By=s,By}var qy,FC;function Eq(){if(FC)return qy;FC=1;var t=HI();function e(r){return r==null?"":t(r)}return qy=e,qy}var ky,VC;function Sq(){if(VC)return ky;VC=1;var t=Xv(),e=gI(),r=wq(),n=Eq();function i(u,s){return t(u)?u:e(u,s)?[u]:r(n(u))}return ky=i,ky}var zy,jC;function hE(){if(jC)return zy;jC=1;var t=sf();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return zy=e,zy}var Ny,GC;function KI(){if(GC)return Ny;GC=1;var t=Sq(),e=hE();function r(n,i){i=t(i,n);for(var u=0,s=i.length;n!=null&&u<s;)n=n[e(i[u++])];return u&&u==s?n:void 0}return Ny=r,Ny}var Ly,HC;function $I(){if(HC)return Ly;HC=1;var t=KI();function e(r,n,i){var u=r==null?void 0:t(r,n);return u===void 0?i:u}return Ly=e,Ly}var YI=$I(),XI=uf(YI),Py,KC;function ZI(){if(KC)return Py;KC=1;var t=vE(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Py=e,Py}var Iy,$C;function QI(){if($C)return Iy;$C=1;var t=ZI();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Iy=e,Iy}var Uy,YC;function WI(){if(YC)return Uy;YC=1;var t=QI(),e=bq(),r=Object.prototype,n=r.hasOwnProperty;function i(u,s,l){var f=u[s];(!(n.call(u,s)&&e(f,l))||l===void 0&&!(s in u))&&t(u,s,l)}return Uy=i,Uy}var Fy,XC;function JI(){if(XC)return Fy;XC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var u=typeof n;return i=i??t,!!i&&(u=="number"||u!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Fy=r,Fy}var Vy,ZC;function e6(){if(ZC)return Vy;ZC=1;var t=WI(),e=Sq(),r=JI(),n=of(),i=hE();function u(s,l,f,d){if(!n(s))return s;l=e(l,s);for(var v=-1,p=l.length,g=p-1,m=s;m!=null&&++v<p;){var b=i(l[v]),_=f;if(b==="__proto__"||b==="constructor"||b==="prototype")return s;if(v!=g){var x=m[b];_=d?d(x,b,m):void 0,_===void 0&&(_=n(x)?x:r(l[v+1])?[]:{})}t(m,b,_),m=m[b]}return s}return Vy=u,Vy}var jy,QC;function t6(){if(QC)return jy;QC=1;var t=e6();function e(r,n,i){return r==null?r:t(r,n,i)}return jy=e,jy}var r6=t6(),n6=uf(r6),Gy,WC;function a6(){if(WC)return Gy;WC=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return Gy=t,Gy}var Hy,JC;function i6(){if(JC)return Hy;JC=1;var t=xq(),e=a6(),r=Xv(),n=sf(),i=wq(),u=hE(),s=Eq();function l(f){return r(f)?t(f,u):n(f)?[f]:e(i(s(f)))}return Hy=l,Hy}var u6=i6(),o6=uf(u6),s6={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,u){},onSet:function(i){},canSet:function(i){return!0}};return e=St({},r,e),function(i,u){var s=e,l=this,f=l.length!==void 0,d=f?l:[l],v=f?l[0]:l;if(mt(i)){var p=i.indexOf(".")!==-1,g=p&&o6(i);if(s.allowGetting&&u===void 0){var m;return v&&(s.beforeGet(v),g&&v._private[s.field][i]===void 0?m=XI(v._private[s.field],g):m=v._private[s.field][i]),m}else if(s.allowSetting&&u!==void 0){var b=!s.immutableKeys[i];if(b){var _=PB({},i,u);s.beforeSet(l,_);for(var x=0,E=d.length;x<E;x++){var C=d[x];s.canSet(C)&&(g&&v._private[s.field][i]===void 0?n6(C._private[s.field],g,u):C._private[s.field][i]=u)}s.updateStyle&&l.updateStyle(),s.onSet(l),s.settingTriggersEvent&&l[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Jt(i)){var A=i,R,M,B=Object.keys(A);s.beforeSet(l,A);for(var O=0;O<B.length;O++){R=B[O],M=A[R];var N=!s.immutableKeys[R];if(N)for(var L=0;L<d.length;L++){var P=d[L];s.canSet(P)&&(P._private[s.field][R]=M)}}s.updateStyle&&l.updateStyle(),s.onSet(l),s.settingTriggersEvent&&l[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&Fr(i)){var I=i;l.on(s.bindingEvent,I)}else if(s.allowGetting&&i===void 0){var V;return v&&(s.beforeGet(v),V=v._private[s.field]),V}return l}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=St({},r,e),function(i){var u=e,s=this,l=s.length!==void 0,f=l?s:[s];if(mt(i)){for(var d=i.split(/\s+/),v=d.length,p=0;p<v;p++){var g=d[p];if(!Uu(g)){var m=!u.immutableKeys[g];if(m)for(var b=0,_=f.length;b<_;b++)f[b]._private[u.field][g]=void 0}}u.triggerEvent&&s[u.triggerFnName](u.event)}else if(i===void 0){for(var x=0,E=f.length;x<E;x++)for(var C=f[x]._private[u.field],A=Object.keys(C),R=0;R<A.length;R++){var M=A[R],B=!u.immutableKeys[M];B&&(C[M]=void 0)}u.triggerEvent&&s[u.triggerFnName](u.event)}return s}}},l6={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var u=this,s=Array.prototype.slice.call(arguments,0);return new fl(function(l,f){var d=function(m){u.off.apply(u,p),l(m)},v=s.concat([d]),p=v.concat([]);u.on.apply(u,v)})}}},sr={};[pI,s6,l6].forEach(function(t){St(sr,t)});var c6={animate:sr.animate(),animation:sr.animation(),animated:sr.animated(),clearQueue:sr.clearQueue(),delay:sr.delay(),delayAnimation:sr.delayAnimation(),stop:sr.stop()},sv={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(b){return n.push(b)}),n}else br(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],u=new cl(e),s=0;s<r.length;s++){for(var l=r[s],f=l._private,d=f.classes,v=!1,p=0;p<e.length;p++){var g=e[p],m=d.has(g);if(!m){v=!0;break}}v||(v=d.size!==e.length),v&&(f.classes=u,i.push(l))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){br(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,u=[],s=0,l=n.length;s<l;s++)for(var f=n[s],d=f._private.classes,v=!1,p=0;p<e.length;p++){var g=e[p],m=d.has(g),b=!1;r||i&&!m?(d.add(g),b=!0):(!r||i&&m)&&(d.delete(g),b=!0),!v&&b&&(u.push(f),v=!0)}return u.length>0&&this.spawn(u).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};sv.className=sv.classNames=sv.classes;var Wt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:gn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Wt.variable="(?:[\\w-.]|(?:\\\\"+Wt.metaChar+"))+";Wt.className="(?:[\\w-]|(?:\\\\"+Wt.metaChar+"))+";Wt.value=Wt.string+"|"+Wt.number;Wt.id=Wt.variable;(function(){var t,e,r;for(t=Wt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Wt.comparatorOp+="|@"+e;for(t=Wt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Wt.comparatorOp+="|\\!"+e)})();var yr=function(){return{checks:[]}},ft={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Nx=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return s4(t.selector,e.selector)}),f6=(function(){for(var t={},e,r=0;r<Nx.length;r++)e=Nx[r],t[e.selector]=e.matches;return t})(),d6=function(e,r){return f6[e](r)},v6="("+Nx.map(function(t){return t.selector}).join("|")+")",Ls=function(e){return e.replace(new RegExp("\\\\("+Wt.metaChar+")","g"),function(r,n){return n})},Bu=function(e,r,n){e[e.length-1]=n},Lx=[{name:"group",query:!0,regex:"("+Wt.group+")",populate:function(e,r,n){var i=ln(n,1),u=i[0];r.checks.push({type:ft.GROUP,value:u==="*"?u:u+"s"})}},{name:"state",query:!0,regex:v6,populate:function(e,r,n){var i=ln(n,1),u=i[0];r.checks.push({type:ft.STATE,value:u})}},{name:"id",query:!0,regex:"\\#("+Wt.id+")",populate:function(e,r,n){var i=ln(n,1),u=i[0];r.checks.push({type:ft.ID,value:Ls(u)})}},{name:"className",query:!0,regex:"\\.("+Wt.className+")",populate:function(e,r,n){var i=ln(n,1),u=i[0];r.checks.push({type:ft.CLASS,value:Ls(u)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Wt.variable+")\\s*\\]",populate:function(e,r,n){var i=ln(n,1),u=i[0];r.checks.push({type:ft.DATA_EXIST,field:Ls(u)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Wt.variable+")\\s*("+Wt.comparatorOp+")\\s*("+Wt.value+")\\s*\\]",populate:function(e,r,n){var i=ln(n,3),u=i[0],s=i[1],l=i[2],f=new RegExp("^"+Wt.string+"$").exec(l)!=null;f?l=l.substring(1,l.length-1):l=parseFloat(l),r.checks.push({type:ft.DATA_COMPARE,field:Ls(u),operator:s,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Wt.boolOp+")\\s*("+Wt.variable+")\\s*\\]",populate:function(e,r,n){var i=ln(n,2),u=i[0],s=i[1];r.checks.push({type:ft.DATA_BOOL,field:Ls(s),operator:u})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Wt.meta+")\\s*("+Wt.comparatorOp+")\\s*("+Wt.number+")\\s*\\]\\]",populate:function(e,r,n){var i=ln(n,3),u=i[0],s=i[1],l=i[2];r.checks.push({type:ft.META_COMPARE,field:Ls(u),operator:s,value:parseFloat(l)})}},{name:"nextQuery",separator:!0,regex:Wt.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,u=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=i,s.compoundCount=u,e.edgeCount=0,e.compoundCount=0;var l=e[e.length++]=yr();return l}},{name:"directedEdge",separator:!0,regex:Wt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=yr(),i=r,u=yr();return n.checks.push({type:ft.DIRECTED_EDGE,source:i,target:u}),Bu(e,r,n),e.edgeCount++,u}else{var s=yr(),l=r,f=yr();return s.checks.push({type:ft.NODE_SOURCE,source:l,target:f}),Bu(e,r,s),e.edgeCount++,f}}},{name:"undirectedEdge",separator:!0,regex:Wt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=yr(),i=r,u=yr();return n.checks.push({type:ft.UNDIRECTED_EDGE,nodes:[i,u]}),Bu(e,r,n),e.edgeCount++,u}else{var s=yr(),l=r,f=yr();return s.checks.push({type:ft.NODE_NEIGHBOR,node:l,neighbor:f}),Bu(e,r,s),f}}},{name:"child",separator:!0,regex:Wt.child,populate:function(e,r){if(e.currentSubject==null){var n=yr(),i=yr(),u=e[e.length-1];return n.checks.push({type:ft.CHILD,parent:u,child:i}),Bu(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=yr(),l=e[e.length-1],f=yr(),d=yr(),v=yr(),p=yr();return s.checks.push({type:ft.COMPOUND_SPLIT,left:l,right:f,subject:d}),d.checks=r.checks,r.checks=[{type:ft.TRUE}],p.checks.push({type:ft.TRUE}),f.checks.push({type:ft.PARENT,parent:p,child:v}),Bu(e,l,s),e.currentSubject=d,e.compoundCount++,v}else{var g=yr(),m=yr(),b=[{type:ft.PARENT,parent:g,child:m}];return g.checks=r.checks,r.checks=b,e.compoundCount++,m}}},{name:"descendant",separator:!0,regex:Wt.descendant,populate:function(e,r){if(e.currentSubject==null){var n=yr(),i=yr(),u=e[e.length-1];return n.checks.push({type:ft.DESCENDANT,ancestor:u,descendant:i}),Bu(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=yr(),l=e[e.length-1],f=yr(),d=yr(),v=yr(),p=yr();return s.checks.push({type:ft.COMPOUND_SPLIT,left:l,right:f,subject:d}),d.checks=r.checks,r.checks=[{type:ft.TRUE}],p.checks.push({type:ft.TRUE}),f.checks.push({type:ft.ANCESTOR,ancestor:p,descendant:v}),Bu(e,l,s),e.currentSubject=d,e.compoundCount++,v}else{var g=yr(),m=yr(),b=[{type:ft.ANCESTOR,ancestor:g,descendant:m}];return g.checks=r.checks,r.checks=b,e.compoundCount++,m}}},{name:"subject",modifier:!0,regex:Wt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return lr("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],u=i==null?null:i.type;u===ft.DIRECTED_EDGE?i.type=ft.NODE_TARGET:u===ft.UNDIRECTED_EDGE&&(i.type=ft.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];Lx.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var h6=function(e){for(var r,n,i,u=0;u<Lx.length;u++){var s=Lx[u],l=s.name,f=e.match(s.regexObj);if(f!=null){n=f,r=s,i=l;var d=f[0];e=e.substring(d.length);break}}return{expr:r,match:n,name:i,remaining:e}},p6=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},g6=function(e){var r=this,n=r.inputText=e,i=r[0]=yr();for(r.length=1,n=p6(n);;){var u=h6(n);if(u.expr==null)return lr("The selector `"+e+"`is invalid"),!1;var s=u.match.slice(1),l=u.expr.populate(r,i,s);if(l===!1)return!1;if(l!=null&&(i=l),n=u.remaining,n.match(/^\s*$/))break}var f=r[r.length-1];r.currentSubject!=null&&(f.subject=r.currentSubject),f.edgeCount=r.edgeCount,f.compoundCount=r.compoundCount;for(var d=0;d<r.length;d++){var v=r[d];if(v.compoundCount>0&&v.edgeCount>0)return lr("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return lr("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&lr("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},y6=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},r=function(v){return mt(v)?'"'+v+'"':e(v)},n=function(v){return" "+v+" "},i=function(v,p){var g=v.type,m=v.value;switch(g){case ft.GROUP:{var b=e(m);return b.substring(0,b.length-1)}case ft.DATA_COMPARE:{var _=v.field,x=v.operator;return"["+_+n(e(x))+r(m)+"]"}case ft.DATA_BOOL:{var E=v.operator,C=v.field;return"["+e(E)+C+"]"}case ft.DATA_EXIST:{var A=v.field;return"["+A+"]"}case ft.META_COMPARE:{var R=v.operator,M=v.field;return"[["+M+n(e(R))+r(m)+"]]"}case ft.STATE:return m;case ft.ID:return"#"+m;case ft.CLASS:return"."+m;case ft.PARENT:case ft.CHILD:return u(v.parent,p)+n(">")+u(v.child,p);case ft.ANCESTOR:case ft.DESCENDANT:return u(v.ancestor,p)+" "+u(v.descendant,p);case ft.COMPOUND_SPLIT:{var B=u(v.left,p),O=u(v.subject,p),N=u(v.right,p);return B+(B.length>0?" ":"")+O+N}case ft.TRUE:return""}},u=function(v,p){return v.checks.reduce(function(g,m,b){return g+(p===v&&b===0?"$":"")+i(m,p)},"")},s="",l=0;l<this.length;l++){var f=this[l];s+=u(f,f.subject),this.length>1&&l<this.length-1&&(s+=", ")}return this.toStringCache=s,s},m6={parse:g6,toString:y6},Tq=function(e,r,n){var i,u=mt(e),s=et(e),l=mt(n),f,d,v=!1,p=!1,g=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),p=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),v=!0),(u||l||v)&&(f=!u&&!s?"":""+e,d=""+n),v&&(e=f=f.toLowerCase(),n=d=d.toLowerCase()),r){case"*=":i=f.indexOf(d)>=0;break;case"$=":i=f.indexOf(d,f.length-d.length)>=0;break;case"^=":i=f.indexOf(d)===0;break;case"=":i=e===n;break;case">":g=!0,i=e>n;break;case">=":g=!0,i=e>=n;break;case"<":g=!0,i=e<n;break;case"<=":g=!0,i=e<=n;break;default:i=!1;break}return p&&(e!=null||!g)&&(i=!i),i},b6=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},w6=function(e){return e!==void 0},pE=function(e,r){return e.data(r)},x6=function(e,r){return e[r]()},Gr=[],Or=function(e,r){return e.checks.every(function(n){return Gr[n.type](n,r)})};Gr[ft.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Gr[ft.STATE]=function(t,e){var r=t.value;return d6(r,e)};Gr[ft.ID]=function(t,e){var r=t.value;return e.id()===r};Gr[ft.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Gr[ft.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Tq(x6(e,r),n,i)};Gr[ft.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Tq(pE(e,r),n,i)};Gr[ft.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return b6(pE(e,r),n)};Gr[ft.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,w6(pE(e,r))};Gr[ft.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),u=e.target();return Or(r,i)&&Or(n,u)||Or(n,i)&&Or(r,u)};Gr[ft.NODE_NEIGHBOR]=function(t,e){return Or(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Or(t.neighbor,r)})};Gr[ft.DIRECTED_EDGE]=function(t,e){return Or(t.source,e.source())&&Or(t.target,e.target())};Gr[ft.NODE_SOURCE]=function(t,e){return Or(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Or(t.target,r)})};Gr[ft.NODE_TARGET]=function(t,e){return Or(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Or(t.source,r)})};Gr[ft.CHILD]=function(t,e){return Or(t.child,e)&&Or(t.parent,e.parent())};Gr[ft.PARENT]=function(t,e){return Or(t.parent,e)&&e.children().some(function(r){return Or(t.child,r)})};Gr[ft.DESCENDANT]=function(t,e){return Or(t.descendant,e)&&e.ancestors().some(function(r){return Or(t.ancestor,r)})};Gr[ft.ANCESTOR]=function(t,e){return Or(t.ancestor,e)&&e.descendants().some(function(r){return Or(t.descendant,r)})};Gr[ft.COMPOUND_SPLIT]=function(t,e){return Or(t.subject,e)&&Or(t.left,e)&&Or(t.right,e)};Gr[ft.TRUE]=function(){return!0};Gr[ft.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Gr[ft.FILTER]=function(t,e){var r=t.value;return r(e)};var E6=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===ft.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(u){for(var s=0;s<r.length;s++){var l=r[s];if(Or(l,u))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},S6=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(Or(i,e))return!0}return!1},T6={matches:S6,filter:E6},ju=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||mt(e)&&e.match(/^\s*$/)||(Ea(e)?this.addQuery({checks:[{type:ft.COLLECTION,value:e.collection()}]}):Fr(e)?this.addQuery({checks:[{type:ft.FILTER,value:e}]}):mt(e)?this.parse(e)||(this.invalid=!0):kr("A selector must be created from a string; found "))},Gu=ju.prototype;[m6,T6].forEach(function(t){return St(Gu,t)});Gu.text=function(){return this.inputText};Gu.size=function(){return this.length};Gu.eq=function(t){return this[t]};Gu.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Gu.addQuery=function(t){this[this.length++]=t};Gu.selector=Gu.toString;var Pu={allAre:function(e){var r=new ju(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new ju(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};Pu.allAreNeighbours=Pu.allAreNeighbors;Pu.has=Pu.contains;Pu.equal=Pu.equals=Pu.same;var Na=function(e,r){return function(i,u,s,l){var f=i,d=this,v;if(f==null?v="":Ea(f)&&f.length===1&&(v=f.id()),d.length===1&&v){var p=d[0]._private,g=p.traversalCache=p.traversalCache||{},m=g[r]=g[r]||[],b=zo(v),_=m[b];return _||(m[b]=e.call(d,i,u,s,l))}else return e.call(d,i,u,s,l)}},sl={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var u=this[i],s=u._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var u=n[i];r.push(u)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],u=i.parents();r=r||u,r=r.intersect(u)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Na(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,u=0;u<i.length;u++)e.push(i[u]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var u=0;u<i.length;u++){var s=i[u];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function gE(t,e,r,n){for(var i=[],u=new cl,s=t.cy(),l=s.hasCompoundNodes(),f=0;f<t.length;f++){var d=t[f];r?i.push(d):l&&n(i,u,d)}for(;i.length>0;){var v=i.shift();e(v),u.add(v.id()),l&&n(i,u,v)}return t}function _q(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var u=n[i];e.has(u.id())||t.push(u)}}sl.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return gE(this,t,e,_q)};function Cq(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}sl.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return gE(this,t,e,Cq)};function _6(t,e,r){Cq(t,e,r),_q(t,e,r)}sl.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return gE(this,t,e,_6)};sl.ancestors=sl.parents;var Qc,Aq;Qc=Aq={data:sr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:sr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:sr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:sr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:sr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:sr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Qc.attr=Qc.data;Qc.removeAttr=Qc.removeData;var C6=Aq,Jv={};function Ky(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],u=i._private.edges,s=0;s<u.length;s++){var l=u[s];!e&&l.isLoop()||(n+=t(i,l))}return n}else return}}St(Jv,{degree:Ky(function(t,e){return e.source().same(e.target())?2:1}),indegree:Ky(function(t,e){return e.target().same(t)?1:0}),outdegree:Ky(function(t,e){return e.source().same(t)?1:0})});function Ps(t,e){return function(r){for(var n,i=this.nodes(),u=0;u<i.length;u++){var s=i[u],l=s[t](r);l!==void 0&&(n===void 0||e(l,n))&&(n=l)}return n}}St(Jv,{minDegree:Ps("degree",function(t,e){return t<e}),maxDegree:Ps("degree",function(t,e){return t>e}),minIndegree:Ps("indegree",function(t,e){return t<e}),maxIndegree:Ps("indegree",function(t,e){return t>e}),minOutdegree:Ps("outdegree",function(t,e){return t<e}),maxOutdegree:Ps("outdegree",function(t,e){return t>e})});St(Jv,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var Xa,Rq,Dq=function(e,r,n){for(var i=0;i<e.length;i++){var u=e[i];if(!u.locked()){var s=u._private.position,l={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};u.isParent()&&!(l.x===0&&l.y===0)&&u.children().shift(l,n),u.dirtyBoundingBoxCache()}}},eA={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Dq(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Xa=Rq={position:sr.data(eA),silentPosition:sr.data(St({},eA,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Dq(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(Jt(e))r?this.silentPosition(e):this.position(e);else if(Fr(e)){var n=e,i=this.cy();i.startBatch();for(var u=0;u<this.length;u++){var s=this[u],l=void 0;(l=n(s,u))&&(r?s.silentPosition(l):s.position(l))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(Jt(e)?(i={x:et(e.x)?e.x:0,y:et(e.y)?e.y:0},n=r):mt(e)&&et(r)&&(i={x:0,y:0},i[e]=r),i!=null){var u=this.cy();u.startBatch();for(var s=0;s<this.length;s++){var l=this[s];if(!(u.hasCompoundNodes()&&l.isChild()&&l.ancestors().anySame(this))){var f=l.position(),d={x:f.x+i.x,y:f.y+i.y};n?l.silentPosition(d):l.position(d)}}u.endBatch()}return this},silentShift:function(e,r){return Jt(e)?this.shift(e,!0):mt(e)&&et(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),u=i.zoom(),s=i.pan(),l=Jt(e)?e:void 0,f=l!==void 0||r!==void 0&&mt(e);if(n&&n.isNode())if(f)for(var d=0;d<this.length;d++){var v=this[d];r!==void 0?v.position(e,(r-s[e])/u):l!==void 0&&v.position(nq(l,u,s))}else{var p=n.position();return l=$v(p,u,s),e===void 0?l:l[e]}else if(!f)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),u=Jt(e)?e:void 0,s=u!==void 0||r!==void 0&&mt(e),l=i.hasCompoundNodes();if(n&&n.isNode())if(s)for(var f=0;f<this.length;f++){var d=this[f],v=l?d.parent():null,p=v&&v.length>0,g=p;p&&(v=v[0]);var m=g?v.position():{x:0,y:0};r!==void 0?d.position(e,r+m[e]):u!==void 0&&d.position({x:u.x+m.x,y:u.y+m.y})}else{var b=n.position(),_=l?n.parent():null,x=_&&_.length>0,E=x;x&&(_=_[0]);var C=E?_.position():{x:0,y:0};return u={x:b.x-C.x,y:b.y-C.y},e===void 0?u:u[e]}else if(!s)return;return this}};Xa.modelPosition=Xa.point=Xa.position;Xa.modelPositions=Xa.points=Xa.positions;Xa.renderedPoint=Xa.renderedPosition;Xa.relativePoint=Xa.relativePosition;var A6=Rq,Js,Xu;Js=Xu={};Xu.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),u=e.x1*n+i.x,s=e.x2*n+i.x,l=e.y1*n+i.y,f=e.y2*n+i.y;return{x1:u,x2:s,y1:l,y2:f,w:s-u,h:f-l}};Xu.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Xu.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var l=s._private,f=s.children(),d=s.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},p=f.boundingBox({includeLabels:d,includeOverlays:!1,useCache:!1}),g=l.position;(p.w===0||p.h===0)&&(p={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},p.x1=g.x-p.w/2,p.x2=g.x+p.w/2,p.y1=g.y-p.h/2,p.y2=g.y+p.h/2);function m(L,P,I){var V=0,j=0,Z=P+I;return L>0&&Z>0&&(V=P/Z*L,j=I/Z*L),{biasDiff:V,biasComplementDiff:j}}function b(L,P,I,V){if(I.units==="%")switch(V){case"width":return L>0?I.pfValue*L:0;case"height":return P>0?I.pfValue*P:0;case"average":return L>0&&P>0?I.pfValue*(L+P)/2:0;case"min":return L>0&&P>0?L>P?I.pfValue*P:I.pfValue*L:0;case"max":return L>0&&P>0?L>P?I.pfValue*L:I.pfValue*P:0;default:return 0}else return I.units==="px"?I.pfValue:0}var _=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(_=_*100/v.width.val);var x=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(x=x*100/v.width.val);var E=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(E=E*100/v.height.val);var C=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(C=C*100/v.height.val);var A=m(v.width.val-p.w,_,x),R=A.biasDiff,M=A.biasComplementDiff,B=m(v.height.val-p.h,E,C),O=B.biasDiff,N=B.biasComplementDiff;l.autoPadding=b(p.w,p.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),l.autoWidth=Math.max(p.w,v.width.val),g.x=(-R+p.x1+p.x2+M)/2,l.autoHeight=Math.max(p.h,v.height.val),g.y=(-O+p.y1+p.y2+N)/2}for(var n=0;n<this.length;n++){var i=this[n],u=i._private;(!u.compoundBoundsClean||t)&&(r(i),e.batching()||(u.compoundBoundsClean=!0))}return this};var za=function(e){return e===1/0||e===-1/0?0:e},$a=function(e,r,n,i,u){i-r===0||u-n===0||r==null||n==null||i==null||u==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=u>e.y2?u:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},ku=function(e,r){return r==null?e:$a(e,r.x1,r.y1,r.x2,r.y2)},Ec=function(e,r,n){return la(e,r,n)},Vd=function(e,r,n){if(!r.cy().headless()){var i=r._private,u=i.rstyle,s=u.arrowWidth/2,l=r.pstyle(n+"-arrow-shape").value,f,d;if(l!=="none"){n==="source"?(f=u.srcX,d=u.srcY):n==="target"?(f=u.tgtX,d=u.tgtY):(f=u.midX,d=u.midY);var v=i.arrowBounds=i.arrowBounds||{},p=v[n]=v[n]||{};p.x1=f-s,p.y1=d-s,p.x2=f+s,p.y2=d+s,p.w=p.x2-p.x1,p.h=p.y2-p.y1,uv(p,1),$a(e,p.x1,p.y1,p.x2,p.y2)}}},$y=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var u=r._private,s=u.rstyle,l=r.pstyle(i+"label").strValue;if(l){var f=r.pstyle("text-halign"),d=r.pstyle("text-valign"),v=Ec(s,"labelWidth",n),p=Ec(s,"labelHeight",n),g=Ec(s,"labelX",n),m=Ec(s,"labelY",n),b=r.pstyle(i+"text-margin-x").pfValue,_=r.pstyle(i+"text-margin-y").pfValue,x=r.isEdge(),E=r.pstyle(i+"text-rotation"),C=r.pstyle("text-outline-width").pfValue,A=r.pstyle("text-border-width").pfValue,R=A/2,M=r.pstyle("text-background-padding").pfValue,B=2,O=p,N=v,L=N/2,P=O/2,I,V,j,Z;if(x)I=g-L,V=g+L,j=m-P,Z=m+P;else{switch(f.value){case"left":I=g-N,V=g;break;case"center":I=g-L,V=g+L;break;case"right":I=g,V=g+N;break}switch(d.value){case"top":j=m-O,Z=m;break;case"center":j=m-P,Z=m+P;break;case"bottom":j=m,Z=m+O;break}}var J=b-Math.max(C,R)-M-B,G=b+Math.max(C,R)+M+B,$=_-Math.max(C,R)-M-B,W=_+Math.max(C,R)+M+B;I+=J,V+=G,j+=$,Z+=W;var oe=n||"main",se=u.labelBounds,U=se[oe]=se[oe]||{};U.x1=I,U.y1=j,U.x2=V,U.y2=Z,U.w=V-I,U.h=Z-j,U.leftPad=J,U.rightPad=G,U.topPad=$,U.botPad=W;var X=x&&E.strValue==="autorotate",ue=E.pfValue!=null&&E.pfValue!==0;if(X||ue){var Y=X?Ec(u.rstyle,"labelAngle",n):E.pfValue,ee=Math.cos(Y),re=Math.sin(Y),de=(I+V)/2,ze=(j+Z)/2;if(!x){switch(f.value){case"left":de=V;break;case"right":de=I;break}switch(d.value){case"top":ze=Z;break;case"bottom":ze=j;break}}var ie=function(Ze,ht){return Ze=Ze-de,ht=ht-ze,{x:Ze*ee-ht*re+de,y:Ze*re+ht*ee+ze}},he=ie(I,j),be=ie(I,Z),ge=ie(V,j),Be=ie(V,Z);I=Math.min(he.x,be.x,ge.x,Be.x),V=Math.max(he.x,be.x,ge.x,Be.x),j=Math.min(he.y,be.y,ge.y,Be.y),Z=Math.max(he.y,be.y,ge.y,Be.y)}var Ge=oe+"Rot",He=se[Ge]=se[Ge]||{};He.x1=I,He.y1=j,He.x2=V,He.y2=Z,He.w=V-I,He.h=Z-j,$a(e,I,j,V,Z),$a(u.labelBounds.all,I,j,V,Z)}return e}},tA=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value,u=r.pstyle("outline-offset").value,s=i+u;Oq(e,r,n,s,"outside",s/2)}},Oq=function(e,r,n,i,u,s){if(!(n===0||i<=0||u==="inside")){var l=r.cy(),f=r.pstyle("shape").value,d=l.renderer().nodeShapes[f],v=r.position(),p=v.x,g=v.y,m=r.width(),b=r.height();if(d.hasMiterBounds){u==="center"&&(i/=2);var _=d.miterBounds(p,g,m,b,i);ku(e,_)}else s!=null&&s>0&&ov(e,[s,s,s,s])}},R6=function(e,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,i=r.pstyle("border-width").pfValue,u=r.pstyle("border-position").value;Oq(e,r,n,i,u)}},D6=function(e,r){var n=e._private.cy,i=n.styleEnabled(),u=n.headless(),s=Wn(),l=e._private,f=e.isNode(),d=e.isEdge(),v,p,g,m,b,_,x=l.rstyle,E=f&&i?e.pstyle("bounds-expansion").pfValue:[0],C=function(Ct){return Ct.pstyle("display").value!=="none"},A=!i||C(e)&&(!d||C(e.source())&&C(e.target()));if(A){var R=0,M=0;i&&r.includeOverlays&&(R=e.pstyle("overlay-opacity").value,R!==0&&(M=e.pstyle("overlay-padding").value));var B=0,O=0;i&&r.includeUnderlays&&(B=e.pstyle("underlay-opacity").value,B!==0&&(O=e.pstyle("underlay-padding").value));var N=Math.max(M,O),L=0,P=0;if(i&&(L=e.pstyle("width").pfValue,P=L/2),f&&r.includeNodes){var I=e.position();b=I.x,_=I.y;var V=e.outerWidth(),j=V/2,Z=e.outerHeight(),J=Z/2;v=b-j,p=b+j,g=_-J,m=_+J,$a(s,v,g,p,m),i&&tA(s,e),i&&r.includeOutlines&&!u&&tA(s,e),i&&R6(s,e)}else if(d&&r.includeEdges)if(i&&!u){var G=e.pstyle("curve-style").strValue;if(v=Math.min(x.srcX,x.midX,x.tgtX),p=Math.max(x.srcX,x.midX,x.tgtX),g=Math.min(x.srcY,x.midY,x.tgtY),m=Math.max(x.srcY,x.midY,x.tgtY),v-=P,p+=P,g-=P,m+=P,$a(s,v,g,p,m),G==="haystack"){var $=x.haystackPts;if($&&$.length===2){if(v=$[0].x,g=$[0].y,p=$[1].x,m=$[1].y,v>p){var W=v;v=p,p=W}if(g>m){var oe=g;g=m,m=oe}$a(s,v-P,g-P,p+P,m+P)}}else if(G==="bezier"||G==="unbundled-bezier"||zu(G,"segments")||zu(G,"taxi")){var se;switch(G){case"bezier":case"unbundled-bezier":se=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":se=x.linePts;break}if(se!=null)for(var U=0;U<se.length;U++){var X=se[U];v=X.x-P,p=X.x+P,g=X.y-P,m=X.y+P,$a(s,v,g,p,m)}}}else{var ue=e.source(),Y=ue.position(),ee=e.target(),re=ee.position();if(v=Y.x,p=re.x,g=Y.y,m=re.y,v>p){var de=v;v=p,p=de}if(g>m){var ze=g;g=m,m=ze}v-=P,p+=P,g-=P,m+=P,$a(s,v,g,p,m)}if(i&&r.includeEdges&&d&&(Vd(s,e,"mid-source"),Vd(s,e,"mid-target"),Vd(s,e,"source"),Vd(s,e,"target")),i){var ie=e.pstyle("ghost").value==="yes";if(ie){var he=e.pstyle("ghost-offset-x").pfValue,be=e.pstyle("ghost-offset-y").pfValue;$a(s,s.x1+he,s.y1+be,s.x2+he,s.y2+be)}}var ge=l.bodyBounds=l.bodyBounds||{};U_(ge,s),ov(ge,E),uv(ge,1),i&&(v=s.x1,p=s.x2,g=s.y1,m=s.y2,$a(s,v-N,g-N,p+N,m+N));var Be=l.overlayBounds=l.overlayBounds||{};U_(Be,s),ov(Be,E),uv(Be,1);var Ge=l.labelBounds=l.labelBounds||{};Ge.all!=null?cP(Ge.all):Ge.all=Wn(),i&&r.includeLabels&&(r.includeMainLabels&&$y(s,e,null),d&&(r.includeSourceLabels&&$y(s,e,"source"),r.includeTargetLabels&&$y(s,e,"target")))}return s.x1=za(s.x1),s.y1=za(s.y1),s.x2=za(s.x2),s.y2=za(s.y2),s.w=za(s.x2-s.x1),s.h=za(s.y2-s.y1),s.w>0&&s.h>0&&A&&(ov(s,E),uv(s,1)),s},Mq=function(e){var r=0,n=function(s){return(s?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},Bq=function(e){var r=function(l){return Math.round(l)};if(e.isEdge()){var n=e.source().position(),i=e.target().position();return k_([r(n.x),r(n.y),r(i.x),r(i.y)])}else{var u=e.position();return k_([r(u.x),r(u.y)])}},rA=function(e,r){var n=e._private,i,u=e.isEdge(),s=r==null?nA:Mq(r),l=s===nA;if(n.bbCache==null?(i=D6(e,Wc),n.bbCache=i,n.bbCachePosKey=Bq(e)):i=n.bbCache,!l){var f=e.isNode();i=Wn(),(r.includeNodes&&f||r.includeEdges&&!f)&&(r.includeOverlays?ku(i,n.overlayBounds):ku(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!u||r.includeSourceLabels&&r.includeTargetLabels)?ku(i,n.labelBounds.all):(r.includeMainLabels&&ku(i,n.labelBounds.mainRot),r.includeSourceLabels&&ku(i,n.labelBounds.sourceRot),r.includeTargetLabels&&ku(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Wc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},nA=Mq(Wc),aA=Pn(Wc);Xu.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=ul(function(v){var p=v._private;return p.bbCache==null||p.styleDirty||p.bbCachePosKey!==Bq(v)},function(v){return v.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=Wc:t=aA(t),e=rA(this[0],t);else{e=Wn(),t=t||Wc;var i=aA(t),u=this,s=u.cy(),l=s.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),l&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var f=0;f<u.length;f++){var d=u[f];n(d)&&d.dirtyBoundingBoxCache(),ku(e,rA(d,i))}}return e.x1=za(e.x1),e.y1=za(e.y1),e.x2=za(e.x2),e.y2=za(e.y2),e.w=za(e.x2-e.x1),e.h=za(e.y2-e.y1),e};Xu.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Xu.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(d){return d.isParent()}),e=e.not(i)),Jt(t)){var u=t;t=function(){return u}}var s=function(v,p){return v._private.bbAtOldPos=t(v,p)},l=function(v){return v._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var f=lP(this.boundingBox({useCache:!1}));return e.silentPositions(l),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),f};Js.boundingbox=Js.bb=Js.boundingBox;Js.renderedBoundingbox=Js.renderedBoundingBox;var O6=Xu,Nc,ff;Nc=ff={};var qq=function(e){e.uppercaseName=b_(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=b_(e.outerName),Nc[e.name]=function(){var n=this[0],i=n._private,u=i.cy,s=u._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var l=n.pstyle(e.name);switch(l.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return l.pfValue}}else return 1},Nc["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,u=i.cy,s=u._private.styleEnabled;if(n)if(s){var l=n[e.name](),f=n.pstyle("border-position").value,d;f==="center"?d=n.pstyle("border-width").pfValue:f==="outside"?d=2*n.pstyle("border-width").pfValue:d=0;var v=2*n.padding();return l+d+v}else return 1},Nc["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},Nc["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};qq({name:"width"});qq({name:"height"});ff.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};ff.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};ff.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var M6=ff,B6=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},q6=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return $v(r(e),n.zoom(),n.pan())}},k6=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),i=n.pan(),u=n.zoom();return r(e).map(function(s){return $v(s,u,i)})}},z6=function(e){return e.renderer().getControlPoints(e)},N6=function(e){return e.renderer().getSegmentPoints(e)},L6=function(e){return e.renderer().getSourceEndpoint(e)},P6=function(e){return e.renderer().getTargetEndpoint(e)},I6=function(e){return e.renderer().getEdgeMidpoint(e)},iA={controlPoints:{get:z6,mult:!0},segmentPoints:{get:N6,mult:!0},sourceEndpoint:{get:L6},targetEndpoint:{get:P6},midpoint:{get:I6}},U6=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},F6=Object.keys(iA).reduce(function(t,e){var r=iA[e],n=U6(e);return t[e]=function(){return B6(this,r.get)},r.mult?t[n]=function(){return k6(this,r.get)}:t[n]=function(){return q6(this,r.get)},t},{}),V6=St({},A6,O6,M6,F6);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var kq=function(e,r){this.recycle(e,r)};function Sc(){return!1}function jd(){return!0}kq.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Sc,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?jd:Sc):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),u=this.cy.pan();this.renderedPosition={x:n.x*i+u.x,y:n.y*i+u.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=jd;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=jd;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=jd,this.stopPropagation()},isDefaultPrevented:Sc,isPropagationStopped:Sc,isImmediatePropagationStopped:Sc};var zq=/^([^.]+)(\.(?:[^.]+))?$/,j6=".*",Nq={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},uA=Object.keys(Nq),G6={};function eh(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G6,e=arguments.length>1?arguments[1]:void 0,r=0;r<uA.length;r++){var n=uA[r];this[n]=t[n]||Nq[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Hu=eh.prototype,Lq=function(e,r,n,i,u,s,l){Fr(i)&&(u=i,i=null),l&&(s==null?s=l:s=St({},s,l));for(var f=br(n)?n:n.split(/\s+/),d=0;d<f.length;d++){var v=f[d];if(!Uu(v)){var p=v.match(zq);if(p){var g=p[1],m=p[2]?p[2]:null,b=r(e,v,g,m,i,u,s);if(b===!1)break}}}},oA=function(e,r){return e.addEventFields(e.context,r),new kq(r.type,r)},H6=function(e,r,n){if(Q3(n)){r(e,n);return}else if(Jt(n)){r(e,oA(e,n));return}for(var i=br(n)?n:n.split(/\s+/),u=0;u<i.length;u++){var s=i[u];if(!Uu(s)){var l=s.match(zq);if(l){var f=l[1],d=l[2]?l[2]:null,v=oA(e,{type:f,namespace:d,target:e.context});r(e,v)}}}};Hu.on=Hu.addListener=function(t,e,r,n,i){return Lq(this,function(u,s,l,f,d,v,p){Fr(v)&&u.listeners.push({event:s,callback:v,type:l,namespace:f,qualifier:d,conf:p})},t,e,r,n,i),this};Hu.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};Hu.removeListener=Hu.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=q4(this.listeners));for(var u=this.listeners,s=function(d){var v=u[d];Lq(i,function(p,g,m,b,_,x){if((v.type===m||t==="*")&&(!b&&v.namespace!==".*"||v.namespace===b)&&(!_||p.qualifierCompare(v.qualifier,_))&&(!x||v.callback===x))return u.splice(d,1),!1},t,e,r,n)},l=u.length-1;l>=0;l--)s(l);return this};Hu.removeAllListeners=function(){return this.removeListener("*")};Hu.emit=Hu.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,br(e)||(e=[e]),H6(this,function(u,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],i=n.length);for(var l=function(){var v=n[f];if(v.type===s.type&&(!v.namespace||v.namespace===s.namespace||v.namespace===j6)&&u.eventMatches(u.context,v,s)){var p=[s];e!=null&&z4(p,e),u.beforeEmit(u.context,v,s),v.conf&&v.conf.one&&(u.listeners=u.listeners.filter(function(b){return b!==v}));var g=u.callbackContext(u.context,v,s),m=v.callback.apply(g,p);u.afterEmit(u.context,v,s),m===!1&&(s.stopPropagation(),s.preventDefault())}},f=0;f<i;f++)l();u.bubble(u.context)&&!s.isPropagationStopped()&&u.parent(u.context).emit(s,e)},t),this.emitting--,this};var K6={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&af(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Gd=function(e){return mt(e)?new ju(e):e},Pq={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new eh(K6,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=Gd(r),u=0;u<this.length;u++){var s=this[u];s.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=Gd(r),u=0;u<this.length;u++){var s=this[u];s.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=Gd(r),u=0;u<this.length;u++){var s=this[u];s.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=Gd(r),u=0;u<this.length;u++){var s=this[u];s.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};sr.eventAliasesOn(Pq);var Iq={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(mt(e)||Ea(e))return new ju(e).filter(this);if(Fr(e)){for(var n=this.spawn(),i=this,u=0;u<i.length;u++){var s=i[u],l=r?e.apply(r,[s,u,i]):e(s,u,i);l&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){mt(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],u=e.has(i);u||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(mt(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,u=e,s=this.length<e.length,l=s?i:u,f=s?u:i,d=0;d<l.length;d++){var v=l[d];f.has(v)&&n.push(v)}return n},xor:function(e){var r=this._private.cy;mt(e)&&(e=r.$(e));var n=this.spawn(),i=this,u=e,s=function(f,d){for(var v=0;v<f.length;v++){var p=f[v],g=p._private.data.id,m=d.hasElementWithId(g);m||n.push(p)}};return s(i,u),s(u,i),n},diff:function(e){var r=this._private.cy;mt(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),u=this.spawn(),s=this,l=e,f=function(v,p,g){for(var m=0;m<v.length;m++){var b=v[m],_=b._private.data.id,x=p.hasElementWithId(_);x?u.merge(b):g.push(b)}};return f(s,l,n),f(l,s,i),{left:n,right:i,both:u}},add:function(e){var r=this._private.cy;if(!e)return this;if(mt(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),u=0;u<e.length;u++){var s=e[u],l=!this.has(s);l&&i.push(s)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&mt(e)){var i=e;e=n.mutableElements().filter(i)}for(var u=r.map,s=0;s<e.length;s++){var l=e[s],f=l._private.data.id,d=!u.has(f);if(d){var v=this.length++;this[v]=l,u.set(f,{ele:l,index:v})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,u=i.map;this[e]=void 0,u.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var l=this.length-1,f=this[l],d=f._private.data.id;this[l]=void 0,this[e]=f,u.set(d,{ele:f,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,u=i.get(n);if(!u)return this;var s=u.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&mt(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,u=0;u<i.length;u++){var s=i[u],l=r?e.apply(r,[s,u,i]):e(s,u,i);n.push(l)}return n},reduce:function(e,r){for(var n=r,i=this,u=0;u<i.length;u++)n=e(n,i[u],u,i);return n},max:function(e,r){for(var n=-1/0,i,u=this,s=0;s<u.length;s++){var l=u[s],f=r?e.apply(r,[l,s,u]):e(l,s,u);f>n&&(n=f,i=l)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,u=this,s=0;s<u.length;s++){var l=u[s],f=r?e.apply(r,[l,s,u]):e(l,s,u);f<n&&(n=f,i=l)}return{value:n,ele:i}}},rr=Iq;rr.u=rr["|"]=rr["+"]=rr.union=rr.or=rr.add;rr["\\"]=rr["!"]=rr["-"]=rr.difference=rr.relativeComplement=rr.subtract=rr.not;rr.n=rr["&"]=rr["."]=rr.and=rr.intersection=rr.intersect;rr["^"]=rr["(+)"]=rr["(-)"]=rr.symmetricDifference=rr.symdiff=rr.xor;rr.fnFilter=rr.filterFn=rr.stdFilter=rr.filter;rr.complement=rr.abscomp=rr.absoluteComplement;var $6={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Uq=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function u(v){var p=v.pstyle("z-compound-depth");return p.value==="auto"?i?v.zDepth():0:p.value==="bottom"?-1:p.value==="top"?iE:0}var s=u(e)-u(r);if(s!==0)return s;function l(v){var p=v.pstyle("z-index-compare");return p.value==="auto"&&v.isNode()?1:0}var f=l(e)-l(r);if(f!==0)return f;var d=e.pstyle("z-index").value-r.pstyle("z-index").value;return d!==0?d:e.poolIndex()-r.poolIndex()},Dv={forEach:function(e,r){if(Fr(e))for(var n=this.length,i=0;i<n;i++){var u=this[i],s=r?e.apply(r,[u,i,this]):e(u,i,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var u=e;u>=0&&u<r&&u<i;u++)n.push(this[u]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Fr(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(Uq)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:iE-1}else{var u=r.source,s=r.target,l=u.zDepth(),f=s.zDepth();return Math.max(l,f,0)}}}};Dv.each=Dv.forEach;var Y6=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":yn(Symbol))!=e&&yn(Symbol.iterator)!=e;r&&(Dv[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},u=0,s=this.length;return PB({next:function(){return u<s?i.value=n[u++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};Y6();var X6=Pn({nodeDimensionsIncludeLabels:!1}),lv={layoutDimensions:function(e){e=X6(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(M){return!M.isParent()}),u=this.cy(),s=r.eles,l=function(B){return B.id()},f=ul(n,l);e.emit({type:"layoutstart",layout:e}),e.animations=[];var d=function(B,O,N){var L={x:O.x1+O.w/2,y:O.y1+O.h/2},P={x:(N.x-L.x)*B,y:(N.y-L.y)*B};return{x:L.x+P.x,y:L.y+P.y}},v=r.spacingFactor&&r.spacingFactor!==1,p=function(){if(!v)return null;for(var B=Wn(),O=0;O<i.length;O++){var N=i[O],L=f(N,O);aq(B,L.x,L.y)}return B},g=p(),m=ul(function(M,B){var O=f(M,B);if(v){var N=Math.abs(r.spacingFactor);O=d(N,g,O)}return r.transform!=null&&(O=r.transform(M,O)),O},l);if(r.animate){for(var b=0;b<i.length;b++){var _=i[b],x=m(_,b),E=r.animateFilter==null||r.animateFilter(_,b);if(E){var C=_.animation({position:x,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(C)}else _.position(x)}if(r.fit){var A=u.animation({fit:{boundingBox:s.boundingBoxAt(m),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(A)}else if(r.zoom!==void 0&&r.pan!==void 0){var R=u.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(R)}e.animations.forEach(function(M){return M.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),fl.all(e.animations.map(function(M){return M.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(m),r.fit&&u.fit(r.eles,r.padding),r.zoom!=null&&u.zoom(r.zoom),r.pan&&u.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(St({},e,{eles:this}))}};lv.createLayout=lv.makeLayout=lv.layout;function Fq(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],u;return(u=i[t])!=null||(u=i[t]=e(r)),u}function th(t,e){return t=zo(t),function(n){return Fq(t,e,n)}}function rh(t,e){t=zo(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return Fq(t,r,i)}}var Nn={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(u){return u._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),u=this;e=!!(e||e===void 0),i&&(u=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=u;return e?s.emitAndNotify("style"):s.emit("style"),u.forEach(function(l){return l._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var u=n._private.style[e];return u??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,u=n.style();if(Jt(e)){var s=e;u.applyBypass(this,s,i),this.emitAndNotify("style")}else if(mt(e))if(r===void 0){var l=this[0];return l?u.getStylePropertyValue(l,e):void 0}else u.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var f=this[0];return f?u.getRawStyle(f):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),u=this;if(e===void 0)for(var s=0;s<u.length;s++){var l=u[s];i.removeAllBypasses(l,n)}else{e=e.split(/\s+/);for(var f=0;f<u.length;f++){var d=u[f];i.removeBypasses(d,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,u=n.pstyle("opacity").value;if(!r)return u;var s=i.data.parent?n.parents():null;if(s)for(var l=0;l<s.length;l++){var f=s[l],d=f.pstyle("opacity").value;u=d*u}return u}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function Yy(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var u=n[i];if(!e(u))return!1}return!0}function yE(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var u=this[0],s=i.hasCompoundNodes();if(u){var l=u._private;if(!e(u))return!1;if(u.isNode())return!s||Yy(u,n);var f=l.source,d=l.target;return r(f)&&(!s||Yy(f,r))&&(f===d||r(d)&&(!s||Yy(d,r)))}}}var dl=th("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Nn.takesUpSpace=rh("takesUpSpace",yE({ok:dl}));var Z6=th("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&dl(t)}),Q6=th("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&dl(t)});Nn.interactive=rh("interactive",yE({ok:Z6,parentOk:Q6,edgeOkViaNode:dl}));Nn.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var W6=th("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&dl(t)}),J6=dl;Nn.visible=rh("visible",yE({ok:W6,edgeOkViaNode:J6}));Nn.hidden=function(){var t=this[0];if(t)return!t.visible()};Nn.isBundledBezier=rh("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Nn.bypass=Nn.css=Nn.style;Nn.renderedCss=Nn.renderedStyle;Nn.removeBypass=Nn.removeCss=Nn.removeStyle;Nn.pstyle=Nn.parsedStyle;var Iu={};function sA(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&Fr(e[0])){var u=e[0];this.on(t.event,u)}else if(e.length===0||e.length===1&&br(e[0])){for(var s=e.length===1?e[0]:null,l=0;l<this.length;l++){var f=this[l],d=!t.ableField||f._private[t.ableField],v=f._private[t.field]!=t.value;if(t.overrideAble){var p=t.overrideAble(f);if(p!==void 0&&(d=p,!p))return this}d&&(f._private[t.field]=t.value,v&&r.push(f))}var g=this.spawn(r);g.updateStyle(),g.emit(t.event),s&&g.emit(s)}return this}}function vl(t){Iu[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Iu[t.on]=sA({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Iu[t.off]=sA({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}vl({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});vl({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});vl({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});vl({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Iu.deselect=Iu.unselect;Iu.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};vl({field:"active",on:"activate",off:"unactivate"});vl({field:"pannable",on:"panify",off:"unpanify"});Iu.inactive=function(){var t=this[0];if(t)return!t._private.active};var jn={},lA=function(e){return function(n){for(var i=this,u=[],s=0;s<i.length;s++){var l=i[s];if(l.isNode()){for(var f=!1,d=l.connectedEdges(),v=0;v<d.length;v++){var p=d[v],g=p.source(),m=p.target();if(e.noIncomingEdges&&m===l&&g!==l||e.noOutgoingEdges&&g===l&&m!==l){f=!0;break}}f||u.push(l)}}return this.spawn(u,!0).filter(n)}},cA=function(e){return function(r){for(var n=this,i=[],u=0;u<n.length;u++){var s=n[u];if(s.isNode())for(var l=s.connectedEdges(),f=0;f<l.length;f++){var d=l[f],v=d.source(),p=d.target();e.outgoing&&v===s?(i.push(d),i.push(p)):e.incoming&&p===s&&(i.push(d),i.push(v))}}return this.spawn(i,!0).filter(r)}},fA=function(e){return function(r){for(var n=this,i=[],u={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var l=!1,f=0;f<s.length;f++){var d=s[f],v=d.id();u[v]||(u[v]=!0,i.push(d),l=!0)}if(!l)break;n=s}return this.spawn(i,!0).filter(r)}};jn.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};St(jn,{roots:lA({noIncomingEdges:!0}),leaves:lA({noOutgoingEdges:!0}),outgoers:Na(cA({outgoing:!0}),"outgoers"),successors:fA({outgoing:!0}),incomers:Na(cA({incoming:!0}),"incomers"),predecessors:fA({})});St(jn,{neighborhood:Na(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],u=i.connectedEdges(),s=0;s<u.length;s++){var l=u[s],f=l.source(),d=l.target(),v=i===f?d:f;v.length>0&&e.push(v[0]),e.push(l[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});jn.neighbourhood=jn.neighborhood;jn.closedNeighbourhood=jn.closedNeighborhood;jn.openNeighbourhood=jn.openNeighborhood;St(jn,{source:Na(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Na(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:dA({attr:"source"}),targets:dA({attr:"target"})});function dA(t){return function(r){for(var n=[],i=0;i<this.length;i++){var u=this[i],s=u._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}St(jn,{edgesWith:Na(vA(),"edgesWith"),edgesTo:Na(vA({thisIsSrc:!0}),"edgesTo")});function vA(t){return function(r){var n=[],i=this._private.cy,u=t||{};mt(r)&&(r=i.$(r));for(var s=0;s<r.length;s++)for(var l=r[s]._private.edges,f=0;f<l.length;f++){var d=l[f],v=d._private.data,p=this.hasElementWithId(v.source)&&r.hasElementWithId(v.target),g=r.hasElementWithId(v.source)&&this.hasElementWithId(v.target),m=p||g;m&&((u.thisIsSrc||u.thisIsTgt)&&(u.thisIsSrc&&!p||u.thisIsTgt&&!g)||n.push(d))}return this.spawn(n,!0)}}St(jn,{connectedEdges:Na(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var u=i._private.edges,s=0;s<u.length;s++){var l=u[s];e.push(l)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Na(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Na(hA(),"parallelEdges"),codirectedEdges:Na(hA({codirected:!0}),"codirectedEdges")});function hA(t){var e={codirected:!1};return t=St({},e,t),function(n){for(var i=[],u=this.edges(),s=t,l=0;l<u.length;l++)for(var f=u[l],d=f._private,v=d.source,p=v._private.data.id,g=d.data.target,m=v._private.edges,b=0;b<m.length;b++){var _=m[b],x=_._private.data,E=x.target,C=x.source,A=E===g&&C===p,R=p===E&&g===C;(s.codirected&&A||!s.codirected&&(A||R))&&i.push(_)}return this.spawn(i,!0).filter(n)}}St(jn,{components:function(e){var r=this,n=r.cy(),i=n.collection(),u=e==null?r.nodes():e.nodes(),s=[];e!=null&&u.empty()&&(u=e.sources());var l=function(v,p){i.merge(v),u.unmerge(v),p.merge(v)};if(u.empty())return r.spawn();var f=function(){var v=n.collection();s.push(v);var p=u[0];l(p,v),r.bfs({directed:!1,roots:p,visit:function(m){return l(m,v)}}),v.forEach(function(g){g.connectedEdges().forEach(function(m){r.has(m)&&v.has(m.source())&&v.has(m.target())&&v.merge(m)})})};do f();while(u.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});jn.componentsOf=jn.components;var Ln=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){kr("A collection must have a reference to the core");return}var u=new Ki,s=!1;if(!r)r=[];else if(r.length>0&&Jt(r[0])&&!af(r[0])){s=!0;for(var l=[],f=new cl,d=0,v=r.length;d<v;d++){var p=r[d];p.data==null&&(p.data={});var g=p.data;if(g.id==null)g.id=tq();else if(e.hasElementWithId(g.id)||f.has(g.id))continue;var m=new Kv(e,p,!1);l.push(m),f.add(g.id)}r=l}this.length=0;for(var b=0,_=r.length;b<_;b++){var x=r[b][0];if(x!=null){var E=x._private.data.id;(!n||!u.has(E))&&(n&&u.set(E,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(C){this.lazyMap=C},rebuildMap:function(){for(var A=this.lazyMap=new Ki,R=this.eles,M=0;M<R.length;M++){var B=R[M];A.set(B.id(),{index:M,ele:B})}}},n&&(this._private.map=u),s&&!i&&this.restore()},Sr=Kv.prototype=Ln.prototype=Object.create(Array.prototype);Sr.instanceString=function(){return"collection"};Sr.spawn=function(t,e){return new Ln(this.cy(),t,e)};Sr.spawnSelf=function(){return this.spawn(this)};Sr.cy=function(){return this._private.cy};Sr.renderer=function(){return this._private.cy.renderer()};Sr.element=function(){return this[0]};Sr.collection=function(){return FB(this)?this:new Ln(this._private.cy,[this])};Sr.unique=function(){return new Ln(this._private.cy,this,!0)};Sr.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Sr.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Ln(e)};Sr.$id=Sr.getElementById;Sr.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};Sr.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Sr.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Sr.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(Jt(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var u=!1,s={},l=t.data.source,f=t.data.target;l!=null&&l!=i.source&&(s.source=""+l,u=!0),f!=null&&f!=i.target&&(s.target=""+f,u=!0),u&&(e=e.move(s))}else{var d="parent"in t.data,v=t.data.parent;d&&(v!=null||i.parent!=null)&&v!=i.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}t.position&&e.position(t.position);var p=function(_,x,E){var C=t[_];C!=null&&C!==n[_]&&(C?e[x]():e[E]())};return p("removed","remove","restore"),p("selected","select","unselect"),p("selectable","selectify","unselectify"),p("locked","lock","unlock"),p("grabbable","grabify","ungrabify"),p("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var g={data:di(n.data),position:di(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};g.classes="";var m=0;return n.classes.forEach(function(b){return g.classes+=m++===0?b:" "+b}),g}}};Sr.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};Sr.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),u=new Kv(t,i,!1);e.push(u)}return new Ln(t,e)};Sr.copy=Sr.clone;Sr.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,u=[],s=[],l,f=0,d=r.length;f<d;f++){var v=r[f];e&&!v.removed()||(v.isNode()?u.push(v):s.push(v))}l=u.concat(s);var p,g=function(){l.splice(p,1),p--};for(p=0;p<l.length;p++){var m=l[p],b=m._private,_=b.data;if(m.clearTraversalCache(),!(!e&&!b.removed)){if(_.id===void 0)_.id=tq();else if(et(_.id))_.id=""+_.id;else if(Uu(_.id)||!mt(_.id)){kr("Can not create element with invalid string ID `"+_.id+"`"),g();continue}else if(n.hasElementWithId(_.id)){kr("Can not create second element with ID `"+_.id+"`"),g();continue}}var x=_.id;if(m.isNode()){var E=b.position;E.x==null&&(E.x=0),E.y==null&&(E.y=0)}if(m.isEdge()){for(var C=m,A=["source","target"],R=A.length,M=!1,B=0;B<R;B++){var O=A[B],N=_[O];et(N)&&(N=_[O]=""+_[O]),N==null||N===""?(kr("Can not create edge `"+x+"` with unspecified "+O),M=!0):n.hasElementWithId(N)||(kr("Can not create edge `"+x+"` with nonexistant "+O+" `"+N+"`"),M=!0)}if(M){g();continue}var L=n.getElementById(_.source),P=n.getElementById(_.target);L.same(P)?L._private.edges.push(C):(L._private.edges.push(C),P._private.edges.push(C)),C._private.source=L,C._private.target=P}b.map=new Ki,b.map.set(x,{ele:m,index:0}),b.removed=!1,e&&n.addToPool(m)}for(var I=0;I<u.length;I++){var V=u[I],j=V._private.data;et(j.parent)&&(j.parent=""+j.parent);var Z=j.parent,J=Z!=null;if(J||V._private.parent){var G=V._private.parent?n.collection().merge(V._private.parent):n.getElementById(Z);if(G.empty())j.parent=void 0;else if(G[0].removed())lr("Node added with missing parent, reference to parent removed"),j.parent=void 0,V._private.parent=null;else{for(var $=!1,W=G;!W.empty();){if(V.same(W)){$=!0,j.parent=void 0;break}W=W.parent()}$||(G[0]._private.children.push(V),V._private.parent=G[0],i.hasCompoundNodes=!0)}}}if(l.length>0){for(var oe=l.length===r.length?r:new Ln(n,l),se=0;se<oe.length;se++){var U=oe[se];U.isNode()||(U.parallelEdges().clearTraversalCache(),U.source().clearTraversalCache(),U.target().clearTraversalCache())}var X;i.hasCompoundNodes?X=n.collection().merge(oe).merge(oe.connectedNodes()).merge(oe.parent()):X=oe,X.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?oe.emitAndNotify("add"):e&&oe.emit("add")}return r};Sr.removed=function(){var t=this[0];return t&&t._private.removed};Sr.inside=function(){var t=this[0];return t&&!t._private.removed};Sr.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},u=r._private.cy;function s(Z){for(var J=Z._private.edges,G=0;G<J.length;G++)f(J[G])}function l(Z){for(var J=Z._private.children,G=0;G<J.length;G++)f(J[G])}function f(Z){var J=i[Z.id()];e&&Z.removed()||J||(i[Z.id()]=!0,Z.isNode()?(n.push(Z),s(Z),l(Z)):n.unshift(Z))}for(var d=0,v=r.length;d<v;d++){var p=r[d];f(p)}function g(Z,J){var G=Z._private.edges;Fu(G,J),Z.clearTraversalCache()}function m(Z){Z.clearTraversalCache()}var b=[];b.ids={};function _(Z,J){J=J[0],Z=Z[0];var G=Z._private.children,$=Z.id();Fu(G,J),J._private.parent=null,b.ids[$]||(b.ids[$]=!0,b.push(Z))}r.dirtyCompoundBoundsCache(),e&&u.removeFromPool(n);for(var x=0;x<n.length;x++){var E=n[x];if(E.isEdge()){var C=E.source()[0],A=E.target()[0];g(C,E),g(A,E);for(var R=E.parallelEdges(),M=0;M<R.length;M++){var B=R[M];m(B),B.isBundledBezier()&&B.dirtyBoundingBoxCache()}}else{var O=E.parent();O.length!==0&&_(O,E)}e&&(E._private.removed=!0)}var N=u._private.elements;u._private.hasCompoundNodes=!1;for(var L=0;L<N.length;L++){var P=N[L];if(P.isParent()){u._private.hasCompoundNodes=!0;break}}var I=new Ln(this.cy(),n);I.size()>0&&(t?I.emitAndNotify("remove"):e&&I.emit("remove"));for(var V=0;V<b.length;V++){var j=b[V];(!e||!j.removed())&&j.updateStyle()}return I};Sr.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,u=function(b){return b==null?b:""+b};if(t.source!==void 0||t.target!==void 0){var s=u(t.source),l=u(t.target),f=s!=null&&e.hasElementWithId(s),d=l!=null&&e.hasElementWithId(l);(f||d)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var b=r[m],_=b._private.data;b.isEdge()&&(f&&(_.source=s),d&&(_.target=l))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var v=u(t.parent),p=v===null||e.hasElementWithId(v);if(p){var g=v===null?void 0:v;e.batch(function(){var m=r.remove(n,i);m.emitAndNotify("moveout");for(var b=0;b<r.length;b++){var _=r[b],x=_._private.data;_.isNode()&&(x.parent=g)}m.restore(n,i)}),r.emitAndNotify("move")}}return this};[vq,c6,sv,Pu,sl,C6,Jv,V6,Pq,Iq,$6,Dv,lv,Nn,Iu,jn].forEach(function(t){St(Sr,t)});var eU={add:function(e){var r,n=this;if(Ea(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var u=[],s=0;s<i.length;s++){var l=i[s];u.push(l.json())}r=new Ln(n,u)}}else if(br(e)){var f=e;r=new Ln(n,f)}else if(Jt(e)&&(br(e.nodes)||br(e.edges))){for(var d=e,v=[],p=["nodes","edges"],g=0,m=p.length;g<m;g++){var b=p[g],_=d[b];if(br(_))for(var x=0,E=_.length;x<E;x++){var C=St({group:b},_[x]);v.push(C)}}r=new Ln(n,v)}else{var A=e;r=new Kv(n,A).collection()}return r},remove:function(e){if(!Ea(e)){if(mt(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function tU(t,e,r,n){var i=4,u=.001,s=1e-7,l=10,f=11,d=1/(f-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var p=0;p<4;++p)if(typeof arguments[p]!="number"||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var g=v?new Float32Array(f):new Array(f);function m(P,I){return 1-3*I+3*P}function b(P,I){return 3*I-6*P}function _(P){return 3*P}function x(P,I,V){return((m(I,V)*P+b(I,V))*P+_(I))*P}function E(P,I,V){return 3*m(I,V)*P*P+2*b(I,V)*P+_(I)}function C(P,I){for(var V=0;V<i;++V){var j=E(I,t,r);if(j===0)return I;var Z=x(I,t,r)-P;I-=Z/j}return I}function A(){for(var P=0;P<f;++P)g[P]=x(P*d,t,r)}function R(P,I,V){var j,Z,J=0;do Z=I+(V-I)/2,j=x(Z,t,r)-P,j>0?V=Z:I=Z;while(Math.abs(j)>s&&++J<l);return Z}function M(P){for(var I=0,V=1,j=f-1;V!==j&&g[V]<=P;++V)I+=d;--V;var Z=(P-g[V])/(g[V+1]-g[V]),J=I+Z*d,G=E(J,t,r);return G>=u?C(P,J):G===0?J:R(P,I,I+d)}var B=!1;function O(){B=!0,(t!==e||r!==n)&&A()}var N=function(I){return B||O(),t===e&&r===n?I:I===0?0:I===1?1:x(M(I),e,n)};N.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var L="generateBezier("+[t,e,r,n]+")";return N.toString=function(){return L},N}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var rU=(function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,u){var s={x:n.x+u.dx*i,v:n.v+u.dv*i,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,i){var u={dx:n.v,dv:t(n)},s=e(n,i*.5,u),l=e(n,i*.5,s),f=e(n,i,l),d=1/6*(u.dx+2*(s.dx+l.dx)+f.dx),v=1/6*(u.dv+2*(s.dv+l.dv)+f.dv);return n.x=n.x+d*i,n.v=n.v+v*i,n}return function n(i,u,s){var l={x:-1,v:0,tension:null,friction:null},f=[0],d=0,v=1/1e4,p=16/1e3,g,m,b;for(i=parseFloat(i)||500,u=parseFloat(u)||20,s=s||null,l.tension=i,l.friction=u,g=s!==null,g?(d=n(i,u),m=d/s*p):m=p;b=r(b||l,m),f.push(1+b.x),d+=16,Math.abs(b.x)>v&&Math.abs(b.v)>v;);return g?function(_){return f[_*(f.length-1)|0]}:d}})(),Er=function(e,r,n,i){var u=tU(e,r,n,i);return function(s,l,f){return s+(l-s)*u(f)}},cv={linear:function(e,r,n){return e+(r-e)*n},ease:Er(.25,.1,.25,1),"ease-in":Er(.42,0,1,1),"ease-out":Er(0,0,.58,1),"ease-in-out":Er(.42,0,.58,1),"ease-in-sine":Er(.47,0,.745,.715),"ease-out-sine":Er(.39,.575,.565,1),"ease-in-out-sine":Er(.445,.05,.55,.95),"ease-in-quad":Er(.55,.085,.68,.53),"ease-out-quad":Er(.25,.46,.45,.94),"ease-in-out-quad":Er(.455,.03,.515,.955),"ease-in-cubic":Er(.55,.055,.675,.19),"ease-out-cubic":Er(.215,.61,.355,1),"ease-in-out-cubic":Er(.645,.045,.355,1),"ease-in-quart":Er(.895,.03,.685,.22),"ease-out-quart":Er(.165,.84,.44,1),"ease-in-out-quart":Er(.77,0,.175,1),"ease-in-quint":Er(.755,.05,.855,.06),"ease-out-quint":Er(.23,1,.32,1),"ease-in-out-quint":Er(.86,0,.07,1),"ease-in-expo":Er(.95,.05,.795,.035),"ease-out-expo":Er(.19,1,.22,1),"ease-in-out-expo":Er(1,0,0,1),"ease-in-circ":Er(.6,.04,.98,.335),"ease-out-circ":Er(.075,.82,.165,1),"ease-in-out-circ":Er(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return cv.linear;var i=rU(e,r,n);return function(u,s,l){return u+(s-u)*i(l)}},"cubic-bezier":Er};function pA(t,e,r,n,i){if(n===1||e===r)return r;var u=i(e,r,n);return t==null||((t.roundValue||t.color)&&(u=Math.round(u)),t.min!==void 0&&(u=Math.max(u,t.min)),t.max!==void 0&&(u=Math.min(u,t.max))),u}function gA(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Is(t,e,r,n,i){var u=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var s=gA(t,i),l=gA(e,i);if(et(s)&&et(l))return pA(u,s,l,r,n);if(br(s)&&br(l)){for(var f=[],d=0;d<l.length;d++){var v=s[d],p=l[d];if(v!=null&&p!=null){var g=pA(u,v,p,r,n);f.push(g)}else f.push(p)}return f}}function nU(t,e,r,n){var i=!n,u=t._private,s=e._private,l=s.easing,f=s.startTime,d=n?t:t.cy(),v=d.style();if(!s.easingImpl)if(l==null)s.easingImpl=cv.linear;else{var p;if(mt(l)){var g=v.parse("transition-timing-function",l);p=g.value}else p=l;var m,b;mt(p)?(m=p,b=[]):(m=p[1],b=p.slice(2).map(function(oe){return+oe})),b.length>0?(m==="spring"&&b.push(s.duration),s.easingImpl=cv[m].apply(null,b)):s.easingImpl=cv[m]}var _=s.easingImpl,x;if(s.duration===0?x=1:x=(r-f)/s.duration,s.applying&&(x=s.progress),x<0?x=0:x>1&&(x=1),s.delay==null){var E=s.startPosition,C=s.position;if(C&&i&&!t.locked()){var A={};Tc(E.x,C.x)&&(A.x=Is(E.x,C.x,x,_)),Tc(E.y,C.y)&&(A.y=Is(E.y,C.y,x,_)),t.position(A)}var R=s.startPan,M=s.pan,B=u.pan,O=M!=null&&n;O&&(Tc(R.x,M.x)&&(B.x=Is(R.x,M.x,x,_)),Tc(R.y,M.y)&&(B.y=Is(R.y,M.y,x,_)),t.emit("pan"));var N=s.startZoom,L=s.zoom,P=L!=null&&n;P&&(Tc(N,L)&&(u.zoom=Xc(u.minZoom,Is(N,L,x,_),u.maxZoom)),t.emit("zoom")),(O||P)&&t.emit("viewport");var I=s.style;if(I&&I.length>0&&i){for(var V=0;V<I.length;V++){var j=I[V],Z=j.name,J=j,G=s.startStyle[Z],$=v.properties[G.name],W=Is(G,J,x,_,$);v.overrideBypass(t,Z,W)}t.emit("style")}}return s.progress=x,x}function Tc(t,e){return t==null||e==null?!1:et(t)&&et(e)?!0:!!(t&&e)}function aU(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function yA(t,e){var r=e._private.aniEles,n=[];function i(v,p){var g=v._private,m=g.animation.current,b=g.animation.queue,_=!1;if(m.length===0){var x=b.shift();x&&m.push(x)}for(var E=function(B){for(var O=B.length-1;O>=0;O--){var N=B[O];N()}B.splice(0,B.length)},C=m.length-1;C>=0;C--){var A=m[C],R=A._private;if(R.stopped){m.splice(C,1),R.hooked=!1,R.playing=!1,R.started=!1,E(R.frames);continue}!R.playing&&!R.applying||(R.playing&&R.applying&&(R.applying=!1),R.started||aU(v,A,t),nU(v,A,t,p),R.applying&&(R.applying=!1),E(R.frames),R.step!=null&&R.step(t),A.completed()&&(m.splice(C,1),R.hooked=!1,R.playing=!1,R.started=!1,E(R.completes)),_=!0)}return!p&&m.length===0&&b.length===0&&n.push(v),_}for(var u=!1,s=0;s<r.length;s++){var l=r[s],f=i(l);u=u||f}var d=i(e,!0);(u||d)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var iU={animate:sr.animate(),animation:sr.animation(),animated:sr.animated(),clearQueue:sr.clearQueue(),delay:sr.delay(),delayAnimation:sr.delayAnimation(),stop:sr.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&Tv(function(u){yA(u,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(u,s){yA(s,e)},n.beforeRenderPriorities.animations):r()}},uU={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&af(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Hd=function(e){return mt(e)?new ju(e):e},Vq={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new eh(uU,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Hd(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Hd(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Hd(r),n),this},once:function(e,r,n){return this.emitter().one(e,Hd(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};sr.eventAliasesOn(Vq);var Px={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Px.jpeg=Px.jpg;var fv={layout:function(e){var r=this;if(e==null){kr("Layout options must be specified to make a layout");return}if(e.name==null){kr("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){kr("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var u;mt(e.eles)?u=r.$(e.eles):u=e.eles!=null?e.eles:r.$();var s=new i(St({},e,{cy:r,eles:u}));return s}};fv.createLayout=fv.makeLayout=fv.layout;var oU={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var u=this.renderer();this.destroyed()||!u||u.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var u=n[i],s=e[u],l=r.getElementById(u);l.data(s)}})}},sU=Pn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Ix={renderTo:function(e,r,n,i){var u=this._private.renderer;return u.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){kr("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&lr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=sU(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Ix.invalidateDimensions=Ix.resize;var dv={collection:function(e,r){return mt(e)?this.$(e):Ea(e)?e.collection():br(e)?(r||(r={}),new Ln(this,e,r.unique,r.removed)):new Ln(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};dv.elements=dv.filter=dv.$;var Rn={},Vc="t",lU="f";Rn.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),u=0;u<t.length;u++){var s=t[u],l=e.getContextMeta(s);if(!l.empty){var f=e.getContextStyle(l),d=e.applyContextStyle(l,f,s);s._private.appliedInitStyle?e.updateTransitions(s,d.diffProps):s._private.appliedInitStyle=!0;var v=e.updateStyleHints(s);v&&i.push(s)}}return i};Rn.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,u=n[i];if(u)return u;for(var s=[],l={},f=0;f<r.length;f++){var d=r[f],v=t[f]===Vc,p=e[f]===Vc,g=v!==p,m=d.mappedProperties.length>0;if(g||p&&m){var b=void 0;g&&m||g?b=d.properties:m&&(b=d.mappedProperties);for(var _=0;_<b.length;_++){for(var x=b[_],E=x.name,C=!1,A=f+1;A<r.length;A++){var R=r[A],M=e[A]===Vc;if(M&&(C=R.properties[x.name]!=null,C))break}!l[E]&&!C&&(l[E]=!0,s.push(E))}}}return n[i]=s,s};Rn.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",u=0;u<e.length;u++){var s=e[u],l=s.selector&&s.selector.matches(t);l?r+=Vc:r+=lU}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Rn.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},u=0;u<r.length;u++){var s=r[u],l=e[u]===Vc;if(l)for(var f=0;f<s.properties.length;f++){var d=s.properties[f];i[d.name]=d}}return n[e]=i,i};Rn.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,u={},s=n.types,l=0;l<i.length;l++){var f=i[l],d=e[f],v=r.pstyle(f);if(!d)if(v)v.bypass?d={name:f,deleteBypassed:!0}:d={name:f,delete:!0};else continue;if(v!==d){if(d.mapped===s.fn&&v!=null&&v.mapping!=null&&v.mapping.value===d.value){var p=v.mapping,g=p.fnValue=d.value(r);if(g===p.prevFnValue)continue}var m=u[f]={prev:v};n.applyParsedProperty(r,d),m.next=r.pstyle(f),m.next&&m.next.bypass&&(m.next=m.next.bypassed)}}return{diffProps:u}};Rn.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,u=function(ge,Be,Ge){return r.getPropertiesHash(ge,Be,Ge)},s=e.styleKey;if(t.removed())return!1;var l=e.group==="nodes",f=t._private.style;n=Object.keys(f);for(var d=0;d<i.length;d++){var v=i[d];e.styleKeys[v]=[Do,Hs]}for(var p=function(ge,Be){return e.styleKeys[Be][0]=Kc(ge,e.styleKeys[Be][0])},g=function(ge,Be){return e.styleKeys[Be][1]=$c(ge,e.styleKeys[Be][1])},m=function(ge,Be){p(ge,Be),g(ge,Be)},b=function(ge,Be){for(var Ge=0;Ge<ge.length;Ge++){var He=ge.charCodeAt(Ge);p(He,Be),g(He,Be)}},_=2e9,x=function(ge){return-128<ge&&ge<128&&Math.floor(ge)!==ge?_-(ge*1024|0):ge},E=0;E<n.length;E++){var C=n[E],A=f[C];if(A!=null){var R=this.properties[C],M=R.type,B=R.groupKey,O=void 0;R.hashOverride!=null?O=R.hashOverride(t,A):A.pfValue!=null&&(O=A.pfValue);var N=R.enums==null?A.value:null,L=O!=null,P=N!=null,I=L||P,V=A.units;if(M.number&&I&&!M.multiple){var j=L?O:N;m(x(j),B),!L&&V!=null&&b(V,B)}else b(A.strValue,B)}}for(var Z=[Do,Hs],J=0;J<i.length;J++){var G=i[J],$=e.styleKeys[G];Z[0]=Kc($[0],Z[0]),Z[1]=$c($[1],Z[1])}e.styleKey=_4(Z[0],Z[1]);var W=e.styleKeys;e.labelDimsKey=Mu(W.labelDimensions);var oe=u(t,["label"],W.labelDimensions);if(e.labelKey=Mu(oe),e.labelStyleKey=Mu(Ld(W.commonLabel,oe)),!l){var se=u(t,["source-label"],W.labelDimensions);e.sourceLabelKey=Mu(se),e.sourceLabelStyleKey=Mu(Ld(W.commonLabel,se));var U=u(t,["target-label"],W.labelDimensions);e.targetLabelKey=Mu(U),e.targetLabelStyleKey=Mu(Ld(W.commonLabel,U))}if(l){var X=e.styleKeys,ue=X.nodeBody,Y=X.nodeBorder,ee=X.nodeOutline,re=X.backgroundImage,de=X.compound,ze=X.pie,ie=X.stripe,he=[ue,Y,ee,re,de,ze,ie].filter(function(be){return be!=null}).reduce(Ld,[Do,Hs]);e.nodeKey=Mu(he),e.hasPie=ze!=null&&ze[0]!==Do&&ze[1]!==Hs,e.hasStripe=ie!=null&&ie[0]!==Do&&ie[1]!==Hs}return s!==e.styleKey};Rn.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};Rn.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,u,s=r.types,l=r.properties[n.name].type,f=n.bypass,d=i[n.name],v=d&&d.bypass,p=t._private,g="mapping",m=function(ue){return ue==null?null:ue.pfValue!=null?ue.pfValue:ue.value},b=function(){var ue=m(d),Y=m(n);r.checkTriggers(t,n.name,ue,Y)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",f)),n.delete)return i[n.name]=void 0,b(),!0;if(n.deleteBypassed)return d?d.bypass?(d.bypassed=void 0,b(),!0):!1:(b(),!0);if(n.deleteBypass)return d?d.bypass?(i[n.name]=d.bypassed,b(),!0):!1:(b(),!0);var _=function(){lr("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var x=n.field.split("."),E=p.data,C=0;C<x.length&&E;C++){var A=x[C];E=E[A]}if(E==null)return _(),!1;var R;if(et(E)){var M=n.fieldMax-n.fieldMin;M===0?R=0:R=(E-n.fieldMin)/M}else return lr("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+E+"` for `"+t.id()+"` is non-numeric)"),!1;if(R<0?R=0:R>1&&(R=1),l.color){var B=n.valueMin[0],O=n.valueMax[0],N=n.valueMin[1],L=n.valueMax[1],P=n.valueMin[2],I=n.valueMax[2],V=n.valueMin[3]==null?1:n.valueMin[3],j=n.valueMax[3]==null?1:n.valueMax[3],Z=[Math.round(B+(O-B)*R),Math.round(N+(L-N)*R),Math.round(P+(I-P)*R),Math.round(V+(j-V)*R)];u={bypass:n.bypass,name:n.name,value:Z,strValue:"rgb("+Z[0]+", "+Z[1]+", "+Z[2]+")"}}else if(l.number){var J=n.valueMin+(n.valueMax-n.valueMin)*R;u=this.parse(n.name,J,n.bypass,g)}else return!1;if(!u)return _(),!1;u.mapping=n,n=u;break}case s.data:{for(var G=n.field.split("."),$=p.data,W=0;W<G.length&&$;W++){var oe=G[W];$=$[oe]}if($!=null&&(u=this.parse(n.name,$,n.bypass,g)),!u)return _(),!1;u.mapping=n,n=u;break}case s.fn:{var se=n.value,U=n.fnValue!=null?n.fnValue:se(t);if(n.prevFnValue=U,U==null)return lr("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(u=this.parse(n.name,U,n.bypass,g),!u)return lr("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;u.mapping=di(n),n=u;break}case void 0:break;default:return!1}return f?(v?n.bypassed=d.bypassed:n.bypassed=d,i[n.name]=n):v?d.bypassed=n:i[n.name]=n,b(),!0};Rn.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,u=Object.keys(i),s=0;s<u.length;s++){var l=u[s],f=i[l];f!=null&&(f.bypass?f.bypassed=null:i[l]=null)}}};Rn.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Rn.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,u=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(i.length>0&&u>0){for(var l={},f=!1,d=0;d<i.length;d++){var v=i[d],p=t.pstyle(v),g=e[v];if(g){var m=g.prev,b=m,_=g.next!=null?g.next:p,x=!1,E=void 0,C=1e-6;b&&(et(b.pfValue)&&et(_.pfValue)?(x=_.pfValue-b.pfValue,E=b.pfValue+C*x):et(b.value)&&et(_.value)?(x=_.value-b.value,E=b.value+C*x):br(b.value)&&br(_.value)&&(x=b.value[0]!==_.value[0]||b.value[1]!==_.value[1]||b.value[2]!==_.value[2],E=b.strValue),x&&(l[v]=_.strValue,this.applyBypass(t,v,E),f=!0))}}if(!f)return;n.transitioning=!0,new fl(function(A){s>0?t.delayAnimation(s).play().promise().then(A):A()}).then(function(){return t.animation({style:l,duration:u,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};Rn.checkTrigger=function(t,e,r,n,i,u){var s=this.properties[e],l=i(s);t.removed()||l!=null&&l(r,n,t)&&u(s)};Rn.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(u){return u.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};Rn.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};Rn.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){t.connectedEdges().forEach(function(u){u.dirtyBoundingBoxCache()})})};Rn.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){t.parallelEdges().forEach(function(u){u.dirtyBoundingBoxCache()})})};Rn.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var df={};df.applyBypass=function(t,e,r,n){var i=this,u=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var l=0;l<i.properties.length;l++){var f=i.properties[l],d=f.name,v=this.parse(d,r,!0);v&&u.push(v)}}else if(mt(e)){var p=this.parse(e,r,!0);p&&u.push(p)}else if(Jt(e)){var g=e;n=r;for(var m=Object.keys(g),b=0;b<m.length;b++){var _=m[b],x=g[_];if(x===void 0&&(x=g[Gv(_)]),x!==void 0){var E=this.parse(_,x,!0);E&&u.push(E)}}}else return!1;if(u.length===0)return!1;for(var C=!1,A=0;A<t.length;A++){for(var R=t[A],M={},B=void 0,O=0;O<u.length;O++){var N=u[O];if(n){var L=R.pstyle(N.name);B=M[N.name]={prev:L}}C=this.applyParsedProperty(R,di(N))||C,n&&(B.next=R.pstyle(N.name))}C&&this.updateStyleHints(R),n&&this.updateTransitions(R,M,s)}return C};df.overrideBypass=function(t,e,r){e=nE(e);for(var n=0;n<t.length;n++){var i=t[n],u=i._private.style[e],s=this.properties[e].type,l=s.color,f=s.mutiple,d=u?u.pfValue!=null?u.pfValue:u.value:null;!u||!u.bypass?this.applyBypass(i,e,r):(u.value=r,u.pfValue!=null&&(u.pfValue=r),l?u.strValue="rgb("+r.join(",")+")":f?u.strValue=r.join(" "):u.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,d,r)}};df.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};df.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var u=t[i],s={},l=0;l<e.length;l++){var f=e[l],d=this.properties[f],v=u.pstyle(d.name);if(!(!v||!v.bypass)){var p="",g=this.parse(f,p,!0),m=s[d.name]={prev:v};this.applyParsedProperty(u,g),m.next=u.pstyle(d.name)}}this.updateStyleHints(u),r&&this.updateTransitions(u,s,n)}};var mE={};mE.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};mE.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var vi={};vi.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};vi.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var u=r.properties[i],s=r.getStylePropertyValue(t,u.name,e);s!=null&&(n[u.name]=s,n[Gv(u.name)]=s)}return n}};vi.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};vi.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var u=i.type,s=t.pstyle(i.name);if(s){var l=s.value,f=s.units,d=s.strValue;if(r&&u.number&&l!=null&&et(l)){var v=t.cy().zoom(),p=function(x){return x*v},g=function(x,E){return p(x)+E},m=br(l),b=m?f.every(function(_){return _!=null}):f!=null;return b?m?l.map(function(_,x){return g(_,f[x])}).join(" "):g(l,f):m?l.map(function(_){return mt(_)?_:""+p(_)}).join(" "):""+p(l)}else if(d!=null)return d}return null}};vi.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],u=i.name,s=t.pstyle(u);s!==void 0&&(Jt(s)?s=this.parse(u,s.strValue):s=this.parse(u,s)),s&&(r[u]=s)}return r};vi.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var u=Object.keys(n),s=0;s<u.length;s++){var l=u[s],f=n[l],d=i[l]||i[nE(l)],v=this.parse(d.name,f);v&&r.push(v)}return r};vi.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,u,s,l,f,d;for(f=0;f<e.length;f++)if(i=e[f],u=t.pstyle(i,!1),u!=null)if(u.pfValue!=null)n[0]=Kc(l,n[0]),n[1]=$c(l,n[1]);else for(s=u.strValue,d=0;d<s.length;d++)l=s.charCodeAt(d),n[0]=Kc(l,n[0]),n[1]=$c(l,n[1]);return n};vi.getPropertiesHash=vi.getNonDefaultPropertiesHash;var nh={};nh.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,u=n.style||n.css,s=Object.keys(u);e.selector(i);for(var l=0;l<s.length;l++){var f=s[l],d=u[f];e.css(f,d)}}return e};nh.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};nh.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,u={},s=0;s<i.length;s++){var l=i[s];u[l.name]=l.strValue}t.push({selector:n?n.toString():"core",style:u})}return t};var bE={};bE.appendFromString=function(t){var e=this,r=this,n=""+t,i,u,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function l(){n.length>i.length?n=n.substr(i.length):n=""}function f(){u.length>s.length?u=u.substr(s.length):u=""}for(;;){var d=n.match(/^\s*$/);if(d)break;var v=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){lr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=v[0];var p=v[1];if(p!=="core"){var g=new ju(p);if(g.invalid){lr("Skipping parsing of block: Invalid selector found in string stylesheet: "+p),l();continue}}var m=v[2],b=!1;u=m;for(var _=[];;){var x=u.match(/^\s*$/);if(x)break;var E=u.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!E){lr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+m),b=!0;break}s=E[0];var C=E[1],A=E[2],R=e.properties[C];if(!R){lr("Skipping property: Invalid property name in: "+s),f();continue}var M=r.parse(C,A);if(!M){lr("Skipping property: Invalid property definition in: "+s),f();continue}_.push({name:C,val:A}),f()}if(b){l();break}r.selector(p);for(var B=0;B<_.length;B++){var O=_[B];r.css(O.name,O.val)}l()}return r};bE.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var sn={};(function(){var t=gn,e=n4,r=i4,n=u4,i=o4,u=function(be){return"^"+be+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(be){var ge=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+be+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+ge+")\\s*\\,\\s*("+ge+")\\)$"},l=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];sn.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:u("data")},layoutData:{mapping:!0,regex:u("layoutData")},scratch:{mapping:!0,regex:u("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:l,singleRegexMatchValue:!0},urls:{regexes:l,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(be,ge){switch(be.length){case 2:return ge[0]!=="deg"&&ge[0]!=="rad"&&ge[1]!=="deg"&&ge[1]!=="rad";case 1:return mt(be[0])||ge[0]==="deg"||ge[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(be){var ge=be.length;return ge===1||ge===2||ge===4}}};var f={zeroNonZero:function(be,ge){return(be==null||ge==null)&&be!==ge||be==0&&ge!=0?!0:be!=0&&ge==0},any:function(be,ge){return be!=ge},emptyNonEmpty:function(be,ge){var Be=Uu(be),Ge=Uu(ge);return Be&&!Ge||!Be&&Ge}},d=sn.types,v=[{name:"label",type:d.text,triggersBounds:f.any,triggersZOrder:f.emptyNonEmpty},{name:"text-rotation",type:d.textRotation,triggersBounds:f.any},{name:"text-margin-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"text-margin-y",type:d.bidirectionalSize,triggersBounds:f.any}],p=[{name:"source-label",type:d.text,triggersBounds:f.any},{name:"source-text-rotation",type:d.textRotation,triggersBounds:f.any},{name:"source-text-margin-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"source-text-margin-y",type:d.bidirectionalSize,triggersBounds:f.any},{name:"source-text-offset",type:d.size,triggersBounds:f.any}],g=[{name:"target-label",type:d.text,triggersBounds:f.any},{name:"target-text-rotation",type:d.textRotation,triggersBounds:f.any},{name:"target-text-margin-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"target-text-margin-y",type:d.bidirectionalSize,triggersBounds:f.any},{name:"target-text-offset",type:d.size,triggersBounds:f.any}],m=[{name:"font-family",type:d.fontFamily,triggersBounds:f.any},{name:"font-style",type:d.fontStyle,triggersBounds:f.any},{name:"font-weight",type:d.fontWeight,triggersBounds:f.any},{name:"font-size",type:d.size,triggersBounds:f.any},{name:"text-transform",type:d.textTransform,triggersBounds:f.any},{name:"text-wrap",type:d.textWrap,triggersBounds:f.any},{name:"text-overflow-wrap",type:d.textOverflowWrap,triggersBounds:f.any},{name:"text-max-width",type:d.size,triggersBounds:f.any},{name:"text-outline-width",type:d.size,triggersBounds:f.any},{name:"line-height",type:d.positiveNumber,triggersBounds:f.any}],b=[{name:"text-valign",type:d.valign,triggersBounds:f.any},{name:"text-halign",type:d.halign,triggersBounds:f.any},{name:"color",type:d.color},{name:"text-outline-color",type:d.color},{name:"text-outline-opacity",type:d.zeroOneNumber},{name:"text-background-color",type:d.color},{name:"text-background-opacity",type:d.zeroOneNumber},{name:"text-background-padding",type:d.size,triggersBounds:f.any},{name:"text-border-opacity",type:d.zeroOneNumber},{name:"text-border-color",type:d.color},{name:"text-border-width",type:d.size,triggersBounds:f.any},{name:"text-border-style",type:d.borderStyle,triggersBounds:f.any},{name:"text-background-shape",type:d.textBackgroundShape,triggersBounds:f.any},{name:"text-justification",type:d.justification},{name:"box-select-labels",type:d.bool,triggersBounds:f.any}],_=[{name:"events",type:d.bool,triggersZOrder:f.any},{name:"text-events",type:d.bool,triggersZOrder:f.any},{name:"box-selection",type:d.boxSelection,triggersZOrder:f.any}],x=[{name:"display",type:d.display,triggersZOrder:f.any,triggersBounds:f.any,triggersBoundsOfConnectedEdges:f.any,triggersBoundsOfParallelEdges:function(be,ge,Be){return be===ge?!1:Be.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:d.visibility,triggersZOrder:f.any},{name:"opacity",type:d.zeroOneNumber,triggersZOrder:f.zeroNonZero},{name:"text-opacity",type:d.zeroOneNumber},{name:"min-zoomed-font-size",type:d.size},{name:"z-compound-depth",type:d.zCompoundDepth,triggersZOrder:f.any},{name:"z-index-compare",type:d.zIndexCompare,triggersZOrder:f.any},{name:"z-index",type:d.number,triggersZOrder:f.any}],E=[{name:"overlay-padding",type:d.size,triggersBounds:f.any},{name:"overlay-color",type:d.color},{name:"overlay-opacity",type:d.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"overlay-shape",type:d.overlayShape,triggersBounds:f.any},{name:"overlay-corner-radius",type:d.cornerRadius}],C=[{name:"underlay-padding",type:d.size,triggersBounds:f.any},{name:"underlay-color",type:d.color},{name:"underlay-opacity",type:d.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"underlay-shape",type:d.overlayShape,triggersBounds:f.any},{name:"underlay-corner-radius",type:d.cornerRadius}],A=[{name:"transition-property",type:d.propList},{name:"transition-duration",type:d.time},{name:"transition-delay",type:d.time},{name:"transition-timing-function",type:d.easing}],R=function(be,ge){return ge.value==="label"?-be.poolIndex():ge.pfValue},M=[{name:"height",type:d.nodeSize,triggersBounds:f.any,hashOverride:R},{name:"width",type:d.nodeSize,triggersBounds:f.any,hashOverride:R},{name:"shape",type:d.nodeShape,triggersBounds:f.any},{name:"shape-polygon-points",type:d.polygonPointList,triggersBounds:f.any},{name:"corner-radius",type:d.cornerRadius},{name:"background-color",type:d.color},{name:"background-fill",type:d.fill},{name:"background-opacity",type:d.zeroOneNumber},{name:"background-blacken",type:d.nOneOneNumber},{name:"background-gradient-stop-colors",type:d.colors},{name:"background-gradient-stop-positions",type:d.percentages},{name:"background-gradient-direction",type:d.gradientDirection},{name:"padding",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"padding-relative-to",type:d.paddingRelativeTo,triggersBounds:f.any},{name:"bounds-expansion",type:d.boundsExpansion,triggersBounds:f.any}],B=[{name:"border-color",type:d.color},{name:"border-opacity",type:d.zeroOneNumber},{name:"border-width",type:d.size,triggersBounds:f.any},{name:"border-style",type:d.borderStyle},{name:"border-cap",type:d.lineCap},{name:"border-join",type:d.lineJoin},{name:"border-dash-pattern",type:d.numbers},{name:"border-dash-offset",type:d.number},{name:"border-position",type:d.linePosition}],O=[{name:"outline-color",type:d.color},{name:"outline-opacity",type:d.zeroOneNumber},{name:"outline-width",type:d.size,triggersBounds:f.any},{name:"outline-style",type:d.borderStyle},{name:"outline-offset",type:d.size,triggersBounds:f.any}],N=[{name:"background-image",type:d.urls},{name:"background-image-crossorigin",type:d.bgCrossOrigin},{name:"background-image-opacity",type:d.zeroOneNumbers},{name:"background-image-containment",type:d.bgContainment},{name:"background-image-smoothing",type:d.bools},{name:"background-position-x",type:d.bgPos},{name:"background-position-y",type:d.bgPos},{name:"background-width-relative-to",type:d.bgRelativeTo},{name:"background-height-relative-to",type:d.bgRelativeTo},{name:"background-repeat",type:d.bgRepeat},{name:"background-fit",type:d.bgFit},{name:"background-clip",type:d.bgClip},{name:"background-width",type:d.bgWH},{name:"background-height",type:d.bgWH},{name:"background-offset-x",type:d.bgPos},{name:"background-offset-y",type:d.bgPos}],L=[{name:"position",type:d.position,triggersBounds:f.any},{name:"compound-sizing-wrt-labels",type:d.compoundIncludeLabels,triggersBounds:f.any},{name:"min-width",type:d.size,triggersBounds:f.any},{name:"min-width-bias-left",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"min-width-bias-right",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"min-height",type:d.size,triggersBounds:f.any},{name:"min-height-bias-top",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"min-height-bias-bottom",type:d.sizeMaybePercent,triggersBounds:f.any}],P=[{name:"line-style",type:d.lineStyle},{name:"line-color",type:d.color},{name:"line-fill",type:d.fill},{name:"line-cap",type:d.lineCap},{name:"line-opacity",type:d.zeroOneNumber},{name:"line-dash-pattern",type:d.numbers},{name:"line-dash-offset",type:d.number},{name:"line-outline-width",type:d.size},{name:"line-outline-color",type:d.color},{name:"line-gradient-stop-colors",type:d.colors},{name:"line-gradient-stop-positions",type:d.percentages},{name:"curve-style",type:d.curveStyle,triggersBounds:f.any,triggersBoundsOfParallelEdges:function(be,ge){return be===ge?!1:be==="bezier"||ge==="bezier"}},{name:"haystack-radius",type:d.zeroOneNumber,triggersBounds:f.any},{name:"source-endpoint",type:d.edgeEndpoint,triggersBounds:f.any},{name:"target-endpoint",type:d.edgeEndpoint,triggersBounds:f.any},{name:"control-point-step-size",type:d.size,triggersBounds:f.any},{name:"control-point-distances",type:d.bidirectionalSizes,triggersBounds:f.any},{name:"control-point-weights",type:d.numbers,triggersBounds:f.any},{name:"segment-distances",type:d.bidirectionalSizes,triggersBounds:f.any},{name:"segment-weights",type:d.numbers,triggersBounds:f.any},{name:"segment-radii",type:d.numbers,triggersBounds:f.any},{name:"radius-type",type:d.radiusType,triggersBounds:f.any},{name:"taxi-turn",type:d.bidirectionalSizeMaybePercent,triggersBounds:f.any},{name:"taxi-turn-min-distance",type:d.size,triggersBounds:f.any},{name:"taxi-direction",type:d.axisDirection,triggersBounds:f.any},{name:"taxi-radius",type:d.number,triggersBounds:f.any},{name:"edge-distances",type:d.edgeDistances,triggersBounds:f.any},{name:"arrow-scale",type:d.positiveNumber,triggersBounds:f.any},{name:"loop-direction",type:d.angle,triggersBounds:f.any},{name:"loop-sweep",type:d.angle,triggersBounds:f.any},{name:"source-distance-from-node",type:d.size,triggersBounds:f.any},{name:"target-distance-from-node",type:d.size,triggersBounds:f.any}],I=[{name:"ghost",type:d.bool,triggersBounds:f.any},{name:"ghost-offset-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"ghost-offset-y",type:d.bidirectionalSize,triggersBounds:f.any},{name:"ghost-opacity",type:d.zeroOneNumber}],V=[{name:"selection-box-color",type:d.color},{name:"selection-box-opacity",type:d.zeroOneNumber},{name:"selection-box-border-color",type:d.color},{name:"selection-box-border-width",type:d.size},{name:"active-bg-color",type:d.color},{name:"active-bg-opacity",type:d.zeroOneNumber},{name:"active-bg-size",type:d.size},{name:"outside-texture-bg-color",type:d.color},{name:"outside-texture-bg-opacity",type:d.zeroOneNumber}],j=[];sn.pieBackgroundN=16,j.push({name:"pie-size",type:d.sizeMaybePercent}),j.push({name:"pie-hole",type:d.sizeMaybePercent}),j.push({name:"pie-start-angle",type:d.angle});for(var Z=1;Z<=sn.pieBackgroundN;Z++)j.push({name:"pie-"+Z+"-background-color",type:d.color}),j.push({name:"pie-"+Z+"-background-size",type:d.percent}),j.push({name:"pie-"+Z+"-background-opacity",type:d.zeroOneNumber});var J=[];sn.stripeBackgroundN=16,J.push({name:"stripe-size",type:d.sizeMaybePercent}),J.push({name:"stripe-direction",type:d.axisDirectionPrimary});for(var G=1;G<=sn.stripeBackgroundN;G++)J.push({name:"stripe-"+G+"-background-color",type:d.color}),J.push({name:"stripe-"+G+"-background-size",type:d.percent}),J.push({name:"stripe-"+G+"-background-opacity",type:d.zeroOneNumber});var $=[],W=sn.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:d.arrowShape,triggersBounds:f.any},{name:"arrow-color",type:d.color},{name:"arrow-fill",type:d.arrowFill},{name:"arrow-width",type:d.arrowWidth}].forEach(function(he){W.forEach(function(be){var ge=be+"-"+he.name,Be=he.type,Ge=he.triggersBounds;$.push({name:ge,type:Be,triggersBounds:Ge})})},{});var oe=sn.properties=[].concat(_,A,x,E,C,I,b,m,v,p,g,M,B,O,N,j,J,L,P,$,V),se=sn.propertyGroups={behavior:_,transition:A,visibility:x,overlay:E,underlay:C,ghost:I,commonLabel:b,labelDimensions:m,mainLabel:v,sourceLabel:p,targetLabel:g,nodeBody:M,nodeBorder:B,nodeOutline:O,backgroundImage:N,pie:j,stripe:J,compound:L,edgeLine:P,edgeArrow:$,core:V},U=sn.propertyGroupNames={},X=sn.propertyGroupKeys=Object.keys(se);X.forEach(function(he){U[he]=se[he].map(function(be){return be.name}),se[he].forEach(function(be){return be.groupKey=he})});var ue=sn.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];sn.propertyNames=oe.map(function(he){return he.name});for(var Y=0;Y<oe.length;Y++){var ee=oe[Y];oe[ee.name]=ee}for(var re=0;re<ue.length;re++){var de=ue[re],ze=oe[de.pointsTo],ie={name:de.name,alias:!0,pointsTo:ze};oe.push(ie),oe[de.name]=ie}})();sn.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};sn.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=St({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(f,d){for(var v=1;v<=sn.pieBackgroundN;v++){var p=d.name.replace("{{i}}",v),g=d.value;f[p]=g}return f},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(f,d){for(var v=1;v<=sn.stripeBackgroundN;v++){var p=d.name.replace("{{i}}",v),g=d.value;f[p]=g}return f},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(f,d){return sn.arrowPrefixes.forEach(function(v){var p=v+"-"+d.name,g=d.value;f[p]=g}),f},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var u=i.name,s=e[u],l=this.parse(u,s);r[u]=l}}return t.defaultProperties=r,t.defaultProperties};sn.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var ah={};ah.parse=function(t,e,r,n){var i=this;if(Fr(e))return i.parseImplWarn(t,e,r,n);var u=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",l=""+e,f=WB(t,l,s,u),d=i.propCache=i.propCache||[],v;return(v=d[f])||(v=d[f]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(v=di(v),v&&(v.value=di(v.value))),v};ah.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&lr("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&lr("The style value of `label` is deprecated for `"+i.name+"`"),i};ah.parseImpl=function(t,e,r,n){var i=this;t=nE(t);var u=i.properties[t],s=e,l=i.types;if(!u||e===void 0)return null;u.alias&&(u=u.pointsTo,t=u.name);var f=mt(e);f&&(e=e.trim());var d=u.type;if(!d)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Fr(e))return{name:t,value:e,strValue:"fn",mapped:l.fn,bypass:r};var v,p;if(!(!f||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(l.data.regex).exec(e))){if(r)return!1;var g=l.data;return{name:t,value:v,strValue:""+e,mapped:g,field:v[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(p=new RegExp(l.mapData.regex).exec(e))){if(r||d.multiple)return!1;var m=l.mapData;if(!(d.color||d.number))return!1;var b=this.parse(t,p[4]);if(!b||b.mapped)return!1;var _=this.parse(t,p[5]);if(!_||_.mapped)return!1;if(b.pfValue===_.pfValue||b.strValue===_.strValue)return lr("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+b.strValue+"`"),this.parse(t,b.strValue);if(d.color){var x=b.value,E=_.value,C=x[0]===E[0]&&x[1]===E[1]&&x[2]===E[2]&&(x[3]===E[3]||(x[3]==null||x[3]===1)&&(E[3]==null||E[3]===1));if(C)return!1}return{name:t,value:p,strValue:""+e,mapped:m,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:b.value,valueMax:_.value,bypass:r}}}if(d.multiple&&n!=="multiple"){var A;if(f?A=e.split(/\s+/):br(e)?A=e:A=[e],d.evenMultiple&&A.length%2!==0)return null;for(var R=[],M=[],B=[],O="",N=!1,L=0;L<A.length;L++){var P=i.parse(t,A[L],r,"multiple");N=N||mt(P.value),R.push(P.value),B.push(P.pfValue!=null?P.pfValue:P.value),M.push(P.units),O+=(L>0?" ":"")+P.strValue}return d.validate&&!d.validate(R,M)?null:d.singleEnum&&N?R.length===1&&mt(R[0])?{name:t,value:R[0],strValue:R[0],bypass:r}:null:{name:t,value:R,pfValue:B,strValue:O,bypass:r,units:M}}var I=function(){for(var ie=0;ie<d.enums.length;ie++){var he=d.enums[ie];if(he===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(d.number){var V,j="px";if(d.units&&(V=d.units),d.implicitUnits&&(j=d.implicitUnits),!d.unitless)if(f){var Z="px|em"+(d.allowPercent?"|\\%":"");V&&(Z=V);var J=e.match("^("+gn+")("+Z+")?$");J&&(e=J[1],V=J[2]||j)}else(!V||d.implicitUnits)&&(V=j);if(e=parseFloat(e),isNaN(e)&&d.enums===void 0)return null;if(isNaN(e)&&d.enums!==void 0)return e=s,I();if(d.integer&&!Z3(e)||d.min!==void 0&&(e<d.min||d.strictMin&&e===d.min)||d.max!==void 0&&(e>d.max||d.strictMax&&e===d.max))return null;var G={name:t,value:e,strValue:""+e+(V||""),units:V,bypass:r};return d.unitless||V!=="px"&&V!=="em"?G.pfValue=e:G.pfValue=V==="px"||!V?e:this.getEmSizeInPixels()*e,(V==="ms"||V==="s")&&(G.pfValue=V==="ms"?e:1e3*e),(V==="deg"||V==="rad")&&(G.pfValue=V==="rad"?e:uP(e)),V==="%"&&(G.pfValue=e/100),G}else if(d.propList){var $=[],W=""+e;if(W!=="none"){for(var oe=W.split(/\s*,\s*|\s+/),se=0;se<oe.length;se++){var U=oe[se].trim();i.properties[U]?$.push(U):lr("`"+U+"` is not a valid property name")}if($.length===0)return null}return{name:t,value:$,strValue:$.length===0?"none":$.join(" "),bypass:r}}else if(d.color){var X=HB(e);return X?{name:t,value:X,pfValue:X,strValue:"rgb("+X[0]+","+X[1]+","+X[2]+")",bypass:r}:null}else if(d.regex||d.regexes){if(d.enums){var ue=I();if(ue)return ue}for(var Y=d.regexes?d.regexes:[d.regex],ee=0;ee<Y.length;ee++){var re=new RegExp(Y[ee]),de=re.exec(e);if(de)return{name:t,value:d.singleRegexMatchValue?de[1]:de,strValue:""+e,bypass:r}}return null}else return d.string?{name:t,value:""+e,strValue:""+e,bypass:r}:d.enums?I():null};var An=function(e){if(!(this instanceof An))return new An(e);if(!rE(e)){kr("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Gn=An.prototype;Gn.instanceString=function(){return"style"};Gn.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var u=i[0]._private;u.styleDirty=!0,u.appliedInitStyle=!1}),this};Gn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Gn.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Gn.selector=function(t){var e=t==="core"?null:new ju(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Gn.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],u=r[i.name];u===void 0&&(u=r[Gv(i.name)]),u!==void 0&&this.cssRule(i.name,u)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Gn.style=Gn.css;Gn.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};Gn.append=function(t){return VB(t)?t.appendToStyle(this):br(t)?this.appendFromJson(t):mt(t)&&this.appendFromString(t),this};An.fromJson=function(t,e){var r=new An(t);return r.fromJson(e),r};An.fromString=function(t,e){return new An(t).fromString(e)};[Rn,df,mE,vi,nh,bE,sn,ah].forEach(function(t){St(Gn,t)});An.types=Gn.types;An.properties=Gn.properties;An.propertyGroups=Gn.propertyGroups;An.propertyGroupNames=Gn.propertyGroupNames;An.propertyGroupKeys=Gn.propertyGroupKeys;var cU={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return VB(e)?r.style=e.generateStyle(this):br(e)?r.style=An.fromJson(this,e):mt(e)?r.style=An.fromString(this,e):r.style=An(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},fU="single",Po={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=fU),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,u,s,l;switch(e.length){case 0:return r;case 1:if(mt(e[0]))return n=e[0],r[n];if(Jt(e[0])){if(!this._private.panningEnabled)return this;u=e[0],s=u.x,l=u.y,et(s)&&(r.x=s),et(l)&&(r.y=l),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&et(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,u,s,l,f,d;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Jt(e)&&(l=n[0],f=l.x,d=l.y,et(f)&&(i.x+=f),et(d)&&(i.y+=d),this.emit("pan viewport"));break;case 2:u=e,s=r,(u==="x"||u==="y")&&et(s)&&(i[u]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(et(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(mt(e)){var i=e;e=this.$(i)}else if(J3(e)){var u=e;n={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Ea(e)||(e=this.mutableElements());if(!(Ea(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),l=this.height(),f;if(r=et(r)?r:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){f=Math.min((s-2*r)/n.w,(l-2*r)/n.h),f=f>this._private.maxZoom?this._private.maxZoom:f,f=f<this._private.minZoom?this._private.minZoom:f;var d={x:(s-f*(n.x1+n.x2))/2,y:(l-f*(n.y1+n.y2))/2};return{zoom:f,pan:d}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return et(e)&&et(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):et(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:et(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,u,s,l=!1;if(r.zoomingEnabled||(l=!0),et(e)?s=e:Jt(e)&&(s=e.level,e.position!=null?u=$v(e.position,i,n):e.renderedPosition!=null&&(u=e.renderedPosition),u!=null&&!r.panningEnabled&&(l=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,l||!et(s)||s===i||u!=null&&(!et(u.x)||!et(u.y)))return null;if(u!=null){var f=n,d=i,v=s,p={x:-v/d*(u.x-f.x)+u.x,y:-v/d*(u.y-f.y)+u.y};return{zoomed:!0,panned:!0,zoom:v,pan:p}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,u=[],s=!1,l=!1;if(!e)return this;if(et(e.zoom)||(n=!1),Jt(e.pan)||(i=!1),!n&&!i)return this;if(n){var f=e.zoom;f<r.minZoom||f>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=f,u.push("zoom"))}if(i&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var d=e.pan;et(d.x)&&(r.pan.x=d.x,l=!1),et(d.y)&&(r.pan.y=d.y,l=!1),l||u.push("pan")}return u.length>0&&(u.push("viewport"),this.emit(u.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(mt(e)){var n=e;e=this.mutableElements().filter(n)}else Ea(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),u=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var l={x:(u-r*(i.x1+i.x2))/2,y:(s-r*(i.y1+i.y2))/2};return l}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?(function(){var i=n.window().getComputedStyle(r),u=function(l){return parseFloat(i.getPropertyValue(l))};return{width:r.clientWidth-u("padding-left")-u("padding-right"),height:r.clientHeight-u("padding-top")-u("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Po.centre=Po.center;Po.autolockNodes=Po.autolock;Po.autoungrabifyNodes=Po.autoungrabify;var Jc={data:sr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:sr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:sr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:sr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Jc.attr=Jc.data;Jc.removeAttr=Jc.removeData;var ef=function(e){var r=this;e=St({},e);var n=e.container;n&&!Sv(n)&&Sv(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var u=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var s=pn!==void 0&&n!==void 0&&!e.headless,l=e;l.layout=St({name:s?"grid":"null"},l.layout),l.renderer=St({name:s?"canvas":"null"},l.renderer);var f=function(b,_,x){return _!==void 0?_:x!==void 0?x:b},d=this._private={container:n,ready:!1,options:l,elements:new Ln(this),listeners:[],aniEles:new Ln(this),data:l.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:f(!0,l.zoomingEnabled),userZoomingEnabled:f(!0,l.userZoomingEnabled),panningEnabled:f(!0,l.panningEnabled),userPanningEnabled:f(!0,l.userPanningEnabled),boxSelectionEnabled:f(!0,l.boxSelectionEnabled),autolock:f(!1,l.autolock,l.autolockNodes),autoungrabify:f(!1,l.autoungrabify,l.autoungrabifyNodes),autounselectify:f(!1,l.autounselectify),styleEnabled:l.styleEnabled===void 0?s:l.styleEnabled,zoom:et(l.zoom)?l.zoom:1,pan:{x:Jt(l.pan)&&et(l.pan.x)?l.pan.x:0,y:Jt(l.pan)&&et(l.pan.y)?l.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:f(250,l.multiClickDebounceTime)};this.createEmitter(),this.selectionType(l.selectionType),this.zoomRange({min:l.minZoom,max:l.maxZoom});var v=function(b,_){var x=b.some(e4);if(x)return fl.all(b).then(_);_(b)};d.styleEnabled&&r.setStyle([]);var p=St({},l,l.renderer);r.initRenderer(p);var g=function(b,_,x){r.notifications(!1);var E=r.mutableElements();E.length>0&&E.remove(),b!=null&&(Jt(b)||br(b))&&r.add(b),r.one("layoutready",function(A){r.notifications(!0),r.emit(A),r.one("load",_),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",x),r.emit("done")});var C=St({},r._private.options.layout);C.eles=r.elements(),r.layout(C).run()};v([l.style,l.elements],function(m){var b=m[0],_=m[1];d.styleEnabled&&r.style().append(b),g(_,function(){r.startAnimationLoop(),d.ready=!0,Fr(l.ready)&&r.on("ready",l.ready);for(var x=0;x<u.length;x++){var E=u[x];r.on("ready",E)}i&&(i.readies=[]),r.emit("ready")},l.done)})},Ov=ef.prototype;St(Ov,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return pn;var r=this._private.container.ownerDocument;return r===void 0||r==null?pn:r.defaultView||pn},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!Sv(e)&&Sv(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(St({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return di(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),u=function(R){return r.getElementById(R.id())};if(Jt(e)){if(r.startBatch(),e.elements){var s={},l=function(R,M){for(var B=[],O=[],N=0;N<R.length;N++){var L=R[N];if(!L.data.id){lr("cy.json() cannot handle elements without an ID attribute");continue}var P=""+L.data.id,I=r.getElementById(P);s[P]=!0,I.length!==0?O.push({ele:I,json:L}):(M&&(L.group=M),B.push(L))}r.add(B);for(var V=0;V<O.length;V++){var j=O[V],Z=j.ele,J=j.json;Z.json(J)}};if(br(e.elements))l(e.elements);else for(var f=["nodes","edges"],d=0;d<f.length;d++){var v=f[d],p=e.elements[v];br(p)&&l(p,v)}var g=r.collection();i.filter(function(A){return!s[A.id()]}).forEach(function(A){A.isParent()?g.merge(A):A.remove()}),g.forEach(function(A){return A.children().move({parent:null})}),g.forEach(function(A){return u(A).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],b=0;b<m.length;b++){var _=m[b];e[_]!=null&&r[_](e[_])}return r.endBatch(),this}else{var x=!!e,E={};x?E.elements=this.elements().map(function(A){return A.json()}):(E.elements={},i.forEach(function(A){var R=A.group();E.elements[R]||(E.elements[R]=[]),E.elements[R].push(A.json())})),this._private.styleEnabled&&(E.style=r.style().json()),E.data=di(r.data());var C=n.options;return E.zoomingEnabled=n.zoomingEnabled,E.userZoomingEnabled=n.userZoomingEnabled,E.zoom=n.zoom,E.minZoom=n.minZoom,E.maxZoom=n.maxZoom,E.panningEnabled=n.panningEnabled,E.userPanningEnabled=n.userPanningEnabled,E.pan=di(n.pan),E.boxSelectionEnabled=n.boxSelectionEnabled,E.renderer=di(C.renderer),E.hideEdgesOnViewport=C.hideEdgesOnViewport,E.textureOnViewport=C.textureOnViewport,E.wheelSensitivity=C.wheelSensitivity,E.motionBlur=C.motionBlur,E.multiClickDebounceTime=C.multiClickDebounceTime,E}}});Ov.$id=Ov.getElementById;[eU,iU,Vq,Px,fv,oU,Ix,dv,cU,Po,Jc].forEach(function(t){St(Ov,t)});var dU={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},vU={maximal:!1,acyclic:!1},Us=function(e){return e.scratch("breadthfirst")},mA=function(e,r){return e.scratch("breadthfirst",r)};function jq(t){this.options=St({},dU,vU,t)}jq.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(ct){return ct.isChildless()}),i=r,u=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,l=!!t.boundingBox,f=Wn(l?t.boundingBox:structuredClone(e.extent())),d;if(Ea(t.roots))d=t.roots;else if(br(t.roots)){for(var v=[],p=0;p<t.roots.length;p++){var g=t.roots[p],m=e.getElementById(g);v.push(m)}d=e.collection(v)}else if(mt(t.roots))d=e.$(t.roots);else if(u)d=n.roots();else{var b=r.components();d=e.collection();for(var _=function(){var Qe=b[x],tt=Qe.maxDegree(!1),ot=Qe.filter(function(st){return st.degree(!1)===tt});d=d.add(ot)},x=0;x<b.length;x++)_()}var E=[],C={},A=function(Qe,tt){E[tt]==null&&(E[tt]=[]);var ot=E[tt].length;E[tt].push(Qe),mA(Qe,{index:ot,depth:tt})},R=function(Qe,tt){var ot=Us(Qe),st=ot.depth,rt=ot.index;E[st][rt]=null,Qe.isChildless()&&A(Qe,tt)};i.bfs({roots:d,directed:t.directed,visit:function(Qe,tt,ot,st,rt){var xt=Qe[0],Dt=xt.id();xt.isChildless()&&A(xt,rt),C[Dt]=!0}});for(var M=[],B=0;B<n.length;B++){var O=n[B];C[O.id()]||M.push(O)}var N=function(Qe){for(var tt=E[Qe],ot=0;ot<tt.length;ot++){var st=tt[ot];if(st==null){tt.splice(ot,1),ot--;continue}mA(st,{depth:Qe,index:ot})}},L=function(Qe,tt){for(var ot=Us(Qe),st=Qe.incomers().filter(function(yt){return yt.isNode()&&r.has(yt)}),rt=-1,xt=Qe.id(),Dt=0;Dt<st.length;Dt++){var qt=st[Dt],Mt=Us(qt);rt=Math.max(rt,Mt.depth)}if(ot.depth<=rt){if(!t.acyclic&&tt[xt])return null;var Pt=rt+1;return R(Qe,Pt),tt[xt]=Pt,!0}return!1};if(u&&s){var P=[],I={},V=function(Qe){return P.push(Qe)},j=function(){return P.shift()};for(n.forEach(function(ct){return P.push(ct)});P.length>0;){var Z=j(),J=L(Z,I);if(J)Z.outgoers().filter(function(ct){return ct.isNode()&&r.has(ct)}).forEach(V);else if(J===null){lr("Detected double maximal shift for node `"+Z.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var G=0;if(t.avoidOverlap)for(var $=0;$<n.length;$++){var W=n[$],oe=W.layoutDimensions(t),se=oe.w,U=oe.h;G=Math.max(G,se,U)}var X={},ue=function(Qe){if(X[Qe.id()])return X[Qe.id()];for(var tt=Us(Qe).depth,ot=Qe.neighborhood(),st=0,rt=0,xt=0;xt<ot.length;xt++){var Dt=ot[xt];if(!(Dt.isEdge()||Dt.isParent()||!n.has(Dt))){var qt=Us(Dt);if(qt!=null){var Mt=qt.index,Pt=qt.depth;if(!(Mt==null||Pt==null)){var yt=E[Pt].length;Pt<tt&&(st+=Mt/yt,rt++)}}}}return rt=Math.max(1,rt),st=st/rt,rt===0&&(st=0),X[Qe.id()]=st,st},Y=function(Qe,tt){var ot=ue(Qe),st=ue(tt),rt=ot-st;return rt===0?GB(Qe.id(),tt.id()):rt};t.depthSort!==void 0&&(Y=t.depthSort);for(var ee=E.length,re=0;re<ee;re++)E[re].sort(Y),N(re);for(var de=[],ze=0;ze<M.length;ze++)de.push(M[ze]);var ie=function(){for(var Qe=0;Qe<ee;Qe++)N(Qe)};de.length&&(E.unshift(de),ee=E.length,ie());for(var he=0,be=0;be<ee;be++)he=Math.max(E[be].length,he);var ge={x:f.x1+f.w/2,y:f.y1+f.h/2},Be=n.reduce(function(ct,Qe){return(function(tt){return{w:ct.w===-1?tt.w:(ct.w+tt.w)/2,h:ct.h===-1?tt.h:(ct.h+tt.h)/2}})(Qe.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),Ge=Math.max(ee===1?0:l?(f.h-t.padding*2-Be.h)/(ee-1):(f.h-t.padding*2-Be.h)/(ee+1),G),He=E.reduce(function(ct,Qe){return Math.max(ct,Qe.length)},0),Ct=function(Qe){var tt=Us(Qe),ot=tt.depth,st=tt.index;if(t.circle){var rt=Math.min(f.w/2/ee,f.h/2/ee);rt=Math.max(rt,G);var xt=rt*ot+rt-(ee>0&&E[0].length<=3?rt/2:0),Dt=2*Math.PI/E[ot].length*st;return ot===0&&E[0].length===1&&(xt=1),{x:ge.x+xt*Math.cos(Dt),y:ge.y+xt*Math.sin(Dt)}}else{var qt=E[ot].length,Mt=Math.max(qt===1?0:l?(f.w-t.padding*2-Be.w)/((t.grid?He:qt)-1):(f.w-t.padding*2-Be.w)/((t.grid?He:qt)+1),G),Pt={x:ge.x+(st+1-(qt+1)/2)*Mt,y:ge.y+(ot+1-(ee+1)/2)*Ge};return Pt}},Ze={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Ze).indexOf(t.direction)===-1&&kr("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Ze).join(", ")));var ht=function(Qe){return D4(Ct(Qe),f,Ze[t.direction])};return r.nodes().layoutPositions(this,t,ht),this};var hU={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Gq(t){this.options=St({},hU,t)}Gq.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,u=n.nodes().not(":parent");e.sort&&(u=u.sort(e.sort));for(var s=Wn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},f=e.sweep===void 0?2*Math.PI-2*Math.PI/u.length:e.sweep,d=f/Math.max(1,u.length-1),v,p=0,g=0;g<u.length;g++){var m=u[g],b=m.layoutDimensions(e),_=b.w,x=b.h;p=Math.max(p,_,x)}if(et(e.radius)?v=e.radius:u.length<=1?v=0:v=Math.min(s.h,s.w)/2-p,u.length>1&&e.avoidOverlap){p*=1.75;var E=Math.cos(d)-Math.cos(0),C=Math.sin(d)-Math.sin(0),A=Math.sqrt(p*p/(E*E+C*C));v=Math.max(A,v)}var R=function(B,O){var N=e.startAngle+O*d*(i?1:-1),L=v*Math.cos(N),P=v*Math.sin(N),I={x:l.x+L,y:l.y+P};return I};return n.nodes().layoutPositions(this,e,R),this};var pU={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Hq(t){this.options=St({},pU,t)}Hq.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,u=i.nodes().not(":parent"),s=Wn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},f=[],d=0,v=0;v<u.length;v++){var p=u[v],g=void 0;g=e.concentric(p),f.push({value:g,node:p}),p._private.scratch.concentric=g}u.updateStyle();for(var m=0;m<u.length;m++){var b=u[m],_=b.layoutDimensions(e);d=Math.max(d,_.w,_.h)}f.sort(function(Ge,He){return He.value-Ge.value});for(var x=e.levelWidth(u),E=[[]],C=E[0],A=0;A<f.length;A++){var R=f[A];if(C.length>0){var M=Math.abs(C[0].value-R.value);M>=x&&(C=[],E.push(C))}C.push(R)}var B=d+e.minNodeSpacing;if(!e.avoidOverlap){var O=E.length>0&&E[0].length>1,N=Math.min(s.w,s.h)/2-B,L=N/(E.length+O?1:0);B=Math.min(B,L)}for(var P=0,I=0;I<E.length;I++){var V=E[I],j=e.sweep===void 0?2*Math.PI-2*Math.PI/V.length:e.sweep,Z=V.dTheta=j/Math.max(1,V.length-1);if(V.length>1&&e.avoidOverlap){var J=Math.cos(Z)-Math.cos(0),G=Math.sin(Z)-Math.sin(0),$=Math.sqrt(B*B/(J*J+G*G));P=Math.max($,P)}V.r=P,P+=B}if(e.equidistant){for(var W=0,oe=0,se=0;se<E.length;se++){var U=E[se],X=U.r-oe;W=Math.max(W,X)}oe=0;for(var ue=0;ue<E.length;ue++){var Y=E[ue];ue===0&&(oe=Y.r),Y.r=oe,oe+=W}}for(var ee={},re=0;re<E.length;re++)for(var de=E[re],ze=de.dTheta,ie=de.r,he=0;he<de.length;he++){var be=de[he],ge=e.startAngle+(r?1:-1)*ze*he,Be={x:l.x+ie*Math.cos(ge),y:l.y+ie*Math.sin(ge)};ee[be.node.id()]=Be}return i.nodes().layoutPositions(this,e,function(Ge){var He=Ge.id();return ee[He]}),this};var Xy,gU={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function ih(t){this.options=St({},gU,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var u=i.source().data("id"),s=i.target().data("id"),l=e.some(function(d){return d.data("id")===u}),f=e.some(function(d){return d.data("id")===s});return!l||!f});this.options.eles=this.options.eles.not(n)}ih.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Xy=!0:Xy=!1;var n=yU(e,r,t);Xy&&bU(n),t.randomize&&wU(n);var i=$i(),u=function(){xU(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(g){return!(r.stopped||g>=t.numIter||(EU(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},l=function(){if(t.animate===!0||t.animate===!1)u(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var g=t.eles.nodes(),m=$q(n,t,g);g.layoutPositions(r,t,m)}},f=0,d=!0;if(t.animate===!0){var v=function(){for(var g=0;d&&g<t.refresh;)d=s(f),f++,g++;if(!d)wA(n,t),l();else{var m=$i();m-i>=t.animationThreshold&&u(),Tv(v)}};v()}else{for(;d;)d=s(f),f++;wA(n,t),l()}return this};ih.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};ih.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var yU=function(e,r,n){for(var i=n.eles.edges(),u=n.eles.nodes(),s=Wn(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),l={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:u.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},f=n.eles.components(),d={},v=0;v<f.length;v++)for(var p=f[v],g=0;g<p.length;g++){var m=p[g];d[m.id()]=v}for(var v=0;v<l.nodeSize;v++){var b=u[v],_=b.layoutDimensions(n),x={};x.isLocked=b.locked(),x.id=b.data("id"),x.parentId=b.data("parent"),x.cmptId=d[b.id()],x.children=[],x.positionX=b.position("x"),x.positionY=b.position("y"),x.offsetX=0,x.offsetY=0,x.height=_.w,x.width=_.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(b.style("padding")),x.padRight=parseFloat(b.style("padding")),x.padTop=parseFloat(b.style("padding")),x.padBottom=parseFloat(b.style("padding")),x.nodeRepulsion=Fr(n.nodeRepulsion)?n.nodeRepulsion(b):n.nodeRepulsion,l.layoutNodes.push(x),l.idToIndex[x.id]=v}for(var E=[],C=0,A=-1,R=[],v=0;v<l.nodeSize;v++){var b=l.layoutNodes[v],M=b.parentId;M!=null?l.layoutNodes[l.idToIndex[M]].children.push(b.id):(E[++A]=b.id,R.push(b.id))}for(l.graphSet.push(R);C<=A;){var B=E[C++],O=l.idToIndex[B],m=l.layoutNodes[O],N=m.children;if(N.length>0){l.graphSet.push(N);for(var v=0;v<N.length;v++)E[++A]=N[v]}}for(var v=0;v<l.graphSet.length;v++)for(var L=l.graphSet[v],g=0;g<L.length;g++){var P=l.idToIndex[L[g]];l.indexToGraph[P]=v}for(var v=0;v<l.edgeSize;v++){var I=i[v],V={};V.id=I.data("id"),V.sourceId=I.data("source"),V.targetId=I.data("target");var j=Fr(n.idealEdgeLength)?n.idealEdgeLength(I):n.idealEdgeLength,Z=Fr(n.edgeElasticity)?n.edgeElasticity(I):n.edgeElasticity,J=l.idToIndex[V.sourceId],G=l.idToIndex[V.targetId],$=l.indexToGraph[J],W=l.indexToGraph[G];if($!=W){for(var oe=mU(V.sourceId,V.targetId,l),se=l.graphSet[oe],U=0,x=l.layoutNodes[J];se.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],U++;for(x=l.layoutNodes[G];se.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],U++;j*=U*n.nestingFactor}V.idealLength=j,V.elasticity=Z,l.layoutEdges.push(V)}return l},mU=function(e,r,n){var i=Kq(e,r,0,n);return 2>i.count?0:i.graph},Kq=function(e,r,n,i){var u=i.graphSet[n];if(-1<u.indexOf(e)&&-1<u.indexOf(r))return{count:2,graph:n};for(var s=0,l=0;l<u.length;l++){var f=u[l],d=i.idToIndex[f],v=i.layoutNodes[d].children;if(v.length!==0){var p=i.indexToGraph[i.idToIndex[v[0]]],g=Kq(e,r,p,i);if(g.count!==0)if(g.count===1){if(s++,s===2)break}else return g}}return{count:s,graph:n}},bU,wU=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,u=0;u<e.nodeSize;u++){var s=e.layoutNodes[u];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*i)}},$q=function(e,r,n){var i=e.boundingBox,u={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var l=e.layoutNodes[e.idToIndex[s.data("id")]];u.x1=Math.min(u.x1,l.positionX),u.x2=Math.max(u.x2,l.positionX),u.y1=Math.min(u.y1,l.positionY),u.y2=Math.max(u.y2,l.positionY)}),u.w=u.x2-u.x1,u.h=u.y2-u.y1),function(s,l){var f=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var d=u.w===0?.5:(f.positionX-u.x1)/u.w,v=u.h===0?.5:(f.positionY-u.y1)/u.h;return{x:i.x1+d*i.w,y:i.y1+v*i.h}}else return{x:f.positionX,y:f.positionY}}},xU=function(e,r,n){var i=n.layout,u=n.eles.nodes(),s=$q(e,n,u);u.positions(s),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},EU=function(e,r,n){SU(e,r),CU(e),AU(e,r),RU(e),DU(e)},SU=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],u=i.length,s=0;s<u;s++)for(var l=e.layoutNodes[e.idToIndex[i[s]]],f=s+1;f<u;f++){var d=e.layoutNodes[e.idToIndex[i[f]]];TU(l,d,e,r)}},bA=function(e){return-1+2*e*Math.random()},TU=function(e,r,n,i){var u=e.cmptId,s=r.cmptId;if(!(u!==s&&!n.isCompound)){var l=r.positionX-e.positionX,f=r.positionY-e.positionY,d=1;l===0&&f===0&&(l=bA(d),f=bA(d));var v=_U(e,r,l,f);if(v>0)var p=i.nodeOverlap*v,g=Math.sqrt(l*l+f*f),m=p*l/g,b=p*f/g;else var _=Mv(e,l,f),x=Mv(r,-1*l,-1*f),E=x.x-_.x,C=x.y-_.y,A=E*E+C*C,g=Math.sqrt(A),p=(e.nodeRepulsion+r.nodeRepulsion)/A,m=p*E/g,b=p*C/g;e.isLocked||(e.offsetX-=m,e.offsetY-=b),r.isLocked||(r.offsetX+=m,r.offsetY+=b)}},_U=function(e,r,n,i){if(n>0)var u=e.maxX-r.minX;else var u=r.maxX-e.minX;if(i>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return u>=0&&s>=0?Math.sqrt(u*u+s*s):0},Mv=function(e,r,n){var i=e.positionX,u=e.positionY,s=e.height||1,l=e.width||1,f=n/r,d=s/l,v={};return r===0&&0<n||r===0&&0>n?(v.x=i,v.y=u+s/2,v):0<r&&-1*d<=f&&f<=d?(v.x=i+l/2,v.y=u+l*n/2/r,v):0>r&&-1*d<=f&&f<=d?(v.x=i-l/2,v.y=u-l*n/2/r,v):0<n&&(f<=-1*d||f>=d)?(v.x=i+s*r/2/n,v.y=u+s/2,v):(0>n&&(f<=-1*d||f>=d)&&(v.x=i-s*r/2/n,v.y=u-s/2),v)},CU=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],u=e.idToIndex[i.sourceId],s=e.layoutNodes[u],l=e.idToIndex[i.targetId],f=e.layoutNodes[l],d=f.positionX-s.positionX,v=f.positionY-s.positionY;if(!(d===0&&v===0)){var p=Mv(s,d,v),g=Mv(f,-1*d,-1*v),m=g.x-p.x,b=g.y-p.y,_=Math.sqrt(m*m+b*b),x=Math.pow(i.idealLength-_,2)/i.elasticity;if(_!==0)var E=x*m/_,C=x*b/_;else var E=0,C=0;s.isLocked||(s.offsetX+=E,s.offsetY+=C),f.isLocked||(f.offsetX-=E,f.offsetY-=C)}}},AU=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var u=e.graphSet[i],s=u.length;if(i===0)var l=e.clientHeight/2,f=e.clientWidth/2;else var d=e.layoutNodes[e.idToIndex[u[0]]],v=e.layoutNodes[e.idToIndex[d.parentId]],l=v.positionX,f=v.positionY;for(var p=0;p<s;p++){var g=e.layoutNodes[e.idToIndex[u[p]]];if(!g.isLocked){var m=l-g.positionX,b=f-g.positionY,_=Math.sqrt(m*m+b*b);if(_>n){var x=r.gravity*m/_,E=r.gravity*b/_;g.offsetX+=x,g.offsetY+=E}}}}},RU=function(e,r){var n=[],i=0,u=-1;for(n.push.apply(n,e.graphSet[0]),u+=e.graphSet[0].length;i<=u;){var s=n[i++],l=e.idToIndex[s],f=e.layoutNodes[l],d=f.children;if(0<d.length&&!f.isLocked){for(var v=f.offsetX,p=f.offsetY,g=0;g<d.length;g++){var m=e.layoutNodes[e.idToIndex[d[g]]];m.offsetX+=v,m.offsetY+=p,n[++u]=d[g]}f.offsetX=0,f.offsetY=0}}},DU=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var u=OU(i.offsetX,i.offsetY,e.temperature);i.positionX+=u.x,i.positionY+=u.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Yq(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},OU=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var u={x:n*e/i,y:n*r/i};else var u={x:e,y:r};return u},Yq=function(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],u=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,u=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,u=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,u=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,u=!0),u)return Yq(i,r)}},wA=function(e,r){for(var n=e.layoutNodes,i=[],u=0;u<n.length;u++){var s=n[u],l=s.cmptId,f=i[l]=i[l]||[];f.push(s)}for(var d=0,u=0;u<i.length;u++){var v=i[u];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var p=0;p<v.length;p++){var g=v[p];v.x1=Math.min(v.x1,g.positionX-g.width/2),v.x2=Math.max(v.x2,g.positionX+g.width/2),v.y1=Math.min(v.y1,g.positionY-g.height/2),v.y2=Math.max(v.y2,g.positionY+g.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,d+=v.w*v.h}}i.sort(function(C,A){return A.w*A.h-C.w*C.h});for(var m=0,b=0,_=0,x=0,E=Math.sqrt(d)*e.clientWidth/e.clientHeight,u=0;u<i.length;u++){var v=i[u];if(v){for(var p=0;p<v.length;p++){var g=v[p];g.isLocked||(g.positionX+=m-v.x1,g.positionY+=b-v.y1)}m+=v.w+r.componentSpacing,_+=v.w+r.componentSpacing,x=Math.max(x,v.h),_>E&&(b+=x+r.componentSpacing,m=0,_=0,x=0)}}},MU={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Xq(t){this.options=St({},MU,t)}Xq.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var u=Wn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(u.h===0||u.w===0)n.nodes().layoutPositions(this,e,function(ue){return{x:u.x1,y:u.y1}});else{var s=i.size(),l=Math.sqrt(s*u.h/u.w),f=Math.round(l),d=Math.round(u.w/u.h*l),v=function(Y){if(Y==null)return Math.min(f,d);var ee=Math.min(f,d);ee==f?f=Y:d=Y},p=function(Y){if(Y==null)return Math.max(f,d);var ee=Math.max(f,d);ee==f?f=Y:d=Y},g=e.rows,m=e.cols!=null?e.cols:e.columns;if(g!=null&&m!=null)f=g,d=m;else if(g!=null&&m==null)f=g,d=Math.ceil(s/f);else if(g==null&&m!=null)d=m,f=Math.ceil(s/d);else if(d*f>s){var b=v(),_=p();(b-1)*_>=s?v(b-1):(_-1)*b>=s&&p(_-1)}else for(;d*f<s;){var x=v(),E=p();(E+1)*x>=s?p(E+1):v(x+1)}var C=u.w/d,A=u.h/f;if(e.condense&&(C=0,A=0),e.avoidOverlap)for(var R=0;R<i.length;R++){var M=i[R],B=M._private.position;(B.x==null||B.y==null)&&(B.x=0,B.y=0);var O=M.layoutDimensions(e),N=e.avoidOverlapPadding,L=O.w+N,P=O.h+N;C=Math.max(C,L),A=Math.max(A,P)}for(var I={},V=function(Y,ee){return!!I["c-"+Y+"-"+ee]},j=function(Y,ee){I["c-"+Y+"-"+ee]=!0},Z=0,J=0,G=function(){J++,J>=d&&(J=0,Z++)},$={},W=0;W<i.length;W++){var oe=i[W],se=e.position(oe);if(se&&(se.row!==void 0||se.col!==void 0)){var U={row:se.row,col:se.col};if(U.col===void 0)for(U.col=0;V(U.row,U.col);)U.col++;else if(U.row===void 0)for(U.row=0;V(U.row,U.col);)U.row++;$[oe.id()]=U,j(U.row,U.col)}}var X=function(Y,ee){var re,de;if(Y.locked()||Y.isParent())return!1;var ze=$[Y.id()];if(ze)re=ze.col*C+C/2+u.x1,de=ze.row*A+A/2+u.y1;else{for(;V(Z,J);)G();re=J*C+C/2+u.x1,de=Z*A+A/2+u.y1,j(Z,J),G()}return{x:re,y:de}};i.layoutPositions(this,e,X)}return this};var BU={ready:function(){},stop:function(){}};function wE(t){this.options=St({},BU,t)}wE.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};wE.prototype.stop=function(){return this};var qU={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Zq(t){this.options=St({},qU,t)}Zq.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Fr(t.positions);function i(u){if(t.positions==null)return tP(u.position());if(n)return t.positions(u);var s=t.positions[u._private.data.id];return s??null}return r.layoutPositions(this,t,function(u,s){var l=i(u);return u.locked()||l==null?!1:l}),this};var kU={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Qq(t){this.options=St({},kU,t)}Qq.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=Wn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(s,l){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var zU=[{name:"breadthfirst",impl:jq},{name:"circle",impl:Gq},{name:"concentric",impl:Hq},{name:"cose",impl:ih},{name:"grid",impl:Xq},{name:"null",impl:wE},{name:"preset",impl:Zq},{name:"random",impl:Qq}];function Wq(t){this.options=t,this.notifications=0}var xA=function(){},EA=function(){throw new Error("A headless instance can not render images")};Wq.prototype={recalculateRenderedStyle:xA,notify:function(){this.notifications++},init:xA,isHeadless:function(){return!0},png:EA,jpg:EA};var xE={};xE.arrowShapeWidth=.3;xE.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(d,v,p,g,m,b,_){var x=m.x-p/2-_,E=m.x+p/2+_,C=m.y-p/2-_,A=m.y+p/2+_,R=x<=d&&d<=E&&C<=v&&v<=A;return R},n=function(d,v,p,g,m){var b=d*Math.cos(g)-v*Math.sin(g),_=d*Math.sin(g)+v*Math.cos(g),x=b*p,E=_*p,C=x+m.x,A=E+m.y;return{x:C,y:A}},i=function(d,v,p,g){for(var m=[],b=0;b<d.length;b+=2){var _=d[b],x=d[b+1];m.push(n(_,x,v,p,g))}return m},u=function(d){for(var v=[],p=0;p<d.length;p++){var g=d[p];v.push(g.x,g.y)}return v},s=function(d){return d.pstyle("width").pfValue*d.pstyle("arrow-scale").pfValue*2},l=function(d,v){mt(v)&&(v=t[v]),t[d]=St({name:d,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(g,m,b,_,x,E){var C=u(i(this.points,b+2*E,_,x)),A=ca(g,m,C);return A},roughCollide:r,draw:function(g,m,b,_){var x=i(this.points,m,b,_);e.arrowShapeImpl("polygon")(g,x)},spacing:function(g){return 0},gap:s},v)};l("none",{collide:_v,roughCollide:_v,draw:uE,spacing:N_,gap:N_}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(d,v,p,g,m){var b=i(this.points,v,p,g),_=this.controlPoint,x=n(_[0],_[1],v,p,g);e.arrowShapeImpl(this.name)(d,b,x)},gap:function(d){return s(d)*.8}}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(d,v,p,g,m,b,_){var x=u(i(this.points,p+2*_,g,m)),E=u(i(this.pointsTee,p+2*_,g,m)),C=ca(d,v,x)||ca(d,v,E);return C},draw:function(d,v,p,g,m){var b=i(this.points,v,p,g),_=i(this.pointsTee,v,p,g);e.arrowShapeImpl(this.name)(d,b,_)}}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(d,v,p,g,m,b,_){var x=m,E=Math.pow(x.x-d,2)+Math.pow(x.y-v,2)<=Math.pow((p+2*_)*this.radius,2),C=u(i(this.points,p+2*_,g,m));return ca(d,v,C)||E},draw:function(d,v,p,g,m){var b=i(this.pointsTr,v,p,g);e.arrowShapeImpl(this.name)(d,b,g.x,g.y,this.radius*v)},spacing:function(d){return e.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.radius}}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(d,v){var p=this.baseCrossLinePts.slice(),g=v/d,m=3,b=5;return p[m]=p[m]-g,p[b]=p[b]-g,p},collide:function(d,v,p,g,m,b,_){var x=u(i(this.points,p+2*_,g,m)),E=u(i(this.crossLinePts(p,b),p+2*_,g,m)),C=ca(d,v,x)||ca(d,v,E);return C},draw:function(d,v,p,g,m){var b=i(this.points,v,p,g),_=i(this.crossLinePts(v,m),v,p,g);e.arrowShapeImpl(this.name)(d,b,_)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(d){return s(d)*.525}}),l("circle",{radius:.15,collide:function(d,v,p,g,m,b,_){var x=m,E=Math.pow(x.x-d,2)+Math.pow(x.y-v,2)<=Math.pow((p+2*_)*this.radius,2);return E},draw:function(d,v,p,g,m){e.arrowShapeImpl(this.name)(d,g.x,g.y,this.radius*v)},spacing:function(d){return e.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.radius}}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(d){return 1},gap:function(d){return 1}}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(d){return d.pstyle("width").pfValue*d.pstyle("arrow-scale").value}}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(d){return .95*d.pstyle("width").pfValue*d.pstyle("arrow-scale").value}})};var Uo={};Uo.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],u=n[1],s=n[4],l=r.pan(),f=r.zoom(),d=((t-i)/s-l.x)/f,v=((e-u)/s-l.y)/f;return[d,v]};Uo.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(E){return parseFloat(r.getPropertyValue(E))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},u={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,l=t.clientHeight,f=i.left+i.right,d=i.top+i.bottom,v=u.left+u.right,p=e.width/(s+v),g=s-f,m=l-d,b=e.left+i.left+u.left,_=e.top+i.top+u.top;return this.containerBB=[b,_,g,m,p]};Uo.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Uo.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Uo.findNearestElements=function(t,e,r,n){var i=this,u=this,s=u.getCachedZSortedEles(),l=[],f=u.cy.zoom(),d=u.cy.hasCompoundNodes(),v=(n?24:8)/f,p=(n?8:2)/f,g=(n?8:2)/f,m=1/0,b,_;r&&(s=s.interactive);function x(O,N){if(O.isNode()){if(_)return;_=O,l.push(O)}if(O.isEdge()&&(N==null||N<m))if(b){if(b.pstyle("z-compound-depth").value===O.pstyle("z-compound-depth").value&&b.pstyle("z-compound-depth").value===O.pstyle("z-compound-depth").value){for(var L=0;L<l.length;L++)if(l[L].isEdge()){l[L]=O,b=O,m=N??m;break}}}else l.push(O),b=O,m=N??m}function E(O){var N=O.outerWidth()+2*p,L=O.outerHeight()+2*p,P=N/2,I=L/2,V=O.position(),j=O.pstyle("corner-radius").value==="auto"?"auto":O.pstyle("corner-radius").pfValue,Z=O._private.rscratch;if(V.x-P<=t&&t<=V.x+P&&V.y-I<=e&&e<=V.y+I){var J=u.nodeShapes[i.getNodeShape(O)];if(J.checkPoint(t,e,0,N,L,V.x,V.y,j,Z))return x(O,0),!0}}function C(O){var N=O._private,L=N.rscratch,P=O.pstyle("width").pfValue,I=O.pstyle("arrow-scale").value,V=P/2+v,j=V*V,Z=V*2,W=N.source,oe=N.target,J;if(L.edgeType==="segments"||L.edgeType==="straight"||L.edgeType==="haystack"){for(var G=L.allpts,$=0;$+3<G.length;$+=2)if(pP(t,e,G[$],G[$+1],G[$+2],G[$+3],Z)&&j>(J=wP(t,e,G[$],G[$+1],G[$+2],G[$+3])))return x(O,J),!0}else if(L.edgeType==="bezier"||L.edgeType==="multibezier"||L.edgeType==="self"||L.edgeType==="compound"){for(var G=L.allpts,$=0;$+5<L.allpts.length;$+=4)if(gP(t,e,G[$],G[$+1],G[$+2],G[$+3],G[$+4],G[$+5],Z)&&j>(J=bP(t,e,G[$],G[$+1],G[$+2],G[$+3],G[$+4],G[$+5])))return x(O,J),!0}for(var W=W||N.source,oe=oe||N.target,se=i.getArrowWidth(P,I),U=[{name:"source",x:L.arrowStartX,y:L.arrowStartY,angle:L.srcArrowAngle},{name:"target",x:L.arrowEndX,y:L.arrowEndY,angle:L.tgtArrowAngle},{name:"mid-source",x:L.midX,y:L.midY,angle:L.midsrcArrowAngle},{name:"mid-target",x:L.midX,y:L.midY,angle:L.midtgtArrowAngle}],$=0;$<U.length;$++){var X=U[$],ue=u.arrowShapes[O.pstyle(X.name+"-arrow-shape").value],Y=O.pstyle("width").pfValue;if(ue.roughCollide(t,e,se,X.angle,{x:X.x,y:X.y},Y,v)&&ue.collide(t,e,se,X.angle,{x:X.x,y:X.y},Y,v))return x(O),!0}d&&l.length>0&&(E(W),E(oe))}function A(O,N,L){return la(O,N,L)}function R(O,N){var L=O._private,P=g,I;N?I=N+"-":I="",O.boundingBox();var V=L.labelBounds[N||"main"],j=O.pstyle(I+"label").value,Z=O.pstyle("text-events").strValue==="yes";if(!(!Z||!j)){var J=A(L.rscratch,"labelX",N),G=A(L.rscratch,"labelY",N),$=A(L.rscratch,"labelAngle",N),W=O.pstyle(I+"text-margin-x").pfValue,oe=O.pstyle(I+"text-margin-y").pfValue,se=V.x1-P-W,U=V.x2+P-W,X=V.y1-P-oe,ue=V.y2+P-oe;if($){var Y=Math.cos($),ee=Math.sin($),re=function(Be,Ge){return Be=Be-J,Ge=Ge-G,{x:Be*Y-Ge*ee+J,y:Be*ee+Ge*Y+G}},de=re(se,X),ze=re(se,ue),ie=re(U,X),he=re(U,ue),be=[de.x+W,de.y+oe,ie.x+W,ie.y+oe,he.x+W,he.y+oe,ze.x+W,ze.y+oe];if(ca(t,e,be))return x(O),!0}else if(Nu(V,t,e))return x(O),!0}}for(var M=s.length-1;M>=0;M--){var B=s[M];B.isNode()?E(B)||R(B):C(B)||R(B)||R(B,"source")||R(B,"target")}return l};Uo.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,u=this.cy.zoom(),s=2/u,l=[],f=Math.min(t,r),d=Math.max(t,r),v=Math.min(e,n),p=Math.max(e,n);t=f,r=d,e=v,n=p;var g=Wn({x1:t,y1:e,x2:r,y2:n}),m=[{x:g.x1,y:g.y1},{x:g.x2,y:g.y1},{x:g.x2,y:g.y2},{x:g.x1,y:g.y2}],b=[[m[0],m[1]],[m[1],m[2]],[m[2],m[3]],[m[3],m[0]]];function _(Be,Ge,He){return la(Be,Ge,He)}function x(Be,Ge){var He=Be._private,Ct=s,Ze="";Be.boundingBox();var ht=He.labelBounds.main;if(!ht)return null;var ct=_(He.rscratch,"labelX",Ge),Qe=_(He.rscratch,"labelY",Ge),tt=_(He.rscratch,"labelAngle",Ge),ot=Be.pstyle(Ze+"text-margin-x").pfValue,st=Be.pstyle(Ze+"text-margin-y").pfValue,rt=ht.x1-Ct-ot,xt=ht.x2+Ct-ot,Dt=ht.y1-Ct-st,qt=ht.y2+Ct-st;if(tt){var Mt=Math.cos(tt),Pt=Math.sin(tt),yt=function(Ne,K){return Ne=Ne-ct,K=K-Qe,{x:Ne*Mt-K*Pt+ct,y:Ne*Pt+K*Mt+Qe}};return[yt(rt,Dt),yt(xt,Dt),yt(xt,qt),yt(rt,qt)]}else return[{x:rt,y:Dt},{x:xt,y:Dt},{x:xt,y:qt},{x:rt,y:qt}]}function E(Be,Ge,He,Ct){function Ze(ht,ct,Qe){return(Qe.y-ht.y)*(ct.x-ht.x)>(ct.y-ht.y)*(Qe.x-ht.x)}return Ze(Be,He,Ct)!==Ze(Ge,He,Ct)&&Ze(Be,Ge,He)!==Ze(Be,Ge,Ct)}for(var C=0;C<i.length;C++){var A=i[C];if(A.isNode()){var R=A,M=R.pstyle("text-events").strValue==="yes",B=R.pstyle("box-selection").strValue,O=R.pstyle("box-select-labels").strValue==="yes";if(B==="none")continue;var N=(B==="overlap"||O)&&M,L=R.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:N});if(B==="contain"){var P=!1;if(O&&M){var I=x(R);I&&$g(I,m)&&(l.push(R),P=!0)}!P&&iq(g,L)&&l.push(R)}else if(B==="overlap"&&cE(g,L)){var V=R.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),j=[{x:V.x1,y:V.y1},{x:V.x2,y:V.y1},{x:V.x2,y:V.y2},{x:V.x1,y:V.y2}];if($g(j,m))l.push(R);else{var Z=x(R);Z&&$g(Z,m)&&l.push(R)}}}else{var J=A,G=J._private,$=G.rscratch,W=J.pstyle("box-selection").strValue;if(W==="none")continue;if(W==="contain"){if($.startX!=null&&$.startY!=null&&!Nu(g,$.startX,$.startY)||$.endX!=null&&$.endY!=null&&!Nu(g,$.endX,$.endY))continue;if($.edgeType==="bezier"||$.edgeType==="multibezier"||$.edgeType==="self"||$.edgeType==="compound"||$.edgeType==="segments"||$.edgeType==="haystack"){for(var oe=G.rstyle.bezierPts||G.rstyle.linePts||G.rstyle.haystackPts,se=!0,U=0;U<oe.length;U++)if(!F_(g,oe[U])){se=!1;break}se&&l.push(J)}else $.edgeType==="straight"&&l.push(J)}else if(W==="overlap"){var X=!1;if($.startX!=null&&$.startY!=null&&$.endX!=null&&$.endY!=null&&(Nu(g,$.startX,$.startY)||Nu(g,$.endX,$.endY)))l.push(J),X=!0;else if(!X&&$.edgeType==="haystack"){for(var ue=G.rstyle.haystackPts,Y=0;Y<ue.length;Y++)if(F_(g,ue[Y])){l.push(J),X=!0;break}}if(!X){var ee=G.rstyle.bezierPts||G.rstyle.linePts||G.rstyle.haystackPts;if((!ee||ee.length<2)&&$.edgeType==="straight"&&$.startX!=null&&$.startY!=null&&$.endX!=null&&$.endY!=null&&(ee=[{x:$.startX,y:$.startY},{x:$.endX,y:$.endY}]),!ee||ee.length<2)continue;for(var re=0;re<ee.length-1;re++){for(var de=ee[re],ze=ee[re+1],ie=0;ie<b.length;ie++){var he=ln(b[ie],2),be=he[0],ge=he[1];if(E(de,ze,be,ge)){l.push(J),X=!0;break}}if(X)break}}}}}return l};var Bv={};Bv.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",u=e.edgeType==="segments",s=e.edgeType==="compound",l=e.edgeType==="self",f,d,v,p,g,m,E,C;if(r?(v=e.haystackPts[0],p=e.haystackPts[1],g=e.haystackPts[2],m=e.haystackPts[3]):(v=e.arrowStartX,p=e.arrowStartY,g=e.arrowEndX,m=e.arrowEndY),E=e.midX,C=e.midY,u)f=v-e.segpts[0],d=p-e.segpts[1];else if(i||s||l||n){var b=e.allpts,_=_n(b[0],b[2],b[4],.1),x=_n(b[1],b[3],b[5],.1);f=v-_,d=p-x}else f=v-E,d=p-C;e.srcArrowAngle=Pd(f,d);var E=e.midX,C=e.midY;if(r&&(E=(v+g)/2,C=(p+m)/2),f=g-v,d=m-p,u){var b=e.allpts;if(b.length/2%2===0){var A=b.length/2,R=A-2;f=b[A]-b[R],d=b[A+1]-b[R+1]}else if(e.isRound)f=e.midVector[1],d=-e.midVector[0];else{var A=b.length/2-1,R=A-2;f=b[A]-b[R],d=b[A+1]-b[R+1]}}else if(i||s||l){var b=e.allpts,M=e.ctrlpts,B,O,N,L;if(M.length/2%2===0){var P=b.length/2-1,I=P+2,V=I+2;B=_n(b[P],b[I],b[V],0),O=_n(b[P+1],b[I+1],b[V+1],0),N=_n(b[P],b[I],b[V],1e-4),L=_n(b[P+1],b[I+1],b[V+1],1e-4)}else{var I=b.length/2-1,P=I-2,V=I+2;B=_n(b[P],b[I],b[V],.4999),O=_n(b[P+1],b[I+1],b[V+1],.4999),N=_n(b[P],b[I],b[V],.5),L=_n(b[P+1],b[I+1],b[V+1],.5)}f=N-B,d=L-O}if(e.midtgtArrowAngle=Pd(f,d),e.midDispX=f,e.midDispY=d,f*=-1,d*=-1,u){var b=e.allpts;if(b.length/2%2!==0){if(!e.isRound){var A=b.length/2-1,j=A+2;f=-(b[j]-b[A]),d=-(b[j+1]-b[A+1])}}}if(e.midsrcArrowAngle=Pd(f,d),u)f=g-e.segpts[e.segpts.length-2],d=m-e.segpts[e.segpts.length-1];else if(i||s||l||n){var b=e.allpts,Z=b.length,_=_n(b[Z-6],b[Z-4],b[Z-2],.9),x=_n(b[Z-5],b[Z-3],b[Z-1],.9);f=g-_,d=m-x}else f=g-E,d=m-C;e.tgtArrowAngle=Pd(f,d)};Bv.getArrowWidth=Bv.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Ux,Fx,ci={},ka={},SA,TA,Oo,vv,ji,_o,Ro,si,Fs,Kd,Jq,ek,Vx,jx,_A,CA=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},NU=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},LU=function(e,r,n,i,u){if(e!==_A?CA(r,e,ci):NU(ka,ci),CA(r,n,ka),SA=ci.nx*ka.ny-ci.ny*ka.nx,TA=ci.nx*ka.nx-ci.ny*-ka.ny,ji=Math.asin(Math.max(-1,Math.min(1,SA))),Math.abs(ji)<1e-6){Ux=r.x,Fx=r.y,Ro=Fs=0;return}Oo=1,vv=!1,TA<0?ji<0?ji=Math.PI+ji:(ji=Math.PI-ji,Oo=-1,vv=!0):ji>0&&(Oo=-1,vv=!0),r.radius!==void 0?Fs=r.radius:Fs=i,_o=ji/2,Kd=Math.min(ci.len/2,ka.len/2),u?(si=Math.abs(Math.cos(_o)*Fs/Math.sin(_o)),si>Kd?(si=Kd,Ro=Math.abs(si*Math.sin(_o)/Math.cos(_o))):Ro=Fs):(si=Math.min(Kd,Fs),Ro=Math.abs(si*Math.sin(_o)/Math.cos(_o))),Vx=r.x+ka.nx*si,jx=r.y+ka.ny*si,Ux=Vx-ka.ny*Ro*Oo,Fx=jx+ka.nx*Ro*Oo,Jq=r.x+ci.nx*si,ek=r.y+ci.ny*si,_A=r};function tk(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function EE(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(LU(t,e,r,n,i),{cx:Ux,cy:Fx,radius:Ro,startX:Jq,startY:ek,stopX:Vx,stopY:jx,startAngle:ci.ang+Math.PI/2*Oo,endAngle:ka.ang-Math.PI/2*Oo,counterClockwise:vv})}var tf=.01,PU=Math.sqrt(2*tf),Hn={};Hn.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,u,s=t.pstyle("source-endpoint"),l=t.pstyle("target-endpoint"),f=s.units!=null&&l.units!=null,d=function(M,B,O,N){var L=N-B,P=O-M,I=Math.sqrt(P*P+L*L);return{x:-L/I,y:P/I}},v=t.pstyle("edge-distances").value;switch(v){case"node-position":u=r;break;case"intersection":u=n;break;case"endpoints":{if(f){var p=this.manualEndptToPx(t.source()[0],s),g=ln(p,2),m=g[0],b=g[1],_=this.manualEndptToPx(t.target()[0],l),x=ln(_,2),E=x[0],C=x[1],A={x1:m,y1:b,x2:E,y2:C};i=d(m,b,E,C),u=A}else lr("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),u=n;break}}return{midptPts:u,vectorNormInverse:i}};Hn.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var u=Math.random()*2*Math.PI;i.source={x:Math.cos(u),y:Math.sin(u)},u=Math.random()*2*Math.PI,i.target={x:Math.cos(u),y:Math.sin(u)}}var s=n.source,l=n.target,f=s.position(),d=l.position(),v=s.width(),p=l.width(),g=s.height(),m=l.height(),b=r.pstyle("haystack-radius").value,_=b/2;i.haystackPts=i.allpts=[i.source.x*v*_+f.x,i.source.y*g*_+f.y,i.target.x*p*_+d.x,i.target.y*m*_+d.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Hn.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),u=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),l=Math.min(n.pfValue.length,i.pfValue.length),f=u.pfValue[u.pfValue.length-1],d=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var v=0;v<l;v++){var p=n.pfValue[v],g=i.pfValue[v],m=1-p,b=p,_=this.findMidptPtsEtc(t,e),x=_.midptPts,E=_.vectorNormInverse,C={x:x.x1*m+x.x2*b,y:x.y1*m+x.y2*b};r.segpts.push(C.x+E.x*g,C.y+E.y*g),r.radii.push(u.pfValue[v]!==void 0?u.pfValue[v]:f),r.isArcRadius.push((s.pfValue[v]!==void 0?s.pfValue[v]:d)==="arc-radius")}};Hn.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,u=e.dirCounts,s=e.srcPos,l=t.pstyle("control-point-distances"),f=l?l.pfValue[0]:void 0,d=t.pstyle("loop-direction").pfValue,v=t.pstyle("loop-sweep").pfValue,p=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var g=r,m=p;n&&(g=0,m=f);var b=d-Math.PI/2,_=b-v/2,x=b+v/2,E=d+"_"+v;g=u[E]===void 0?u[E]=0:++u[E],i.ctrlpts=[s.x+Math.cos(_)*1.4*m*(g/3+1),s.y+Math.sin(_)*1.4*m*(g/3+1),s.x+Math.cos(x)*1.4*m*(g/3+1),s.y+Math.sin(x)*1.4*m*(g/3+1)]};Hn.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var u=e.srcPos,s=e.tgtPos,l=e.srcW,f=e.srcH,d=e.tgtW,v=e.tgtH,p=t.pstyle("control-point-step-size").pfValue,g=t.pstyle("control-point-distances"),m=g?g.pfValue[0]:void 0,b=r,_=p;n&&(b=0,_=m);var x=50,E={x:u.x-l/2,y:u.y-f/2},C={x:s.x-d/2,y:s.y-v/2},A={x:Math.min(E.x,C.x),y:Math.min(E.y,C.y)},R=.5,M=Math.max(R,Math.log(l*tf)),B=Math.max(R,Math.log(d*tf));i.ctrlpts=[A.x,A.y-(1+Math.pow(x,1.12)/100)*_*(b/3+1)*M,A.x-(1+Math.pow(x,1.12)/100)*_*(b/3+1)*B,A.y]};Hn.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Hn.findBezierPoints=function(t,e,r,n,i){var u=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,l=t.pstyle("control-point-distances"),f=t.pstyle("control-point-weights"),d=l&&f?Math.min(l.value.length,f.value.length):1,v=l?l.pfValue[0]:void 0,p=f.value[0],g=n;u.edgeType=g?"multibezier":"bezier",u.ctrlpts=[];for(var m=0;m<d;m++){var b=(.5-e.eles.length/2+r)*s*(i?-1:1),_=void 0,x=lE(b);g&&(v=l?l.pfValue[m]:s,p=f.value[m]),n?_=v:_=v!==void 0?x*v:void 0;var E=_!==void 0?_:b,C=1-p,A=p,R=this.findMidptPtsEtc(t,e),M=R.midptPts,B=R.vectorNormInverse,O={x:M.x1*C+M.x2*A,y:M.y1*C+M.y2*A};u.ctrlpts.push(O.x+B.x*E,O.y+B.y*E)}};Hn.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",u="leftward",s="rightward",l="downward",f="upward",d="auto",v=e.posPts,p=e.srcW,g=e.srcH,m=e.tgtW,b=e.tgtH,_=t.pstyle("edge-distances").value,x=_!=="node-position",E=t.pstyle("taxi-direction").value,C=E,A=t.pstyle("taxi-turn"),R=A.units==="%",M=A.pfValue,B=M<0,O=t.pstyle("taxi-turn-min-distance").pfValue,N=x?(p+m)/2:0,L=x?(g+b)/2:0,P=v.x2-v.x1,I=v.y2-v.y1,V=function(K,we){return K>0?Math.max(K-we,0):Math.min(K+we,0)},j=V(P,N),Z=V(I,L),J=!1;C===d?E=Math.abs(j)>Math.abs(Z)?i:n:C===f||C===l?(E=n,J=!0):(C===u||C===s)&&(E=i,J=!0);var G=E===n,$=G?Z:j,W=G?I:P,oe=lE(W),se=!1;!(J&&(R||B))&&(C===l&&W<0||C===f&&W>0||C===u&&W>0||C===s&&W<0)&&(oe*=-1,$=oe*Math.abs($),se=!0);var U;if(R){var X=M<0?1+M:M;U=X*$}else{var ue=M<0?$:0;U=ue+M*oe}var Y=function(K){return Math.abs(K)<O||Math.abs(K)>=Math.abs($)},ee=Y(U),re=Y(Math.abs($)-Math.abs(U)),de=ee||re;if(de&&!se)if(G){var ze=Math.abs(W)<=g/2,ie=Math.abs(P)<=m/2;if(ze){var he=(v.x1+v.x2)/2,be=v.y1,ge=v.y2;r.segpts=[he,be,he,ge]}else if(ie){var Be=(v.y1+v.y2)/2,Ge=v.x1,He=v.x2;r.segpts=[Ge,Be,He,Be]}else r.segpts=[v.x1,v.y2]}else{var Ct=Math.abs(W)<=p/2,Ze=Math.abs(I)<=b/2;if(Ct){var ht=(v.y1+v.y2)/2,ct=v.x1,Qe=v.x2;r.segpts=[ct,ht,Qe,ht]}else if(Ze){var tt=(v.x1+v.x2)/2,ot=v.y1,st=v.y2;r.segpts=[tt,ot,tt,st]}else r.segpts=[v.x2,v.y1]}else if(G){var rt=v.y1+U+(x?g/2*oe:0),xt=v.x1,Dt=v.x2;r.segpts=[xt,rt,Dt,rt]}else{var qt=v.x1+U+(x?p/2*oe:0),Mt=v.y1,Pt=v.y2;r.segpts=[qt,Mt,qt,Pt]}if(r.isRound){var yt=t.pstyle("taxi-radius").value,at=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(yt),r.isArcRadius=new Array(r.segpts.length/2).fill(at)}};Hn.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,u=e.srcW,s=e.srcH,l=e.tgtW,f=e.tgtH,d=e.srcShape,v=e.tgtShape,p=e.srcCornerRadius,g=e.tgtCornerRadius,m=e.srcRs,b=e.tgtRs,_=!et(r.startX)||!et(r.startY),x=!et(r.arrowStartX)||!et(r.arrowStartY),E=!et(r.endX)||!et(r.endY),C=!et(r.arrowEndX)||!et(r.arrowEndY),A=3,R=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,M=A*R,B=No({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),O=B<M,N=No({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),L=N<M,P=!1;if(_||x||O){P=!0;var I={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},V=Math.sqrt(I.x*I.x+I.y*I.y),j={x:I.x/V,y:I.y/V},Z=Math.max(u,s),J={x:r.ctrlpts[0]+j.x*2*Z,y:r.ctrlpts[1]+j.y*2*Z},G=d.intersectLine(n.x,n.y,u,s,J.x,J.y,0,p,m);O?(r.ctrlpts[0]=r.ctrlpts[0]+j.x*(M-B),r.ctrlpts[1]=r.ctrlpts[1]+j.y*(M-B)):(r.ctrlpts[0]=G[0]+j.x*M,r.ctrlpts[1]=G[1]+j.y*M)}if(E||C||L){P=!0;var $={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},W=Math.sqrt($.x*$.x+$.y*$.y),oe={x:$.x/W,y:$.y/W},se=Math.max(u,s),U={x:r.ctrlpts[0]+oe.x*2*se,y:r.ctrlpts[1]+oe.y*2*se},X=v.intersectLine(i.x,i.y,l,f,U.x,U.y,0,g,b);L?(r.ctrlpts[0]=r.ctrlpts[0]+oe.x*(M-N),r.ctrlpts[1]=r.ctrlpts[1]+oe.y*(M-N)):(r.ctrlpts[0]=X[0]+oe.x*M,r.ctrlpts[1]=X[1]+oe.y*M)}P&&this.findEndpoints(t)}};Hn.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=_n(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=_n(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var u=2;u+3<e.allpts.length;u+=2){var s=e.radii[u/2-1],l=e.isArcRadius[u/2-1];e.roundCorners.push(EE({x:e.allpts[u-2],y:e.allpts[u-1]},{x:e.allpts[u],y:e.allpts[u+1],radius:s},{x:e.allpts[u+2],y:e.allpts[u+3]},s,l))}}if(e.segpts.length%4===0){var f=e.segpts.length/2,d=f-2;e.midX=(e.segpts[d]+e.segpts[f])/2,e.midY=(e.segpts[d+1]+e.segpts[f+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var p={x:e.segpts[v],y:e.segpts[v+1]},g=e.roundCorners[v/2];if(g.radius===0){var m={x:e.segpts[v+2],y:e.segpts[v+3]};e.midX=p.x,e.midY=p.y,e.midVector=[p.y-m.y,m.x-p.x]}else{var b=[p.x-g.cx,p.y-g.cy],_=g.radius/Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2));b=b.map(function(x){return x*_}),e.midX=g.cx+b[0],e.midY=g.cy+b[1],e.midVector=b}}}}};Hn.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||et(e.startX)&&et(e.startY)&&et(e.endX)&&et(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,lr("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Hn.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),u=new Ki,s=function(L,P){return[].concat(Ev(L),[P?1:0]).join("-")},l=[],f=[],d=0;d<t.length;d++){var v=t[d],p=v._private,g=v.pstyle("curve-style").value;if(!(v.removed()||!v.takesUpSpace())){if(g==="haystack"){f.push(v);continue}var m=g==="unbundled-bezier"||zu(g,"segments")||g==="straight"||g==="straight-triangle"||zu(g,"taxi"),b=g==="unbundled-bezier"||g==="bezier",_=p.source,x=p.target,E=_.poolIndex(),C=x.poolIndex(),A=[E,C].sort(),R=s(A,m),M=u.get(R);M==null&&(M={eles:[]},l.push({pairId:A,edgeIsUnbundled:m}),u.set(R,M)),M.eles.push(v),m&&(M.hasUnbundled=!0),b&&(M.hasBezier=!0)}}for(var B=function(){var L=l[O],P=L.pairId,I=L.edgeIsUnbundled,V=s(P,I),j=u.get(V),Z;if(!j.hasUnbundled){var J=j.eles[0].parallelEdges().filter(function(at){return at.isBundledBezier()});oE(j.eles),J.forEach(function(at){return j.eles.push(at)}),j.eles.sort(function(at,Ne){return at.poolIndex()-Ne.poolIndex()})}var G=j.eles[0],$=G.source(),W=G.target();if($.poolIndex()>W.poolIndex()){var oe=$;$=W,W=oe}var se=j.srcPos=$.position(),U=j.tgtPos=W.position(),X=j.srcW=$.outerWidth(),ue=j.srcH=$.outerHeight(),Y=j.tgtW=W.outerWidth(),ee=j.tgtH=W.outerHeight(),re=j.srcShape=r.nodeShapes[e.getNodeShape($)],de=j.tgtShape=r.nodeShapes[e.getNodeShape(W)],ze=j.srcCornerRadius=$.pstyle("corner-radius").value==="auto"?"auto":$.pstyle("corner-radius").pfValue,ie=j.tgtCornerRadius=W.pstyle("corner-radius").value==="auto"?"auto":W.pstyle("corner-radius").pfValue,he=j.tgtRs=W._private.rscratch,be=j.srcRs=$._private.rscratch;j.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ge=0;ge<j.eles.length;ge++){var Be=j.eles[ge],Ge=Be[0]._private.rscratch,He=Be.pstyle("curve-style").value,Ct=He==="unbundled-bezier"||zu(He,"segments")||zu(He,"taxi"),Ze=!$.same(Be.source());if(!j.calculatedIntersection&&$!==W&&(j.hasBezier||j.hasUnbundled)){j.calculatedIntersection=!0;var ht=re.intersectLine(se.x,se.y,X,ue,U.x,U.y,0,ze,be),ct=j.srcIntn=ht,Qe=de.intersectLine(U.x,U.y,Y,ee,se.x,se.y,0,ie,he),tt=j.tgtIntn=Qe,ot=j.intersectionPts={x1:ht[0],x2:Qe[0],y1:ht[1],y2:Qe[1]},st=j.posPts={x1:se.x,x2:U.x,y1:se.y,y2:U.y},rt=Qe[1]-ht[1],xt=Qe[0]-ht[0],Dt=Math.sqrt(xt*xt+rt*rt);et(Dt)&&Dt>=PU||(Dt=Math.sqrt(Math.max(xt*xt,tf)+Math.max(rt*rt,tf)));var qt=j.vector={x:xt,y:rt},Mt=j.vectorNorm={x:qt.x/Dt,y:qt.y/Dt},Pt={x:-Mt.y,y:Mt.x};j.nodesOverlap=!et(Dt)||de.checkPoint(ht[0],ht[1],0,Y,ee,U.x,U.y,ie,he)||re.checkPoint(Qe[0],Qe[1],0,X,ue,se.x,se.y,ze,be),j.vectorNormInverse=Pt,Z={nodesOverlap:j.nodesOverlap,dirCounts:j.dirCounts,calculatedIntersection:!0,hasBezier:j.hasBezier,hasUnbundled:j.hasUnbundled,eles:j.eles,srcPos:U,srcRs:he,tgtPos:se,tgtRs:be,srcW:Y,srcH:ee,tgtW:X,tgtH:ue,srcIntn:tt,tgtIntn:ct,srcShape:de,tgtShape:re,posPts:{x1:st.x2,y1:st.y2,x2:st.x1,y2:st.y1},intersectionPts:{x1:ot.x2,y1:ot.y2,x2:ot.x1,y2:ot.y1},vector:{x:-qt.x,y:-qt.y},vectorNorm:{x:-Mt.x,y:-Mt.y},vectorNormInverse:{x:-Pt.x,y:-Pt.y}}}var yt=Ze?Z:j;Ge.nodesOverlap=yt.nodesOverlap,Ge.srcIntn=yt.srcIntn,Ge.tgtIntn=yt.tgtIntn,Ge.isRound=He.startsWith("round"),i&&($.isParent()||$.isChild()||W.isParent()||W.isChild())&&($.parents().anySame(W)||W.parents().anySame($)||$.same(W)&&$.isParent())?e.findCompoundLoopPoints(Be,yt,ge,Ct):$===W?e.findLoopPoints(Be,yt,ge,Ct):He.endsWith("segments")?e.findSegmentsPoints(Be,yt):He.endsWith("taxi")?e.findTaxiPoints(Be,yt):He==="straight"||!Ct&&j.eles.length%2===1&&ge===Math.floor(j.eles.length/2)?e.findStraightEdgePoints(Be):e.findBezierPoints(Be,yt,ge,Ct,Ze),e.findEndpoints(Be),e.tryToCorrectInvalidPoints(Be,yt),e.checkForInvalidEdgeWarning(Be),e.storeAllpts(Be),e.storeEdgeProjections(Be),e.calculateArrowAngles(Be),e.recalculateEdgeLabelProjections(Be),e.calculateLabelAngles(Be)}},O=0;O<l.length;O++)B();this.findHaystackPoints(f)}};function rk(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}Hn.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return rk(e.segpts)};Hn.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return rk(e.ctrlpts)};Hn.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var vf={};vf.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),u=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var l=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(l[0]=l[0]*i),e.units[1]==="%"&&(l[1]=l[1]*u),l[0]+=n.x,l[1]+=n.y,l}else{var f=e.pfValue[0];f=-Math.PI/2+f;var d=2*Math.max(i,u),v=[n.x+Math.cos(f)*d,n.y+Math.sin(f)*d];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,u,v[0],v[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};vf.findEndpoints=function(t){var e,r,n,i,u=this,s,l=t.source()[0],f=t.target()[0],d=l.position(),v=f.position(),p=t.pstyle("target-arrow-shape").value,g=t.pstyle("source-arrow-shape").value,m=t.pstyle("target-distance-from-node").pfValue,b=t.pstyle("source-distance-from-node").pfValue,_=l._private.rscratch,x=f._private.rscratch,E=t.pstyle("curve-style").value,C=t._private.rscratch,A=C.edgeType,R=zu(E,"taxi"),M=A==="self"||A==="compound",B=A==="bezier"||A==="multibezier"||M,O=A!=="bezier",N=A==="straight"||A==="segments",L=A==="segments",P=B||O||N,I=M||R,V=t.pstyle("source-endpoint"),j=I?"outside-to-node":V.value,Z=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue,J=t.pstyle("target-endpoint"),G=I?"outside-to-node":J.value,$=f.pstyle("corner-radius").value==="auto"?"auto":f.pstyle("corner-radius").pfValue;C.srcManEndpt=V,C.tgtManEndpt=J;var W,oe,se,U,X=(e=(J==null||(r=J.pfValue)===null||r===void 0?void 0:r.length)===2?J.pfValue:null)!==null&&e!==void 0?e:[0,0],ue=(n=(V==null||(i=V.pfValue)===null||i===void 0?void 0:i.length)===2?V.pfValue:null)!==null&&n!==void 0?n:[0,0];if(B){var Y=[C.ctrlpts[0],C.ctrlpts[1]],ee=O?[C.ctrlpts[C.ctrlpts.length-2],C.ctrlpts[C.ctrlpts.length-1]]:Y;W=ee,oe=Y}else if(N){var re=L?C.segpts.slice(0,2):[v.x+X[0],v.y+X[1]],de=L?C.segpts.slice(C.segpts.length-2):[d.x+ue[0],d.y+ue[1]];W=de,oe=re}if(G==="inside-to-node")s=[v.x,v.y];else if(J.units)s=this.manualEndptToPx(f,J);else if(G==="outside-to-line")s=C.tgtIntn;else if(G==="outside-to-node"||G==="outside-to-node-or-label"?se=W:(G==="outside-to-line"||G==="outside-to-line-or-label")&&(se=[d.x,d.y]),s=u.nodeShapes[this.getNodeShape(f)].intersectLine(v.x,v.y,f.outerWidth(),f.outerHeight(),se[0],se[1],0,$,x),G==="outside-to-node-or-label"||G==="outside-to-line-or-label"){var ze=f._private.rscratch,ie=ze.labelWidth,he=ze.labelHeight,be=ze.labelX,ge=ze.labelY,Be=ie/2,Ge=he/2,He=f.pstyle("text-valign").value;He==="top"?ge-=Ge:He==="bottom"&&(ge+=Ge);var Ct=f.pstyle("text-halign").value;Ct==="left"?be-=Be:Ct==="right"&&(be+=Be);var Ze=Zc(se[0],se[1],[be-Be,ge-Ge,be+Be,ge-Ge,be+Be,ge+Ge,be-Be,ge+Ge],v.x,v.y);if(Ze.length>0){var ht=d,ct=Ao(ht,$s(s)),Qe=Ao(ht,$s(Ze)),tt=ct;if(Qe<ct&&(s=Ze,tt=Qe),Ze.length>2){var ot=Ao(ht,{x:Ze[2],y:Ze[3]});ot<tt&&(s=[Ze[2],Ze[3]])}}}var st=Id(s,W,u.arrowShapes[p].spacing(t)+m),rt=Id(s,W,u.arrowShapes[p].gap(t)+m);if(C.endX=rt[0],C.endY=rt[1],C.arrowEndX=st[0],C.arrowEndY=st[1],j==="inside-to-node")s=[d.x,d.y];else if(V.units)s=this.manualEndptToPx(l,V);else if(j==="outside-to-line")s=C.srcIntn;else if(j==="outside-to-node"||j==="outside-to-node-or-label"?U=oe:(j==="outside-to-line"||j==="outside-to-line-or-label")&&(U=[v.x,v.y]),s=u.nodeShapes[this.getNodeShape(l)].intersectLine(d.x,d.y,l.outerWidth(),l.outerHeight(),U[0],U[1],0,Z,_),j==="outside-to-node-or-label"||j==="outside-to-line-or-label"){var xt=l._private.rscratch,Dt=xt.labelWidth,qt=xt.labelHeight,Mt=xt.labelX,Pt=xt.labelY,yt=Dt/2,at=qt/2,Ne=l.pstyle("text-valign").value;Ne==="top"?Pt-=at:Ne==="bottom"&&(Pt+=at);var K=l.pstyle("text-halign").value;K==="left"?Mt-=yt:K==="right"&&(Mt+=yt);var we=Zc(U[0],U[1],[Mt-yt,Pt-at,Mt+yt,Pt-at,Mt+yt,Pt+at,Mt-yt,Pt+at],d.x,d.y);if(we.length>0){var Me=v,pe=Ao(Me,$s(s)),Pe=Ao(Me,$s(we)),nt=pe;if(Pe<pe&&(s=[we[0],we[1]],nt=Pe),we.length>2){var je=Ao(Me,{x:we[2],y:we[3]});je<nt&&(s=[we[2],we[3]])}}}var ke=Id(s,oe,u.arrowShapes[g].spacing(t)+b),it=Id(s,oe,u.arrowShapes[g].gap(t)+b);C.startX=it[0],C.startY=it[1],C.arrowStartX=ke[0],C.arrowStartY=ke[1],P&&(!et(C.startX)||!et(C.startY)||!et(C.endX)||!et(C.endY)?C.badLine=!0:C.badLine=!1)};vf.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};vf.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var SE={};function IU(t,e,r){for(var n=function(d,v,p,g){return _n(d,v,p,g)},i=e._private,u=i.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var l=t.bezierProjPcts[s];u.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}SE.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)IU(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var u=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)u.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};SE.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var hi={};hi.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Uu(e)){var r,n,i=t._private,u=t.width(),s=t.height(),l=t.padding(),f=t.position(),d=t.pstyle("text-halign").strValue,v=t.pstyle("text-valign").strValue,p=i.rscratch,g=i.rstyle;switch(d){case"left":r=f.x-u/2-l;break;case"right":r=f.x+u/2+l;break;default:r=f.x}switch(v){case"top":n=f.y-s/2-l;break;case"bottom":n=f.y+s/2+l;break;default:n=f.y}p.labelX=r,p.labelY=n,g.labelX=r,g.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var nk=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},ak=function(e,r){var n=r.x-e.x,i=r.y-e.y;return nk(n,i)},UU=function(e,r,n,i){var u=Xc(0,i-.001,1),s=Xc(0,i+.001,1),l=Zs(e,r,n,u),f=Zs(e,r,n,s);return ak(l,f)};hi.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,u={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(u.mid||u.source||u.target){e={x:n.midX,y:n.midY};var s=function(p,g,m){Hi(r.rscratch,p,g,m),Hi(r.rstyle,p,g,m)};s("labelX",null,e.x),s("labelY",null,e.y);var l=nk(n.midDispX,n.midDispY);s("labelAutoAngle",null,l);var f=function(){if(f.cache)return f.cache;for(var p=[],g=0;g+5<n.allpts.length;g+=4){var m={x:n.allpts[g],y:n.allpts[g+1]},b={x:n.allpts[g+2],y:n.allpts[g+3]},_={x:n.allpts[g+4],y:n.allpts[g+5]};p.push({p0:m,p1:b,p2:_,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,E=i.bezierProjPcts.length;function C(O,N,L,P,I){var V=No(N,L),j=O.segments[O.segments.length-1],Z={p0:N,p1:L,t0:P,t1:I,startDist:j?j.startDist+j.length:0,length:V};O.segments.push(Z),O.length+=V}for(var A=0;A<p.length;A++){var R=p[A],M=p[A-1];M&&(R.startDist=M.startDist+M.length),C(R,R.p0,x[A*E],0,i.bezierProjPcts[0]);for(var B=0;B<E-1;B++)C(R,x[A*E+B],x[A*E+B+1],i.bezierProjPcts[B],i.bezierProjPcts[B+1]);C(R,x[A*E+E-1],R.p2,i.bezierProjPcts[E-1],1)}return f.cache=p},d=function(p){var g,m=p==="source";if(u[p]){var b=t.pstyle(p+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var _=f(),x,E=0,C=0,A=0;A<_.length;A++){for(var R=_[m?A:_.length-1-A],M=0;M<R.segments.length;M++){var B=R.segments[m?M:R.segments.length-1-M],O=A===_.length-1&&M===R.segments.length-1;if(E=C,C+=B.length,C>=b||O){x={cp:R,segment:B};break}}if(x)break}var N=x.cp,L=x.segment,P=(b-E)/L.length,I=L.t1-L.t0,V=m?L.t0+I*P:L.t1-I*P;V=Xc(0,V,1),e=Zs(N.p0,N.p1,N.p2,V),g=UU(N.p0,N.p1,N.p2,V);break}case"straight":case"segments":case"haystack":{for(var j=0,Z,J,G,$,W=n.allpts.length,oe=0;oe+3<W&&(m?(G={x:n.allpts[oe],y:n.allpts[oe+1]},$={x:n.allpts[oe+2],y:n.allpts[oe+3]}):(G={x:n.allpts[W-2-oe],y:n.allpts[W-1-oe]},$={x:n.allpts[W-4-oe],y:n.allpts[W-3-oe]}),Z=No(G,$),J=j,j+=Z,!(j>=b));oe+=2);var se=b-J,U=se/Z;U=Xc(0,U,1),e=sP(G,$,U),g=ak(G,$);break}}s("labelX",p,e.x),s("labelY",p,e.y),s("labelAutoAngle",p,g)}};d("source"),d("target"),this.applyLabelDimensions(t)}};hi.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};hi.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=zo(n,t._private.labelDimsKey);if(la(r.rscratch,"prefixedLabelDimsKey",e)!==i){Hi(r.rscratch,"prefixedLabelDimsKey",e,i);var u=this.calculateLabelDimensions(t,n),s=t.pstyle("line-height").pfValue,l=t.pstyle("text-wrap").strValue,f=la(r.rscratch,"labelWrapCachedLines",e)||[],d=l!=="wrap"?1:Math.max(f.length,1),v=u.height/d,p=v*s,g=u.width,m=u.height+(d-1)*(s-1)*v;Hi(r.rstyle,"labelWidth",e,g),Hi(r.rscratch,"labelWidth",e,g),Hi(r.rstyle,"labelHeight",e,m),Hi(r.rscratch,"labelHeight",e,m),Hi(r.rscratch,"labelLineHeight",e,p)}};hi.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,u=t.pstyle("text-transform").value,s=function(ue,Y){return Y?(Hi(r.rscratch,ue,e,Y),Y):la(r.rscratch,ue,e)};if(!i)return"";u=="none"||(u=="uppercase"?i=i.toUpperCase():u=="lowercase"&&(i=i.toLowerCase()));var l=t.pstyle("text-wrap").value;if(l==="wrap"){var f=s("labelKey");if(f!=null&&s("labelWrapKey")===f)return s("labelWrapCachedText");for(var d="",v=i.split(`
`),p=t.pstyle("text-max-width").pfValue,g=t.pstyle("text-overflow-wrap").value,m=g==="anywhere",b=[],_=/[\s\u200b]+|$/g,x=0;x<v.length;x++){var E=v[x],C=this.calculateLabelDimensions(t,E),A=C.width;if(m){var R=E.split("").join(d);E=R}if(A>p){var M=E.matchAll(_),B="",O=0,N=da(M),L;try{for(N.s();!(L=N.n()).done;){var P=L.value,I=P[0],V=E.substring(O,P.index);O=P.index+I.length;var j=B.length===0?V:B+V+I,Z=this.calculateLabelDimensions(t,j),J=Z.width;J<=p?B+=V+I:(B&&b.push(B),B=V+I)}}catch(X){N.e(X)}finally{N.f()}B.match(/^[\s\u200b]+$/)||b.push(B)}else b.push(E)}s("labelWrapCachedLines",b),i=s("labelWrapCachedText",b.join(`
`)),s("labelWrapKey",f)}else if(l==="ellipsis"){var G=t.pstyle("text-max-width").pfValue,$="",W="",oe=!1;if(this.calculateLabelDimensions(t,i).width<G)return i;for(var se=0;se<i.length;se++){var U=this.calculateLabelDimensions(t,$+i[se]+W).width;if(U>G)break;$+=i[se],se===i.length-1&&(oe=!0)}return oe||($+=W),$}return i};hi.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};hi.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),i=n.document,u=0,s=t.pstyle("font-style").strValue,l=t.pstyle("font-size").pfValue,f=t.pstyle("font-family").strValue,d=t.pstyle("font-weight").strValue,v=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!v){v=this.labelCalcCanvas=i.createElement("canvas"),p=this.labelCalcCanvasContext=v.getContext("2d");var g=v.style;g.position="absolute",g.left="-9999px",g.top="-9999px",g.zIndex="-1",g.visibility="hidden",g.pointerEvents="none"}p.font="".concat(s," ").concat(d," ").concat(l,"px ").concat(f);for(var m=0,b=0,_=e.split(`
`),x=0;x<_.length;x++){var E=_[x],C=p.measureText(E),A=Math.ceil(C.width),R=l;m=Math.max(A,m),b+=R}return m+=u,b+=u,{width:m,height:b}};hi.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),u=e?e+"-":"",s=t.pstyle(u+"text-rotation"),l=s.strValue;return l==="none"?0:i&&l==="autorotate"?n.labelAutoAngle:l==="autorotate"?0:s.pfValue};hi.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var ik={},AA=28,RA=!1;ik.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<AA||t.height()<AA))return RA||(lr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),RA=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var uh={};uh.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),l)for(var f=0;f<s.length;f++){var d=s[f],v=d._private,p=v.rstyle;p.clean=!1,p.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var l=s.target;n(l)}).on("style.* background.*",function(s){var l=s.target;n(l,!1)});var i=function(s){if(s){var l=r.onUpdateEleCalcsFns;e.cleanStyle();for(var f=0;f<e.length;f++){var d=e[f],v=d._private.rstyle;d.isNode()&&!v.cleanConnected&&(n(d.connectedEdges()),v.cleanConnected=!0)}if(l)for(var p=0;p<l.length;p++){var g=l[p];g(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};uh.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};uh.recalculateRenderedStyle=function(t,e){var r=function(R){return R._private.rstyle.cleanConnected};if(t.length!==0){var n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var u=0;u<t.length;u++){var s=t[u],l=s._private,f=l.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(f.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(A){return!A._private.rstyle.clean&&A.isBundledBezier()})&&(f.clean=!1),!(e&&f.clean||s.removed())&&s.pstyle("display").value!=="none"&&(l.group==="nodes"?i.push(s):n.push(s),f.clean=!0)}for(var d=0;d<i.length;d++){var v=i[d],p=v._private,g=p.rstyle,m=v.position();this.recalculateNodeLabelProjection(v),g.nodeX=m.x,g.nodeY=m.y,g.nodeW=v.pstyle("width").pfValue,g.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var b=0;b<n.length;b++){var _=n[b],x=_._private,E=x.rstyle,C=x.rscratch;E.srcX=C.arrowStartX,E.srcY=C.arrowStartY,E.tgtX=C.arrowEndX,E.tgtY=C.arrowEndY,E.midX=C.midX,E.midY=C.midY,E.labelAngle=C.labelAngle,E.sourceLabelAngle=C.sourceLabelAngle,E.targetLabelAngle=C.targetLabelAngle}}}};var oh={};oh.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};oh.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};oh.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Uq),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var uk={};[Uo,Bv,Hn,vf,SE,hi,ik,uh,oh].forEach(function(t){St(uk,t)});var ok={};ok.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},u=i[t];if(u)return u.image.complete||u.image.addEventListener("load",r),u.image;u=i[t]=i[t]||{};var s=u.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var l="data:",f=t.substring(0,l.length).toLowerCase()===l;return f||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var hl={};hl.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var u=[],s=0;s<t.length;s++){var l=t[s];if(l!==void 0){var f=this.binder(l);u.push(f.on.apply(f,i))}}return u}var f=this.binder(t);return f.on.apply(f,i)};hl.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||W3(t);if(e.supportsPassiveEvents==null){var i=!1;try{var u=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,u)}catch{}e.supportsPassiveEvents=i}var s=function(f,d,v){var p=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(p[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:p}),(t.addEventListener||t.on).apply(t,p),this};return{on:s,addEventListener:s,addListener:s,bind:s}};hl.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};hl.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};hl.load=function(){var t=this,e=t.cy.window(),r=function(K){return K.selected()},n=function(K){var we=K.getRootNode();if(we&&we.nodeType===11&&we.host!==void 0)return we},i=function(K,we,Me,pe){K==null&&(K=t.cy);for(var Pe=0;Pe<we.length;Pe++){var nt=we[Pe];K.emit({originalEvent:Me,type:nt,position:pe})}},u=function(K){return K.shiftKey||K.metaKey||K.ctrlKey},s=function(K,we){var Me=!0;if(t.cy.hasCompoundNodes()&&K&&K.pannable())for(var pe=0;we&&pe<we.length;pe++){var K=we[pe];if(K.isNode()&&K.isParent()&&!K.pannable()){Me=!1;break}}else Me=!0;return Me},l=function(K){K[0]._private.grabbed=!0},f=function(K){K[0]._private.grabbed=!1},d=function(K){K[0]._private.rscratch.inDragLayer=!0},v=function(K){K[0]._private.rscratch.inDragLayer=!1},p=function(K){K[0]._private.rscratch.isGrabTarget=!0},g=function(K){K[0]._private.rscratch.isGrabTarget=!1},m=function(K,we){var Me=we.addToList,pe=Me.has(K);!pe&&K.grabbable()&&!K.locked()&&(Me.merge(K),l(K))},b=function(K,we){if(K.cy().hasCompoundNodes()&&!(we.inDragLayer==null&&we.addToList==null)){var Me=K.descendants();we.inDragLayer&&(Me.forEach(d),Me.connectedEdges().forEach(d)),we.addToList&&m(Me,we)}},_=function(K,we){we=we||{};var Me=K.cy().hasCompoundNodes();we.inDragLayer&&(K.forEach(d),K.neighborhood().stdFilter(function(pe){return!Me||pe.isEdge()}).forEach(d)),we.addToList&&K.forEach(function(pe){m(pe,we)}),b(K,we),C(K,{inDragLayer:we.inDragLayer}),t.updateCachedGrabbedEles()},x=_,E=function(K){K&&(t.getCachedZSortedEles().forEach(function(we){f(we),v(we),g(we)}),t.updateCachedGrabbedEles())},C=function(K,we){if(!(we.inDragLayer==null&&we.addToList==null)&&K.cy().hasCompoundNodes()){var Me=K.ancestors().orphans();if(!Me.same(K)){var pe=Me.descendants().spawnSelf().merge(Me).unmerge(K).unmerge(K.descendants()),Pe=pe.connectedEdges();we.inDragLayer&&(Pe.forEach(d),pe.forEach(d)),we.addToList&&pe.forEach(function(nt){m(nt,we)})}}},A=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},R=typeof MutationObserver<"u",M=typeof ResizeObserver<"u";R?(t.removeObserver=new MutationObserver(function(Ne){for(var K=0;K<Ne.length;K++){var we=Ne[K],Me=we.removedNodes;if(Me)for(var pe=0;pe<Me.length;pe++){var Pe=Me[pe];if(Pe===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Ne){t.destroy()});var B=lf(function(){t.cy.resize()},100);R&&(t.styleObserver=new MutationObserver(B),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",B),M&&(t.resizeObserver=new ResizeObserver(B),t.resizeObserver.observe(t.container));var O=function(K,we){for(;K!=null;)we(K),K=K.parentNode},N=function(){t.invalidateContainerClientCoordsCache()};O(t.container,function(Ne){t.registerBinding(Ne,"transitionend",N),t.registerBinding(Ne,"animationend",N),t.registerBinding(Ne,"scroll",N)}),t.registerBinding(t.container,"contextmenu",function(Ne){Ne.preventDefault()});var L=function(){return t.selection[4]!==0},P=function(K){for(var we=t.findContainerClientCoords(),Me=we[0],pe=we[1],Pe=we[2],nt=we[3],je=K.touches?K.touches:[K],ke=!1,it=0;it<je.length;it++){var gt=je[it];if(Me<=gt.clientX&&gt.clientX<=Me+Pe&&pe<=gt.clientY&&gt.clientY<=pe+nt){ke=!0;break}}if(!ke)return!1;for(var _t=t.container,At=K.target,lt=At.parentNode,It=!1;lt;){if(lt===_t){It=!0;break}lt=lt.parentNode}return!!It};t.registerBinding(t.container,"mousedown",function(K){if(P(K)&&!(t.hoverData.which===1&&K.which!==1)){K.preventDefault(),A(),t.hoverData.capture=!0,t.hoverData.which=K.which;var we=t.cy,Me=[K.clientX,K.clientY],pe=t.projectIntoViewport(Me[0],Me[1]),Pe=t.selection,nt=t.findNearestElements(pe[0],pe[1],!0,!1),je=nt[0],ke=t.dragData.possibleDragElements;t.hoverData.mdownPos=pe,t.hoverData.mdownGPos=Me;var it=function(zt){return{originalEvent:K,type:zt,position:{x:pe[0],y:pe[1]}}},gt=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var zt=t.hoverData.down;zt?zt.emit(it("taphold")):we.emit(it("taphold"))}},t.tapholdDuration)};if(K.which==3){t.hoverData.cxtStarted=!0;var _t={originalEvent:K,type:"cxttapstart",position:{x:pe[0],y:pe[1]}};je?(je.activate(),je.emit(_t),t.hoverData.down=je):we.emit(_t),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(K.which==1){je&&je.activate();{if(je!=null&&t.nodeIsGrabbable(je)){var At=function(zt){zt.emit(it("grab"))};if(p(je),!je.selected())ke=t.dragData.possibleDragElements=we.collection(),x(je,{addToList:ke}),je.emit(it("grabon")).emit(it("grab"));else{ke=t.dragData.possibleDragElements=we.collection();var lt=we.$(function(It){return It.isNode()&&It.selected()&&t.nodeIsGrabbable(It)});_(lt,{addToList:ke}),je.emit(it("grabon")),lt.forEach(At)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=je,t.hoverData.downs=nt,t.hoverData.downTime=new Date().getTime()}i(je,["mousedown","tapstart","vmousedown"],K,{x:pe[0],y:pe[1]}),je==null?(Pe[4]=1,t.data.bgActivePosistion={x:pe[0],y:pe[1]},t.redrawHint("select",!0),t.redraw()):je.pannable()&&(Pe[4]=1),gt()}Pe[0]=Pe[2]=pe[0],Pe[1]=Pe[3]=pe[1]}},!1);var I=n(t.container);t.registerBinding([e,I],"mousemove",function(K){var we=t.hoverData.capture;if(!(!we&&!P(K))){var Me=!1,pe=t.cy,Pe=pe.zoom(),nt=[K.clientX,K.clientY],je=t.projectIntoViewport(nt[0],nt[1]),ke=t.hoverData.mdownPos,it=t.hoverData.mdownGPos,gt=t.selection,_t=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(_t=t.findNearestElement(je[0],je[1],!0,!1));var At=t.hoverData.last,lt=t.hoverData.down,It=[je[0]-gt[2],je[1]-gt[3]],zt=t.dragData.possibleDragElements,ir;if(it){var Yt=nt[0]-it[0],Hr=Yt*Yt,dr=nt[1]-it[1],Bt=dr*dr,Ut=Hr+Bt;t.hoverData.isOverThresholdDrag=ir=Ut>=t.desktopTapThreshold2}var Nr=u(K);ir&&(t.hoverData.tapholdCancelled=!0);var Dn=function(){var xr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];xr.length===0?(xr.push(It[0]),xr.push(It[1])):(xr[0]+=It[0],xr[1]+=It[1])};Me=!0,i(_t,["mousemove","vmousemove","tapdrag"],K,{x:je[0],y:je[1]});var vr=function(xr){return{originalEvent:K,type:xr,position:{x:je[0],y:je[1]}}},On=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||pe.emit(vr("boxstart")),gt[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(ir){var Zr=vr("cxtdrag");lt?lt.emit(Zr):pe.emit(Zr),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||_t!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(vr("cxtdragout")),t.hoverData.cxtOver=_t,_t&&_t.emit(vr("cxtdragover")))}}else if(t.hoverData.dragging){if(Me=!0,pe.panningEnabled()&&pe.userPanningEnabled()){var Qt;if(t.hoverData.justStartedPan){var wr=t.hoverData.mdownPos;Qt={x:(je[0]-wr[0])*Pe,y:(je[1]-wr[1])*Pe},t.hoverData.justStartedPan=!1}else Qt={x:It[0]*Pe,y:It[1]*Pe};pe.panBy(Qt),pe.emit(vr("dragpan")),t.hoverData.dragged=!0}je=t.projectIntoViewport(K.clientX,K.clientY)}else if(gt[4]==1&&(lt==null||lt.pannable())){if(ir){if(!t.hoverData.dragging&&pe.boxSelectionEnabled()&&(Nr||!pe.panningEnabled()||!pe.userPanningEnabled()))On();else if(!t.hoverData.selecting&&pe.panningEnabled()&&pe.userPanningEnabled()){var Lr=s(lt,t.hoverData.downs);Lr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,gt[4]=0,t.data.bgActivePosistion=$s(ke),t.redrawHint("select",!0),t.redraw())}lt&&lt.pannable()&&lt.active()&&lt.unactivate()}}else{if(lt&&lt.pannable()&&lt.active()&&lt.unactivate(),(!lt||!lt.grabbed())&&_t!=At&&(At&&i(At,["mouseout","tapdragout"],K,{x:je[0],y:je[1]}),_t&&i(_t,["mouseover","tapdragover"],K,{x:je[0],y:je[1]}),t.hoverData.last=_t),lt)if(ir){if(pe.boxSelectionEnabled()&&Nr)lt&&lt.grabbed()&&(E(zt),lt.emit(vr("freeon")),zt.emit(vr("free")),t.dragData.didDrag&&(lt.emit(vr("dragfreeon")),zt.emit(vr("dragfree")))),On();else if(lt&&lt.grabbed()&&t.nodeIsDraggable(lt)){var Pr=!t.dragData.didDrag;Pr&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||_(zt,{inDragLayer:!0});var Qr={x:0,y:0};if(et(It[0])&&et(It[1])&&(Qr.x+=It[0],Qr.y+=It[1],Pr)){var Tr=t.hoverData.dragDelta;Tr&&et(Tr[0])&&et(Tr[1])&&(Qr.x+=Tr[0],Qr.y+=Tr[1])}t.hoverData.draggingEles=!0,zt.silentShift(Qr).emit(vr("position")).emit(vr("drag")),t.redrawHint("drag",!0),t.redraw()}}else Dn();Me=!0}if(gt[2]=je[0],gt[3]=je[1],Me)return K.stopPropagation&&K.stopPropagation(),K.preventDefault&&K.preventDefault(),!1}},!1);var V,j,Z;t.registerBinding(e,"mouseup",function(K){if(!(t.hoverData.which===1&&K.which!==1&&t.hoverData.capture)){var we=t.hoverData.capture;if(we){t.hoverData.capture=!1;var Me=t.cy,pe=t.projectIntoViewport(K.clientX,K.clientY),Pe=t.selection,nt=t.findNearestElement(pe[0],pe[1],!0,!1),je=t.dragData.possibleDragElements,ke=t.hoverData.down,it=u(K);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,ke&&ke.unactivate();var gt=function(Yt){return{originalEvent:K,type:Yt,position:{x:pe[0],y:pe[1]}}};if(t.hoverData.which===3){var _t=gt("cxttapend");if(ke?ke.emit(_t):Me.emit(_t),!t.hoverData.cxtDragged){var At=gt("cxttap");ke?ke.emit(At):Me.emit(At)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(nt,["mouseup","tapend","vmouseup"],K,{x:pe[0],y:pe[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(ke,["click","tap","vclick"],K,{x:pe[0],y:pe[1]}),j=!1,K.timeStamp-Z<=Me.multiClickDebounceTime()?(V&&clearTimeout(V),j=!0,Z=null,i(ke,["dblclick","dbltap","vdblclick"],K,{x:pe[0],y:pe[1]})):(V=setTimeout(function(){j||i(ke,["oneclick","onetap","voneclick"],K,{x:pe[0],y:pe[1]})},Me.multiClickDebounceTime()),Z=K.timeStamp)),ke==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!u(K)&&(Me.$(r).unselect(["tapunselect"]),je.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=je=Me.collection()),nt==ke&&!t.dragData.didDrag&&!t.hoverData.selecting&&nt!=null&&nt._private.selectable&&(t.hoverData.dragging||(Me.selectionType()==="additive"||it?nt.selected()?nt.unselect(["tapunselect"]):nt.select(["tapselect"]):it||(Me.$(r).unmerge(nt).unselect(["tapunselect"]),nt.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var lt=Me.collection(t.getAllInBox(Pe[0],Pe[1],Pe[2],Pe[3]));t.redrawHint("select",!0),lt.length>0&&t.redrawHint("eles",!0),Me.emit(gt("boxend"));var It=function(Yt){return Yt.selectable()&&!Yt.selected()};Me.selectionType()==="additive"||it||Me.$(r).unmerge(lt).unselect(),lt.emit(gt("box")).stdFilter(It).select().emit(gt("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!Pe[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var zt=ke&&ke.grabbed();E(je),zt&&(ke.emit(gt("freeon")),je.emit(gt("free")),t.dragData.didDrag&&(ke.emit(gt("dragfreeon")),je.emit(gt("dragfree"))))}}Pe[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var J=[],G=4,$,W=1e5,oe=function(K,we){for(var Me=0;Me<K.length;Me++)if(K[Me]%we!==0)return!1;return!0},se=function(K){for(var we=Math.abs(K[0]),Me=1;Me<K.length;Me++)if(Math.abs(K[Me])!==we)return!1;return!0},U=function(K){var we=!1,Me=K.deltaY;if(Me==null&&(K.wheelDeltaY!=null?Me=K.wheelDeltaY/4:K.wheelDelta!=null&&(Me=K.wheelDelta/4)),Me!==0){if($==null)if(J.length>=G){var pe=J;if($=oe(pe,5),!$){var Pe=Math.abs(pe[0]);$=se(pe)&&Pe>5}if($)for(var nt=0;nt<pe.length;nt++)W=Math.min(Math.abs(pe[nt]),W)}else J.push(Me),we=!0;else $&&(W=Math.min(Math.abs(Me),W));if(!t.scrollingPage){var je=t.cy,ke=je.zoom(),it=je.pan(),gt=t.projectIntoViewport(K.clientX,K.clientY),_t=[gt[0]*ke+it.x,gt[1]*ke+it.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||L()){K.preventDefault();return}if(je.panningEnabled()&&je.userPanningEnabled()&&je.zoomingEnabled()&&je.userZoomingEnabled()){K.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var At;we&&Math.abs(Me)>5&&(Me=lE(Me)*5),At=Me/-250,$&&(At/=W,At*=3),At=At*t.wheelSensitivity;var lt=K.deltaMode===1;lt&&(At*=33);var It=je.zoom()*Math.pow(10,At);K.type==="gesturechange"&&(It=t.gestureStartZoom*K.scale),je.zoom({level:It,renderedPosition:{x:_t[0],y:_t[1]}}),je.emit({type:K.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:K,position:{x:gt[0],y:gt[1]}})}}}};t.registerBinding(t.container,"wheel",U,!0),t.registerBinding(e,"scroll",function(K){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(K){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||K.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Ne){t.hasTouchStarted||U(Ne)},!0),t.registerBinding(t.container,"mouseout",function(K){var we=t.projectIntoViewport(K.clientX,K.clientY);t.cy.emit({originalEvent:K,type:"mouseout",position:{x:we[0],y:we[1]}})},!1),t.registerBinding(t.container,"mouseover",function(K){var we=t.projectIntoViewport(K.clientX,K.clientY);t.cy.emit({originalEvent:K,type:"mouseover",position:{x:we[0],y:we[1]}})},!1);var X,ue,Y,ee,re,de,ze,ie,he,be,ge,Be,Ge,He=function(K,we,Me,pe){return Math.sqrt((Me-K)*(Me-K)+(pe-we)*(pe-we))},Ct=function(K,we,Me,pe){return(Me-K)*(Me-K)+(pe-we)*(pe-we)},Ze;t.registerBinding(t.container,"touchstart",Ze=function(K){if(t.hasTouchStarted=!0,!!P(K)){A(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var we=t.cy,Me=t.touchData.now,pe=t.touchData.earlier;if(K.touches[0]){var Pe=t.projectIntoViewport(K.touches[0].clientX,K.touches[0].clientY);Me[0]=Pe[0],Me[1]=Pe[1]}if(K.touches[1]){var Pe=t.projectIntoViewport(K.touches[1].clientX,K.touches[1].clientY);Me[2]=Pe[0],Me[3]=Pe[1]}if(K.touches[2]){var Pe=t.projectIntoViewport(K.touches[2].clientX,K.touches[2].clientY);Me[4]=Pe[0],Me[5]=Pe[1]}var nt=function(Nr){return{originalEvent:K,type:Nr,position:{x:Me[0],y:Me[1]}}};if(K.touches[1]){t.touchData.singleTouchMoved=!0,E(t.dragData.touchDragEles);var je=t.findContainerClientCoords();he=je[0],be=je[1],ge=je[2],Be=je[3],X=K.touches[0].clientX-he,ue=K.touches[0].clientY-be,Y=K.touches[1].clientX-he,ee=K.touches[1].clientY-be,Ge=0<=X&&X<=ge&&0<=Y&&Y<=ge&&0<=ue&&ue<=Be&&0<=ee&&ee<=Be;var ke=we.pan(),it=we.zoom();re=He(X,ue,Y,ee),de=Ct(X,ue,Y,ee),ze=[(X+Y)/2,(ue+ee)/2],ie=[(ze[0]-ke.x)/it,(ze[1]-ke.y)/it];var gt=200,_t=gt*gt;if(de<_t&&!K.touches[2]){var At=t.findNearestElement(Me[0],Me[1],!0,!0),lt=t.findNearestElement(Me[2],Me[3],!0,!0);At&&At.isNode()?(At.activate().emit(nt("cxttapstart")),t.touchData.start=At):lt&&lt.isNode()?(lt.activate().emit(nt("cxttapstart")),t.touchData.start=lt):we.emit(nt("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(K.touches[2])we.boxSelectionEnabled()&&K.preventDefault();else if(!K.touches[1]){if(K.touches[0]){var It=t.findNearestElements(Me[0],Me[1],!0,!0),zt=It[0];if(zt!=null&&(zt.activate(),t.touchData.start=zt,t.touchData.starts=It,t.nodeIsGrabbable(zt))){var ir=t.dragData.touchDragEles=we.collection(),Yt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),zt.selected()?(Yt=we.$(function(Ut){return Ut.selected()&&t.nodeIsGrabbable(Ut)}),_(Yt,{addToList:ir})):x(zt,{addToList:ir}),p(zt),zt.emit(nt("grabon")),Yt?Yt.forEach(function(Ut){Ut.emit(nt("grab"))}):zt.emit(nt("grab"))}i(zt,["touchstart","tapstart","vmousedown"],K,{x:Me[0],y:Me[1]}),zt==null&&(t.data.bgActivePosistion={x:Pe[0],y:Pe[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],K,{x:Me[0],y:Me[1]})},t.tapholdDuration)}}if(K.touches.length>=1){for(var Hr=t.touchData.startPosition=[null,null,null,null,null,null],dr=0;dr<Me.length;dr++)Hr[dr]=pe[dr]=Me[dr];var Bt=K.touches[0];t.touchData.startGPosition=[Bt.clientX,Bt.clientY]}}},!1);var ht;t.registerBinding(e,"touchmove",ht=function(K){var we=t.touchData.capture;if(!(!we&&!P(K))){var Me=t.selection,pe=t.cy,Pe=t.touchData.now,nt=t.touchData.earlier,je=pe.zoom();if(K.touches[0]){var ke=t.projectIntoViewport(K.touches[0].clientX,K.touches[0].clientY);Pe[0]=ke[0],Pe[1]=ke[1]}if(K.touches[1]){var ke=t.projectIntoViewport(K.touches[1].clientX,K.touches[1].clientY);Pe[2]=ke[0],Pe[3]=ke[1]}if(K.touches[2]){var ke=t.projectIntoViewport(K.touches[2].clientX,K.touches[2].clientY);Pe[4]=ke[0],Pe[5]=ke[1]}var it=function(eo){return{originalEvent:K,type:eo,position:{x:Pe[0],y:Pe[1]}}},gt=t.touchData.startGPosition,_t;if(we&&K.touches[0]&&gt){for(var At=[],lt=0;lt<Pe.length;lt++)At[lt]=Pe[lt]-nt[lt];var It=K.touches[0].clientX-gt[0],zt=It*It,ir=K.touches[0].clientY-gt[1],Yt=ir*ir,Hr=zt+Yt;_t=Hr>=t.touchTapThreshold2}if(we&&t.touchData.cxt){K.preventDefault();var dr=K.touches[0].clientX-he,Bt=K.touches[0].clientY-be,Ut=K.touches[1].clientX-he,Nr=K.touches[1].clientY-be,Dn=Ct(dr,Bt,Ut,Nr),vr=Dn/de,On=150,Zr=On*On,Qt=1.5,wr=Qt*Qt;if(vr>=wr||Dn>=Zr){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Lr=it("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(Lr),t.touchData.start=null):pe.emit(Lr)}}if(we&&t.touchData.cxt){var Lr=it("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Lr):pe.emit(Lr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Pr=t.findNearestElement(Pe[0],Pe[1],!0,!0);(!t.touchData.cxtOver||Pr!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(it("cxtdragout")),t.touchData.cxtOver=Pr,Pr&&Pr.emit(it("cxtdragover")))}else if(we&&K.touches[2]&&pe.boxSelectionEnabled())K.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||pe.emit(it("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,Me[4]=1,!Me||Me.length===0||Me[0]===void 0?(Me[0]=(Pe[0]+Pe[2]+Pe[4])/3,Me[1]=(Pe[1]+Pe[3]+Pe[5])/3,Me[2]=(Pe[0]+Pe[2]+Pe[4])/3+1,Me[3]=(Pe[1]+Pe[3]+Pe[5])/3+1):(Me[2]=(Pe[0]+Pe[2]+Pe[4])/3,Me[3]=(Pe[1]+Pe[3]+Pe[5])/3),t.redrawHint("select",!0),t.redraw();else if(we&&K.touches[1]&&!t.touchData.didSelect&&pe.zoomingEnabled()&&pe.panningEnabled()&&pe.userZoomingEnabled()&&pe.userPanningEnabled()){K.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Qr=t.dragData.touchDragEles;if(Qr){t.redrawHint("drag",!0);for(var Tr=0;Tr<Qr.length;Tr++){var Ua=Qr[Tr]._private;Ua.grabbed=!1,Ua.rscratch.inDragLayer=!1}}var xr=t.touchData.start,dr=K.touches[0].clientX-he,Bt=K.touches[0].clientY-be,Ut=K.touches[1].clientX-he,Nr=K.touches[1].clientY-be,yi=He(dr,Bt,Ut,Nr),Sa=yi/re;if(Ge){var ur=dr-X,Kn=Bt-ue,bn=Ut-Y,Ir=Nr-ee,Fa=(ur+bn)/2,mi=(Kn+Ir)/2,Mn=pe.zoom(),ea=Mn*Sa,ta=pe.pan(),Ji=ie[0]*Mn+ta.x,Ja=ie[1]*Mn+ta.y,Ko={x:-ea/Mn*(Ji-ta.x-Fa)+Ji,y:-ea/Mn*(Ja-ta.y-mi)+Ja};if(xr&&xr.active()){var Qr=t.dragData.touchDragEles;E(Qr),t.redrawHint("drag",!0),t.redrawHint("eles",!0),xr.unactivate().emit(it("freeon")),Qr.emit(it("free")),t.dragData.didDrag&&(xr.emit(it("dragfreeon")),Qr.emit(it("dragfree")))}pe.viewport({zoom:ea,pan:Ko,cancelOnFailedZoom:!0}),pe.emit(it("pinchzoom")),re=yi,X=dr,ue=Bt,Y=Ut,ee=Nr,t.pinching=!0}if(K.touches[0]){var ke=t.projectIntoViewport(K.touches[0].clientX,K.touches[0].clientY);Pe[0]=ke[0],Pe[1]=ke[1]}if(K.touches[1]){var ke=t.projectIntoViewport(K.touches[1].clientX,K.touches[1].clientY);Pe[2]=ke[0],Pe[3]=ke[1]}if(K.touches[2]){var ke=t.projectIntoViewport(K.touches[2].clientX,K.touches[2].clientY);Pe[4]=ke[0],Pe[5]=ke[1]}}else if(K.touches[0]&&!t.touchData.didSelect){var Et=t.touchData.start,Va=t.touchData.last,Pr;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Pr=t.findNearestElement(Pe[0],Pe[1],!0,!0)),we&&Et!=null&&K.preventDefault(),we&&Et!=null&&t.nodeIsDraggable(Et))if(_t){var Qr=t.dragData.touchDragEles,$n=!t.dragData.didDrag;$n&&_(Qr,{inDragLayer:!0}),t.dragData.didDrag=!0;var Ur={x:0,y:0};if(et(At[0])&&et(At[1])&&(Ur.x+=At[0],Ur.y+=At[1],$n)){t.redrawHint("eles",!0);var Wr=t.touchData.dragDelta;Wr&&et(Wr[0])&&et(Wr[1])&&(Ur.x+=Wr[0],Ur.y+=Wr[1])}t.hoverData.draggingEles=!0,Qr.silentShift(Ur).emit(it("position")).emit(it("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==nt[0]&&t.touchData.startPosition[1]==nt[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Wr=t.touchData.dragDelta=t.touchData.dragDelta||[];Wr.length===0?(Wr.push(At[0]),Wr.push(At[1])):(Wr[0]+=At[0],Wr[1]+=At[1])}if(i(Et||Pr,["touchmove","tapdrag","vmousemove"],K,{x:Pe[0],y:Pe[1]}),(!Et||!Et.grabbed())&&Pr!=Va&&(Va&&Va.emit(it("tapdragout")),Pr&&Pr.emit(it("tapdragover"))),t.touchData.last=Pr,we)for(var Tr=0;Tr<Pe.length;Tr++)Pe[Tr]&&t.touchData.startPosition[Tr]&&_t&&(t.touchData.singleTouchMoved=!0);if(we&&(Et==null||Et.pannable())&&pe.panningEnabled()&&pe.userPanningEnabled()){var $o=s(Et,t.touchData.starts);$o&&(K.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=$s(t.touchData.startPosition)),t.swipePanning?(pe.panBy({x:At[0]*je,y:At[1]*je}),pe.emit(it("dragpan"))):_t&&(t.swipePanning=!0,pe.panBy({x:It*je,y:ir*je}),pe.emit(it("dragpan")),Et&&(Et.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var ke=t.projectIntoViewport(K.touches[0].clientX,K.touches[0].clientY);Pe[0]=ke[0],Pe[1]=ke[1]}}for(var lt=0;lt<Pe.length;lt++)nt[lt]=Pe[lt];we&&K.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var ct;t.registerBinding(e,"touchcancel",ct=function(K){var we=t.touchData.start;t.touchData.capture=!1,we&&we.unactivate()});var Qe,tt,ot,st;if(t.registerBinding(e,"touchend",Qe=function(K){var we=t.touchData.start,Me=t.touchData.capture;if(Me)K.touches.length===0&&(t.touchData.capture=!1),K.preventDefault();else return;var pe=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var Pe=t.cy,nt=Pe.zoom(),je=t.touchData.now,ke=t.touchData.earlier;if(K.touches[0]){var it=t.projectIntoViewport(K.touches[0].clientX,K.touches[0].clientY);je[0]=it[0],je[1]=it[1]}if(K.touches[1]){var it=t.projectIntoViewport(K.touches[1].clientX,K.touches[1].clientY);je[2]=it[0],je[3]=it[1]}if(K.touches[2]){var it=t.projectIntoViewport(K.touches[2].clientX,K.touches[2].clientY);je[4]=it[0],je[5]=it[1]}var gt=function(Zr){return{originalEvent:K,type:Zr,position:{x:je[0],y:je[1]}}};we&&we.unactivate();var _t;if(t.touchData.cxt){if(_t=gt("cxttapend"),we?we.emit(_t):Pe.emit(_t),!t.touchData.cxtDragged){var At=gt("cxttap");we?we.emit(At):Pe.emit(At)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!K.touches[2]&&Pe.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var lt=Pe.collection(t.getAllInBox(pe[0],pe[1],pe[2],pe[3]));pe[0]=void 0,pe[1]=void 0,pe[2]=void 0,pe[3]=void 0,pe[4]=0,t.redrawHint("select",!0),Pe.emit(gt("boxend"));var It=function(Zr){return Zr.selectable()&&!Zr.selected()};lt.emit(gt("box")).stdFilter(It).select().emit(gt("boxselect")),lt.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(we?.unactivate(),K.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!K.touches[1]){if(!K.touches[0]){if(!K.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var zt=t.dragData.touchDragEles;if(we!=null){var ir=we._private.grabbed;E(zt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),ir&&(we.emit(gt("freeon")),zt.emit(gt("free")),t.dragData.didDrag&&(we.emit(gt("dragfreeon")),zt.emit(gt("dragfree")))),i(we,["touchend","tapend","vmouseup","tapdragout"],K,{x:je[0],y:je[1]}),we.unactivate(),t.touchData.start=null}else{var Yt=t.findNearestElement(je[0],je[1],!0,!0);i(Yt,["touchend","tapend","vmouseup","tapdragout"],K,{x:je[0],y:je[1]})}var Hr=t.touchData.startPosition[0]-je[0],dr=Hr*Hr,Bt=t.touchData.startPosition[1]-je[1],Ut=Bt*Bt,Nr=dr+Ut,Dn=Nr*nt*nt;t.touchData.singleTouchMoved||(we||Pe.$(":selected").unselect(["tapunselect"]),i(we,["tap","vclick"],K,{x:je[0],y:je[1]}),tt=!1,K.timeStamp-st<=Pe.multiClickDebounceTime()?(ot&&clearTimeout(ot),tt=!0,st=null,i(we,["dbltap","vdblclick"],K,{x:je[0],y:je[1]})):(ot=setTimeout(function(){tt||i(we,["onetap","voneclick"],K,{x:je[0],y:je[1]})},Pe.multiClickDebounceTime()),st=K.timeStamp)),we!=null&&!t.dragData.didDrag&&we._private.selectable&&Dn<t.touchTapThreshold2&&!t.pinching&&(Pe.selectionType()==="single"?(Pe.$(r).unmerge(we).unselect(["tapunselect"]),we.select(["tapselect"])):we.selected()?we.unselect(["tapunselect"]):we.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var vr=0;vr<je.length;vr++)ke[vr]=je[vr];t.dragData.didDrag=!1,K.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),K.touches.length<2&&(K.touches.length===1&&(t.touchData.startGPosition=[K.touches[0].clientX,K.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var rt=[],xt=function(K){return{clientX:K.clientX,clientY:K.clientY,force:1,identifier:K.pointerId,pageX:K.pageX,pageY:K.pageY,radiusX:K.width/2,radiusY:K.height/2,screenX:K.screenX,screenY:K.screenY,target:K.target}},Dt=function(K){return{event:K,touch:xt(K)}},qt=function(K){rt.push(Dt(K))},Mt=function(K){for(var we=0;we<rt.length;we++){var Me=rt[we];if(Me.event.pointerId===K.pointerId){rt.splice(we,1);return}}},Pt=function(K){var we=rt.filter(function(Me){return Me.event.pointerId===K.pointerId})[0];we.event=K,we.touch=xt(K)},yt=function(K){K.touches=rt.map(function(we){return we.touch})},at=function(K){return K.pointerType==="mouse"||K.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Ne){at(Ne)||(Ne.preventDefault(),qt(Ne),yt(Ne),Ze(Ne))}),t.registerBinding(t.container,"pointerup",function(Ne){at(Ne)||(Mt(Ne),yt(Ne),Qe(Ne))}),t.registerBinding(t.container,"pointercancel",function(Ne){at(Ne)||(Mt(Ne),yt(Ne),ct(Ne))}),t.registerBinding(t.container,"pointermove",function(Ne){at(Ne)||(Ne.preventDefault(),Pt(Ne),yt(Ne),ht(Ne))})}};var Xi={};Xi.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,u,s,l,f){this.renderer.nodeShapeImpl("polygon",n,i,u,s,l,this.points)},intersectLine:function(n,i,u,s,l,f,d,v){return Zc(l,f,this.points,n,i,u/2,s/2,d)},checkPoint:function(n,i,u,s,l,f,d,v){return Yi(n,i,this.points,f,d,s,l,[0,-1],u)},hasMiterBounds:t!=="rectangle",miterBounds:function(n,i,u,s,l,f){return hP(this.points,n,i,u,s,l)}}};Xi.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,u)},intersectLine:function(e,r,n,i,u,s,l,f){return EP(u,s,e,r,n/2+l,i/2+l)},checkPoint:function(e,r,n,i,u,s,l,f){return Bo(e,r,i,u,s,l,n)}}};Xi.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,i,u,s,l,f,d){if(f[d]!==void 0&&f[d+"-cx"]===n&&f[d+"-cy"]===i)return f[d];f[d]=new Array(e.length/2),f[d+"-cx"]=n,f[d+"-cy"]=i;var v=u/2,p=s/2;l=l==="auto"?sq(u,s):l;for(var g=new Array(e.length/2),m=0;m<e.length/2;m++)g[m]={x:n+v*e[m*2],y:i+p*e[m*2+1]};var b,_,x,E,C=g.length;for(_=g[C-1],b=0;b<C;b++)x=g[b%C],E=g[(b+1)%C],f[d][b]=EE(_,x,E,l),_=x,x=E;return f[d]},draw:function(n,i,u,s,l,f,d){this.renderer.nodeShapeImpl("round-polygon",n,i,u,s,l,this.points,this.getOrCreateCorners(i,u,s,l,f,d,"drawCorners"))},intersectLine:function(n,i,u,s,l,f,d,v,p){return TP(l,f,this.points,n,i,u,s,d,this.getOrCreateCorners(n,i,u,s,v,p,"corners"))},checkPoint:function(n,i,u,s,l,f,d,v,p){return xP(n,i,this.points,f,d,s,l,this.getOrCreateCorners(f,d,s,l,v,p,"corners"))}}};Xi.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Qn(4,0),draw:function(e,r,n,i,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,u,this.points,s)},intersectLine:function(e,r,n,i,u,s,l,f){return uq(u,s,e,r,n,i,l,f)},checkPoint:function(e,r,n,i,u,s,l,f){var d=i/2,v=u/2;f=f==="auto"?Vu(i,u):f,f=Math.min(d,v,f);var p=f*2;return!!(Yi(e,r,this.points,s,l,i,u-p,[0,-1],n)||Yi(e,r,this.points,s,l,i-p,u,[0,-1],n)||Bo(e,r,p,p,s-d+f,l-v+f,n)||Bo(e,r,p,p,s+d-f,l-v+f,n)||Bo(e,r,p,p,s+d-f,l+v-f,n)||Bo(e,r,p,p,s-d+f,l+v-f,n))}}};Xi.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:fE(),points:Qn(4,0),draw:function(e,r,n,i,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,u,null,s)},generateCutTrianglePts:function(e,r,n,i,u){var s=u==="auto"?this.cornerLength:u,l=r/2,f=e/2,d=n-f,v=n+f,p=i-l,g=i+l;return{topLeft:[d,p+s,d+s,p,d+s,p+s],topRight:[v-s,p,v,p+s,v-s,p+s],bottomRight:[v,g-s,v-s,g,v-s,g-s],bottomLeft:[d+s,g,d,g-s,d+s,g-s]}},intersectLine:function(e,r,n,i,u,s,l,f){var d=this.generateCutTrianglePts(n+2*l,i+2*l,e,r,f),v=[].concat.apply([],[d.topLeft.splice(0,4),d.topRight.splice(0,4),d.bottomRight.splice(0,4),d.bottomLeft.splice(0,4)]);return Zc(u,s,v,e,r)},checkPoint:function(e,r,n,i,u,s,l,f){var d=f==="auto"?this.cornerLength:f;if(Yi(e,r,this.points,s,l,i,u-2*d,[0,-1],n)||Yi(e,r,this.points,s,l,i-2*d,u,[0,-1],n))return!0;var v=this.generateCutTrianglePts(i,u,s,l);return ca(e,r,v.topLeft)||ca(e,r,v.topRight)||ca(e,r,v.bottomRight)||ca(e,r,v.bottomLeft)}}};Xi.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Qn(4,0),draw:function(e,r,n,i,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,u)},intersectLine:function(e,r,n,i,u,s,l,f){var d=.15,v=.5,p=.85,g=this.generateBarrelBezierPts(n+2*l,i+2*l,e,r),m=function(x){var E=Zs({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},d),C=Zs({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},v),A=Zs({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},p);return[x[0],x[1],E.x,E.y,C.x,C.y,A.x,A.y,x[4],x[5]]},b=[].concat(m(g.topLeft),m(g.topRight),m(g.bottomRight),m(g.bottomLeft));return Zc(u,s,b,e,r)},generateBarrelBezierPts:function(e,r,n,i){var u=r/2,s=e/2,l=n-s,f=n+s,d=i-u,v=i+u,p=Mx(e,r),g=p.heightOffset,m=p.widthOffset,b=p.ctrlPtOffsetPct*e,_={topLeft:[l,d+g,l+b,d,l+m,d],topRight:[f-m,d,f-b,d,f,d+g],bottomRight:[f,v-g,f-b,v,f-m,v],bottomLeft:[l+m,v,l+b,v,l,v-g]};return _.topLeft.isTop=!0,_.topRight.isTop=!0,_.bottomLeft.isBottom=!0,_.bottomRight.isBottom=!0,_},checkPoint:function(e,r,n,i,u,s,l,f){var d=Mx(i,u),v=d.heightOffset,p=d.widthOffset;if(Yi(e,r,this.points,s,l,i,u-2*v,[0,-1],n)||Yi(e,r,this.points,s,l,i-2*p,u,[0,-1],n))return!0;for(var g=this.generateBarrelBezierPts(i,u,s,l),m=function(N,L,P){var I=P[4],V=P[2],j=P[0],Z=P[5],J=P[1],G=Math.min(I,j),$=Math.max(I,j),W=Math.min(Z,J),oe=Math.max(Z,J);if(G<=N&&N<=$&&W<=L&&L<=oe){var se=_P(I,V,j),U=yP(se[0],se[1],se[2],N),X=U.filter(function(ue){return 0<=ue&&ue<=1});if(X.length>0)return X[0]}return null},b=Object.keys(g),_=0;_<b.length;_++){var x=b[_],E=g[x],C=m(e,r,E);if(C!=null){var A=E[5],R=E[3],M=E[1],B=_n(A,R,M,C);if(E.isTop&&B<=r||E.isBottom&&r<=B)return!0}}return!1}}};Xi.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Qn(4,0),draw:function(e,r,n,i,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,u,this.points,s)},intersectLine:function(e,r,n,i,u,s,l,f){var d=e-(n/2+l),v=r-(i/2+l),p=v,g=e+(n/2+l),m=Lu(u,s,e,r,d,v,g,p,!1);return m.length>0?m:uq(u,s,e,r,n,i,l,f)},checkPoint:function(e,r,n,i,u,s,l,f){f=f==="auto"?Vu(i,u):f;var d=2*f;if(Yi(e,r,this.points,s,l,i,u-d,[0,-1],n)||Yi(e,r,this.points,s,l,i-d,u,[0,-1],n))return!0;var v=i/2+2*n,p=u/2+2*n,g=[s-v,l-p,s-v,l,s+v,l,s+v,l-p];return!!(ca(e,r,g)||Bo(e,r,d,d,s+i/2-f,l+u/2-f,n)||Bo(e,r,d,d,s-i/2+f,l+u/2-f,n))}}};Xi.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Qn(3,0)),this.generateRoundPolygon("round-triangle",Qn(3,0)),this.generatePolygon("rectangle",Qn(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Qn(5,0)),this.generateRoundPolygon("round-pentagon",Qn(5,0)),this.generatePolygon("hexagon",Qn(6,0)),this.generateRoundPolygon("round-hexagon",Qn(6,0)),this.generatePolygon("heptagon",Qn(7,0)),this.generateRoundPolygon("round-heptagon",Qn(7,0)),this.generatePolygon("octagon",Qn(8,0)),this.generateRoundPolygon("round-octagon",Qn(8,0));var n=new Array(20);{var i=Ox(5,0),u=Ox(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var l=0;l<u.length/2;l++)u[l*2]*=s,u[l*2+1]*=s;for(var l=0;l<20/4;l++)n[l*4]=i[l*2],n[l*4+1]=i[l*2+1],n[l*4+2]=u[l*2],n[l*4+3]=u[l*2+1]}n=oq(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var f=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",f),this.generateRoundPolygon("round-tag",f)}t.makePolygon=function(d){var v=d.join("$"),p="polygon-"+v,g;return(g=this[p])?g:e.generatePolygon(p,d)}};var hf={};hf.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};hf.redraw=function(t){t=t||rq();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};hf.beforeRender=function(t,e){if(!this.destroyed){e==null&&kr("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var DA=function(e,r,n){for(var i=e.beforeRenderCallbacks,u=0;u<i.length;u++)i[u].fn(r,n)};hf.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){DA(t,!0,i);var u=$i();t.render(t.renderOptions);var s=t.lastDrawTime=$i();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-u),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var l=s-u;t.redrawTotalTime+=l,t.lastRedrawTime=l,t.averageRedrawTime=t.averageRedrawTime/2+l/2,t.requestedFrame=!1}else DA(t,!1,i);t.skipFrame=!1,Tv(r)}};Tv(r)}};var FU=function(e){this.init(e)},sk=FU,pl=sk.prototype;pl.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];pl.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,u=i.head,s="__________cytoscape_stylesheet",l="__________cytoscape_container",f=i.getElementById(s)!=null;if(r.className.indexOf(l)<0&&(r.className=(r.className||"")+" "+l),!f){var d=i.createElement("style");d.id=s,d.textContent="."+l+" { position: relative; }",u.insertBefore(d,u.children[0])}var v=n.getComputedStyle(r),p=v.getPropertyValue("position");p==="static"&&lr("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=et(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};pl.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};pl.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};pl.isHeadless=function(){return!1};[xE,uk,ok,hl,Xi,hf].forEach(function(t){St(pl,t)});var Zy=1e3/60,lk={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var u=lf(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),s=function(d,v){var p=$i(),g=i.averageRedrawTime,m=i.lastRedrawTime,b=[],_=i.cy.extent(),x=i.getPixelRatio();for(d||i.flushRenderedStyleQueue();;){var E=$i(),C=E-p,A=E-v;if(m<Zy){var R=Zy-(d?g:0);if(A>=e.deqFastCost*R)break}else if(d){if(C>=e.deqCost*m||C>=e.deqAvgCost*g)break}else if(A>=e.deqNoDrawCost*Zy)break;var M=e.deq(n,x,_);if(M.length>0)for(var B=0;B<M.length;B++)b.push(M[B]);else break}b.length>0&&(e.onDeqd(n,b),!d&&e.shouldRedraw(n,b,x,_)&&u())},l=e.priority||uE;i.beforeRender(s,l(n))}}}},VU=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_v;$u(this,t),this.idsByKey=new Ki,this.keyForId=new Ki,this.cachesByLvl=new Ki,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Yu(t,[{key:"getIdsFor",value:function(r){r==null&&kr("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new cl,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),u=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(u,n),this.keyForId.set(n,u)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),u=this.getKey(r);return i!==u}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,u=n.get(r);return u||(u=new Ki,n.set(r,u),i.push(r)),u}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),u=this.getCache(i,n);return u!=null&&this.updateKeyMappingFor(r),u}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),u=this.getCache(i,n);return u}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var u=this.getKey(r);this.setCache(u,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var u=this.doesEleInvalidateKey(r);return u&&this.invalidateKey(i),u||this.getNumberOfIdsForKey(i)===0}}])})(),OA=25,$d=50,hv=-4,Gx=3,ck=7.99,jU=8,GU=1024,HU=1024,KU=1024,$U=.2,YU=.8,XU=10,ZU=.15,QU=.1,WU=.9,JU=.9,eF=100,tF=1,Xs={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},rF=Pn({getKey:null,doesEleInvalidateKey:_v,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:JB,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Lc=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=rF(r);St(n,i),n.lookup=new VU(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},mn=Lc.prototype;mn.reasons=Xs;mn.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};mn.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};mn.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new cf(function(r,n){return n.reqs-r.reqs});return e};mn.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};mn.getElement=function(t,e,r,n,i){var u=this,s=this.renderer,l=s.cy.zoom(),f=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!u.allowEdgeTxrCaching&&t.isEdge()||!u.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(sE(l*r))),n<hv)n=hv;else if(l>=ck||n>Gx)return null;var d=Math.pow(2,n),v=e.h*d,p=e.w*d,g=s.eleTextBiggerThanMin(t,d);if(!this.isVisible(t,g))return null;var m=f.get(t,n);if(m&&m.invalidated&&(m.invalidated=!1,m.texture.invalidatedWidth-=m.width),m)return m;var b;if(v<=OA?b=OA:v<=$d?b=$d:b=Math.ceil(v/$d)*$d,v>KU||p>HU)return null;var _=u.getTextureQueue(b),x=_[_.length-2],E=function(){return u.recycleTexture(b,p)||u.addTexture(b,p)};x||(x=_[_.length-1]),x||(x=E()),x.width-x.usedWidth<p&&(x=E());for(var C=function(G){return G&&G.scaledLabelShown===g},A=i&&i===Xs.dequeue,R=i&&i===Xs.highQuality,M=i&&i===Xs.downscale,B,O=n+1;O<=Gx;O++){var N=f.get(t,O);if(N){B=N;break}}var L=B&&B.level===n+1?B:null,P=function(){x.context.drawImage(L.texture.canvas,L.x,0,L.width,L.height,x.usedWidth,0,p,v)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,p,b),C(L))P();else if(C(B))if(R){for(var I=B.level;I>n;I--)L=u.getElement(t,e,r,I,Xs.downscale);P()}else return u.queueElement(t,B.level-1),B;else{var V;if(!A&&!R&&!M)for(var j=n-1;j>=hv;j--){var Z=f.get(t,j);if(Z){V=Z;break}}if(C(V))return u.queueElement(t,n),V;x.context.translate(x.usedWidth,0),x.context.scale(d,d),this.drawElement(x.context,t,e,g,!1),x.context.scale(1/d,1/d),x.context.translate(-x.usedWidth,0)}return m={x:x.usedWidth,texture:x,level:n,scale:d,width:p,height:v,scaledLabelShown:g},x.usedWidth+=Math.ceil(p+jU),x.eleCaches.push(m),f.set(t,n,m),u.checkTextureFullness(x),m};mn.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};mn.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var u=hv;u<=Gx;u++){var s=r.getForCachedKey(t,u);s&&n.push(s)}var l=r.invalidate(t);if(l)for(var f=0;f<n.length;f++){var d=n[f],v=d.texture;v.invalidatedWidth+=d.width,d.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(t)}};mn.checkTextureUtility=function(t){t.invalidatedWidth>=$U*t.width&&this.retireTexture(t)};mn.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>YU&&t.fullnessChecks>=XU?Fu(r,t):t.fullnessChecks++};mn.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;Fu(n,t),t.retired=!0;for(var u=t.eleCaches,s=0;s<u.length;s++){var l=u[s];i.deleteCache(l.key,l.level)}oE(u);var f=e.getRetiredTextureQueue(r);f.push(t)};mn.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(GU,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};mn.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),u=0;u<i.length;u++){var s=i[u];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,oE(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Fu(i,s),n.push(s),s}};mn.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),u=this.getKey(t),s=i[u];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var l={eles:t.spawn().merge(t),level:e,reqs:1,key:u};n.push(l),i[u]=l}};mn.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],u=e.lookup,s=0;s<tF&&r.size()>0;s++){var l=r.pop(),f=l.key,d=l.eles[0],v=u.hasCache(d,l.level);if(n[f]=null,v)continue;i.push(l);var p=e.getBoundingBox(d);e.getElement(d,p,t,l.level,Xs.dequeue)}return i};mn.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),u=n[i];u!=null&&(u.eles.length===1?(u.reqs=iE,r.updateItem(u),r.pop(),n[i]=null):u.eles.unmerge(t))};mn.onDequeue=function(t){this.onDequeues.push(t)};mn.offDequeue=function(t){Fu(this.onDequeues,t)};mn.setupDequeueing=lk.setupDequeueing({deqRedrawThreshold:eF,deqCost:ZU,deqAvgCost:QU,deqNoDrawCost:WU,deqFastCost:JU,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var u=0;u<r.length;u++)for(var s=r[u].eles,l=0;l<s.length;l++){var f=s[l].boundingBox();if(cE(f,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var nF=1,jc=-4,qv=2,aF=3.99,iF=50,uF=50,oF=.15,sF=.1,lF=.9,cF=.9,fF=1,MA=250,dF=4e3*4e3,BA=32767,vF=!0,fk=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=$i()-2*MA,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=lf(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},uF),n.beforeRender(function(s,l){l-r.lastInvalidationTime<=MA?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var u=function(l,f){return f.reqs-l.reqs};r.layersQueue=new cf(u),r.setupDequeueing()},In=fk.prototype,qA=0,hF=Math.pow(2,53)-1;In.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),u=this.renderer.makeOffscreenCanvas(n,i),s={id:qA=++qA%hF,bb:t,level:e,width:n,height:i,canvas:u,context:u.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=s.context,f=-s.bb.x1,d=-s.bb.y1;return l.scale(r,r),l.translate(f,d),s};In.getLayers=function(t,e,r){var n=this,i=n.renderer,u=i.cy,s=u.zoom(),l=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(sE(s*e)),r<jc)r=jc;else if(s>=aF||r>qv)return null}n.validateLayersElesOrdering(r,t);var f=n.layersByLevel,d=Math.pow(2,r),v=f[r]=f[r]||[],p,g=n.levelIsComplete(r,t),m,b=function(){var P=function(J){if(n.validateLayersElesOrdering(J,t),n.levelIsComplete(J,t))return m=f[J],!0},I=function(J){if(!m)for(var G=r+J;jc<=G&&G<=qv&&!P(G);G+=J);};I(1),I(-1);for(var V=v.length-1;V>=0;V--){var j=v[V];j.invalid&&Fu(v,j)}};if(!g)b();else return v;var _=function(){if(!p){p=Wn();for(var P=0;P<t.length;P++)fP(p,t[P].boundingBox())}return p},x=function(P){P=P||{};var I=P.after;_();var V=Math.ceil(p.w*d),j=Math.ceil(p.h*d);if(V>BA||j>BA)return null;var Z=V*j;if(Z>dF)return null;var J=n.makeLayer(p,r);if(I!=null){var G=v.indexOf(I)+1;v.splice(G,0,J)}else(P.insert===void 0||P.insert)&&v.unshift(J);return J};if(n.skipping&&!l)return null;for(var E=null,C=t.length/nF,A=!l,R=0;R<t.length;R++){var M=t[R],B=M._private.rscratch,O=B.imgLayerCaches=B.imgLayerCaches||{},N=O[r];if(N){E=N;continue}if((!E||E.eles.length>=C||!iq(E.bb,M.boundingBox()))&&(E=x({insert:!0,after:E}),!E))return null;m||A?n.queueLayer(E,M):n.drawEleInLayer(E,M,r,e),E.eles.push(M),O[r]=E}return m||(A?null:v)};In.getEleLevelForLayerLevel=function(t,e){return t};In.drawEleInLayer=function(t,e,r,n){var i=this,u=this.renderer,s=t.context,l=e.boundingBox();l.w===0||l.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),u.setImgSmoothing(s,!1),u.drawCachedElement(s,e,null,null,r,vF),u.setImgSmoothing(s,!0))};In.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,u=0;u<n.length;u++){var s=n[u];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===e.length};In.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],u=-1,s=0;s<e.length;s++)if(i.eles[0]===e[s]){u=s;break}if(u<0){this.invalidateLayer(i);continue}for(var l=u,s=0;s<i.eles.length;s++)if(i.eles[s]!==e[l+s]){this.invalidateLayer(i);break}}};In.updateElementsInLayers=function(t,e){for(var r=this,n=af(t[0]),i=0;i<t.length;i++)for(var u=n?null:t[i],s=n?t[i]:t[i].ele,l=s._private.rscratch,f=l.imgLayerCaches=l.imgLayerCaches||{},d=jc;d<=qv;d++){var v=f[d];v&&(u&&r.getEleLevelForLayerLevel(v.level)!==u.level||e(v,s,u))}};In.haveLayers=function(){for(var t=this,e=!1,r=jc;r<=qv;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};In.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=$i(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,u){e.invalidateLayer(n)}))};In.invalidateLayer=function(t){if(this.lastInvalidationTime=$i(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];Fu(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var u=r[i]._private.rscratch.imgLayerCaches;u&&(u[e]=null)}}};In.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,u){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var l=0;l<s.eles.length;l++)e.queueLayer(s,s.eles[l])})};In.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};In.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,u=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(u[e.id()])return;i.push(e),u[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};In.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<fF&&r.size()!==0;){var u=r.peek();if(u.replacement){r.pop();continue}if(u.replaces&&u!==u.replaces.replacement){r.pop();continue}if(u.invalid){r.pop();continue}var s=u.elesQueue.shift();s&&(e.drawEleInLayer(u,s,u.level,t),i++),n.length===0&&n.push(!0),u.elesQueue.length===0&&(r.pop(),u.reqs=0,u.replaces&&e.applyLayerReplacement(u),e.requestRedraw())}return n};In.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var u=0;u<t.eles.length;u++){var s=t.eles[u]._private,l=s.imgLayerCaches=s.imgLayerCaches||{};l&&(l[t.level]=t)}e.requestRedraw()}};In.requestRedraw=lf(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);In.setupDequeueing=lk.setupDequeueing({deqRedrawThreshold:iF,deqCost:oF,deqAvgCost:sF,deqNoDrawCost:lF,deqFastCost:cF,deq:function(e,r){return e.dequeue(r)},onDeqd:uE,shouldRedraw:JB,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var dk={},kA;function pF(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function gF(t,e,r){for(var n,i=0;i<e.length;i++){var u=e[i];i===0&&(n=u),t.lineTo(u.x,u.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function zA(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var u=n[i];t.lineTo(u.x,u.y)}var s=r,l=r[0];t.moveTo(l.x,l.y);for(var i=1;i<s.length;i++){var u=s[i];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function yF(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var u=e,s=u[0];t.moveTo(s.x,s.y);for(var l=0;l<u.length;l++){var f=u[l];t.lineTo(f.x,f.y)}t.closePath&&t.closePath()}function mF(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}dk.arrowShapeImpl=function(t){return(kA||(kA={polygon:pF,"triangle-backcurve":gF,"triangle-tee":zA,"circle-triangle":yF,"triangle-cross":zA,circle:mF}))[t]};var pi={};pi.drawElement=function(t,e,r,n,i,u){var s=this;e.isNode()?s.drawNode(t,e,r,n,i,u):s.drawEdge(t,e,r,n,i,u)};pi.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};pi.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};pi.drawCachedElementPortion=function(t,e,r,n,i,u,s,l){var f=this,d=r.getBoundingBox(e);if(!(d.w===0||d.h===0)){var v=r.getElement(e,d,n,i,u);if(v!=null){var p=l(f,e);if(p===0)return;var g=s(f,e),m=d.x1,b=d.y1,_=d.w,x=d.h,E,C,A,R,M;if(g!==0){var B=r.getRotationPoint(e);A=B.x,R=B.y,t.translate(A,R),t.rotate(g),M=f.getImgSmoothing(t),M||f.setImgSmoothing(t,!0);var O=r.getRotationOffset(e);E=O.x,C=O.y}else E=m,C=b;var N;p!==1&&(N=t.globalAlpha,t.globalAlpha=N*p),t.drawImage(v.texture.canvas,v.x,0,v.width,v.height,E,C,_,x),p!==1&&(t.globalAlpha=N),g!==0&&(t.rotate(-g),t.translate(-A,-R),M||f.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var bF=function(){return 0},wF=function(e,r){return e.getTextAngle(r,null)},xF=function(e,r){return e.getTextAngle(r,"source")},EF=function(e,r){return e.getTextAngle(r,"target")},SF=function(e,r){return r.effectiveOpacity()},Qy=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};pi.drawCachedElement=function(t,e,r,n,i,u){var s=this,l=s.data,f=l.eleTxrCache,d=l.lblTxrCache,v=l.slbTxrCache,p=l.tlbTxrCache,g=e.boundingBox(),m=u===!0?f.reasons.highQuality:null;if(!(g.w===0||g.h===0||!e.visible())&&(!n||cE(g,n))){var b=e.isEdge(),_=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,f,r,i,m,bF,SF),(!b||!_)&&s.drawCachedElementPortion(t,e,d,r,i,m,wF,Qy),b&&!_&&(s.drawCachedElementPortion(t,e,v,r,i,m,xF,Qy),s.drawCachedElementPortion(t,e,p,r,i,m,EF,Qy)),s.drawElementOverlay(t,e)}};pi.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};pi.drawCachedElements=function(t,e,r,n){for(var i=this,u=0;u<e.length;u++){var s=e[u];i.drawCachedElement(t,s,r,n)}};pi.drawCachedNodes=function(t,e,r,n){for(var i=this,u=0;u<e.length;u++){var s=e[u];s.isNode()&&i.drawCachedElement(t,s,r,n)}};pi.drawLayeredElements=function(t,e,r,n){var i=this,u=i.data.lyrTxrCache.getLayers(e,r);if(u)for(var s=0;s<u.length;s++){var l=u[s],f=l.bb;f.w===0||f.h===0||t.drawImage(l.canvas,f.x1,f.y1,f.w,f.h)}else i.drawCachedElements(t,e,r,n)};var Zi={};Zi.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,l=e._private.rscratch;if(!(u&&!e.visible())&&!(l.badLine||l.allpts==null||isNaN(l.allpts[0]))){var f;r&&(f=r,t.translate(-f.x1,-f.y1));var d=u?e.pstyle("opacity").value:1,v=u?e.pstyle("line-opacity").value:1,p=e.pstyle("curve-style").value,g=e.pstyle("line-style").value,m=e.pstyle("width").pfValue,b=e.pstyle("line-cap").value,_=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,E=d*v,C=d*v,A=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;p==="straight-triangle"?(s.eleStrokeStyle(t,e,J),s.drawEdgeTrianglePath(e,t,l.allpts)):(t.lineWidth=m,t.lineCap=b,s.eleStrokeStyle(t,e,J),s.drawEdgePath(e,t,l.allpts,g),t.lineCap="butt")},R=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(t.lineWidth=m+_,t.lineCap=b,_>0)s.colorStrokeStyle(t,x[0],x[1],x[2],J);else{t.lineCap="butt";return}p==="straight-triangle"?s.drawEdgeTrianglePath(e,t,l.allpts):(s.drawEdgePath(e,t,l.allpts,g),t.lineCap="butt")},M=function(){i&&s.drawEdgeOverlay(t,e)},B=function(){i&&s.drawEdgeUnderlay(t,e)},O=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C;s.drawArrowheads(t,e,J)},N=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var L=e.pstyle("ghost").value==="yes";if(L){var P=e.pstyle("ghost-offset-x").pfValue,I=e.pstyle("ghost-offset-y").pfValue,V=e.pstyle("ghost-opacity").value,j=E*V;t.translate(P,I),A(j),O(j),t.translate(-P,-I)}else R();B(),A(),O(),M(),N(),r&&t.translate(f.x1,f.y1)}};var vk=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var u=this,s=u.usePaths(),l=n._private.rscratch,f=n.pstyle("".concat(e,"-padding")).pfValue,d=2*f,v=n.pstyle("".concat(e,"-color")).value;r.lineWidth=d,l.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",u.colorStrokeStyle(r,v[0],v[1],v[2],i),u.drawEdgePath(n,r,l.allpts,"solid")}}}};Zi.drawEdgeOverlay=vk("overlay");Zi.drawEdgeUnderlay=vk("underlay");Zi.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,u=e,s,l=!1,f=this.usePaths(),d=t.pstyle("line-dash-pattern").pfValue,v=t.pstyle("line-dash-offset").pfValue;if(f){var p=r.join("$"),g=i.pathCacheKey&&i.pathCacheKey===p;g?(s=e=i.pathCache,l=!0):(s=e=new Path2D,i.pathCacheKey=p,i.pathCache=s)}if(u.setLineDash)switch(n){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash(d),u.lineDashOffset=v;break;case"solid":u.setLineDash([]);break}if(!l&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var m=2;m+3<r.length;m+=4)e.quadraticCurveTo(r[m],r[m+1],r[m+2],r[m+3]);break;case"straight":case"haystack":for(var b=2;b+1<r.length;b+=2)e.lineTo(r[b],r[b+1]);break;case"segments":if(i.isRound){var _=da(i.roundCorners),x;try{for(_.s();!(x=_.n()).done;){var E=x.value;tk(e,E)}}catch(A){_.e(A)}finally{_.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var C=2;C+1<r.length;C+=2)e.lineTo(r[C],r[C+1]);break}e=u,f?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};Zi.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var u=[r[i+2]-r[i],r[i+3]-r[i+1]],s=Math.sqrt(u[0]*u[0]+u[1]*u[1]),l=[u[1]/s,-u[0]/s],f=[l[0]*n/2,l[1]*n/2];e.beginPath(),e.moveTo(r[i]-f[0],r[i+1]-f[1]),e.lineTo(r[i]+f[0],r[i+1]+f[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};Zi.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Zi.drawArrowhead=function(t,e,r,n,i,u,s){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(u)||u==null)){var l=this,f=e.pstyle(r+"-arrow-shape").value;if(f!=="none"){var d=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(r+"-arrow-fill").value,p=e.pstyle("width").pfValue,g=e.pstyle(r+"-arrow-width"),m=g.value==="match-line"?p:g.pfValue;g.units==="%"&&(m*=p);var b=e.pstyle("opacity").value;s===void 0&&(s=b);var _=t.globalCompositeOperation;(s!==1||v==="hollow")&&(t.globalCompositeOperation="destination-out",l.colorFillStyle(t,255,255,255,1),l.colorStrokeStyle(t,255,255,255,1),l.drawArrowShape(e,t,d,p,f,m,n,i,u),t.globalCompositeOperation=_);var x=e.pstyle(r+"-arrow-color").value;l.colorFillStyle(t,x[0],x[1],x[2],s),l.colorStrokeStyle(t,x[0],x[1],x[2],s),l.drawArrowShape(e,t,v,p,f,m,n,i,u)}}};Zi.drawArrowShape=function(t,e,r,n,i,u,s,l,f){var d=this,v=this.usePaths()&&i!=="triangle-cross",p=!1,g,m=e,b={x:s,y:l},_=t.pstyle("arrow-scale").value,x=this.getArrowWidth(n,_),E=d.arrowShapes[i];if(v){var C=d.arrowPathCache=d.arrowPathCache||[],A=zo(i),R=C[A];R!=null?(g=e=R,p=!0):(g=e=new Path2D,C[A]=g)}p||(e.beginPath&&e.beginPath(),v?E.draw(e,1,0,{x:0,y:0},1):E.draw(e,x,f,b,n),e.closePath&&e.closePath()),e=m,v&&(e.translate(s,l),e.rotate(f),e.scale(x,x)),(r==="filled"||r==="both")&&(v?e.fill(g):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=u/(v?x:1),e.lineJoin="miter",v?e.stroke(g):e.stroke()),v&&(e.scale(1/x,1/x),e.rotate(-f),e.translate(-s,-l))};var TE={};TE.safeDrawImage=function(t,e,r,n,i,u,s,l,f,d){if(!(i<=0||u<=0||f<=0||d<=0))try{t.drawImage(e,r,n,i,u,s,l,f,d)}catch(v){lr(v)}};TE.drawInscribedImage=function(t,e,r,n,i){var u=this,s=r.position(),l=s.x,f=s.y,d=r.cy().style(),v=d.getIndexedStyle.bind(d),p=v(r,"background-fit","value",n),g=v(r,"background-repeat","value",n),m=r.width(),b=r.height(),_=r.padding()*2,x=m+(v(r,"background-width-relative-to","value",n)==="inner"?0:_),E=b+(v(r,"background-height-relative-to","value",n)==="inner"?0:_),C=r._private.rscratch,A=v(r,"background-clip","value",n),R=A==="node",M=v(r,"background-image-opacity","value",n)*i,B=v(r,"background-image-smoothing","value",n),O=r.pstyle("corner-radius").value;O!=="auto"&&(O=r.pstyle("corner-radius").pfValue);var N=e.width||e.cachedW,L=e.height||e.cachedH;(N==null||L==null)&&(document.body.appendChild(e),N=e.cachedW=e.width||e.offsetWidth,L=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var P=N,I=L;if(v(r,"background-width","value",n)!=="auto"&&(v(r,"background-width","units",n)==="%"?P=v(r,"background-width","pfValue",n)*x:P=v(r,"background-width","pfValue",n)),v(r,"background-height","value",n)!=="auto"&&(v(r,"background-height","units",n)==="%"?I=v(r,"background-height","pfValue",n)*E:I=v(r,"background-height","pfValue",n)),!(P===0||I===0)){if(p==="contain"){var V=Math.min(x/P,E/I);P*=V,I*=V}else if(p==="cover"){var V=Math.max(x/P,E/I);P*=V,I*=V}var j=l-x/2,Z=v(r,"background-position-x","units",n),J=v(r,"background-position-x","pfValue",n);Z==="%"?j+=(x-P)*J:j+=J;var G=v(r,"background-offset-x","units",n),$=v(r,"background-offset-x","pfValue",n);G==="%"?j+=(x-P)*$:j+=$;var W=f-E/2,oe=v(r,"background-position-y","units",n),se=v(r,"background-position-y","pfValue",n);oe==="%"?W+=(E-I)*se:W+=se;var U=v(r,"background-offset-y","units",n),X=v(r,"background-offset-y","pfValue",n);U==="%"?W+=(E-I)*X:W+=X,C.pathCache&&(j-=l,W-=f,l=0,f=0);var ue=t.globalAlpha;t.globalAlpha=M;var Y=u.getImgSmoothing(t),ee=!1;if(B==="no"&&Y?(u.setImgSmoothing(t,!1),ee=!0):B==="yes"&&!Y&&(u.setImgSmoothing(t,!0),ee=!0),g==="no-repeat")R&&(t.save(),C.pathCache?t.clip(C.pathCache):(u.nodeShapes[u.getNodeShape(r)].draw(t,l,f,x,E,O,C),t.clip())),u.safeDrawImage(t,e,0,0,N,L,j,W,P,I),R&&t.restore();else{var re=t.createPattern(e,g);t.fillStyle=re,u.nodeShapes[u.getNodeShape(r)].draw(t,l,f,x,E,O,C),t.translate(j,W),t.fill(),t.translate(-j,-W)}t.globalAlpha=ue,ee&&u.setImgSmoothing(t,Y)}};var Fo={};Fo.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(sE(r*n));e=Math.pow(2,i)}var u=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(u<s)};Fo.drawElementText=function(t,e,r,n,i){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(u&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var l=e.pstyle("label");if(!l||!l.value)return;var f=s.getLabelJustification(e);t.textAlign=f,t.textBaseline="bottom"}else{var d=e.element()._private.rscratch.badLine,v=e.pstyle("label"),p=e.pstyle("source-label"),g=e.pstyle("target-label");if(d||(!v||!v.value)&&(!p||!p.value)&&(!g||!g.value))return;t.textAlign="center",t.textBaseline="bottom"}var m=!r,b;r&&(b=r,t.translate(-b.x1,-b.y1)),i==null?(s.drawText(t,e,null,m,u),e.isEdge()&&(s.drawText(t,e,"source",m,u),s.drawText(t,e,"target",m,u))):s.drawText(t,e,i,m,u),r&&t.translate(b.x1,b.y1)};Fo.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Fo.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",u=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,l=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,f=e.pstyle("text-outline-opacity").value*l,d=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+i+" "+u,t.lineJoin="round",this.colorFillStyle(t,d[0],d[1],d[2],l),this.colorStrokeStyle(t,v[0],v[1],v[2],f)};function TF(t,e,r,n,i){var u=Math.min(n,i),s=u/2,l=e+n/2,f=r+i/2;t.beginPath(),t.arc(l,f,s,0,Math.PI*2),t.closePath()}function NA(t,e,r,n,i){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=Math.min(u,n/2,i/2);t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.quadraticCurveTo(e+n,r,e+n,r+s),t.lineTo(e+n,r+i-s),t.quadraticCurveTo(e+n,r+i,e+n-s,r+i),t.lineTo(e+s,r+i),t.quadraticCurveTo(e,r+i,e,r+i-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath()}Fo.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,u=e?e+"-":"",s=t.pstyle(u+"text-rotation");if(s.strValue==="autorotate"){var l=la(i,"labelAngle",e);r=t.isEdge()?l:0}else s.strValue==="none"?r=0:r=s.pfValue;return r};Fo.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=e._private,s=u.rscratch,l=i?e.effectiveOpacity():1;if(!(i&&(l===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var f=la(s,"labelX",r),d=la(s,"labelY",r),v,p,g=this.getLabelText(e,r);if(g!=null&&g!==""&&!isNaN(f)&&!isNaN(d)){this.setupTextStyle(t,e,i);var m=r?r+"-":"",b=la(s,"labelWidth",r),_=la(s,"labelHeight",r),x=e.pstyle(m+"text-margin-x").pfValue,E=e.pstyle(m+"text-margin-y").pfValue,C=e.isEdge(),A=e.pstyle("text-halign").value,R=e.pstyle("text-valign").value;C&&(A="center",R="center"),f+=x,d+=E;var M;switch(n?M=this.getTextAngle(e,r):M=0,M!==0&&(v=f,p=d,t.translate(v,p),t.rotate(M),f=0,d=0),R){case"top":break;case"center":d+=_/2;break;case"bottom":d+=_;break}var B=e.pstyle("text-background-opacity").value,O=e.pstyle("text-border-opacity").value,N=e.pstyle("text-border-width").pfValue,L=e.pstyle("text-background-padding").pfValue,P=e.pstyle("text-background-shape").strValue,I=P==="round-rectangle"||P==="roundrectangle",V=P==="circle",j=2;if(B>0||N>0&&O>0){var Z=t.fillStyle,J=t.strokeStyle,G=t.lineWidth,$=e.pstyle("text-background-color").value,W=e.pstyle("text-border-color").value,oe=e.pstyle("text-border-style").value,se=B>0,U=N>0&&O>0,X=f-L;switch(A){case"left":X-=b;break;case"center":X-=b/2;break}var ue=d-_-L,Y=b+2*L,ee=_+2*L;if(se&&(t.fillStyle="rgba(".concat($[0],",").concat($[1],",").concat($[2],",").concat(B*l,")")),U&&(t.strokeStyle="rgba(".concat(W[0],",").concat(W[1],",").concat(W[2],",").concat(O*l,")"),t.lineWidth=N,t.setLineDash))switch(oe){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=N/4,t.setLineDash([]);break;case"solid":default:t.setLineDash([]);break}if(I?(t.beginPath(),NA(t,X,ue,Y,ee,j)):V?(t.beginPath(),TF(t,X,ue,Y,ee)):(t.beginPath(),t.rect(X,ue,Y,ee)),se&&t.fill(),U&&t.stroke(),U&&oe==="double"){var re=N/2;t.beginPath(),I?NA(t,X+re,ue+re,Y-2*re,ee-2*re,j):t.rect(X+re,ue+re,Y-2*re,ee-2*re),t.stroke()}t.fillStyle=Z,t.strokeStyle=J,t.lineWidth=G,t.setLineDash&&t.setLineDash([])}var de=2*e.pstyle("text-outline-width").pfValue;if(de>0&&(t.lineWidth=de),e.pstyle("text-wrap").value==="wrap"){var ze=la(s,"labelWrapCachedLines",r),ie=la(s,"labelLineHeight",r),he=b/2,be=this.getLabelJustification(e);switch(be==="auto"||(A==="left"?be==="left"?f+=-b:be==="center"&&(f+=-he):A==="center"?be==="left"?f+=-he:be==="right"&&(f+=he):A==="right"&&(be==="center"?f+=he:be==="right"&&(f+=b))),R){case"top":d-=(ze.length-1)*ie;break;case"center":case"bottom":d-=(ze.length-1)*ie;break}for(var ge=0;ge<ze.length;ge++)de>0&&t.strokeText(ze[ge],f,d),t.fillText(ze[ge],f,d),d+=ie}else de>0&&t.strokeText(g,f,d),t.fillText(g,f,d);M!==0&&(t.rotate(-M),t.translate(-v,-p))}}};var Zu={};Zu.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,l,f,d=e._private,v=d.rscratch,p=e.position();if(!(!et(p.x)||!et(p.y))&&!(u&&!e.visible())){var g=u?e.effectiveOpacity():1,m=s.usePaths(),b,_=!1,x=e.padding();l=e.width()+2*x,f=e.height()+2*x;var E;r&&(E=r,t.translate(-E.x1,-E.y1));for(var C=e.pstyle("background-image"),A=C.value,R=new Array(A.length),M=new Array(A.length),B=0,O=0;O<A.length;O++){var N=A[O],L=R[O]=N!=null&&N!=="none";if(L){var P=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",O);B++,M[O]=s.getCachedImage(N,P,function(){d.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var I=e.pstyle("background-blacken").value,V=e.pstyle("border-width").pfValue,j=e.pstyle("background-opacity").value*g,Z=e.pstyle("border-color").value,J=e.pstyle("border-style").value,G=e.pstyle("border-join").value,$=e.pstyle("border-cap").value,W=e.pstyle("border-position").value,oe=e.pstyle("border-dash-pattern").pfValue,se=e.pstyle("border-dash-offset").pfValue,U=e.pstyle("border-opacity").value*g,X=e.pstyle("outline-width").pfValue,ue=e.pstyle("outline-color").value,Y=e.pstyle("outline-style").value,ee=e.pstyle("outline-opacity").value*g,re=e.pstyle("outline-offset").value,de=e.pstyle("corner-radius").value;de!=="auto"&&(de=e.pstyle("corner-radius").pfValue);var ze=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;s.eleFillStyle(t,e,at)},ie=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U;s.colorStrokeStyle(t,Z[0],Z[1],Z[2],at)},he=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ee;s.colorStrokeStyle(t,ue[0],ue[1],ue[2],at)},be=function(at,Ne,K,we){var Me=s.nodePathCache=s.nodePathCache||[],pe=WB(K==="polygon"?K+","+we.join(","):K,""+Ne,""+at,""+de),Pe=Me[pe],nt,je=!1;return Pe!=null?(nt=Pe,je=!0,v.pathCache=nt):(nt=new Path2D,Me[pe]=v.pathCache=nt),{path:nt,cacheHit:je}},ge=e.pstyle("shape").strValue,Be=e.pstyle("shape-polygon-points").pfValue;if(m){t.translate(p.x,p.y);var Ge=be(l,f,ge,Be);b=Ge.path,_=Ge.cacheHit}var He=function(){if(!_){var at=p;m&&(at={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(b||t,at.x,at.y,l,f,de,v)}m?t.fill(b):t.fill()},Ct=function(){for(var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,K=d.backgrounding,we=0,Me=0;Me<M.length;Me++){var pe=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Me);if(Ne&&pe==="over"||!Ne&&pe==="inside"){we++;continue}R[Me]&&M[Me].complete&&!M[Me].error&&(we++,s.drawInscribedImage(t,M[Me],e,Me,at))}d.backgrounding=we!==B,K!==d.backgrounding&&e.updateStyle(!1)},Ze=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;s.hasPie(e)&&(s.drawPie(t,e,Ne),at&&(m||s.nodeShapes[s.getNodeShape(e)].draw(t,p.x,p.y,l,f,de,v)))},ht=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;s.hasStripe(e)&&(t.save(),m?t.clip(v.pathCache):(s.nodeShapes[s.getNodeShape(e)].draw(t,p.x,p.y,l,f,de,v),t.clip()),s.drawStripe(t,e,Ne),t.restore(),at&&(m||s.nodeShapes[s.getNodeShape(e)].draw(t,p.x,p.y,l,f,de,v)))},ct=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,Ne=(I>0?I:-I)*at,K=I>0?0:255;I!==0&&(s.colorFillStyle(t,K,K,K,Ne),m?t.fill(b):t.fill())},Qe=function(){if(V>0){if(t.lineWidth=V,t.lineCap=$,t.lineJoin=G,t.setLineDash)switch(J){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(oe),t.lineDashOffset=se;break;case"solid":case"double":t.setLineDash([]);break}if(W!=="center"){if(t.save(),t.lineWidth*=2,W==="inside")m?t.clip(b):t.clip();else{var at=new Path2D;at.rect(-l/2-V,-f/2-V,l+2*V,f+2*V),at.addPath(b),t.clip(at,"evenodd")}m?t.stroke(b):t.stroke(),t.restore()}else m?t.stroke(b):t.stroke();if(J==="double"){t.lineWidth=V/3;var Ne=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(b):t.stroke(),t.globalCompositeOperation=Ne}t.setLineDash&&t.setLineDash([])}},tt=function(){if(X>0){if(t.lineWidth=X,t.lineCap="butt",t.setLineDash)switch(Y){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var at=p;m&&(at={x:0,y:0});var Ne=s.getNodeShape(e),K=V;W==="inside"&&(K=0),W==="outside"&&(K*=2);var we=(l+K+(X+re))/l,Me=(f+K+(X+re))/f,pe=l*we,Pe=f*Me,nt=s.nodeShapes[Ne].points,je;if(m){var ke=be(pe,Pe,Ne,nt);je=ke.path}if(Ne==="ellipse")s.drawEllipsePath(je||t,at.x,at.y,pe,Pe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Ne)){var it=0,gt=0,_t=0;Ne==="round-diamond"?it=(K+re+X)*1.4:Ne==="round-heptagon"?(it=(K+re+X)*1.075,_t=-(K/2+re+X)/35):Ne==="round-hexagon"?it=(K+re+X)*1.12:Ne==="round-pentagon"?(it=(K+re+X)*1.13,_t=-(K/2+re+X)/15):Ne==="round-tag"?(it=(K+re+X)*1.12,gt=(K/2+X+re)*.07):Ne==="round-triangle"&&(it=(K+re+X)*(Math.PI/2),_t=-(K+re/2+X)/Math.PI),it!==0&&(we=(l+it)/l,pe=l*we,["round-hexagon","round-tag"].includes(Ne)||(Me=(f+it)/f,Pe=f*Me)),de=de==="auto"?sq(pe,Pe):de;for(var At=pe/2,lt=Pe/2,It=de+(K+X+re)/2,zt=new Array(nt.length/2),ir=new Array(nt.length/2),Yt=0;Yt<nt.length/2;Yt++)zt[Yt]={x:at.x+gt+At*nt[Yt*2],y:at.y+_t+lt*nt[Yt*2+1]};var Hr,dr,Bt,Ut,Nr=zt.length;for(dr=zt[Nr-1],Hr=0;Hr<Nr;Hr++)Bt=zt[Hr%Nr],Ut=zt[(Hr+1)%Nr],ir[Hr]=EE(dr,Bt,Ut,It),dr=Bt,Bt=Ut;s.drawRoundPolygonPath(je||t,at.x+gt,at.y+_t,l*we,f*Me,nt,ir)}else if(["roundrectangle","round-rectangle"].includes(Ne))de=de==="auto"?Vu(pe,Pe):de,s.drawRoundRectanglePath(je||t,at.x,at.y,pe,Pe,de+(K+X+re)/2);else if(["cutrectangle","cut-rectangle"].includes(Ne))de=de==="auto"?fE():de,s.drawCutRectanglePath(je||t,at.x,at.y,pe,Pe,null,de+(K+X+re)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Ne))de=de==="auto"?Vu(pe,Pe):de,s.drawBottomRoundRectanglePath(je||t,at.x,at.y,pe,Pe,de+(K+X+re)/2);else if(Ne==="barrel")s.drawBarrelPath(je||t,at.x,at.y,pe,Pe);else if(Ne.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Ne)){var Dn=(K+X+re)/l;nt=Cv(Av(nt,Dn)),s.drawPolygonPath(je||t,at.x,at.y,l,f,nt)}else{var vr=(K+X+re)/l;nt=Cv(Av(nt,-vr)),s.drawPolygonPath(je||t,at.x,at.y,l,f,nt)}if(m?t.stroke(je):t.stroke(),Y==="double"){t.lineWidth=K/3;var On=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(je):t.stroke(),t.globalCompositeOperation=On}t.setLineDash&&t.setLineDash([])}},ot=function(){i&&s.drawNodeOverlay(t,e,p,l,f)},st=function(){i&&s.drawNodeUnderlay(t,e,p,l,f)},rt=function(){s.drawElementText(t,e,null,n)},xt=e.pstyle("ghost").value==="yes";if(xt){var Dt=e.pstyle("ghost-offset-x").pfValue,qt=e.pstyle("ghost-offset-y").pfValue,Mt=e.pstyle("ghost-opacity").value,Pt=Mt*g;t.translate(Dt,qt),he(),tt(),ze(Mt*j),He(),Ct(Pt,!0),ie(Mt*U),Qe(),Ze(I!==0||V!==0),ht(I!==0||V!==0),Ct(Pt,!1),ct(Pt),t.translate(-Dt,-qt)}m&&t.translate(-p.x,-p.y),st(),m&&t.translate(p.x,p.y),he(),tt(),ze(),He(),Ct(g,!0),ie(),Qe(),Ze(I!==0||V!==0),ht(I!==0||V!==0),Ct(g,!1),ct(),m&&t.translate(-p.x,-p.y),rt(),ot(),r&&t.translate(E.x1,E.y1)}};var hk=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,u,s){var l=this;if(n.visible()){var f=n.pstyle("".concat(e,"-padding")).pfValue,d=n.pstyle("".concat(e,"-opacity")).value,v=n.pstyle("".concat(e,"-color")).value,p=n.pstyle("".concat(e,"-shape")).value,g=n.pstyle("".concat(e,"-corner-radius")).value;if(d>0){if(i=i||n.position(),u==null||s==null){var m=n.padding();u=n.width()+2*m,s=n.height()+2*m}l.colorFillStyle(r,v[0],v[1],v[2],d),l.nodeShapes[p].draw(r,i.x,i.y,u+f*2,s+f*2,g),r.fill()}}}};Zu.drawNodeOverlay=hk("overlay");Zu.drawNodeUnderlay=hk("underlay");Zu.hasPie=function(t){return t=t[0],t._private.hasPie};Zu.hasStripe=function(t){return t=t[0],t._private.hasStripe};Zu.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),u=e.pstyle("pie-size"),s=e.pstyle("pie-hole"),l=e.pstyle("pie-start-angle").pfValue,f=n.x,d=n.y,v=e.width(),p=e.height(),g=Math.min(v,p)/2,m,b=0,_=this.usePaths();if(_&&(f=0,d=0),u.units==="%"?g=g*u.pfValue:u.pfValue!==void 0&&(g=u.pfValue/2),s.units==="%"?m=g*s.pfValue:s.pfValue!==void 0&&(m=s.pfValue/2),!(m>=g))for(var x=1;x<=i.pieBackgroundN;x++){var E=e.pstyle("pie-"+x+"-background-size").value,C=e.pstyle("pie-"+x+"-background-color").value,A=e.pstyle("pie-"+x+"-background-opacity").value*r,R=E/100;R+b>1&&(R=1-b);var M=1.5*Math.PI+2*Math.PI*b;M+=l;var B=2*Math.PI*R,O=M+B;E===0||b>=1||b+R>1||(m===0?(t.beginPath(),t.moveTo(f,d),t.arc(f,d,g,M,O),t.closePath()):(t.beginPath(),t.arc(f,d,g,M,O),t.arc(f,d,m,O,M,!0),t.closePath()),this.colorFillStyle(t,C[0],C[1],C[2],A),t.fill(),b+=R)}};Zu.drawStripe=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),u=n.x,s=n.y,l=e.width(),f=e.height(),d=0,v=this.usePaths();t.save();var p=e.pstyle("stripe-direction").value,g=e.pstyle("stripe-size");switch(p){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var m=l,b=f;g.units==="%"?(m=m*g.pfValue,b=b*g.pfValue):g.pfValue!==void 0&&(m=g.pfValue,b=g.pfValue),v&&(u=0,s=0),s-=m/2,u-=b/2;for(var _=1;_<=i.stripeBackgroundN;_++){var x=e.pstyle("stripe-"+_+"-background-size").value,E=e.pstyle("stripe-"+_+"-background-color").value,C=e.pstyle("stripe-"+_+"-background-opacity").value*r,A=x/100;A+d>1&&(A=1-d),!(x===0||d>=1||d+A>1)&&(t.beginPath(),t.rect(u,s+b*d,m,b*A),t.closePath(),this.colorFillStyle(t,E[0],E[1],E[2],C),t.fill(),d+=A)}t.restore()};var Jn={},_F=100;Jn.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Jn.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Jn.createGradientStyleFor=function(t,e,r,n,i){var u,s=this.usePaths(),l=r.pstyle(e+"-gradient-stop-colors").value,f=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var d=r.sourceEndpoint(),v=r.targetEndpoint(),p=r.midpoint(),g=No(d,p),m=No(v,p);u=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,m))}else{var b=s?{x:0,y:0}:r.position(),_=r.paddedWidth(),x=r.paddedHeight();u=t.createRadialGradient(b.x,b.y,0,b.x,b.y,Math.max(_,x))}else if(r.isEdge()){var E=r.sourceEndpoint(),C=r.targetEndpoint();u=t.createLinearGradient(E.x,E.y,C.x,C.y)}else{var A=s?{x:0,y:0}:r.position(),R=r.paddedWidth(),M=r.paddedHeight(),B=R/2,O=M/2,N=r.pstyle("background-gradient-direction").value;switch(N){case"to-bottom":u=t.createLinearGradient(A.x,A.y-O,A.x,A.y+O);break;case"to-top":u=t.createLinearGradient(A.x,A.y+O,A.x,A.y-O);break;case"to-left":u=t.createLinearGradient(A.x+B,A.y,A.x-B,A.y);break;case"to-right":u=t.createLinearGradient(A.x-B,A.y,A.x+B,A.y);break;case"to-bottom-right":case"to-right-bottom":u=t.createLinearGradient(A.x-B,A.y-O,A.x+B,A.y+O);break;case"to-top-right":case"to-right-top":u=t.createLinearGradient(A.x-B,A.y+O,A.x+B,A.y-O);break;case"to-bottom-left":case"to-left-bottom":u=t.createLinearGradient(A.x+B,A.y-O,A.x-B,A.y+O);break;case"to-top-left":case"to-left-top":u=t.createLinearGradient(A.x+B,A.y+O,A.x-B,A.y-O);break}}if(!u)return null;for(var L=f.length===l.length,P=l.length,I=0;I<P;I++)u.addColorStop(L?f[I]:I/(P-1),"rgba("+l[I][0]+","+l[I][1]+","+l[I][2]+","+i+")");return u};Jn.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};Jn.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};Jn.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};Jn.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};Jn.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};Jn.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};Jn.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],u=n[3],s=e.getPixelRatio(),l=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=l);var f=i*s,d=u*s,v;if(!(f===e.canvasWidth&&d===e.canvasHeight)){e.fontCaches=null;var p=r.canvasContainer;p.style.width=i+"px",p.style.height=u+"px";for(var g=0;g<e.CANVAS_LAYERS;g++)v=r.canvases[g],v.width=f,v.height=d,v.style.width=i+"px",v.style.height=u+"px";for(var g=0;g<e.BUFFER_COUNT;g++)v=r.bufferCanvases[g],v.width=f,v.height=d,v.style.width=i+"px",v.style.height=u+"px";e.textureMult=1,s<=1&&(v=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=f*e.textureMult,v.height=d*e.textureMult),e.canvasWidth=f,e.canvasHeight=d,e.pixelRatio=s}};Jn.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Jn.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};Jn.render=function(t){var e=this;t=t||rq();var r=e.cy,n=t.forcedContext,i=t.drawAllLayers,u=t.drawOnlyNodeLayer,s=t.forcedZoom,l=t.forcedPan,f=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,d=e.data,v=d.canvasNeedsRedraw,p=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),g=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,m=e.motionBlurPxRatio,b=r.hasCompoundNodes(),_=e.hoverData.draggingEles,x=!!(e.hoverData.selecting||e.touchData.selecting);g=g&&!n&&e.motionBlurEnabled&&!x;var E=g;n||(e.prevPxRatio!==f&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=f),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),g&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(E=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!p&&(v[e.NODE]=!0,v[e.SELECT_BOX]=!0);var C=r.style(),A=r.zoom(),R=s!==void 0?s:A,M=r.pan(),B={x:M.x,y:M.y},O={zoom:A,pan:{x:M.x,y:M.y}},N=e.prevViewport,L=N===void 0||O.zoom!==N.zoom||O.pan.x!==N.pan.x||O.pan.y!==N.pan.y;!L&&!(_&&!b)&&(e.motionBlurPxRatio=1),l&&(B=l),R*=f,B.x*=f,B.y*=f;var P=e.getCachedZSortedEles();function I(ie,he,be,ge,Be){var Ge=ie.globalCompositeOperation;ie.globalCompositeOperation="destination-out",e.colorFillStyle(ie,255,255,255,e.motionBlurTransparency),ie.fillRect(he,be,ge,Be),ie.globalCompositeOperation=Ge}function V(ie,he){var be,ge,Be,Ge;!e.clearingMotionBlur&&(ie===d.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ie===d.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(be={x:M.x*m,y:M.y*m},ge=A*m,Be=e.canvasWidth*m,Ge=e.canvasHeight*m):(be=B,ge=R,Be=e.canvasWidth,Ge=e.canvasHeight),ie.setTransform(1,0,0,1,0,0),he==="motionBlur"?I(ie,0,0,Be,Ge):!n&&(he===void 0||he)&&ie.clearRect(0,0,Be,Ge),i||(ie.translate(be.x,be.y),ie.scale(ge,ge)),l&&ie.translate(l.x,l.y),s&&ie.scale(s,s)}if(p||(e.textureDrawLastFrame=!1),p){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var j=e.data.bufferContexts[e.TEXTURE_BUFFER];j.setTransform(1,0,0,1,0,0),j.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:j,drawOnlyNodeLayer:!0,forcedPxRatio:f*e.textureMult});var O=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};O.mpan={x:(0-O.pan.x)/O.zoom,y:(0-O.pan.y)/O.zoom}}v[e.DRAG]=!1,v[e.NODE]=!1;var Z=d.contexts[e.NODE],J=e.textureCache.texture,O=e.textureCache.viewport;Z.setTransform(1,0,0,1,0,0),g?I(Z,0,0,O.width,O.height):Z.clearRect(0,0,O.width,O.height);var G=C.core("outside-texture-bg-color").value,$=C.core("outside-texture-bg-opacity").value;e.colorFillStyle(Z,G[0],G[1],G[2],$),Z.fillRect(0,0,O.width,O.height);var A=r.zoom();V(Z,!1),Z.clearRect(O.mpan.x,O.mpan.y,O.width/O.zoom/f,O.height/O.zoom/f),Z.drawImage(J,O.mpan.x,O.mpan.y,O.width/O.zoom/f,O.height/O.zoom/f)}else e.textureOnViewport&&!n&&(e.textureCache=null);var W=r.extent(),oe=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),se=e.hideEdgesOnViewport&&oe,U=[];if(U[e.NODE]=!v[e.NODE]&&g&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,U[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),U[e.DRAG]=!v[e.DRAG]&&g&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,U[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),v[e.NODE]||i||u||U[e.NODE]){var X=g&&!U[e.NODE]&&m!==1,Z=n||(X?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:d.contexts[e.NODE]),ue=g&&!X?"motionBlur":void 0;V(Z,ue),se?e.drawCachedNodes(Z,P.nondrag,f,W):e.drawLayeredElements(Z,P.nondrag,f,W),e.debug&&e.drawDebugPoints(Z,P.nondrag),!i&&!g&&(v[e.NODE]=!1)}if(!u&&(v[e.DRAG]||i||U[e.DRAG])){var X=g&&!U[e.DRAG]&&m!==1,Z=n||(X?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:d.contexts[e.DRAG]);V(Z,g&&!X?"motionBlur":void 0),se?e.drawCachedNodes(Z,P.drag,f,W):e.drawCachedElements(Z,P.drag,f,W),e.debug&&e.drawDebugPoints(Z,P.drag),!i&&!g&&(v[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,V),g&&m!==1){var Y=d.contexts[e.NODE],ee=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],re=d.contexts[e.DRAG],de=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],ze=function(he,be,ge){he.setTransform(1,0,0,1,0,0),ge||!E?he.clearRect(0,0,e.canvasWidth,e.canvasHeight):I(he,0,0,e.canvasWidth,e.canvasHeight);var Be=m;he.drawImage(be,0,0,e.canvasWidth*Be,e.canvasHeight*Be,0,0,e.canvasWidth,e.canvasHeight)};(v[e.NODE]||U[e.NODE])&&(ze(Y,ee,U[e.NODE]),v[e.NODE]=!1),(v[e.DRAG]||U[e.DRAG])&&(ze(re,de,U[e.DRAG]),v[e.DRAG]=!1)}e.prevViewport=O,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),g&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!p,e.mbFrames=0,v[e.NODE]=!0,v[e.DRAG]=!0,e.redraw()},_F)),n||r.emit("render")};var _c;Jn.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,i=r.data,u=n.style(),s=t.drawOnlyNodeLayer,l=t.drawAllLayers,f=i.canvasNeedsRedraw,d=t.forcedContext;if(r.showFps||!s&&f[r.SELECT_BOX]&&!l){var v=d||i.contexts[r.SELECT_BOX];if(e(v),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var p=r.cy.zoom(),g=u.core("selection-box-border-width").value/p;v.lineWidth=g,v.fillStyle="rgba("+u.core("selection-box-color").value[0]+","+u.core("selection-box-color").value[1]+","+u.core("selection-box-color").value[2]+","+u.core("selection-box-opacity").value+")",v.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),g>0&&(v.strokeStyle="rgba("+u.core("selection-box-border-color").value[0]+","+u.core("selection-box-border-color").value[1]+","+u.core("selection-box-border-color").value[2]+","+u.core("selection-box-opacity").value+")",v.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){var p=r.cy.zoom(),m=i.bgActivePosistion;v.fillStyle="rgba("+u.core("active-bg-color").value[0]+","+u.core("active-bg-color").value[1]+","+u.core("active-bg-color").value[2]+","+u.core("active-bg-opacity").value+")",v.beginPath(),v.arc(m.x,m.y,u.core("active-bg-size").pfValue/p,0,2*Math.PI),v.fill()}var b=r.lastRedrawTime;if(r.showFps&&b){b=Math.round(b);var _=Math.round(1e3/b),x="1 frame = "+b+" ms = "+_+" fps";if(v.setTransform(1,0,0,1,0,0),v.fillStyle="rgba(255, 0, 0, 0.75)",v.strokeStyle="rgba(255, 0, 0, 0.75)",v.font="30px Arial",!_c){var E=v.measureText(x);_c=E.actualBoundingBoxAscent}v.fillText(x,0,_c);var C=60;v.strokeRect(0,_c+10,250,20),v.fillRect(0,_c+10,250*Math.min(_/C,1),20)}l||(f[r.SELECT_BOX]=!1)}};function LA(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function CF(t,e,r){var n=LA(t,t.VERTEX_SHADER,e),i=LA(t,t.FRAGMENT_SHADER,r),u=t.createProgram();if(t.attachShader(u,n),t.attachShader(u,i),t.linkProgram(u),!t.getProgramParameter(u,t.LINK_STATUS))throw new Error("Could not initialize shaders");return u}function AF(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function _E(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function RF(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function DF(t,e,r,n,i){var u=n*r+e.x,s=i*r+e.y;return s=Math.round(t.canvasHeight-s),[u,s]}function OF(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function MF(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Co(t,e,r){var n=t[0]/255,i=t[1]/255,u=t[2]/255,s=e,l=r||new Array(4);return l[0]=n*s,l[1]=i*s,l[2]=u*s,l[3]=s,l}function Vs(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function BF(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function qF(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function pk(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function gk(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function kF(t,e,r,n,i,u){switch(e){case t.FLOAT:return new Float32Array(r.buffer,u*n,i);case t.INT:return new Int32Array(r.buffer,u*n,i)}}function zF(t,e,r,n){var i=pk(t,e),u=ln(i,2),s=u[0],l=u[1],f=gk(t,l,n),d=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,f,t.STATIC_DRAW),l===t.FLOAT?t.vertexAttribPointer(r,s,l,!1,0,0):l===t.INT&&t.vertexAttribIPointer(r,s,l,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),d}function li(t,e,r,n){var i=pk(t,r),u=ln(i,3),s=u[0],l=u[1],f=u[2],d=gk(t,l,e*s),v=s*f,p=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,p),t.bufferData(t.ARRAY_BUFFER,e*v,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),l===t.FLOAT?t.vertexAttribPointer(n,s,l,!1,v,0):l===t.INT&&t.vertexAttribIPointer(n,s,l,v,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var g=new Array(e),m=0;m<e;m++)g[m]=kF(t,l,d,v,s,m);return p.dataArray=d,p.stride=v,p.size=s,p.getView=function(b){return g[b]},p.setPoint=function(b,_,x){var E=g[b];E[0]=_,E[1]=x},p.bufferSubData=function(b){t.bindBuffer(t.ARRAY_BUFFER,p),b?t.bufferSubData(t.ARRAY_BUFFER,0,d,0,b*s):t.bufferSubData(t.ARRAY_BUFFER,0,d)},p}function NF(t,e,r){for(var n=9,i=new Float32Array(e*n),u=new Array(e),s=0;s<e;s++){var l=s*n*4;u[s]=new Float32Array(i.buffer,l,n)}var f=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,i.byteLength,t.DYNAMIC_DRAW);for(var d=0;d<3;d++){var v=r+d;t.enableVertexAttribArray(v),t.vertexAttribPointer(v,3,t.FLOAT,!1,36,d*12),t.vertexAttribDivisor(v,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),f.getMatrixView=function(p){return u[p]},f.setData=function(p,g){u[g].set(p,0)},f.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferSubData(t.ARRAY_BUFFER,0,i)},f}function LF(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,i){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,i,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var PA=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Wy(){var t=new PA(9);return PA!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function IA(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function PF(t,e,r){var n=e[0],i=e[1],u=e[2],s=e[3],l=e[4],f=e[5],d=e[6],v=e[7],p=e[8],g=r[0],m=r[1],b=r[2],_=r[3],x=r[4],E=r[5],C=r[6],A=r[7],R=r[8];return t[0]=g*n+m*s+b*d,t[1]=g*i+m*l+b*v,t[2]=g*u+m*f+b*p,t[3]=_*n+x*s+E*d,t[4]=_*i+x*l+E*v,t[5]=_*u+x*f+E*p,t[6]=C*n+A*s+R*d,t[7]=C*i+A*l+R*v,t[8]=C*u+A*f+R*p,t}function pv(t,e,r){var n=e[0],i=e[1],u=e[2],s=e[3],l=e[4],f=e[5],d=e[6],v=e[7],p=e[8],g=r[0],m=r[1];return t[0]=n,t[1]=i,t[2]=u,t[3]=s,t[4]=l,t[5]=f,t[6]=g*n+m*s+d,t[7]=g*i+m*l+v,t[8]=g*u+m*f+p,t}function UA(t,e,r){var n=e[0],i=e[1],u=e[2],s=e[3],l=e[4],f=e[5],d=e[6],v=e[7],p=e[8],g=Math.sin(r),m=Math.cos(r);return t[0]=m*n+g*s,t[1]=m*i+g*l,t[2]=m*u+g*f,t[3]=m*s-g*n,t[4]=m*l-g*i,t[5]=m*f-g*u,t[6]=d,t[7]=v,t[8]=p,t}function Hx(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function IF(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var UF=(function(){function t(e,r,n,i){$u(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(e,r,r),this.scratch=i(e,r,this.texHeight,"scratch")}return Yu(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,i=r.h,u=this.texHeight,s=this.texSize,l=u/i,f=n*l,d=i*l;return f>s&&(l=s/n,f=n*l,d=i*l),{scale:l,texW:f,texH:d}}},{key:"draw",value:function(r,n,i){var u=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,l=this.texRows,f=this.texHeight,d=this.getScale(n),v=d.scale,p=d.texW,g=d.texH,m=function(A,R){if(i&&R){var M=R.context,B=A.x,O=A.row,N=B,L=f*O;M.save(),M.translate(N,L),M.scale(v,v),i(M,n),M.restore()}},b=[null,null],_=function(){m(u.freePointer,u.canvas),b[0]={x:u.freePointer.x,y:u.freePointer.row*f,w:p,h:g},b[1]={x:u.freePointer.x+p,y:u.freePointer.row*f,w:0,h:g},u.freePointer.x+=p,u.freePointer.x==s&&(u.freePointer.x=0,u.freePointer.row++)},x=function(){var A=u.scratch,R=u.canvas;A.clear(),m({x:0,row:0},A);var M=s-u.freePointer.x,B=p-M,O=f;{var N=u.freePointer.x,L=u.freePointer.row*f,P=M;R.context.drawImage(A,0,0,P,O,N,L,P,O),b[0]={x:N,y:L,w:P,h:g}}{var I=M,V=(u.freePointer.row+1)*f,j=B;R&&R.context.drawImage(A,I,0,j,O,0,V,j,O),b[1]={x:0,y:V,w:j,h:g}}u.freePointer.x=B,u.freePointer.row++},E=function(){u.freePointer.x=0,u.freePointer.row++};if(this.freePointer.x+p<=s)_();else{if(this.freePointer.row>=l-1)return!1;this.freePointer.x===s?(E(),_()):this.enableWrapping?x():(E(),_())}return this.keyToLocation.set(r,b),this.needsBuffer=!0,b}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,i=this.texRows,u=this.getScale(r),s=u.texW;return this.freePointer.x+s>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=qF(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),FF=(function(){function t(e,r,n,i){$u(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Yu(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,i=this.texRows,u=this.createTextureCanvas;return new UF(r,n,i,u)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,i=this.texRows,u=this.createTextureCanvas,s=Math.floor(n/i);this.scratch=u(r,n,s,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,i){var u=this.styleKeyToAtlas.get(r);return u||(u=this.atlases[this.atlases.length-1],(!u||!u.canFit(n))&&(u&&u.lock(),u=this._createAtlas(),this.atlases.push(u)),u.draw(r,n,i),this.styleKeyToAtlas.set(r,u)),u}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var i=[],u=new Map,s=null,l=da(this.atlases),f;try{var d=function(){var p=f.value,g=p.getKeys(),m=VF(n,g);if(m.size===0)return i.push(p),g.forEach(function(M){return u.set(M,p)}),1;s||(s=r._createAtlas(),i.push(s));var b=da(g),_;try{for(b.s();!(_=b.n()).done;){var x=_.value;if(!m.has(x)){var E=p.getOffsets(x),C=ln(E,2),A=C[0],R=C[1];s.canFit({w:A.w+R.w,h:A.h})||(s.lock(),s=r._createAtlas(),i.push(s)),p.canvas&&(r._copyTextureToNewAtlas(x,p,s),u.set(x,s))}}}catch(M){b.e(M)}finally{b.f()}p.dispose()};for(l.s();!(f=l.n()).done;)d()}catch(v){l.e(v)}finally{l.f()}this.atlases=i,this.styleKeyToAtlas=u,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,i){var u=n.getOffsets(r),s=ln(u,2),l=s[0],f=s[1];if(f.w===0)i.draw(r,l,function(g){g.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h)});else{var d=this._getScratchCanvas();d.clear(),d.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h),d.context.drawImage(n.canvas,f.x,f.y,f.w,f.h,l.w,0,f.w,f.h);var v=l.w+f.w,p=l.h;i.draw(r,{w:v,h:p},function(g){g.drawImage(d,0,0,v,p,0,0,v,p)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function VF(t,e){return t.intersection?t.intersection(e):new Set(Ev(t).filter(function(r){return e.has(r)}))}var jF=(function(){function t(e,r){$u(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Yu(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var i=this.globalOptions,u=i.webglTexSize,s=i.createTextureCanvas,l=n.texRows,f=this._cacheScratchCanvas(s),d=new FF(this.r,u,l,f);this.collections.set(r,d)}},{key:"addRenderType",value:function(r,n){var i=n.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var u=this.collections.get(i),s=St({type:r,atlasCollection:u},n);this.renderTypes.set(r,s)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,i=-1,u=null;return function(s,l,f,d){return d?((!u||l!=n||f!=i)&&(n=l,i=f,u=r(s,l,f)),u):r(s,l,f)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=i.forceRedraw,s=u===void 0?!1:u,l=i.filterEle,f=l===void 0?function(){return!0}:l,d=i.filterType,v=d===void 0?function(){return!0}:d,p=!1,g=!1,m=da(r),b;try{for(m.s();!(b=m.n()).done;){var _=b.value;if(f(_)){var x=da(this.renderTypes.values()),E;try{var C=function(){var R=E.value,M=R.type;if(v(M)){var B=n.collections.get(R.collection),O=R.getKey(_),N=Array.isArray(O)?O:[O];if(s)N.forEach(function(V){return B.markKeyForGC(V)}),g=!0;else{var L=R.getID?R.getID(_):_.id(),P=n._key(M,L),I=n.typeAndIdToKey.get(P);I!==void 0&&!MF(N,I)&&(p=!0,n.typeAndIdToKey.delete(P),I.forEach(function(V){return B.markKeyForGC(V)}))}}};for(x.s();!(E=x.n()).done;)C()}catch(A){x.e(A)}finally{x.f()}}}}catch(A){m.e(A)}finally{m.f()}return g&&(this.gc(),p=!1),p}},{key:"gc",value:function(){var r=da(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.gc()}}catch(u){r.e(u)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,i,u){var s=this.renderTypes.get(n),l=this.collections.get(s.collection),f=!1,d=l.draw(u,i,function(g){s.drawClipped?(g.save(),g.beginPath(),g.rect(0,0,i.w,i.h),g.clip(),s.drawElement(g,r,i,!0,!0),g.restore()):s.drawElement(g,r,i,!0,!0),f=!0});if(f){var v=s.getID?s.getID(r):r.id(),p=this._key(n,v);this.typeAndIdToKey.has(p)?this.typeAndIdToKey.get(p).push(u):this.typeAndIdToKey.set(p,[u])}return d}},{key:"getAtlasInfo",value:function(r,n){var i=this,u=this.renderTypes.get(n),s=u.getKey(r),l=Array.isArray(s)?s:[s];return l.map(function(f){var d=u.getBoundingBox(r,f),v=i.getOrCreateAtlas(r,n,d,f),p=v.getOffsets(f),g=ln(p,2),m=g[0],b=g[1];return{atlas:v,tex:m,tex1:m,tex2:b,bb:d}})}},{key:"getDebugInfo",value:function(){var r=[],n=da(this.collections),i;try{for(n.s();!(i=n.n()).done;){var u=ln(i.value,2),s=u[0],l=u[1],f=l.getCounts(),d=f.keyCount,v=f.atlasCount;r.push({type:s,keyCount:d,atlasCount:v})}}catch(p){n.e(p)}finally{n.f()}return r}}])})(),GF=(function(){function t(e){$u(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return Yu(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])})(),HF=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,KF=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,$F=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,YF=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,Gc={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},kv={IGNORE:1,USE_BB:2},Jy=0,FA=1,VA=2,em=3,js=4,Yd=5,Cc=6,Ac=7,XF=(function(){function t(e,r,n){$u(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=AF,this.atlasManager=new jF(e,n),this.batchManager=new GF(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Gc.SCREEN),this.pickingProgram=this._createShaderProgram(Gc.PICKING),this.vao=this._createVAO()}return Yu(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,u=this.atlasManager;return i?u.invalidate(r,{filterType:function(l){return l===i},forceRedraw:!0}):u.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Jy,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(js," || aVertType == ").concat(Ac,` 
             || aVertType == `).concat(Yd," || aVertType == ").concat(Cc,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(FA,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(VA,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(em,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),u=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(u.map(function(d){return"uniform sampler2D uTexture".concat(d,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(HF,`
      `).concat(KF,`
      `).concat($F,`
      `).concat(YF,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Jy,`) {
          // look up the texel from the texture unit
          `).concat(u.map(function(d){return"if(vAtlasId == ".concat(d,") outColor = texture(uTexture").concat(d,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(em,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(js,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(js," || vVertType == ").concat(Ac,` 
          || vVertType == `).concat(Yd," || vVertType == ").concat(Cc,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(js,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Ac,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Ac,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),l=CF(n,i,s);l.aPosition=n.getAttribLocation(l,"aPosition"),l.aIndex=n.getAttribLocation(l,"aIndex"),l.aVertType=n.getAttribLocation(l,"aVertType"),l.aTransform=n.getAttribLocation(l,"aTransform"),l.aAtlasId=n.getAttribLocation(l,"aAtlasId"),l.aTex=n.getAttribLocation(l,"aTex"),l.aPointAPointB=n.getAttribLocation(l,"aPointAPointB"),l.aPointCPointD=n.getAttribLocation(l,"aPointCPointD"),l.aLineWidth=n.getAttribLocation(l,"aLineWidth"),l.aColor=n.getAttribLocation(l,"aColor"),l.aCornerRadius=n.getAttribLocation(l,"aCornerRadius"),l.aBorderColor=n.getAttribLocation(l,"aBorderColor"),l.uPanZoomMatrix=n.getUniformLocation(l,"uPanZoomMatrix"),l.uAtlasSize=n.getUniformLocation(l,"uAtlasSize"),l.uBGColor=n.getUniformLocation(l,"uBGColor"),l.uZoom=n.getUniformLocation(l,"uZoom"),l.uTextures=[];for(var f=0;f<this.batchManager.getMaxAtlasesPerBatch();f++)l.uTextures.push(n.getUniformLocation(l,"uTexture".concat(f)));return l}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,i=this.gl,u=this.program,s=i.createVertexArray();return i.bindVertexArray(s),zF(i,"vec2",u.aPosition,r),this.transformBuffer=NF(i,n,u.aTransform),this.indexBuffer=li(i,n,"vec4",u.aIndex),this.vertTypeBuffer=li(i,n,"int",u.aVertType),this.atlasIdBuffer=li(i,n,"int",u.aAtlasId),this.texBuffer=li(i,n,"vec4",u.aTex),this.pointAPointBBuffer=li(i,n,"vec4",u.aPointAPointB),this.pointCPointDBuffer=li(i,n,"vec4",u.aPointCPointD),this.lineWidthBuffer=li(i,n,"vec2",u.aLineWidth),this.colorBuffer=li(i,n,"vec4",u.aColor),this.cornerRadiusBuffer=li(i,n,"vec4",u.aCornerRadius),this.borderColorBuffer=li(i,n,"vec4",u.aBorderColor),i.bindVertexArray(null),s}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return zu(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gc.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,i){var u=this.atlasManager,s=this.batchManager,l=u.getRenderTypeOpts(i);if(this._isVisible(r,l)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&l.getTexPickingMode){var f=l.getTexPickingMode(r);if(f===kv.IGNORE)return;if(f==kv.USE_BB){this.drawPickingRectangle(r,n,i);return}}var d=u.getAtlasInfo(r,i),v=da(d),p;try{for(v.s();!(p=v.n()).done;){var g=p.value,m=g.atlas,b=g.tex1,_=g.tex2;s.canAddToCurrentBatch(m)||this.endBatch();for(var x=s.getAtlasIndexForBatch(m),E=0,C=[[b,!0],[_,!1]];E<C.length;E++){var A=ln(C[E],2),R=A[0],M=A[1];if(R.w!=0){var B=this.instanceCount;this.vertTypeBuffer.getView(B)[0]=Jy;var O=this.indexBuffer.getView(B);Vs(n,O);var N=this.atlasIdBuffer.getView(B);N[0]=x;var L=this.texBuffer.getView(B);L[0]=R.x,L[1]=R.y,L[2]=R.w,L[3]=R.h;var P=this.transformBuffer.getMatrixView(B);this.setTransformMatrix(r,P,l,g,M),this.instanceCount++,M||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(I){v.e(I)}finally{v.f()}}}},{key:"setTransformMatrix",value:function(r,n,i,u){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=0;if(i.shapeProps&&i.shapeProps.padding&&(l=r.pstyle(i.shapeProps.padding).pfValue),u){var f=u.bb,d=u.tex1,v=u.tex2,p=d.w/(d.w+v.w);s||(p=1-p);var g=this._getAdjustedBB(f,l,s,p);this._applyTransformMatrix(n,g,i,r)}else{var m=i.getBoundingBox(r),b=this._getAdjustedBB(m,l,!0,1);this._applyTransformMatrix(n,b,i,r)}}},{key:"_applyTransformMatrix",value:function(r,n,i,u){var s,l;IA(r);var f=i.getRotation?i.getRotation(u):0;if(f!==0){var d=i.getRotationPoint(u),v=d.x,p=d.y;pv(r,r,[v,p]),UA(r,r,f);var g=i.getRotationOffset(u);s=g.x+(n.xOffset||0),l=g.y+(n.yOffset||0)}else s=n.x1,l=n.y1;pv(r,r,[s,l]),Hx(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,i,u){var s=r.x1,l=r.y1,f=r.w,d=r.h,v=r.yOffset;n&&(s-=n,l-=n,f+=2*n,d+=2*n);var p=0,g=f*u;return i&&u<1?f=g:!i&&u<1&&(p=f-g,s+=p,f=g),{x1:s,y1:l,w:f,h:d,xOffset:p,yOffset:v}}},{key:"drawPickingRectangle",value:function(r,n,i){var u=this.atlasManager.getRenderTypeOpts(i),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=js;var l=this.indexBuffer.getView(s);Vs(n,l);var f=this.colorBuffer.getView(s);Co([0,0,0],1,f);var d=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(r,d,u),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,i){var u=this.simpleShapeOptions.get(i);if(this._isVisible(r,u)){var s=u.shapeProps,l=this._getVertTypeForShape(r,s.shape);if(l===void 0||u.isSimple&&!u.isSimple(r)){this.drawTexture(r,n,i);return}var f=this.instanceCount;if(this.vertTypeBuffer.getView(f)[0]=l,l===Yd||l===Cc){var d=u.getBoundingBox(r),v=this._getCornerRadius(r,s.radius,d),p=this.cornerRadiusBuffer.getView(f);p[0]=v,p[1]=v,p[2]=v,p[3]=v,l===Cc&&(p[0]=0,p[2]=0)}var g=this.indexBuffer.getView(f);Vs(n,g);var m=r.pstyle(s.color).value,b=r.pstyle(s.opacity).value,_=this.colorBuffer.getView(f);Co(m,b,_);var x=this.lineWidthBuffer.getView(f);if(x[0]=0,x[1]=0,s.border){var E=r.pstyle("border-width").value;if(E>0){var C=r.pstyle("border-color").value,A=r.pstyle("border-opacity").value,R=this.borderColorBuffer.getView(f);Co(C,A,R);var M=r.pstyle("border-position").value;if(M==="inside")x[0]=0,x[1]=-E;else if(M==="outside")x[0]=E,x[1]=0;else{var B=E/2;x[0]=B,x[1]=-B}}}var O=this.transformBuffer.getMatrixView(f);this.setTransformMatrix(r,O,u),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var i=r.pstyle(n).value;switch(i){case"rectangle":return js;case"ellipse":return Ac;case"roundrectangle":case"round-rectangle":return Yd;case"bottom-round-rectangle":return Cc;default:return}}},{key:"_getCornerRadius",value:function(r,n,i){var u=i.w,s=i.h;if(r.pstyle(n).value==="auto")return Vu(u,s);var l=r.pstyle(n).pfValue,f=u/2,d=s/2;return Math.min(l,d,f)}},{key:"drawEdgeArrow",value:function(r,n,i){if(r.visible()){var u=r._private.rscratch,s,l,f;if(i==="source"?(s=u.arrowStartX,l=u.arrowStartY,f=u.srcArrowAngle):(s=u.arrowEndX,l=u.arrowEndY,f=u.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(l)||l==null||isNaN(f)||f==null)){var d=r.pstyle(i+"-arrow-shape").value;if(d!=="none"){var v=r.pstyle(i+"-arrow-color").value,p=r.pstyle("opacity").value,g=r.pstyle("line-opacity").value,m=p*g,b=r.pstyle("width").pfValue,_=r.pstyle("arrow-scale").value,x=this.r.getArrowWidth(b,_),E=this.instanceCount,C=this.transformBuffer.getMatrixView(E);IA(C),pv(C,C,[s,l]),Hx(C,C,[x,x]),UA(C,C,f),this.vertTypeBuffer.getView(E)[0]=em;var A=this.indexBuffer.getView(E);Vs(n,A);var R=this.colorBuffer.getView(E);Co(v,m,R),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var i=this._getEdgePoints(r);if(i){var u=r.pstyle("opacity").value,s=r.pstyle("line-opacity").value,l=r.pstyle("width").pfValue,f=r.pstyle("line-color").value,d=u*s;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var v=this.instanceCount;this.vertTypeBuffer.getView(v)[0]=FA;var p=this.indexBuffer.getView(v);Vs(n,p);var g=this.colorBuffer.getView(v);Co(f,d,g);var m=this.lineWidthBuffer.getView(v);m[0]=l;var b=this.pointAPointBBuffer.getView(v);b[0]=i[0],b[1]=i[1],b[2]=i[2],b[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var _=0;_<i.length-2;_+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=VA;var E=this.indexBuffer.getView(x);Vs(n,E);var C=this.colorBuffer.getView(x);Co(f,d,C);var A=this.lineWidthBuffer.getView(x);A[0]=l;var R=i[_-2],M=i[_-1],B=i[_],O=i[_+1],N=i[_+2],L=i[_+3],P=i[_+4],I=i[_+5];_==0&&(R=2*B-N+.001,M=2*O-L+.001),_==i.length-4&&(P=2*N-B+.001,I=2*L-O+.001);var V=this.pointAPointBBuffer.getView(x);V[0]=R,V[1]=M,V[2]=B,V[3]=O;var j=this.pointCPointDBuffer.getView(x);j[0]=N,j[1]=L,j[2]=P,j[3]=I,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var i=n.allpts;if(i.length==4)return i;var u=this._getNumSegments(r);return this._getCurveSegmentPoints(i,u)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var i=Array((n+1)*2),u=0;u<=n;u++)if(u==0)i[0]=r[0],i[1]=r[1];else if(u==n)i[u*2]=r[r.length-2],i[u*2+1]=r[r.length-1];else{var s=u/n;this._setCurvePoint(r,s,i,u*2)}return i}},{key:"_setCurvePoint",value:function(r,n,i,u){if(r.length<=2)i[u]=r[0],i[u+1]=r[1];else{for(var s=Array(r.length-2),l=0;l<s.length;l+=2){var f=(1-n)*r[l]+n*r[l+2],d=(1-n)*r[l+1]+n*r[l+3];s[l]=f,s[l+1]=d}return this._setCurvePoint(s,n,i,u)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,i=this.vertexCount,u=this.instanceCount;if(u!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(s),r.bindVertexArray(n);var l=da(this.buffers),f;try{for(l.s();!(f=l.n()).done;){var d=f.value;d.bufferSubData(u)}}catch(b){l.e(b)}finally{l.f()}for(var v=this.batchManager.getAtlases(),p=0;p<v.length;p++)v[p].bufferIfNeeded(r);for(var g=0;g<v.length;g++)r.activeTexture(r.TEXTURE0+g),r.bindTexture(r.TEXTURE_2D,v[g].texture),r.uniform1i(s.uTextures[g],g);r.uniform1f(s.uZoom,RF(this.r)),r.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var m=Co(this.bgColor,1);r.uniform4fv(s.uBGColor,m),r.drawArraysInstanced(r.TRIANGLES,0,i,u),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:u,atlasCount:v.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(s,l){return s+l.atlasCount},0),i=this.batchDebugInfo,u=i.reduce(function(s,l){return s+l.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:u}}}])})(),yk={};yk.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=ZF(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=LF(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new XF(r,n,t);var i=function(p){return function(g){return r.getTextAngle(g,p)}},u=function(p){return function(g){var m=g.pstyle(p);return m&&m.value}},s=function(p){return function(g){return g.pstyle("".concat(p,"-opacity")).value>0}},l=function(p){var g=p.pstyle("text-events").strValue==="yes";return g?kv.USE_BB:kv.IGNORE},f=function(p){var g=p.position(),m=g.x,b=g.y,_=p.outerWidth(),x=p.outerHeight();return{w:_,h:x,x1:m-_/2,y1:b-x/2}};r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:f,isSimple:OF,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:f,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:f,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:l,getKey:tm(e.getLabelKey,null),getBoundingBox:rm(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:i(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:u("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:l,getKey:tm(e.getSourceLabelKey,"source"),getBoundingBox:rm(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:i("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:u("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:l,getKey:tm(e.getTargetLabelKey,"target"),getBoundingBox:rm(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:i("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:u("target-label")});var d=lf(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(v,p){var g=!1;p&&p.length>0&&(g|=r.drawing.invalidate(p)),g&&d()}),QF(r)};function ZF(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return HB(r)}function mk(t,e){var r=t._private.rscratch;return la(r,"labelWrapCachedLines",e)||[]}var tm=function(e,r){return function(n){var i=e(n),u=mk(n,r);return u.length>1?u.map(function(s,l){return"".concat(i,"_").concat(l)}):i}},rm=function(e,r){return function(n,i){var u=e(n);if(typeof i=="string"){var s=i.indexOf("_");if(s>0){var l=Number(i.substring(s+1)),f=mk(n,r),d=u.h/f.length,v=d*l,p=u.y1+v;return{x1:u.x1,w:u.w,y1:p,h:d,yOffset:v}}}return u}};function QF(t){{var e=t.render;t.render=function(u){u=u||{};var s=t.cy;t.webgl&&(s.zoom()>ck?(WF(t),e.call(t,u)):(JF(t),wk(t,u,Gc.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(u){r.call(t,u),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(u,s,l,f){return i8(t,u,s)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var i=t.notify;t.notify=function(u,s){i.call(t,u,s),u==="viewport"||u==="bounds"?t.pickingFrameBuffer.needsDraw=!0:u==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function WF(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function JF(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function e8(t){var e=t.canvasWidth,r=t.canvasHeight,n=_E(t),i=n.pan,u=n.zoom,s=Wy();pv(s,s,[i.x,i.y]),Hx(s,s,[u,u]);var l=Wy();IF(l,e,r);var f=Wy();return PF(f,l,s),f}function bk(t,e){var r=t.canvasWidth,n=t.canvasHeight,i=_E(t),u=i.pan,s=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(u.x,u.y),e.scale(s,s)}function t8(t,e){t.drawSelectionRectangle(e,function(r){return bk(t,r)})}function r8(t){var e=t.data.contexts[t.NODE];e.save(),bk(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function n8(t){var e=function(i,u,s){for(var l=i.atlasManager.getAtlasCollection(u),f=t.data.contexts[t.NODE],d=l.atlases,v=0;v<d.length;v++){var p=d[v],g=p.canvas;if(g){var m=g.width,b=g.height,_=m*v,x=g.height*s,E=.4;f.save(),f.scale(E,E),f.drawImage(g,_,x),f.strokeStyle="black",f.rect(_,x,m,b),f.stroke(),f.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function a8(t,e,r,n,i){var u,s,l,f,d=_E(t),v=d.pan,p=d.zoom;{var g=DF(t,v,p,e,r),m=ln(g,2),b=m[0],_=m[1],x=6;u=b-x/2,s=_-x/2,l=x,f=x}if(l===0||f===0)return[];var E=t.data.contexts[t.WEBGL];E.bindFramebuffer(E.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(E.viewport(0,0,E.canvas.width,E.canvas.height),wk(t,null,Gc.PICKING),t.pickingFrameBuffer.needsDraw=!1);var C=l*f,A=new Uint8Array(C*4);E.readPixels(u,s,l,f,E.RGBA,E.UNSIGNED_BYTE,A),E.bindFramebuffer(E.FRAMEBUFFER,null);for(var R=new Set,M=0;M<C;M++){var B=A.slice(M*4,M*4+4),O=BF(B)-1;O>=0&&R.add(O)}return R}function i8(t,e,r){var n=a8(t,e,r),i=t.getCachedZSortedEles(),u,s,l=da(n),f;try{for(l.s();!(f=l.n()).done;){var d=f.value,v=i[d];if(!u&&v.isNode()&&(u=v),!s&&v.isEdge()&&(s=v),u&&s)break}}catch(p){l.e(p)}finally{l.f()}return[u,s].filter(Boolean)}function nm(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawNode(r,e,"node-underlay"),n.drawNode(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawNode(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function wk(t,e,r){var n;t.webglDebug&&(n=performance.now());var i=t.drawing,u=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&t8(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=t.data.contexts[t.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var l=e8(t),f=t.getCachedZSortedEles();if(u=f.length,i.startFrame(l,r),r.screen){for(var d=0;d<f.nondrag.length;d++)nm(t,d,f.nondrag[d]);for(var v=0;v<f.drag.length;v++)nm(t,v,f.drag[v])}else if(r.picking)for(var p=0;p<f.length;p++)nm(t,p,f[p]);i.endFrame(),r.screen&&t.webglDebugShowAtlases&&(r8(t),n8(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var g=performance.now(),m=!1,b=Math.ceil(g-n),_=i.getDebugInfo(),x=["".concat(u," elements"),"".concat(_.totalInstances," instances"),"".concat(_.batchCount," batches"),"".concat(_.totalAtlases," atlases"),"".concat(_.wrappedCount," wrapped textures"),"".concat(_.simpleCount," simple shapes")].join(", ");if(m)console.log("WebGL (".concat(r.name,") - time ").concat(b,"ms, ").concat(x));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(b,"ms")),console.log("Totals:"),console.log("  ".concat(x)),console.log("Texture Atlases Used:");var E=_.atlasInfo,C=da(E),A;try{for(C.s();!(A=C.n()).done;){var R=A.value;console.log("  ".concat(R.type,": ").concat(R.keyCount," keys, ").concat(R.atlasCount," atlases"))}}catch(M){C.e(M)}finally{C.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,i.gc())}var Qu={};Qu.drawPolygonPath=function(t,e,r,n,i,u){var s=n/2,l=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*u[0],r+l*u[1]);for(var f=1;f<u.length/2;f++)t.lineTo(e+s*u[f*2],r+l*u[f*2+1]);t.closePath()};Qu.drawRoundPolygonPath=function(t,e,r,n,i,u,s){s.forEach(function(l){return tk(t,l)}),t.closePath()};Qu.drawRoundRectanglePath=function(t,e,r,n,i,u){var s=n/2,l=i/2,f=u==="auto"?Vu(n,i):Math.min(u,l,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-l),t.arcTo(e+s,r-l,e+s,r,f),t.arcTo(e+s,r+l,e,r+l,f),t.arcTo(e-s,r+l,e-s,r,f),t.arcTo(e-s,r-l,e,r-l,f),t.lineTo(e,r-l),t.closePath()};Qu.drawBottomRoundRectanglePath=function(t,e,r,n,i,u){var s=n/2,l=i/2,f=u==="auto"?Vu(n,i):u;t.beginPath&&t.beginPath(),t.moveTo(e,r-l),t.lineTo(e+s,r-l),t.lineTo(e+s,r),t.arcTo(e+s,r+l,e,r+l,f),t.arcTo(e-s,r+l,e-s,r,f),t.lineTo(e-s,r-l),t.lineTo(e,r-l),t.closePath()};Qu.drawCutRectanglePath=function(t,e,r,n,i,u,s){var l=n/2,f=i/2,d=s==="auto"?fE():s;t.beginPath&&t.beginPath(),t.moveTo(e-l+d,r-f),t.lineTo(e+l-d,r-f),t.lineTo(e+l,r-f+d),t.lineTo(e+l,r+f-d),t.lineTo(e+l-d,r+f),t.lineTo(e-l+d,r+f),t.lineTo(e-l,r+f-d),t.lineTo(e-l,r-f+d),t.closePath()};Qu.drawBarrelPath=function(t,e,r,n,i){var u=n/2,s=i/2,l=e-u,f=e+u,d=r-s,v=r+s,p=Mx(n,i),g=p.widthOffset,m=p.heightOffset,b=p.ctrlPtOffsetPct*g;t.beginPath&&t.beginPath(),t.moveTo(l,d+m),t.lineTo(l,v-m),t.quadraticCurveTo(l+b,v,l+g,v),t.lineTo(f-g,v),t.quadraticCurveTo(f-b,v,f,v-m),t.lineTo(f,d+m),t.quadraticCurveTo(f-b,d,f-g,d),t.lineTo(l+g,d),t.quadraticCurveTo(l+b,d,l,d+m),t.closePath()};var jA=Math.sin(0),GA=Math.cos(0),Kx={},$x={},xk=Math.PI/40;for(var Gs=0*Math.PI;Gs<2*Math.PI;Gs+=xk)Kx[Gs]=Math.sin(Gs),$x[Gs]=Math.cos(Gs);Qu.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var u,s,l=n/2,f=i/2,d=0*Math.PI;d<2*Math.PI;d+=xk)u=e-l*Kx[d]*jA+l*$x[d]*GA,s=r+f*$x[d]*jA+f*Kx[d]*GA,d===0?t.moveTo(u,s):t.lineTo(u,s);t.closePath()};var pf={};pf.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};pf.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),u=t.full?Math.ceil(n.w):i[2],s=t.full?Math.ceil(n.h):i[3],l=et(t.maxWidth)||et(t.maxHeight),f=this.getPixelRatio(),d=1;if(t.scale!==void 0)u*=t.scale,s*=t.scale,d=t.scale;else if(l){var v=1/0,p=1/0;et(t.maxWidth)&&(v=d*t.maxWidth/u),et(t.maxHeight)&&(p=d*t.maxHeight/s),d=Math.min(v,p),u*=d,s*=d}l||(u*=f,s*=f,d*=f);var g=document.createElement("canvas");g.width=u,g.height=s,g.style.width=u+"px",g.style.height=s+"px";var m=g.getContext("2d");if(u>0&&s>0){m.clearRect(0,0,u,s),m.globalCompositeOperation="source-over";var b=this.getCachedZSortedEles();if(t.full)m.translate(-n.x1*d,-n.y1*d),m.scale(d,d),this.drawElements(m,b),m.scale(1/d,1/d),m.translate(n.x1*d,n.y1*d);else{var _=e.pan(),x={x:_.x*d,y:_.y*d};d*=e.zoom(),m.translate(x.x,x.y),m.scale(d,d),this.drawElements(m,b),m.scale(1/d,1/d),m.translate(-x.x,-x.y)}t.bg&&(m.globalCompositeOperation="destination-over",m.fillStyle=t.bg,m.rect(0,0,u,s),m.fill())}return g};function u8(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),u=0;u<r.length;u++)i[u]=r.charCodeAt(u);return new Blob([n],{type:e})}function HA(t){var e=t.indexOf(",");return t.substr(e+1)}function Ek(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new fl(function(i,u){try{e.toBlob(function(s){s!=null?i(s):u(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){u(s)}});case"blob":return u8(HA(n()),r);case"base64":return HA(n());case"base64uri":default:return n()}}pf.png=function(t){return Ek(t,this.bufferCanvasImage(t),"image/png")};pf.jpg=function(t){return Ek(t,this.bufferCanvasImage(t),"image/jpeg")};var Sk={};Sk.nodeShapeImpl=function(t,e,r,n,i,u,s,l){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,u);case"polygon":return this.drawPolygonPath(e,r,n,i,u,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,u,s,l);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,u,l);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,u,s,l);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,u,l);case"barrel":return this.drawBarrelPath(e,r,n,i,u)}};var o8=Tk,jt=Tk.prototype;jt.CANVAS_LAYERS=3;jt.SELECT_BOX=0;jt.DRAG=1;jt.NODE=2;jt.WEBGL=3;jt.CANVAS_TYPES=["2d","2d","2d","webgl2"];jt.BUFFER_COUNT=3;jt.TEXTURE_BUFFER=0;jt.MOTIONBLUR_BUFFER_NODE=1;jt.MOTIONBLUR_BUFFER_DRAG=2;function Tk(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(jt.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(jt.CANVAS_LAYERS),contexts:new Array(jt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(jt.CANVAS_LAYERS),bufferCanvases:new Array(jt.BUFFER_COUNT),bufferContexts:new Array(jt.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",u="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=u,s.position="relative",s.zIndex="0",s.overflow="hidden";var l=t.cy.container();l.appendChild(e.data.canvasContainer),l.style[i]=u;var f={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};t4()&&(f["-ms-touch-action"]="none",f["touch-action"]="none");for(var d=0;d<jt.CANVAS_LAYERS;d++){var v=e.data.canvases[d]=n.createElement("canvas"),p=jt.CANVAS_TYPES[d];e.data.contexts[d]=v.getContext(p),e.data.contexts[d]||kr("Could not create canvas of type "+p),Object.keys(f).forEach(function(ie){v.style[ie]=f[ie]}),v.style.position="absolute",v.setAttribute("data-id","layer"+d),v.style.zIndex=String(jt.CANVAS_LAYERS-d),e.data.canvasContainer.appendChild(v),e.data.canvasNeedsRedraw[d]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[jt.NODE].setAttribute("data-id","layer"+jt.NODE+"-node"),e.data.canvases[jt.SELECT_BOX].setAttribute("data-id","layer"+jt.SELECT_BOX+"-selectbox"),e.data.canvases[jt.DRAG].setAttribute("data-id","layer"+jt.DRAG+"-drag"),e.data.canvases[jt.WEBGL]&&e.data.canvases[jt.WEBGL].setAttribute("data-id","layer"+jt.WEBGL+"-webgl");for(var d=0;d<jt.BUFFER_COUNT;d++)e.data.bufferCanvases[d]=n.createElement("canvas"),e.data.bufferContexts[d]=e.data.bufferCanvases[d].getContext("2d"),e.data.bufferCanvases[d].style.position="absolute",e.data.bufferCanvases[d].setAttribute("data-id","buffer"+d),e.data.bufferCanvases[d].style.zIndex=String(-d-1),e.data.bufferCanvases[d].style.visibility="hidden";e.pathsEnabled=!0;var g=Wn(),m=function(he){return{x:(he.x1+he.x2)/2,y:(he.y1+he.y2)/2}},b=function(he){return{x:-he.w/2,y:-he.h/2}},_=function(he){var be=he[0]._private,ge=be.oldBackgroundTimestamp===be.backgroundTimestamp;return!ge},x=function(he){return he[0]._private.nodeKey},E=function(he){return he[0]._private.labelStyleKey},C=function(he){return he[0]._private.sourceLabelStyleKey},A=function(he){return he[0]._private.targetLabelStyleKey},R=function(he,be,ge,Be,Ge){return e.drawElement(he,be,ge,!1,!1,Ge)},M=function(he,be,ge,Be,Ge){return e.drawElementText(he,be,ge,Be,"main",Ge)},B=function(he,be,ge,Be,Ge){return e.drawElementText(he,be,ge,Be,"source",Ge)},O=function(he,be,ge,Be,Ge){return e.drawElementText(he,be,ge,Be,"target",Ge)},N=function(he){return he.boundingBox(),he[0]._private.bodyBounds},L=function(he){return he.boundingBox(),he[0]._private.labelBounds.main||g},P=function(he){return he.boundingBox(),he[0]._private.labelBounds.source||g},I=function(he){return he.boundingBox(),he[0]._private.labelBounds.target||g},V=function(he,be){return be},j=function(he){return m(N(he))},Z=function(he,be,ge){var Be=he?he+"-":"";return{x:be.x+ge.pstyle(Be+"text-margin-x").pfValue,y:be.y+ge.pstyle(Be+"text-margin-y").pfValue}},J=function(he,be,ge){var Be=he[0]._private.rscratch;return{x:Be[be],y:Be[ge]}},G=function(he){return Z("",J(he,"labelX","labelY"),he)},$=function(he){return Z("source",J(he,"sourceLabelX","sourceLabelY"),he)},W=function(he){return Z("target",J(he,"targetLabelX","targetLabelY"),he)},oe=function(he){return b(N(he))},se=function(he){return b(P(he))},U=function(he){return b(I(he))},X=function(he){var be=L(he),ge=b(L(he));if(he.isNode()){switch(he.pstyle("text-halign").value){case"left":ge.x=-be.w-(be.leftPad||0);break;case"right":ge.x=-(be.rightPad||0);break}switch(he.pstyle("text-valign").value){case"top":ge.y=-be.h-(be.topPad||0);break;case"bottom":ge.y=-(be.botPad||0);break}}return ge},ue=e.data.eleTxrCache=new Lc(e,{getKey:x,doesEleInvalidateKey:_,drawElement:R,getBoundingBox:N,getRotationPoint:j,getRotationOffset:oe,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Y=e.data.lblTxrCache=new Lc(e,{getKey:E,drawElement:M,getBoundingBox:L,getRotationPoint:G,getRotationOffset:X,isVisible:V}),ee=e.data.slbTxrCache=new Lc(e,{getKey:C,drawElement:B,getBoundingBox:P,getRotationPoint:$,getRotationOffset:se,isVisible:V}),re=e.data.tlbTxrCache=new Lc(e,{getKey:A,drawElement:O,getBoundingBox:I,getRotationPoint:W,getRotationOffset:U,isVisible:V}),de=e.data.lyrTxrCache=new fk(e);e.onUpdateEleCalcs(function(he,be){ue.invalidateElements(be),Y.invalidateElements(be),ee.invalidateElements(be),re.invalidateElements(be),de.invalidateElements(be);for(var ge=0;ge<be.length;ge++){var Be=be[ge]._private;Be.oldBackgroundTimestamp=Be.backgroundTimestamp}});var ze=function(he){for(var be=0;be<he.length;be++)de.enqueueElementRefinement(he[be].ele)};ue.onDequeue(ze),Y.onDequeue(ze),ee.onDequeue(ze),re.onDequeue(ze),t.webgl&&e.initWebgl(t,{getStyleKey:x,getLabelKey:E,getSourceLabelKey:C,getTargetLabelKey:A,drawElement:R,drawLabel:M,drawSourceLabel:B,drawTargetLabel:O,getElementBox:N,getLabelBox:L,getSourceLabelBox:P,getTargetLabelBox:I,getElementRotationPoint:j,getElementRotationOffset:oe,getLabelRotationPoint:G,getSourceLabelRotationPoint:$,getTargetLabelRotationPoint:W,getLabelRotationOffset:X,getSourceLabelRotationOffset:se,getTargetLabelRotationOffset:U})}jt.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[jt.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[jt.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[jt.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var s8=typeof Path2D<"u";jt.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};jt.usePaths=function(){return s8&&this.pathsEnabled};jt.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};jt.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};jt.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":yn(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=t,r.height=e}return r};[dk,pi,Zi,TE,Fo,Zu,Jn,yk,Qu,pf,Sk].forEach(function(t){St(jt,t)});var l8=[{name:"null",impl:Wq},{name:"base",impl:sk},{name:"canvas",impl:o8}],c8=[{type:"layout",extensions:zU},{type:"renderer",extensions:l8}],_k={},Ck={};function Ak(t,e,r){var n=r,i=function(N){lr("Can not register `"+e+"` for `"+t+"` since `"+N+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(ef.prototype[e])return i(e);ef.prototype[e]=r}else if(t==="collection"){if(Ln.prototype[e])return i(e);Ln.prototype[e]=r}else if(t==="layout"){for(var u=function(N){this.options=N,r.call(this,N),Jt(this._private)||(this._private={}),this._private.cy=N.cy,this._private.listeners=[],this.createEmitter()},s=u.prototype=Object.create(r.prototype),l=[],f=0;f<l.length;f++){var d=l[f];s[d]=s[d]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var v=r.prototype.stop;s.stop=function(){var O=this.options;if(O&&O.animate){var N=this.animations;if(N)for(var L=0;L<N.length;L++)N[L].stop()}return v?v.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var p=function(N){return N._private.cy},g={addEventFields:function(N,L){L.layout=N,L.cy=p(N),L.target=N},bubble:function(){return!0},parent:function(N){return p(N)}};St(s,{createEmitter:function(){return this._private.emitter=new eh(g,this),this},emitter:function(){return this._private.emitter},on:function(N,L){return this.emitter().on(N,L),this},one:function(N,L){return this.emitter().one(N,L),this},once:function(N,L){return this.emitter().one(N,L),this},removeListener:function(N,L){return this.emitter().removeListener(N,L),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(N,L){return this.emitter().emit(N,L),this}}),sr.eventAliasesOn(s),n=u}else if(t==="renderer"&&e!=="null"&&e!=="base"){var m=Rk("renderer","base"),b=m.prototype,_=r,x=r.prototype,E=function(){m.apply(this,arguments),_.apply(this,arguments)},C=E.prototype;for(var A in b){var R=b[A],M=x[A]!=null;if(M)return i(A);C[A]=R}for(var B in x)C[B]=x[B];b.clientFunctions.forEach(function(O){C[O]=C[O]||function(){kr("Renderer does not implement `renderer."+O+"()` on its prototype")}}),n=E}else if(t==="__proto__"||t==="constructor"||t==="prototype")return kr(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return KB({map:_k,keys:[t,e],value:n})}function Rk(t,e){return $B({map:_k,keys:[t,e]})}function f8(t,e,r,n,i){return KB({map:Ck,keys:[t,e,r,n],value:i})}function d8(t,e,r,n){return $B({map:Ck,keys:[t,e,r,n]})}var Yx=function(){if(arguments.length===2)return Rk.apply(null,arguments);if(arguments.length===3)return Ak.apply(null,arguments);if(arguments.length===4)return d8.apply(null,arguments);if(arguments.length===5)return f8.apply(null,arguments);kr("Invalid extension access syntax")};ef.prototype.extension=Yx;c8.forEach(function(t){t.extensions.forEach(function(e){Ak(t.type,e.name,e.impl)})});var zv=function(){if(!(this instanceof zv))return new zv;this.length=0},Io=zv.prototype;Io.instanceString=function(){return"stylesheet"};Io.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Io.css=function(t,e){var r=this.length-1;if(mt(t))this[r].properties.push({name:t,value:e});else if(Jt(t))for(var n=t,i=Object.keys(n),u=0;u<i.length;u++){var s=i[u],l=n[s];if(l!=null){var f=An.properties[s]||An.properties[Gv(s)];if(f!=null){var d=f.name,v=l;this[r].properties.push({name:d,value:v})}}}return this};Io.style=Io.css;Io.generateStyle=function(t){var e=new An(t);return this.appendToStyle(e)};Io.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var u=0;u<i.length;u++){var s=i[u];t.css(s.name,s.value)}}return t};var v8="3.33.1",Ku=function(e){if(e===void 0&&(e={}),Jt(e))return new ef(e);if(mt(e))return Yx.apply(Yx,arguments)};Ku.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Ku),t.apply(null,e),this};Ku.warnings=function(t){return eq(t)};Ku.version=v8;Ku.stylesheet=Ku.Stylesheet=zv;var gv={exports:{}};function CE(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var am,KA;function h8(){if(KA)return am;KA=1;function t(){this.__data__=[],this.size=0}return am=t,am}var im,$A;function gl(){if($A)return im;$A=1;function t(e,r){return e===r||e!==e&&r!==r}return im=t,im}var um,YA;function sh(){if(YA)return um;YA=1;var t=gl();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return um=e,um}var om,XA;function p8(){if(XA)return om;XA=1;var t=sh(),e=Array.prototype,r=e.splice;function n(i){var u=this.__data__,s=t(u,i);if(s<0)return!1;var l=u.length-1;return s==l?u.pop():r.call(u,s,1),--this.size,!0}return om=n,om}var sm,ZA;function g8(){if(ZA)return sm;ZA=1;var t=sh();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return sm=e,sm}var lm,QA;function y8(){if(QA)return lm;QA=1;var t=sh();function e(r){return t(this.__data__,r)>-1}return lm=e,lm}var cm,WA;function m8(){if(WA)return cm;WA=1;var t=sh();function e(r,n){var i=this.__data__,u=t(i,r);return u<0?(++this.size,i.push([r,n])):i[u][1]=n,this}return cm=e,cm}var fm,JA;function lh(){if(JA)return fm;JA=1;var t=h8(),e=p8(),r=g8(),n=y8(),i=m8();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,fm=u,fm}var dm,eR;function b8(){if(eR)return dm;eR=1;var t=lh();function e(){this.__data__=new t,this.size=0}return dm=e,dm}var vm,tR;function w8(){if(tR)return vm;tR=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return vm=t,vm}var hm,rR;function x8(){if(rR)return hm;rR=1;function t(e){return this.__data__.get(e)}return hm=t,hm}var pm,nR;function E8(){if(nR)return pm;nR=1;function t(e){return this.__data__.has(e)}return pm=t,pm}var gm,aR;function Dk(){if(aR)return gm;aR=1;var t=typeof qc=="object"&&qc&&qc.Object===Object&&qc;return gm=t,gm}var ym,iR;function Wa(){if(iR)return ym;iR=1;var t=Dk(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return ym=r,ym}var mm,uR;function yl(){if(uR)return mm;uR=1;var t=Wa(),e=t.Symbol;return mm=e,mm}var bm,oR;function S8(){if(oR)return bm;oR=1;var t=yl(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function u(s){var l=r.call(s,i),f=s[i];try{s[i]=void 0;var d=!0}catch{}var v=n.call(s);return d&&(l?s[i]=f:delete s[i]),v}return bm=u,bm}var wm,sR;function T8(){if(sR)return wm;sR=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return wm=r,wm}var xm,lR;function Vo(){if(lR)return xm;lR=1;var t=yl(),e=S8(),r=T8(),n="[object Null]",i="[object Undefined]",u=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:u&&u in Object(l)?e(l):r(l)}return xm=s,xm}var Em,cR;function Pa(){if(cR)return Em;cR=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Em=t,Em}var Sm,fR;function gf(){if(fR)return Sm;fR=1;var t=Vo(),e=Pa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",u="[object Proxy]";function s(l){if(!e(l))return!1;var f=t(l);return f==n||f==i||f==r||f==u}return Sm=s,Sm}var Tm,dR;function _8(){if(dR)return Tm;dR=1;var t=Wa(),e=t["__core-js_shared__"];return Tm=e,Tm}var _m,vR;function C8(){if(vR)return _m;vR=1;var t=_8(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return _m=r,_m}var Cm,hR;function Ok(){if(hR)return Cm;hR=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Cm=r,Cm}var Am,pR;function A8(){if(pR)return Am;pR=1;var t=gf(),e=C8(),r=Pa(),n=Ok(),i=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,f=s.toString,d=l.hasOwnProperty,v=RegExp("^"+f.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||e(g))return!1;var m=t(g)?v:u;return m.test(n(g))}return Am=p,Am}var Rm,gR;function R8(){if(gR)return Rm;gR=1;function t(e,r){return e?.[r]}return Rm=t,Rm}var Dm,yR;function jo(){if(yR)return Dm;yR=1;var t=A8(),e=R8();function r(n,i){var u=e(n,i);return t(u)?u:void 0}return Dm=r,Dm}var Om,mR;function AE(){if(mR)return Om;mR=1;var t=jo(),e=Wa(),r=t(e,"Map");return Om=r,Om}var Mm,bR;function ch(){if(bR)return Mm;bR=1;var t=jo(),e=t(Object,"create");return Mm=e,Mm}var Bm,wR;function D8(){if(wR)return Bm;wR=1;var t=ch();function e(){this.__data__=t?t(null):{},this.size=0}return Bm=e,Bm}var qm,xR;function O8(){if(xR)return qm;xR=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return qm=t,qm}var km,ER;function M8(){if(ER)return km;ER=1;var t=ch(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(u){var s=this.__data__;if(t){var l=s[u];return l===e?void 0:l}return n.call(s,u)?s[u]:void 0}return km=i,km}var zm,SR;function B8(){if(SR)return zm;SR=1;var t=ch(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var u=this.__data__;return t?u[i]!==void 0:r.call(u,i)}return zm=n,zm}var Nm,TR;function q8(){if(TR)return Nm;TR=1;var t=ch(),e="__lodash_hash_undefined__";function r(n,i){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=t&&i===void 0?e:i,this}return Nm=r,Nm}var Lm,_R;function k8(){if(_R)return Lm;_R=1;var t=D8(),e=O8(),r=M8(),n=B8(),i=q8();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,Lm=u,Lm}var Pm,CR;function z8(){if(CR)return Pm;CR=1;var t=k8(),e=lh(),r=AE();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Pm=n,Pm}var Im,AR;function N8(){if(AR)return Im;AR=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Im=t,Im}var Um,RR;function fh(){if(RR)return Um;RR=1;var t=N8();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Um=e,Um}var Fm,DR;function L8(){if(DR)return Fm;DR=1;var t=fh();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Fm=e,Fm}var Vm,OR;function P8(){if(OR)return Vm;OR=1;var t=fh();function e(r){return t(this,r).get(r)}return Vm=e,Vm}var jm,MR;function I8(){if(MR)return jm;MR=1;var t=fh();function e(r){return t(this,r).has(r)}return jm=e,jm}var Gm,BR;function U8(){if(BR)return Gm;BR=1;var t=fh();function e(r,n){var i=t(this,r),u=i.size;return i.set(r,n),this.size+=i.size==u?0:1,this}return Gm=e,Gm}var Hm,qR;function RE(){if(qR)return Hm;qR=1;var t=z8(),e=L8(),r=P8(),n=I8(),i=U8();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,Hm=u,Hm}var Km,kR;function F8(){if(kR)return Km;kR=1;var t=lh(),e=AE(),r=RE(),n=200;function i(u,s){var l=this.__data__;if(l instanceof t){var f=l.__data__;if(!e||f.length<n-1)return f.push([u,s]),this.size=++l.size,this;l=this.__data__=new r(f)}return l.set(u,s),this.size=l.size,this}return Km=i,Km}var $m,zR;function dh(){if(zR)return $m;zR=1;var t=lh(),e=b8(),r=w8(),n=x8(),i=E8(),u=F8();function s(l){var f=this.__data__=new t(l);this.size=f.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=u,$m=s,$m}var Ym,NR;function DE(){if(NR)return Ym;NR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return Ym=t,Ym}var Xm,LR;function Mk(){if(LR)return Xm;LR=1;var t=jo(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Xm=e,Xm}var Zm,PR;function vh(){if(PR)return Zm;PR=1;var t=Mk();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Zm=e,Zm}var Qm,IR;function hh(){if(IR)return Qm;IR=1;var t=vh(),e=gl(),r=Object.prototype,n=r.hasOwnProperty;function i(u,s,l){var f=u[s];(!(n.call(u,s)&&e(f,l))||l===void 0&&!(s in u))&&t(u,s,l)}return Qm=i,Qm}var Wm,UR;function yf(){if(UR)return Wm;UR=1;var t=hh(),e=vh();function r(n,i,u,s){var l=!u;u||(u={});for(var f=-1,d=i.length;++f<d;){var v=i[f],p=s?s(u[v],n[v],v,u,n):void 0;p===void 0&&(p=n[v]),l?e(u,v,p):t(u,v,p)}return u}return Wm=r,Wm}var Jm,FR;function V8(){if(FR)return Jm;FR=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Jm=t,Jm}var e0,VR;function gi(){if(VR)return e0;VR=1;function t(e){return e!=null&&typeof e=="object"}return e0=t,e0}var t0,jR;function j8(){if(jR)return t0;jR=1;var t=Vo(),e=gi(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return t0=n,t0}var r0,GR;function mf(){if(GR)return r0;GR=1;var t=j8(),e=gi(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,u=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return r0=u,r0}var n0,HR;function dn(){if(HR)return n0;HR=1;var t=Array.isArray;return n0=t,n0}var Pc={exports:{}},a0,KR;function G8(){if(KR)return a0;KR=1;function t(){return!1}return a0=t,a0}Pc.exports;var $R;function ml(){return $R||($R=1,(function(t,e){var r=Wa(),n=G8(),i=e&&!e.nodeType&&e,u=i&&!0&&t&&!t.nodeType&&t,s=u&&u.exports===i,l=s?r.Buffer:void 0,f=l?l.isBuffer:void 0,d=f||n;t.exports=d})(Pc,Pc.exports)),Pc.exports}var i0,YR;function ph(){if(YR)return i0;YR=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var u=typeof n;return i=i??t,!!i&&(u=="number"||u!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return i0=r,i0}var u0,XR;function OE(){if(XR)return u0;XR=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return u0=e,u0}var o0,ZR;function H8(){if(ZR)return o0;ZR=1;var t=Vo(),e=OE(),r=gi(),n="[object Arguments]",i="[object Array]",u="[object Boolean]",s="[object Date]",l="[object Error]",f="[object Function]",d="[object Map]",v="[object Number]",p="[object Object]",g="[object RegExp]",m="[object Set]",b="[object String]",_="[object WeakMap]",x="[object ArrayBuffer]",E="[object DataView]",C="[object Float32Array]",A="[object Float64Array]",R="[object Int8Array]",M="[object Int16Array]",B="[object Int32Array]",O="[object Uint8Array]",N="[object Uint8ClampedArray]",L="[object Uint16Array]",P="[object Uint32Array]",I={};I[C]=I[A]=I[R]=I[M]=I[B]=I[O]=I[N]=I[L]=I[P]=!0,I[n]=I[i]=I[x]=I[u]=I[E]=I[s]=I[l]=I[f]=I[d]=I[v]=I[p]=I[g]=I[m]=I[b]=I[_]=!1;function V(j){return r(j)&&e(j.length)&&!!I[t(j)]}return o0=V,o0}var s0,QR;function gh(){if(QR)return s0;QR=1;function t(e){return function(r){return e(r)}}return s0=t,s0}var Ic={exports:{}};Ic.exports;var WR;function ME(){return WR||(WR=1,(function(t,e){var r=Dk(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,u=i&&i.exports===n,s=u&&r.process,l=(function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Ic,Ic.exports)),Ic.exports}var l0,JR;function bf(){if(JR)return l0;JR=1;var t=H8(),e=gh(),r=ME(),n=r&&r.isTypedArray,i=n?e(n):t;return l0=i,l0}var c0,eD;function Bk(){if(eD)return c0;eD=1;var t=V8(),e=mf(),r=dn(),n=ml(),i=ph(),u=bf(),s=Object.prototype,l=s.hasOwnProperty;function f(d,v){var p=r(d),g=!p&&e(d),m=!p&&!g&&n(d),b=!p&&!g&&!m&&u(d),_=p||g||m||b,x=_?t(d.length,String):[],E=x.length;for(var C in d)(v||l.call(d,C))&&!(_&&(C=="length"||m&&(C=="offset"||C=="parent")||b&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,E)))&&x.push(C);return x}return c0=f,c0}var f0,tD;function yh(){if(tD)return f0;tD=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return f0=e,f0}var d0,rD;function qk(){if(rD)return d0;rD=1;function t(e,r){return function(n){return e(r(n))}}return d0=t,d0}var v0,nD;function K8(){if(nD)return v0;nD=1;var t=qk(),e=t(Object.keys,Object);return v0=e,v0}var h0,aD;function BE(){if(aD)return h0;aD=1;var t=yh(),e=K8(),r=Object.prototype,n=r.hasOwnProperty;function i(u){if(!t(u))return e(u);var s=[];for(var l in Object(u))n.call(u,l)&&l!="constructor"&&s.push(l);return s}return h0=i,h0}var p0,iD;function Qi(){if(iD)return p0;iD=1;var t=gf(),e=OE();function r(n){return n!=null&&e(n.length)&&!t(n)}return p0=r,p0}var g0,uD;function Wu(){if(uD)return g0;uD=1;var t=Bk(),e=BE(),r=Qi();function n(i){return r(i)?t(i):e(i)}return g0=n,g0}var y0,oD;function $8(){if(oD)return y0;oD=1;var t=yf(),e=Wu();function r(n,i){return n&&t(i,e(i),n)}return y0=r,y0}var m0,sD;function Y8(){if(sD)return m0;sD=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return m0=t,m0}var b0,lD;function X8(){if(lD)return b0;lD=1;var t=Pa(),e=yh(),r=Y8(),n=Object.prototype,i=n.hasOwnProperty;function u(s){if(!t(s))return r(s);var l=e(s),f=[];for(var d in s)d=="constructor"&&(l||!i.call(s,d))||f.push(d);return f}return b0=u,b0}var w0,cD;function Go(){if(cD)return w0;cD=1;var t=Bk(),e=X8(),r=Qi();function n(i){return r(i)?t(i,!0):e(i)}return w0=n,w0}var x0,fD;function Z8(){if(fD)return x0;fD=1;var t=yf(),e=Go();function r(n,i){return n&&t(i,e(i),n)}return x0=r,x0}var Uc={exports:{}};Uc.exports;var dD;function kk(){return dD||(dD=1,(function(t,e){var r=Wa(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,u=i&&i.exports===n,s=u?r.Buffer:void 0,l=s?s.allocUnsafe:void 0;function f(d,v){if(v)return d.slice();var p=d.length,g=l?l(p):new d.constructor(p);return d.copy(g),g}t.exports=f})(Uc,Uc.exports)),Uc.exports}var E0,vD;function zk(){if(vD)return E0;vD=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return E0=t,E0}var S0,hD;function Nk(){if(hD)return S0;hD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,u=0,s=[];++n<i;){var l=e[n];r(l,n,e)&&(s[u++]=l)}return s}return S0=t,S0}var T0,pD;function Lk(){if(pD)return T0;pD=1;function t(){return[]}return T0=t,T0}var _0,gD;function qE(){if(gD)return _0;gD=1;var t=Nk(),e=Lk(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,u=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return n.call(s,l)}))}:e;return _0=u,_0}var C0,yD;function Q8(){if(yD)return C0;yD=1;var t=yf(),e=qE();function r(n,i){return t(n,e(n),i)}return C0=r,C0}var A0,mD;function kE(){if(mD)return A0;mD=1;function t(e,r){for(var n=-1,i=r.length,u=e.length;++n<i;)e[u+n]=r[n];return e}return A0=t,A0}var R0,bD;function mh(){if(bD)return R0;bD=1;var t=qk(),e=t(Object.getPrototypeOf,Object);return R0=e,R0}var D0,wD;function Pk(){if(wD)return D0;wD=1;var t=kE(),e=mh(),r=qE(),n=Lk(),i=Object.getOwnPropertySymbols,u=i?function(s){for(var l=[];s;)t(l,r(s)),s=e(s);return l}:n;return D0=u,D0}var O0,xD;function W8(){if(xD)return O0;xD=1;var t=yf(),e=Pk();function r(n,i){return t(n,e(n),i)}return O0=r,O0}var M0,ED;function Ik(){if(ED)return M0;ED=1;var t=kE(),e=dn();function r(n,i,u){var s=i(n);return e(n)?s:t(s,u(n))}return M0=r,M0}var B0,SD;function Uk(){if(SD)return B0;SD=1;var t=Ik(),e=qE(),r=Wu();function n(i){return t(i,r,e)}return B0=n,B0}var q0,TD;function J8(){if(TD)return q0;TD=1;var t=Ik(),e=Pk(),r=Go();function n(i){return t(i,r,e)}return q0=n,q0}var k0,_D;function eV(){if(_D)return k0;_D=1;var t=jo(),e=Wa(),r=t(e,"DataView");return k0=r,k0}var z0,CD;function tV(){if(CD)return z0;CD=1;var t=jo(),e=Wa(),r=t(e,"Promise");return z0=r,z0}var N0,AD;function Fk(){if(AD)return N0;AD=1;var t=jo(),e=Wa(),r=t(e,"Set");return N0=r,N0}var L0,RD;function rV(){if(RD)return L0;RD=1;var t=jo(),e=Wa(),r=t(e,"WeakMap");return L0=r,L0}var P0,DD;function bl(){if(DD)return P0;DD=1;var t=eV(),e=AE(),r=tV(),n=Fk(),i=rV(),u=Vo(),s=Ok(),l="[object Map]",f="[object Object]",d="[object Promise]",v="[object Set]",p="[object WeakMap]",g="[object DataView]",m=s(t),b=s(e),_=s(r),x=s(n),E=s(i),C=u;return(t&&C(new t(new ArrayBuffer(1)))!=g||e&&C(new e)!=l||r&&C(r.resolve())!=d||n&&C(new n)!=v||i&&C(new i)!=p)&&(C=function(A){var R=u(A),M=R==f?A.constructor:void 0,B=M?s(M):"";if(B)switch(B){case m:return g;case b:return l;case _:return d;case x:return v;case E:return p}return R}),P0=C,P0}var I0,OD;function nV(){if(OD)return I0;OD=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,u=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(u.index=n.index,u.input=n.input),u}return I0=r,I0}var U0,MD;function Vk(){if(MD)return U0;MD=1;var t=Wa(),e=t.Uint8Array;return U0=e,U0}var F0,BD;function zE(){if(BD)return F0;BD=1;var t=Vk();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return F0=e,F0}var V0,qD;function aV(){if(qD)return V0;qD=1;var t=zE();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return V0=e,V0}var j0,kD;function iV(){if(kD)return j0;kD=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return j0=e,j0}var G0,zD;function uV(){if(zD)return G0;zD=1;var t=yl(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return G0=n,G0}var H0,ND;function jk(){if(ND)return H0;ND=1;var t=zE();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return H0=e,H0}var K0,LD;function oV(){if(LD)return K0;LD=1;var t=zE(),e=aV(),r=iV(),n=uV(),i=jk(),u="[object Boolean]",s="[object Date]",l="[object Map]",f="[object Number]",d="[object RegExp]",v="[object Set]",p="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",x="[object Float64Array]",E="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",R="[object Uint8Array]",M="[object Uint8ClampedArray]",B="[object Uint16Array]",O="[object Uint32Array]";function N(L,P,I){var V=L.constructor;switch(P){case m:return t(L);case u:case s:return new V(+L);case b:return e(L,I);case _:case x:case E:case C:case A:case R:case M:case B:case O:return i(L,I);case l:return new V;case f:case p:return new V(L);case d:return r(L);case v:return new V;case g:return n(L)}}return K0=N,K0}var $0,PD;function Gk(){if(PD)return $0;PD=1;var t=Pa(),e=Object.create,r=(function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var u=new n;return n.prototype=void 0,u}})();return $0=r,$0}var Y0,ID;function Hk(){if(ID)return Y0;ID=1;var t=Gk(),e=mh(),r=yh();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return Y0=n,Y0}var X0,UD;function sV(){if(UD)return X0;UD=1;var t=bl(),e=gi(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return X0=n,X0}var Z0,FD;function lV(){if(FD)return Z0;FD=1;var t=sV(),e=gh(),r=ME(),n=r&&r.isMap,i=n?e(n):t;return Z0=i,Z0}var Q0,VD;function cV(){if(VD)return Q0;VD=1;var t=bl(),e=gi(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return Q0=n,Q0}var W0,jD;function fV(){if(jD)return W0;jD=1;var t=cV(),e=gh(),r=ME(),n=r&&r.isSet,i=n?e(n):t;return W0=i,W0}var J0,GD;function Kk(){if(GD)return J0;GD=1;var t=dh(),e=DE(),r=hh(),n=$8(),i=Z8(),u=kk(),s=zk(),l=Q8(),f=W8(),d=Uk(),v=J8(),p=bl(),g=nV(),m=oV(),b=Hk(),_=dn(),x=ml(),E=lV(),C=Pa(),A=fV(),R=Wu(),M=Go(),B=1,O=2,N=4,L="[object Arguments]",P="[object Array]",I="[object Boolean]",V="[object Date]",j="[object Error]",Z="[object Function]",J="[object GeneratorFunction]",G="[object Map]",$="[object Number]",W="[object Object]",oe="[object RegExp]",se="[object Set]",U="[object String]",X="[object Symbol]",ue="[object WeakMap]",Y="[object ArrayBuffer]",ee="[object DataView]",re="[object Float32Array]",de="[object Float64Array]",ze="[object Int8Array]",ie="[object Int16Array]",he="[object Int32Array]",be="[object Uint8Array]",ge="[object Uint8ClampedArray]",Be="[object Uint16Array]",Ge="[object Uint32Array]",He={};He[L]=He[P]=He[Y]=He[ee]=He[I]=He[V]=He[re]=He[de]=He[ze]=He[ie]=He[he]=He[G]=He[$]=He[W]=He[oe]=He[se]=He[U]=He[X]=He[be]=He[ge]=He[Be]=He[Ge]=!0,He[j]=He[Z]=He[ue]=!1;function Ct(Ze,ht,ct,Qe,tt,ot){var st,rt=ht&B,xt=ht&O,Dt=ht&N;if(ct&&(st=tt?ct(Ze,Qe,tt,ot):ct(Ze)),st!==void 0)return st;if(!C(Ze))return Ze;var qt=_(Ze);if(qt){if(st=g(Ze),!rt)return s(Ze,st)}else{var Mt=p(Ze),Pt=Mt==Z||Mt==J;if(x(Ze))return u(Ze,rt);if(Mt==W||Mt==L||Pt&&!tt){if(st=xt||Pt?{}:b(Ze),!rt)return xt?f(Ze,i(st,Ze)):l(Ze,n(st,Ze))}else{if(!He[Mt])return tt?Ze:{};st=m(Ze,Mt,rt)}}ot||(ot=new t);var yt=ot.get(Ze);if(yt)return yt;ot.set(Ze,st),A(Ze)?Ze.forEach(function(K){st.add(Ct(K,ht,ct,K,Ze,ot))}):E(Ze)&&Ze.forEach(function(K,we){st.set(we,Ct(K,ht,ct,we,Ze,ot))});var at=Dt?xt?v:d:xt?M:R,Ne=qt?void 0:at(Ze);return e(Ne||Ze,function(K,we){Ne&&(we=K,K=Ze[we]),r(st,we,Ct(K,ht,ct,we,Ze,ot))}),st}return J0=Ct,J0}var eb,HD;function dV(){if(HD)return eb;HD=1;var t=Kk(),e=4;function r(n){return t(n,e)}return eb=r,eb}var tb,KD;function NE(){if(KD)return tb;KD=1;function t(e){return function(){return e}}return tb=t,tb}var rb,$D;function vV(){if($D)return rb;$D=1;function t(e){return function(r,n,i){for(var u=-1,s=Object(r),l=i(r),f=l.length;f--;){var d=l[e?f:++u];if(n(s[d],d,s)===!1)break}return r}}return rb=t,rb}var nb,YD;function LE(){if(YD)return nb;YD=1;var t=vV(),e=t();return nb=e,nb}var ab,XD;function PE(){if(XD)return ab;XD=1;var t=LE(),e=Wu();function r(n,i){return n&&t(n,i,e)}return ab=r,ab}var ib,ZD;function hV(){if(ZD)return ib;ZD=1;var t=Qi();function e(r,n){return function(i,u){if(i==null)return i;if(!t(i))return r(i,u);for(var s=i.length,l=n?s:-1,f=Object(i);(n?l--:++l<s)&&u(f[l],l,f)!==!1;);return i}}return ib=e,ib}var ub,QD;function bh(){if(QD)return ub;QD=1;var t=PE(),e=hV(),r=e(t);return ub=r,ub}var ob,WD;function Ho(){if(WD)return ob;WD=1;function t(e){return e}return ob=t,ob}var sb,JD;function $k(){if(JD)return sb;JD=1;var t=Ho();function e(r){return typeof r=="function"?r:t}return sb=e,sb}var lb,eO;function Yk(){if(eO)return lb;eO=1;var t=DE(),e=bh(),r=$k(),n=dn();function i(u,s){var l=n(u)?t:e;return l(u,r(s))}return lb=i,lb}var cb,tO;function Xk(){return tO||(tO=1,cb=Yk()),cb}var fb,rO;function pV(){if(rO)return fb;rO=1;var t=bh();function e(r,n){var i=[];return t(r,function(u,s,l){n(u,s,l)&&i.push(u)}),i}return fb=e,fb}var db,nO;function gV(){if(nO)return db;nO=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return db=e,db}var vb,aO;function yV(){if(aO)return vb;aO=1;function t(e){return this.__data__.has(e)}return vb=t,vb}var hb,iO;function Zk(){if(iO)return hb;iO=1;var t=RE(),e=gV(),r=yV();function n(i){var u=-1,s=i==null?0:i.length;for(this.__data__=new t;++u<s;)this.add(i[u])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,hb=n,hb}var pb,uO;function mV(){if(uO)return pb;uO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return pb=t,pb}var gb,oO;function Qk(){if(oO)return gb;oO=1;function t(e,r){return e.has(r)}return gb=t,gb}var yb,sO;function Wk(){if(sO)return yb;sO=1;var t=Zk(),e=mV(),r=Qk(),n=1,i=2;function u(s,l,f,d,v,p){var g=f&n,m=s.length,b=l.length;if(m!=b&&!(g&&b>m))return!1;var _=p.get(s),x=p.get(l);if(_&&x)return _==l&&x==s;var E=-1,C=!0,A=f&i?new t:void 0;for(p.set(s,l),p.set(l,s);++E<m;){var R=s[E],M=l[E];if(d)var B=g?d(M,R,E,l,s,p):d(R,M,E,s,l,p);if(B!==void 0){if(B)continue;C=!1;break}if(A){if(!e(l,function(O,N){if(!r(A,N)&&(R===O||v(R,O,f,d,p)))return A.push(N)})){C=!1;break}}else if(!(R===M||v(R,M,f,d,p))){C=!1;break}}return p.delete(s),p.delete(l),C}return yb=u,yb}var mb,lO;function bV(){if(lO)return mb;lO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,u){n[++r]=[u,i]}),n}return mb=t,mb}var bb,cO;function IE(){if(cO)return bb;cO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return bb=t,bb}var wb,fO;function wV(){if(fO)return wb;fO=1;var t=yl(),e=Vk(),r=gl(),n=Wk(),i=bV(),u=IE(),s=1,l=2,f="[object Boolean]",d="[object Date]",v="[object Error]",p="[object Map]",g="[object Number]",m="[object RegExp]",b="[object Set]",_="[object String]",x="[object Symbol]",E="[object ArrayBuffer]",C="[object DataView]",A=t?t.prototype:void 0,R=A?A.valueOf:void 0;function M(B,O,N,L,P,I,V){switch(N){case C:if(B.byteLength!=O.byteLength||B.byteOffset!=O.byteOffset)return!1;B=B.buffer,O=O.buffer;case E:return!(B.byteLength!=O.byteLength||!I(new e(B),new e(O)));case f:case d:case g:return r(+B,+O);case v:return B.name==O.name&&B.message==O.message;case m:case _:return B==O+"";case p:var j=i;case b:var Z=L&s;if(j||(j=u),B.size!=O.size&&!Z)return!1;var J=V.get(B);if(J)return J==O;L|=l,V.set(B,O);var G=n(j(B),j(O),L,P,I,V);return V.delete(B),G;case x:if(R)return R.call(B)==R.call(O)}return!1}return wb=M,wb}var xb,dO;function xV(){if(dO)return xb;dO=1;var t=Uk(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(u,s,l,f,d,v){var p=l&e,g=t(u),m=g.length,b=t(s),_=b.length;if(m!=_&&!p)return!1;for(var x=m;x--;){var E=g[x];if(!(p?E in s:n.call(s,E)))return!1}var C=v.get(u),A=v.get(s);if(C&&A)return C==s&&A==u;var R=!0;v.set(u,s),v.set(s,u);for(var M=p;++x<m;){E=g[x];var B=u[E],O=s[E];if(f)var N=p?f(O,B,E,s,u,v):f(B,O,E,u,s,v);if(!(N===void 0?B===O||d(B,O,l,f,v):N)){R=!1;break}M||(M=E=="constructor")}if(R&&!M){var L=u.constructor,P=s.constructor;L!=P&&"constructor"in u&&"constructor"in s&&!(typeof L=="function"&&L instanceof L&&typeof P=="function"&&P instanceof P)&&(R=!1)}return v.delete(u),v.delete(s),R}return xb=i,xb}var Eb,vO;function EV(){if(vO)return Eb;vO=1;var t=dh(),e=Wk(),r=wV(),n=xV(),i=bl(),u=dn(),s=ml(),l=bf(),f=1,d="[object Arguments]",v="[object Array]",p="[object Object]",g=Object.prototype,m=g.hasOwnProperty;function b(_,x,E,C,A,R){var M=u(_),B=u(x),O=M?v:i(_),N=B?v:i(x);O=O==d?p:O,N=N==d?p:N;var L=O==p,P=N==p,I=O==N;if(I&&s(_)){if(!s(x))return!1;M=!0,L=!1}if(I&&!L)return R||(R=new t),M||l(_)?e(_,x,E,C,A,R):r(_,x,O,E,C,A,R);if(!(E&f)){var V=L&&m.call(_,"__wrapped__"),j=P&&m.call(x,"__wrapped__");if(V||j){var Z=V?_.value():_,J=j?x.value():x;return R||(R=new t),A(Z,J,E,C,R)}}return I?(R||(R=new t),n(_,x,E,C,A,R)):!1}return Eb=b,Eb}var Sb,hO;function Jk(){if(hO)return Sb;hO=1;var t=EV(),e=gi();function r(n,i,u,s,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,u,s,r,l)}return Sb=r,Sb}var Tb,pO;function SV(){if(pO)return Tb;pO=1;var t=dh(),e=Jk(),r=1,n=2;function i(u,s,l,f){var d=l.length,v=d,p=!f;if(u==null)return!v;for(u=Object(u);d--;){var g=l[d];if(p&&g[2]?g[1]!==u[g[0]]:!(g[0]in u))return!1}for(;++d<v;){g=l[d];var m=g[0],b=u[m],_=g[1];if(p&&g[2]){if(b===void 0&&!(m in u))return!1}else{var x=new t;if(f)var E=f(b,_,m,u,s,x);if(!(E===void 0?e(_,b,r|n,f,x):E))return!1}}return!0}return Tb=i,Tb}var _b,gO;function ez(){if(gO)return _b;gO=1;var t=Pa();function e(r){return r===r&&!t(r)}return _b=e,_b}var Cb,yO;function TV(){if(yO)return Cb;yO=1;var t=ez(),e=Wu();function r(n){for(var i=e(n),u=i.length;u--;){var s=i[u],l=n[s];i[u]=[s,l,t(l)]}return i}return Cb=r,Cb}var Ab,mO;function tz(){if(mO)return Ab;mO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Ab=t,Ab}var Rb,bO;function _V(){if(bO)return Rb;bO=1;var t=SV(),e=TV(),r=tz();function n(i){var u=e(i);return u.length==1&&u[0][2]?r(u[0][0],u[0][1]):function(s){return s===i||t(s,i,u)}}return Rb=n,Rb}var Db,wO;function wl(){if(wO)return Db;wO=1;var t=Vo(),e=gi(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Db=n,Db}var Ob,xO;function UE(){if(xO)return Ob;xO=1;var t=dn(),e=wl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(u,s){if(t(u))return!1;var l=typeof u;return l=="number"||l=="symbol"||l=="boolean"||u==null||e(u)?!0:n.test(u)||!r.test(u)||s!=null&&u in Object(s)}return Ob=i,Ob}var Mb,EO;function CV(){if(EO)return Mb;EO=1;var t=RE(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var u=function(){var s=arguments,l=i?i.apply(this,s):s[0],f=u.cache;if(f.has(l))return f.get(l);var d=n.apply(this,s);return u.cache=f.set(l,d)||f,d};return u.cache=new(r.Cache||t),u}return r.Cache=t,Mb=r,Mb}var Bb,SO;function AV(){if(SO)return Bb;SO=1;var t=CV(),e=500;function r(n){var i=t(n,function(s){return u.size===e&&u.clear(),s}),u=i.cache;return i}return Bb=r,Bb}var qb,TO;function RV(){if(TO)return qb;TO=1;var t=AV(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var u=[];return i.charCodeAt(0)===46&&u.push(""),i.replace(e,function(s,l,f,d){u.push(f?d.replace(r,"$1"):l||s)}),u});return qb=n,qb}var kb,_O;function wh(){if(_O)return kb;_O=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,u=Array(i);++n<i;)u[n]=r(e[n],n,e);return u}return kb=t,kb}var zb,CO;function DV(){if(CO)return zb;CO=1;var t=yl(),e=wh(),r=dn(),n=wl(),i=t?t.prototype:void 0,u=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return u?u.call(l):"";var f=l+"";return f=="0"&&1/l==-1/0?"-0":f}return zb=s,zb}var Nb,AO;function rz(){if(AO)return Nb;AO=1;var t=DV();function e(r){return r==null?"":t(r)}return Nb=e,Nb}var Lb,RO;function xh(){if(RO)return Lb;RO=1;var t=dn(),e=UE(),r=RV(),n=rz();function i(u,s){return t(u)?u:e(u,s)?[u]:r(n(u))}return Lb=i,Lb}var Pb,DO;function wf(){if(DO)return Pb;DO=1;var t=wl();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Pb=e,Pb}var Ib,OO;function Eh(){if(OO)return Ib;OO=1;var t=xh(),e=wf();function r(n,i){i=t(i,n);for(var u=0,s=i.length;n!=null&&u<s;)n=n[e(i[u++])];return u&&u==s?n:void 0}return Ib=r,Ib}var Ub,MO;function OV(){if(MO)return Ub;MO=1;var t=Eh();function e(r,n,i){var u=r==null?void 0:t(r,n);return u===void 0?i:u}return Ub=e,Ub}var Fb,BO;function MV(){if(BO)return Fb;BO=1;function t(e,r){return e!=null&&r in Object(e)}return Fb=t,Fb}var Vb,qO;function nz(){if(qO)return Vb;qO=1;var t=xh(),e=mf(),r=dn(),n=ph(),i=OE(),u=wf();function s(l,f,d){f=t(f,l);for(var v=-1,p=f.length,g=!1;++v<p;){var m=u(f[v]);if(!(g=l!=null&&d(l,m)))break;l=l[m]}return g||++v!=p?g:(p=l==null?0:l.length,!!p&&i(p)&&n(m,p)&&(r(l)||e(l)))}return Vb=s,Vb}var jb,kO;function az(){if(kO)return jb;kO=1;var t=MV(),e=nz();function r(n,i){return n!=null&&e(n,i,t)}return jb=r,jb}var Gb,zO;function BV(){if(zO)return Gb;zO=1;var t=Jk(),e=OV(),r=az(),n=UE(),i=ez(),u=tz(),s=wf(),l=1,f=2;function d(v,p){return n(v)&&i(p)?u(s(v),p):function(g){var m=e(g,v);return m===void 0&&m===p?r(g,v):t(p,m,l|f)}}return Gb=d,Gb}var Hb,NO;function iz(){if(NO)return Hb;NO=1;function t(e){return function(r){return r?.[e]}}return Hb=t,Hb}var Kb,LO;function qV(){if(LO)return Kb;LO=1;var t=Eh();function e(r){return function(n){return t(n,r)}}return Kb=e,Kb}var $b,PO;function kV(){if(PO)return $b;PO=1;var t=iz(),e=qV(),r=UE(),n=wf();function i(u){return r(u)?t(n(u)):e(u)}return $b=i,$b}var Yb,IO;function Wi(){if(IO)return Yb;IO=1;var t=_V(),e=BV(),r=Ho(),n=dn(),i=kV();function u(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return Yb=u,Yb}var Xb,UO;function uz(){if(UO)return Xb;UO=1;var t=Nk(),e=pV(),r=Wi(),n=dn();function i(u,s){var l=n(u)?t:e;return l(u,r(s,3))}return Xb=i,Xb}var Zb,FO;function zV(){if(FO)return Zb;FO=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n,i){return n!=null&&e.call(n,i)}return Zb=r,Zb}var Qb,VO;function oz(){if(VO)return Qb;VO=1;var t=zV(),e=nz();function r(n,i){return n!=null&&e(n,i,t)}return Qb=r,Qb}var Wb,jO;function NV(){if(jO)return Wb;jO=1;var t=BE(),e=bl(),r=mf(),n=dn(),i=Qi(),u=ml(),s=yh(),l=bf(),f="[object Map]",d="[object Set]",v=Object.prototype,p=v.hasOwnProperty;function g(m){if(m==null)return!0;if(i(m)&&(n(m)||typeof m=="string"||typeof m.splice=="function"||u(m)||l(m)||r(m)))return!m.length;var b=e(m);if(b==f||b==d)return!m.size;if(s(m))return!t(m).length;for(var _ in m)if(p.call(m,_))return!1;return!0}return Wb=g,Wb}var Jb,GO;function sz(){if(GO)return Jb;GO=1;function t(e){return e===void 0}return Jb=t,Jb}var e1,HO;function lz(){if(HO)return e1;HO=1;var t=bh(),e=Qi();function r(n,i){var u=-1,s=e(n)?Array(n.length):[];return t(n,function(l,f,d){s[++u]=i(l,f,d)}),s}return e1=r,e1}var t1,KO;function cz(){if(KO)return t1;KO=1;var t=wh(),e=Wi(),r=lz(),n=dn();function i(u,s){var l=n(u)?t:r;return l(u,e(s,3))}return t1=i,t1}var r1,$O;function LV(){if($O)return r1;$O=1;function t(e,r,n,i){var u=-1,s=e==null?0:e.length;for(i&&s&&(n=e[++u]);++u<s;)n=r(n,e[u],u,e);return n}return r1=t,r1}var n1,YO;function PV(){if(YO)return n1;YO=1;function t(e,r,n,i,u){return u(e,function(s,l,f){n=i?(i=!1,s):r(n,s,l,f)}),n}return n1=t,n1}var a1,XO;function fz(){if(XO)return a1;XO=1;var t=LV(),e=bh(),r=Wi(),n=PV(),i=dn();function u(s,l,f){var d=i(s)?t:n,v=arguments.length<3;return d(s,r(l,4),f,v,e)}return a1=u,a1}var i1,ZO;function IV(){if(ZO)return i1;ZO=1;var t=Vo(),e=dn(),r=gi(),n="[object String]";function i(u){return typeof u=="string"||!e(u)&&r(u)&&t(u)==n}return i1=i,i1}var u1,QO;function UV(){if(QO)return u1;QO=1;var t=iz(),e=t("length");return u1=e,u1}var o1,WO;function FV(){if(WO)return o1;WO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,u="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+u+"]");function f(d){return l.test(d)}return o1=f,o1}var s1,JO;function VV(){if(JO)return s1;JO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,u="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+f+")",v="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",b=d+"?",_="["+u+"]?",x="(?:"+m+"(?:"+[v,p,g].join("|")+")"+_+b+")*",E=_+b+x,C="(?:"+[v+l+"?",l,p,g,s].join("|")+")",A=RegExp(f+"(?="+f+")|"+C+E,"g");function R(M){for(var B=A.lastIndex=0;A.test(M);)++B;return B}return s1=R,s1}var l1,eM;function jV(){if(eM)return l1;eM=1;var t=UV(),e=FV(),r=VV();function n(i){return e(i)?r(i):t(i)}return l1=n,l1}var c1,tM;function GV(){if(tM)return c1;tM=1;var t=BE(),e=bl(),r=Qi(),n=IV(),i=jV(),u="[object Map]",s="[object Set]";function l(f){if(f==null)return 0;if(r(f))return n(f)?i(f):f.length;var d=e(f);return d==u||d==s?f.size:t(f).length}return c1=l,c1}var f1,rM;function HV(){if(rM)return f1;rM=1;var t=DE(),e=Gk(),r=PE(),n=Wi(),i=mh(),u=dn(),s=ml(),l=gf(),f=Pa(),d=bf();function v(p,g,m){var b=u(p),_=b||s(p)||d(p);if(g=n(g,4),m==null){var x=p&&p.constructor;_?m=b?new x:[]:f(p)?m=l(x)?e(i(p)):{}:m={}}return(_?t:r)(p,function(E,C,A){return g(m,E,C,A)}),m}return f1=v,f1}var d1,nM;function KV(){if(nM)return d1;nM=1;var t=yl(),e=mf(),r=dn(),n=t?t.isConcatSpreadable:void 0;function i(u){return r(u)||e(u)||!!(n&&u&&u[n])}return d1=i,d1}var v1,aM;function FE(){if(aM)return v1;aM=1;var t=kE(),e=KV();function r(n,i,u,s,l){var f=-1,d=n.length;for(u||(u=e),l||(l=[]);++f<d;){var v=n[f];i>0&&u(v)?i>1?r(v,i-1,u,s,l):t(l,v):s||(l[l.length]=v)}return l}return v1=r,v1}var h1,iM;function $V(){if(iM)return h1;iM=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return h1=t,h1}var p1,uM;function dz(){if(uM)return p1;uM=1;var t=$V(),e=Math.max;function r(n,i,u){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,f=e(s.length-i,0),d=Array(f);++l<f;)d[l]=s[i+l];l=-1;for(var v=Array(i+1);++l<i;)v[l]=s[l];return v[i]=u(d),t(n,this,v)}}return p1=r,p1}var g1,oM;function YV(){if(oM)return g1;oM=1;var t=NE(),e=Mk(),r=Ho(),n=e?function(i,u){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(u),writable:!0})}:r;return g1=n,g1}var y1,sM;function XV(){if(sM)return y1;sM=1;var t=800,e=16,r=Date.now;function n(i){var u=0,s=0;return function(){var l=r(),f=e-(l-s);if(s=l,f>0){if(++u>=t)return arguments[0]}else u=0;return i.apply(void 0,arguments)}}return y1=n,y1}var m1,lM;function vz(){if(lM)return m1;lM=1;var t=YV(),e=XV(),r=e(t);return m1=r,m1}var b1,cM;function Sh(){if(cM)return b1;cM=1;var t=Ho(),e=dz(),r=vz();function n(i,u){return r(e(i,u,t),i+"")}return b1=n,b1}var w1,fM;function hz(){if(fM)return w1;fM=1;function t(e,r,n,i){for(var u=e.length,s=n+(i?1:-1);i?s--:++s<u;)if(r(e[s],s,e))return s;return-1}return w1=t,w1}var x1,dM;function ZV(){if(dM)return x1;dM=1;function t(e){return e!==e}return x1=t,x1}var E1,vM;function QV(){if(vM)return E1;vM=1;function t(e,r,n){for(var i=n-1,u=e.length;++i<u;)if(e[i]===r)return i;return-1}return E1=t,E1}var S1,hM;function WV(){if(hM)return S1;hM=1;var t=hz(),e=ZV(),r=QV();function n(i,u,s){return u===u?r(i,u,s):t(i,e,s)}return S1=n,S1}var T1,pM;function JV(){if(pM)return T1;pM=1;var t=WV();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return T1=e,T1}var _1,gM;function ej(){if(gM)return _1;gM=1;function t(e,r,n){for(var i=-1,u=e==null?0:e.length;++i<u;)if(n(r,e[i]))return!0;return!1}return _1=t,_1}var C1,yM;function tj(){if(yM)return C1;yM=1;function t(){}return C1=t,C1}var A1,mM;function rj(){if(mM)return A1;mM=1;var t=Fk(),e=tj(),r=IE(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(u){return new t(u)}:e;return A1=i,A1}var R1,bM;function nj(){if(bM)return R1;bM=1;var t=Zk(),e=JV(),r=ej(),n=Qk(),i=rj(),u=IE(),s=200;function l(f,d,v){var p=-1,g=e,m=f.length,b=!0,_=[],x=_;if(v)b=!1,g=r;else if(m>=s){var E=d?null:i(f);if(E)return u(E);b=!1,g=n,x=new t}else x=d?[]:_;e:for(;++p<m;){var C=f[p],A=d?d(C):C;if(C=v||C!==0?C:0,b&&A===A){for(var R=x.length;R--;)if(x[R]===A)continue e;d&&x.push(A),_.push(C)}else g(x,A,v)||(x!==_&&x.push(A),_.push(C))}return _}return R1=l,R1}var D1,wM;function pz(){if(wM)return D1;wM=1;var t=Qi(),e=gi();function r(n){return e(n)&&t(n)}return D1=r,D1}var O1,xM;function aj(){if(xM)return O1;xM=1;var t=FE(),e=Sh(),r=nj(),n=pz(),i=e(function(u){return r(t(u,1,n,!0))});return O1=i,O1}var M1,EM;function ij(){if(EM)return M1;EM=1;var t=wh();function e(r,n){return t(n,function(i){return r[i]})}return M1=e,M1}var B1,SM;function gz(){if(SM)return B1;SM=1;var t=ij(),e=Wu();function r(n){return n==null?[]:t(n,e(n))}return B1=r,B1}var q1,TM;function Ia(){if(TM)return q1;TM=1;var t;if(typeof CE=="function")try{t={clone:dV(),constant:NE(),each:Xk(),filter:uz(),has:oz(),isArray:dn(),isEmpty:NV(),isFunction:gf(),isUndefined:sz(),keys:Wu(),map:cz(),reduce:fz(),size:GV(),transform:HV(),union:aj(),values:gz()}}catch{}return t||(t=window._),q1=t,q1}var k1,_M;function VE(){if(_M)return k1;_M=1;var t=Ia();k1=i;var e="\0",r="\0",n="";function i(v){this._isDirected=t.has(v,"directed")?v.directed:!0,this._isMultigraph=t.has(v,"multigraph")?v.multigraph:!1,this._isCompound=t.has(v,"compound")?v.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(v){return this._label=v,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(v){return t.isFunction(v)||(v=t.constant(v)),this._defaultNodeLabelFn=v,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var v=this;return t.filter(this.nodes(),function(p){return t.isEmpty(v._in[p])})},i.prototype.sinks=function(){var v=this;return t.filter(this.nodes(),function(p){return t.isEmpty(v._out[p])})},i.prototype.setNodes=function(v,p){var g=arguments,m=this;return t.each(v,function(b){g.length>1?m.setNode(b,p):m.setNode(b)}),this},i.prototype.setNode=function(v,p){return t.has(this._nodes,v)?(arguments.length>1&&(this._nodes[v]=p),this):(this._nodes[v]=arguments.length>1?p:this._defaultNodeLabelFn(v),this._isCompound&&(this._parent[v]=r,this._children[v]={},this._children[r][v]=!0),this._in[v]={},this._preds[v]={},this._out[v]={},this._sucs[v]={},++this._nodeCount,this)},i.prototype.node=function(v){return this._nodes[v]},i.prototype.hasNode=function(v){return t.has(this._nodes,v)},i.prototype.removeNode=function(v){var p=this;if(t.has(this._nodes,v)){var g=function(m){p.removeEdge(p._edgeObjs[m])};delete this._nodes[v],this._isCompound&&(this._removeFromParentsChildList(v),delete this._parent[v],t.each(this.children(v),function(m){p.setParent(m)}),delete this._children[v]),t.each(t.keys(this._in[v]),g),delete this._in[v],delete this._preds[v],t.each(t.keys(this._out[v]),g),delete this._out[v],delete this._sucs[v],--this._nodeCount}return this},i.prototype.setParent=function(v,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(p))p=r;else{p+="";for(var g=p;!t.isUndefined(g);g=this.parent(g))if(g===v)throw new Error("Setting "+p+" as parent of "+v+" would create a cycle");this.setNode(p)}return this.setNode(v),this._removeFromParentsChildList(v),this._parent[v]=p,this._children[p][v]=!0,this},i.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]},i.prototype.parent=function(v){if(this._isCompound){var p=this._parent[v];if(p!==r)return p}},i.prototype.children=function(v){if(t.isUndefined(v)&&(v=r),this._isCompound){var p=this._children[v];if(p)return t.keys(p)}else{if(v===r)return this.nodes();if(this.hasNode(v))return[]}},i.prototype.predecessors=function(v){var p=this._preds[v];if(p)return t.keys(p)},i.prototype.successors=function(v){var p=this._sucs[v];if(p)return t.keys(p)},i.prototype.neighbors=function(v){var p=this.predecessors(v);if(p)return t.union(p,this.successors(v))},i.prototype.isLeaf=function(v){var p;return this.isDirected()?p=this.successors(v):p=this.neighbors(v),p.length===0},i.prototype.filterNodes=function(v){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var g=this;t.each(this._nodes,function(_,x){v(x)&&p.setNode(x,_)}),t.each(this._edgeObjs,function(_){p.hasNode(_.v)&&p.hasNode(_.w)&&p.setEdge(_,g.edge(_))});var m={};function b(_){var x=g.parent(_);return x===void 0||p.hasNode(x)?(m[_]=x,x):x in m?m[x]:b(x)}return this._isCompound&&t.each(p.nodes(),function(_){p.setParent(_,b(_))}),p},i.prototype.setDefaultEdgeLabel=function(v){return t.isFunction(v)||(v=t.constant(v)),this._defaultEdgeLabelFn=v,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(v,p){var g=this,m=arguments;return t.reduce(v,function(b,_){return m.length>1?g.setEdge(b,_,p):g.setEdge(b,_),_}),this},i.prototype.setEdge=function(){var v,p,g,m,b=!1,_=arguments[0];typeof _=="object"&&_!==null&&"v"in _?(v=_.v,p=_.w,g=_.name,arguments.length===2&&(m=arguments[1],b=!0)):(v=_,p=arguments[1],g=arguments[3],arguments.length>2&&(m=arguments[2],b=!0)),v=""+v,p=""+p,t.isUndefined(g)||(g=""+g);var x=l(this._isDirected,v,p,g);if(t.has(this._edgeLabels,x))return b&&(this._edgeLabels[x]=m),this;if(!t.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(v),this.setNode(p),this._edgeLabels[x]=b?m:this._defaultEdgeLabelFn(v,p,g);var E=f(this._isDirected,v,p,g);return v=E.v,p=E.w,Object.freeze(E),this._edgeObjs[x]=E,u(this._preds[p],v),u(this._sucs[v],p),this._in[p][x]=E,this._out[v][x]=E,this._edgeCount++,this},i.prototype.edge=function(v,p,g){var m=arguments.length===1?d(this._isDirected,arguments[0]):l(this._isDirected,v,p,g);return this._edgeLabels[m]},i.prototype.hasEdge=function(v,p,g){var m=arguments.length===1?d(this._isDirected,arguments[0]):l(this._isDirected,v,p,g);return t.has(this._edgeLabels,m)},i.prototype.removeEdge=function(v,p,g){var m=arguments.length===1?d(this._isDirected,arguments[0]):l(this._isDirected,v,p,g),b=this._edgeObjs[m];return b&&(v=b.v,p=b.w,delete this._edgeLabels[m],delete this._edgeObjs[m],s(this._preds[p],v),s(this._sucs[v],p),delete this._in[p][m],delete this._out[v][m],this._edgeCount--),this},i.prototype.inEdges=function(v,p){var g=this._in[v];if(g){var m=t.values(g);return p?t.filter(m,function(b){return b.v===p}):m}},i.prototype.outEdges=function(v,p){var g=this._out[v];if(g){var m=t.values(g);return p?t.filter(m,function(b){return b.w===p}):m}},i.prototype.nodeEdges=function(v,p){var g=this.inEdges(v,p);if(g)return g.concat(this.outEdges(v,p))};function u(v,p){v[p]?v[p]++:v[p]=1}function s(v,p){--v[p]||delete v[p]}function l(v,p,g,m){var b=""+p,_=""+g;if(!v&&b>_){var x=b;b=_,_=x}return b+n+_+n+(t.isUndefined(m)?e:m)}function f(v,p,g,m){var b=""+p,_=""+g;if(!v&&b>_){var x=b;b=_,_=x}var E={v:b,w:_};return m&&(E.name=m),E}function d(v,p){return l(v,p.v,p.w,p.name)}return k1}var z1,CM;function uj(){return CM||(CM=1,z1="2.1.8"),z1}var N1,AM;function oj(){return AM||(AM=1,N1={Graph:VE(),version:uj()}),N1}var L1,RM;function sj(){if(RM)return L1;RM=1;var t=Ia(),e=VE();L1={write:r,read:u};function r(s){var l={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:i(s)};return t.isUndefined(s.graph())||(l.value=t.clone(s.graph())),l}function n(s){return t.map(s.nodes(),function(l){var f=s.node(l),d=s.parent(l),v={v:l};return t.isUndefined(f)||(v.value=f),t.isUndefined(d)||(v.parent=d),v})}function i(s){return t.map(s.edges(),function(l){var f=s.edge(l),d={v:l.v,w:l.w};return t.isUndefined(l.name)||(d.name=l.name),t.isUndefined(f)||(d.value=f),d})}function u(s){var l=new e(s.options).setGraph(s.value);return t.each(s.nodes,function(f){l.setNode(f.v,f.value),f.parent&&l.setParent(f.v,f.parent)}),t.each(s.edges,function(f){l.setEdge({v:f.v,w:f.w,name:f.name},f.value)}),l}return L1}var P1,DM;function lj(){if(DM)return P1;DM=1;var t=Ia();P1=e;function e(r){var n={},i=[],u;function s(l){t.has(n,l)||(n[l]=!0,u.push(l),t.each(r.successors(l),s),t.each(r.predecessors(l),s))}return t.each(r.nodes(),function(l){u=[],s(l),u.length&&i.push(u)}),i}return P1}var I1,OM;function yz(){if(OM)return I1;OM=1;var t=Ia();I1=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(r){return r.key})},e.prototype.has=function(r){return t.has(this._keyIndices,r)},e.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!t.has(i,r)){var u=this._arr,s=u.length;return i[r]=s,u.push({key:r,priority:n}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},e.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},e.prototype._heapify=function(r){var n=this._arr,i=2*r,u=i+1,s=r;i<n.length&&(s=n[i].priority<n[s].priority?i:s,u<n.length&&(s=n[u].priority<n[s].priority?u:s),s!==r&&(this._swap(r,s),this._heapify(s)))},e.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,u;r!==0&&(u=r>>1,!(n[u].priority<i));)this._swap(r,u),r=u},e.prototype._swap=function(r,n){var i=this._arr,u=this._keyIndices,s=i[r],l=i[n];i[r]=l,i[n]=s,u[l.key]=r,u[s.key]=n},I1}var U1,MM;function mz(){if(MM)return U1;MM=1;var t=Ia(),e=yz();U1=n;var r=t.constant(1);function n(u,s,l,f){return i(u,String(s),l||r,f||function(d){return u.outEdges(d)})}function i(u,s,l,f){var d={},v=new e,p,g,m=function(b){var _=b.v!==p?b.v:b.w,x=d[_],E=l(b),C=g.distance+E;if(E<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+b+" Weight: "+E);C<x.distance&&(x.distance=C,x.predecessor=p,v.decrease(_,C))};for(u.nodes().forEach(function(b){var _=b===s?0:Number.POSITIVE_INFINITY;d[b]={distance:_},v.add(b,_)});v.size()>0&&(p=v.removeMin(),g=d[p],g.distance!==Number.POSITIVE_INFINITY);)f(p).forEach(m);return d}return U1}var F1,BM;function cj(){if(BM)return F1;BM=1;var t=mz(),e=Ia();F1=r;function r(n,i,u){return e.transform(n.nodes(),function(s,l){s[l]=t(n,l,i,u)},{})}return F1}var V1,qM;function bz(){if(qM)return V1;qM=1;var t=Ia();V1=e;function e(r){var n=0,i=[],u={},s=[];function l(f){var d=u[f]={onStack:!0,lowlink:n,index:n++};if(i.push(f),r.successors(f).forEach(function(g){t.has(u,g)?u[g].onStack&&(d.lowlink=Math.min(d.lowlink,u[g].index)):(l(g),d.lowlink=Math.min(d.lowlink,u[g].lowlink))}),d.lowlink===d.index){var v=[],p;do p=i.pop(),u[p].onStack=!1,v.push(p);while(f!==p);s.push(v)}}return r.nodes().forEach(function(f){t.has(u,f)||l(f)}),s}return V1}var j1,kM;function fj(){if(kM)return j1;kM=1;var t=Ia(),e=bz();j1=r;function r(n){return t.filter(e(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return j1}var G1,zM;function dj(){if(zM)return G1;zM=1;var t=Ia();G1=r;var e=t.constant(1);function r(i,u,s){return n(i,u||e,s||function(l){return i.outEdges(l)})}function n(i,u,s){var l={},f=i.nodes();return f.forEach(function(d){l[d]={},l[d][d]={distance:0},f.forEach(function(v){d!==v&&(l[d][v]={distance:Number.POSITIVE_INFINITY})}),s(d).forEach(function(v){var p=v.v===d?v.w:v.v,g=u(v);l[d][p]={distance:g,predecessor:d}})}),f.forEach(function(d){var v=l[d];f.forEach(function(p){var g=l[p];f.forEach(function(m){var b=g[d],_=v[m],x=g[m],E=b.distance+_.distance;E<x.distance&&(x.distance=E,x.predecessor=_.predecessor)})})}),l}return G1}var H1,NM;function wz(){if(NM)return H1;NM=1;var t=Ia();H1=e,e.CycleException=r;function e(n){var i={},u={},s=[];function l(f){if(t.has(u,f))throw new r;t.has(i,f)||(u[f]=!0,i[f]=!0,t.each(n.predecessors(f),l),delete u[f],s.push(f))}if(t.each(n.sinks(),l),t.size(i)!==n.nodeCount())throw new r;return s}function r(){}return r.prototype=new Error,H1}var K1,LM;function vj(){if(LM)return K1;LM=1;var t=wz();K1=e;function e(r){try{t(r)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}return K1}var $1,PM;function xz(){if(PM)return $1;PM=1;var t=Ia();$1=e;function e(n,i,u){t.isArray(i)||(i=[i]);var s=(n.isDirected()?n.successors:n.neighbors).bind(n),l=[],f={};return t.each(i,function(d){if(!n.hasNode(d))throw new Error("Graph does not have node: "+d);r(n,d,u==="post",f,s,l)}),l}function r(n,i,u,s,l,f){t.has(s,i)||(s[i]=!0,u||f.push(i),t.each(l(i),function(d){r(n,d,u,s,l,f)}),u&&f.push(i))}return $1}var Y1,IM;function hj(){if(IM)return Y1;IM=1;var t=xz();Y1=e;function e(r,n){return t(r,n,"post")}return Y1}var X1,UM;function pj(){if(UM)return X1;UM=1;var t=xz();X1=e;function e(r,n){return t(r,n,"pre")}return X1}var Z1,FM;function gj(){if(FM)return Z1;FM=1;var t=Ia(),e=VE(),r=yz();Z1=n;function n(i,u){var s=new e,l={},f=new r,d;function v(g){var m=g.v===d?g.w:g.v,b=f.priority(m);if(b!==void 0){var _=u(g);_<b&&(l[m]=d,f.decrease(m,_))}}if(i.nodeCount()===0)return s;t.each(i.nodes(),function(g){f.add(g,Number.POSITIVE_INFINITY),s.setNode(g)}),f.decrease(i.nodes()[0],0);for(var p=!1;f.size()>0;){if(d=f.removeMin(),t.has(l,d))s.setEdge(d,l[d]);else{if(p)throw new Error("Input graph is not connected: "+i);p=!0}i.nodeEdges(d).forEach(v)}return s}return Z1}var Q1,VM;function yj(){return VM||(VM=1,Q1={components:lj(),dijkstra:mz(),dijkstraAll:cj(),findCycles:fj(),floydWarshall:dj(),isAcyclic:vj(),postorder:hj(),preorder:pj(),prim:gj(),tarjan:bz(),topsort:wz()}),Q1}var W1,jM;function mj(){if(jM)return W1;jM=1;var t=oj();return W1={Graph:t.Graph,json:sj(),alg:yj(),version:t.version},W1}var J1,GM;function Qa(){if(GM)return J1;GM=1;var t;if(typeof CE=="function")try{t=mj()}catch{}return t||(t=window.graphlib),J1=t,J1}var ew,HM;function bj(){if(HM)return ew;HM=1;var t=Kk(),e=1,r=4;function n(i){return t(i,e|r)}return ew=n,ew}var tw,KM;function Th(){if(KM)return tw;KM=1;var t=gl(),e=Qi(),r=ph(),n=Pa();function i(u,s,l){if(!n(l))return!1;var f=typeof s;return(f=="number"?e(l)&&r(s,l.length):f=="string"&&s in l)?t(l[s],u):!1}return tw=i,tw}var rw,$M;function wj(){if($M)return rw;$M=1;var t=Sh(),e=gl(),r=Th(),n=Go(),i=Object.prototype,u=i.hasOwnProperty,s=t(function(l,f){l=Object(l);var d=-1,v=f.length,p=v>2?f[2]:void 0;for(p&&r(f[0],f[1],p)&&(v=1);++d<v;)for(var g=f[d],m=n(g),b=-1,_=m.length;++b<_;){var x=m[b],E=l[x];(E===void 0||e(E,i[x])&&!u.call(l,x))&&(l[x]=g[x])}return l});return rw=s,rw}var nw,YM;function xj(){if(YM)return nw;YM=1;var t=Wi(),e=Qi(),r=Wu();function n(i){return function(u,s,l){var f=Object(u);if(!e(u)){var d=t(s,3);u=r(u),s=function(p){return d(f[p],p,f)}}var v=i(u,s,l);return v>-1?f[d?u[v]:v]:void 0}}return nw=n,nw}var aw,XM;function Ej(){if(XM)return aw;XM=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return aw=e,aw}var iw,ZM;function Sj(){if(ZM)return iw;ZM=1;var t=Ej(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return iw=r,iw}var uw,QM;function Tj(){if(QM)return uw;QM=1;var t=Sj(),e=Pa(),r=wl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function f(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var v=typeof d.valueOf=="function"?d.valueOf():d;d=e(v)?v+"":v}if(typeof d!="string")return d===0?d:+d;d=t(d);var p=u.test(d);return p||s.test(d)?l(d.slice(2),p?2:8):i.test(d)?n:+d}return uw=f,uw}var ow,WM;function Ez(){if(WM)return ow;WM=1;var t=Tj(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var u=i<0?-1:1;return u*r}return i===i?i:0}return ow=n,ow}var sw,JM;function _j(){if(JM)return sw;JM=1;var t=Ez();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return sw=e,sw}var lw,e5;function Cj(){if(e5)return lw;e5=1;var t=hz(),e=Wi(),r=_j(),n=Math.max;function i(u,s,l){var f=u==null?0:u.length;if(!f)return-1;var d=l==null?0:r(l);return d<0&&(d=n(f+d,0)),t(u,e(s,3),d)}return lw=i,lw}var cw,t5;function Aj(){if(t5)return cw;t5=1;var t=xj(),e=Cj(),r=t(e);return cw=r,cw}var fw,r5;function Sz(){if(r5)return fw;r5=1;var t=FE();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return fw=e,fw}var dw,n5;function Rj(){if(n5)return dw;n5=1;var t=LE(),e=$k(),r=Go();function n(i,u){return i==null?i:t(i,e(u),r)}return dw=n,dw}var vw,a5;function Dj(){if(a5)return vw;a5=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return vw=t,vw}var hw,i5;function Oj(){if(i5)return hw;i5=1;var t=vh(),e=PE(),r=Wi();function n(i,u){var s={};return u=r(u,3),e(i,function(l,f,d){t(s,f,u(l,f,d))}),s}return hw=n,hw}var pw,u5;function jE(){if(u5)return pw;u5=1;var t=wl();function e(r,n,i){for(var u=-1,s=r.length;++u<s;){var l=r[u],f=n(l);if(f!=null&&(d===void 0?f===f&&!t(f):i(f,d)))var d=f,v=l}return v}return pw=e,pw}var gw,o5;function Mj(){if(o5)return gw;o5=1;function t(e,r){return e>r}return gw=t,gw}var yw,s5;function Bj(){if(s5)return yw;s5=1;var t=jE(),e=Mj(),r=Ho();function n(i){return i&&i.length?t(i,r,e):void 0}return yw=n,yw}var mw,l5;function Tz(){if(l5)return mw;l5=1;var t=vh(),e=gl();function r(n,i,u){(u!==void 0&&!e(n[i],u)||u===void 0&&!(i in n))&&t(n,i,u)}return mw=r,mw}var bw,c5;function qj(){if(c5)return bw;c5=1;var t=Vo(),e=mh(),r=gi(),n="[object Object]",i=Function.prototype,u=Object.prototype,s=i.toString,l=u.hasOwnProperty,f=s.call(Object);function d(v){if(!r(v)||t(v)!=n)return!1;var p=e(v);if(p===null)return!0;var g=l.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==f}return bw=d,bw}var ww,f5;function _z(){if(f5)return ww;f5=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return ww=t,ww}var xw,d5;function kj(){if(d5)return xw;d5=1;var t=yf(),e=Go();function r(n){return t(n,e(n))}return xw=r,xw}var Ew,v5;function zj(){if(v5)return Ew;v5=1;var t=Tz(),e=kk(),r=jk(),n=zk(),i=Hk(),u=mf(),s=dn(),l=pz(),f=ml(),d=gf(),v=Pa(),p=qj(),g=bf(),m=_z(),b=kj();function _(x,E,C,A,R,M,B){var O=m(x,C),N=m(E,C),L=B.get(N);if(L){t(x,C,L);return}var P=M?M(O,N,C+"",x,E,B):void 0,I=P===void 0;if(I){var V=s(N),j=!V&&f(N),Z=!V&&!j&&g(N);P=N,V||j||Z?s(O)?P=O:l(O)?P=n(O):j?(I=!1,P=e(N,!0)):Z?(I=!1,P=r(N,!0)):P=[]:p(N)||u(N)?(P=O,u(O)?P=b(O):(!v(O)||d(O))&&(P=i(N))):I=!1}I&&(B.set(N,P),R(P,N,A,M,B),B.delete(N)),t(x,C,P)}return Ew=_,Ew}var Sw,h5;function Nj(){if(h5)return Sw;h5=1;var t=dh(),e=Tz(),r=LE(),n=zj(),i=Pa(),u=Go(),s=_z();function l(f,d,v,p,g){f!==d&&r(d,function(m,b){if(g||(g=new t),i(m))n(f,d,b,v,l,p,g);else{var _=p?p(s(f,b),m,b+"",f,d,g):void 0;_===void 0&&(_=m),e(f,b,_)}},u)}return Sw=l,Sw}var Tw,p5;function Lj(){if(p5)return Tw;p5=1;var t=Sh(),e=Th();function r(n){return t(function(i,u){var s=-1,l=u.length,f=l>1?u[l-1]:void 0,d=l>2?u[2]:void 0;for(f=n.length>3&&typeof f=="function"?(l--,f):void 0,d&&e(u[0],u[1],d)&&(f=l<3?void 0:f,l=1),i=Object(i);++s<l;){var v=u[s];v&&n(i,v,s,f)}return i})}return Tw=r,Tw}var _w,g5;function Pj(){if(g5)return _w;g5=1;var t=Nj(),e=Lj(),r=e(function(n,i,u){t(n,i,u)});return _w=r,_w}var Cw,y5;function Cz(){if(y5)return Cw;y5=1;function t(e,r){return e<r}return Cw=t,Cw}var Aw,m5;function Ij(){if(m5)return Aw;m5=1;var t=jE(),e=Cz(),r=Ho();function n(i){return i&&i.length?t(i,r,e):void 0}return Aw=n,Aw}var Rw,b5;function Uj(){if(b5)return Rw;b5=1;var t=jE(),e=Wi(),r=Cz();function n(i,u){return i&&i.length?t(i,e(u,2),r):void 0}return Rw=n,Rw}var Dw,w5;function Fj(){if(w5)return Dw;w5=1;var t=Wa(),e=function(){return t.Date.now()};return Dw=e,Dw}var Ow,x5;function Vj(){if(x5)return Ow;x5=1;var t=hh(),e=xh(),r=ph(),n=Pa(),i=wf();function u(s,l,f,d){if(!n(s))return s;l=e(l,s);for(var v=-1,p=l.length,g=p-1,m=s;m!=null&&++v<p;){var b=i(l[v]),_=f;if(b==="__proto__"||b==="constructor"||b==="prototype")return s;if(v!=g){var x=m[b];_=d?d(x,b,m):void 0,_===void 0&&(_=n(x)?x:r(l[v+1])?[]:{})}t(m,b,_),m=m[b]}return s}return Ow=u,Ow}var Mw,E5;function jj(){if(E5)return Mw;E5=1;var t=Eh(),e=Vj(),r=xh();function n(i,u,s){for(var l=-1,f=u.length,d={};++l<f;){var v=u[l],p=t(i,v);s(p,v)&&e(d,r(v,i),p)}return d}return Mw=n,Mw}var Bw,S5;function Gj(){if(S5)return Bw;S5=1;var t=jj(),e=az();function r(n,i){return t(n,i,function(u,s){return e(n,s)})}return Bw=r,Bw}var qw,T5;function Hj(){if(T5)return qw;T5=1;var t=Sz(),e=dz(),r=vz();function n(i){return r(e(i,void 0,t),i+"")}return qw=n,qw}var kw,_5;function Kj(){if(_5)return kw;_5=1;var t=Gj(),e=Hj(),r=e(function(n,i){return n==null?{}:t(n,i)});return kw=r,kw}var zw,C5;function $j(){if(C5)return zw;C5=1;var t=Math.ceil,e=Math.max;function r(n,i,u,s){for(var l=-1,f=e(t((i-n)/(u||1)),0),d=Array(f);f--;)d[s?f:++l]=n,n+=u;return d}return zw=r,zw}var Nw,A5;function Yj(){if(A5)return Nw;A5=1;var t=$j(),e=Th(),r=Ez();function n(i){return function(u,s,l){return l&&typeof l!="number"&&e(u,s,l)&&(s=l=void 0),u=r(u),s===void 0?(s=u,u=0):s=r(s),l=l===void 0?u<s?1:-1:r(l),t(u,s,l,i)}}return Nw=n,Nw}var Lw,R5;function Xj(){if(R5)return Lw;R5=1;var t=Yj(),e=t();return Lw=e,Lw}var Pw,D5;function Zj(){if(D5)return Pw;D5=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Pw=t,Pw}var Iw,O5;function Qj(){if(O5)return Iw;O5=1;var t=wl();function e(r,n){if(r!==n){var i=r!==void 0,u=r===null,s=r===r,l=t(r),f=n!==void 0,d=n===null,v=n===n,p=t(n);if(!d&&!p&&!l&&r>n||l&&f&&v&&!d&&!p||u&&f&&v||!i&&v||!s)return 1;if(!u&&!l&&!p&&r<n||p&&i&&s&&!u&&!l||d&&i&&s||!f&&s||!v)return-1}return 0}return Iw=e,Iw}var Uw,M5;function Wj(){if(M5)return Uw;M5=1;var t=Qj();function e(r,n,i){for(var u=-1,s=r.criteria,l=n.criteria,f=s.length,d=i.length;++u<f;){var v=t(s[u],l[u]);if(v){if(u>=d)return v;var p=i[u];return v*(p=="desc"?-1:1)}}return r.index-n.index}return Uw=e,Uw}var Fw,B5;function Jj(){if(B5)return Fw;B5=1;var t=wh(),e=Eh(),r=Wi(),n=lz(),i=Zj(),u=gh(),s=Wj(),l=Ho(),f=dn();function d(v,p,g){p.length?p=t(p,function(_){return f(_)?function(x){return e(x,_.length===1?_[0]:_)}:_}):p=[l];var m=-1;p=t(p,u(r));var b=n(v,function(_,x,E){var C=t(p,function(A){return A(_)});return{criteria:C,index:++m,value:_}});return i(b,function(_,x){return s(_,x,g)})}return Fw=d,Fw}var Vw,q5;function eG(){if(q5)return Vw;q5=1;var t=FE(),e=Jj(),r=Sh(),n=Th(),i=r(function(u,s){if(u==null)return[];var l=s.length;return l>1&&n(u,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(u,t(s,1),[])});return Vw=i,Vw}var jw,k5;function tG(){if(k5)return jw;k5=1;var t=rz(),e=0;function r(n){var i=++e;return t(n)+i}return jw=r,jw}var Gw,z5;function rG(){if(z5)return Gw;z5=1;function t(e,r,n){for(var i=-1,u=e.length,s=r.length,l={};++i<u;){var f=i<s?r[i]:void 0;n(l,e[i],f)}return l}return Gw=t,Gw}var Hw,N5;function nG(){if(N5)return Hw;N5=1;var t=hh(),e=rG();function r(n,i){return e(n||[],i||[],t)}return Hw=r,Hw}var Kw,L5;function zr(){if(L5)return Kw;L5=1;var t;if(typeof CE=="function")try{t={cloneDeep:bj(),constant:NE(),defaults:wj(),each:Xk(),filter:uz(),find:Aj(),flatten:Sz(),forEach:Yk(),forIn:Rj(),has:oz(),isUndefined:sz(),last:Dj(),map:cz(),mapValues:Oj(),max:Bj(),merge:Pj(),min:Ij(),minBy:Uj(),now:Fj(),pick:Kj(),range:Xj(),reduce:fz(),sortBy:eG(),uniqueId:tG(),values:gz(),zipObject:nG()}}catch{}return t||(t=window._),Kw=t,Kw}var $w,P5;function aG(){if(P5)return $w;P5=1,$w=t;function t(){var n={};n._next=n._prev=n,this._sentinel=n}t.prototype.dequeue=function(){var n=this._sentinel,i=n._prev;if(i!==n)return e(i),i},t.prototype.enqueue=function(n){var i=this._sentinel;n._prev&&n._next&&e(n),n._next=i._next,i._next._prev=n,i._next=n,n._prev=i},t.prototype.toString=function(){for(var n=[],i=this._sentinel,u=i._prev;u!==i;)n.push(JSON.stringify(u,r)),u=u._prev;return"["+n.join(", ")+"]"};function e(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function r(n,i){if(n!=="_next"&&n!=="_prev")return i}return $w}var Yw,I5;function iG(){if(I5)return Yw;I5=1;var t=zr(),e=Qa().Graph,r=aG();Yw=i;var n=t.constant(1);function i(d,v){if(d.nodeCount()<=1)return[];var p=l(d,v||n),g=u(p.graph,p.buckets,p.zeroIdx);return t.flatten(t.map(g,function(m){return d.outEdges(m.v,m.w)}),!0)}function u(d,v,p){for(var g=[],m=v[v.length-1],b=v[0],_;d.nodeCount();){for(;_=b.dequeue();)s(d,v,p,_);for(;_=m.dequeue();)s(d,v,p,_);if(d.nodeCount()){for(var x=v.length-2;x>0;--x)if(_=v[x].dequeue(),_){g=g.concat(s(d,v,p,_,!0));break}}}return g}function s(d,v,p,g,m){var b=m?[]:void 0;return t.forEach(d.inEdges(g.v),function(_){var x=d.edge(_),E=d.node(_.v);m&&b.push({v:_.v,w:_.w}),E.out-=x,f(v,p,E)}),t.forEach(d.outEdges(g.v),function(_){var x=d.edge(_),E=_.w,C=d.node(E);C.in-=x,f(v,p,C)}),d.removeNode(g.v),b}function l(d,v){var p=new e,g=0,m=0;t.forEach(d.nodes(),function(x){p.setNode(x,{v:x,in:0,out:0})}),t.forEach(d.edges(),function(x){var E=p.edge(x.v,x.w)||0,C=v(x),A=E+C;p.setEdge(x.v,x.w,A),m=Math.max(m,p.node(x.v).out+=C),g=Math.max(g,p.node(x.w).in+=C)});var b=t.range(m+g+3).map(function(){return new r}),_=g+1;return t.forEach(p.nodes(),function(x){f(b,_,p.node(x))}),{graph:p,buckets:b,zeroIdx:_}}function f(d,v,p){p.out?p.in?d[p.out-p.in+v].enqueue(p):d[d.length-1].enqueue(p):d[0].enqueue(p)}return Yw}var Xw,U5;function uG(){if(U5)return Xw;U5=1;var t=zr(),e=iG();Xw={run:r,undo:i};function r(u){var s=u.graph().acyclicer==="greedy"?e(u,l(u)):n(u);t.forEach(s,function(f){var d=u.edge(f);u.removeEdge(f),d.forwardName=f.name,d.reversed=!0,u.setEdge(f.w,f.v,d,t.uniqueId("rev"))});function l(f){return function(d){return f.edge(d).weight}}}function n(u){var s=[],l={},f={};function d(v){t.has(f,v)||(f[v]=!0,l[v]=!0,t.forEach(u.outEdges(v),function(p){t.has(l,p.w)?s.push(p):d(p.w)}),delete l[v])}return t.forEach(u.nodes(),d),s}function i(u){t.forEach(u.edges(),function(s){var l=u.edge(s);if(l.reversed){u.removeEdge(s);var f=l.forwardName;delete l.reversed,delete l.forwardName,u.setEdge(s.w,s.v,l,f)}})}return Xw}var Zw,F5;function va(){if(F5)return Zw;F5=1;var t=zr(),e=Qa().Graph;Zw={addDummyNode:r,simplify:n,asNonCompoundGraph:i,successorWeights:u,predecessorWeights:s,intersectRect:l,buildLayerMatrix:f,normalizeRanks:d,removeEmptyRanks:v,addBorderNode:p,maxRank:g,partition:m,time:b,notime:_};function r(x,E,C,A){var R;do R=t.uniqueId(A);while(x.hasNode(R));return C.dummy=E,x.setNode(R,C),R}function n(x){var E=new e().setGraph(x.graph());return t.forEach(x.nodes(),function(C){E.setNode(C,x.node(C))}),t.forEach(x.edges(),function(C){var A=E.edge(C.v,C.w)||{weight:0,minlen:1},R=x.edge(C);E.setEdge(C.v,C.w,{weight:A.weight+R.weight,minlen:Math.max(A.minlen,R.minlen)})}),E}function i(x){var E=new e({multigraph:x.isMultigraph()}).setGraph(x.graph());return t.forEach(x.nodes(),function(C){x.children(C).length||E.setNode(C,x.node(C))}),t.forEach(x.edges(),function(C){E.setEdge(C,x.edge(C))}),E}function u(x){var E=t.map(x.nodes(),function(C){var A={};return t.forEach(x.outEdges(C),function(R){A[R.w]=(A[R.w]||0)+x.edge(R).weight}),A});return t.zipObject(x.nodes(),E)}function s(x){var E=t.map(x.nodes(),function(C){var A={};return t.forEach(x.inEdges(C),function(R){A[R.v]=(A[R.v]||0)+x.edge(R).weight}),A});return t.zipObject(x.nodes(),E)}function l(x,E){var C=x.x,A=x.y,R=E.x-C,M=E.y-A,B=x.width/2,O=x.height/2;if(!R&&!M)throw new Error("Not possible to find intersection inside of the rectangle");var N,L;return Math.abs(M)*B>Math.abs(R)*O?(M<0&&(O=-O),N=O*R/M,L=O):(R<0&&(B=-B),N=B,L=B*M/R),{x:C+N,y:A+L}}function f(x){var E=t.map(t.range(g(x)+1),function(){return[]});return t.forEach(x.nodes(),function(C){var A=x.node(C),R=A.rank;t.isUndefined(R)||(E[R][A.order]=C)}),E}function d(x){var E=t.min(t.map(x.nodes(),function(C){return x.node(C).rank}));t.forEach(x.nodes(),function(C){var A=x.node(C);t.has(A,"rank")&&(A.rank-=E)})}function v(x){var E=t.min(t.map(x.nodes(),function(M){return x.node(M).rank})),C=[];t.forEach(x.nodes(),function(M){var B=x.node(M).rank-E;C[B]||(C[B]=[]),C[B].push(M)});var A=0,R=x.graph().nodeRankFactor;t.forEach(C,function(M,B){t.isUndefined(M)&&B%R!==0?--A:A&&t.forEach(M,function(O){x.node(O).rank+=A})})}function p(x,E,C,A){var R={width:0,height:0};return arguments.length>=4&&(R.rank=C,R.order=A),r(x,"border",R,E)}function g(x){return t.max(t.map(x.nodes(),function(E){var C=x.node(E).rank;if(!t.isUndefined(C))return C}))}function m(x,E){var C={lhs:[],rhs:[]};return t.forEach(x,function(A){E(A)?C.lhs.push(A):C.rhs.push(A)}),C}function b(x,E){var C=t.now();try{return E()}finally{console.log(x+" time: "+(t.now()-C)+"ms")}}function _(x,E){return E()}return Zw}var Qw,V5;function oG(){if(V5)return Qw;V5=1;var t=zr(),e=va();Qw={run:r,undo:i};function r(u){u.graph().dummyChains=[],t.forEach(u.edges(),function(s){n(u,s)})}function n(u,s){var l=s.v,f=u.node(l).rank,d=s.w,v=u.node(d).rank,p=s.name,g=u.edge(s),m=g.labelRank;if(v!==f+1){u.removeEdge(s);var b,_,x;for(x=0,++f;f<v;++x,++f)g.points=[],_={width:0,height:0,edgeLabel:g,edgeObj:s,rank:f},b=e.addDummyNode(u,"edge",_,"_d"),f===m&&(_.width=g.width,_.height=g.height,_.dummy="edge-label",_.labelpos=g.labelpos),u.setEdge(l,b,{weight:g.weight},p),x===0&&u.graph().dummyChains.push(b),l=b;u.setEdge(l,d,{weight:g.weight},p)}}function i(u){t.forEach(u.graph().dummyChains,function(s){var l=u.node(s),f=l.edgeLabel,d;for(u.setEdge(l.edgeObj,f);l.dummy;)d=u.successors(s)[0],u.removeNode(s),f.points.push({x:l.x,y:l.y}),l.dummy==="edge-label"&&(f.x=l.x,f.y=l.y,f.width=l.width,f.height=l.height),s=d,l=u.node(s)})}return Qw}var Ww,j5;function Nv(){if(j5)return Ww;j5=1;var t=zr();Ww={longestPath:e,slack:r};function e(n){var i={};function u(s){var l=n.node(s);if(t.has(i,s))return l.rank;i[s]=!0;var f=t.min(t.map(n.outEdges(s),function(d){return u(d.w)-n.edge(d).minlen}));return(f===Number.POSITIVE_INFINITY||f===void 0||f===null)&&(f=0),l.rank=f}t.forEach(n.sources(),u)}function r(n,i){return n.node(i.w).rank-n.node(i.v).rank-n.edge(i).minlen}return Ww}var Jw,G5;function Az(){if(G5)return Jw;G5=1;var t=zr(),e=Qa().Graph,r=Nv().slack;Jw=n;function n(l){var f=new e({directed:!1}),d=l.nodes()[0],v=l.nodeCount();f.setNode(d,{});for(var p,g;i(f,l)<v;)p=u(f,l),g=f.hasNode(p.v)?r(l,p):-r(l,p),s(f,l,g);return f}function i(l,f){function d(v){t.forEach(f.nodeEdges(v),function(p){var g=p.v,m=v===g?p.w:g;!l.hasNode(m)&&!r(f,p)&&(l.setNode(m,{}),l.setEdge(v,m,{}),d(m))})}return t.forEach(l.nodes(),d),l.nodeCount()}function u(l,f){return t.minBy(f.edges(),function(d){if(l.hasNode(d.v)!==l.hasNode(d.w))return r(f,d)})}function s(l,f,d){t.forEach(l.nodes(),function(v){f.node(v).rank+=d})}return Jw}var ex,H5;function sG(){if(H5)return ex;H5=1;var t=zr(),e=Az(),r=Nv().slack,n=Nv().longestPath,i=Qa().alg.preorder,u=Qa().alg.postorder,s=va().simplify;ex=l,l.initLowLimValues=p,l.initCutValues=f,l.calcCutValue=v,l.leaveEdge=m,l.enterEdge=b,l.exchangeEdges=_;function l(A){A=s(A),n(A);var R=e(A);p(R),f(R,A);for(var M,B;M=m(R);)B=b(R,A,M),_(R,A,M,B)}function f(A,R){var M=u(A,A.nodes());M=M.slice(0,M.length-1),t.forEach(M,function(B){d(A,R,B)})}function d(A,R,M){var B=A.node(M),O=B.parent;A.edge(M,O).cutvalue=v(A,R,M)}function v(A,R,M){var B=A.node(M),O=B.parent,N=!0,L=R.edge(M,O),P=0;return L||(N=!1,L=R.edge(O,M)),P=L.weight,t.forEach(R.nodeEdges(M),function(I){var V=I.v===M,j=V?I.w:I.v;if(j!==O){var Z=V===N,J=R.edge(I).weight;if(P+=Z?J:-J,E(A,M,j)){var G=A.edge(M,j).cutvalue;P+=Z?-G:G}}}),P}function p(A,R){arguments.length<2&&(R=A.nodes()[0]),g(A,{},1,R)}function g(A,R,M,B,O){var N=M,L=A.node(B);return R[B]=!0,t.forEach(A.neighbors(B),function(P){t.has(R,P)||(M=g(A,R,M,P,B))}),L.low=N,L.lim=M++,O?L.parent=O:delete L.parent,M}function m(A){return t.find(A.edges(),function(R){return A.edge(R).cutvalue<0})}function b(A,R,M){var B=M.v,O=M.w;R.hasEdge(B,O)||(B=M.w,O=M.v);var N=A.node(B),L=A.node(O),P=N,I=!1;N.lim>L.lim&&(P=L,I=!0);var V=t.filter(R.edges(),function(j){return I===C(A,A.node(j.v),P)&&I!==C(A,A.node(j.w),P)});return t.minBy(V,function(j){return r(R,j)})}function _(A,R,M,B){var O=M.v,N=M.w;A.removeEdge(O,N),A.setEdge(B.v,B.w,{}),p(A),f(A,R),x(A,R)}function x(A,R){var M=t.find(A.nodes(),function(O){return!R.node(O).parent}),B=i(A,M);B=B.slice(1),t.forEach(B,function(O){var N=A.node(O).parent,L=R.edge(O,N),P=!1;L||(L=R.edge(N,O),P=!0),R.node(O).rank=R.node(N).rank+(P?L.minlen:-L.minlen)})}function E(A,R,M){return A.hasEdge(R,M)}function C(A,R,M){return M.low<=R.lim&&R.lim<=M.lim}return ex}var tx,K5;function lG(){if(K5)return tx;K5=1;var t=Nv(),e=t.longestPath,r=Az(),n=sG();tx=i;function i(f){switch(f.graph().ranker){case"network-simplex":l(f);break;case"tight-tree":s(f);break;case"longest-path":u(f);break;default:l(f)}}var u=e;function s(f){e(f),r(f)}function l(f){n(f)}return tx}var rx,$5;function cG(){if($5)return rx;$5=1;var t=zr();rx=e;function e(i){var u=n(i);t.forEach(i.graph().dummyChains,function(s){for(var l=i.node(s),f=l.edgeObj,d=r(i,u,f.v,f.w),v=d.path,p=d.lca,g=0,m=v[g],b=!0;s!==f.w;){if(l=i.node(s),b){for(;(m=v[g])!==p&&i.node(m).maxRank<l.rank;)g++;m===p&&(b=!1)}if(!b){for(;g<v.length-1&&i.node(m=v[g+1]).minRank<=l.rank;)g++;m=v[g]}i.setParent(s,m),s=i.successors(s)[0]}})}function r(i,u,s,l){var f=[],d=[],v=Math.min(u[s].low,u[l].low),p=Math.max(u[s].lim,u[l].lim),g,m;g=s;do g=i.parent(g),f.push(g);while(g&&(u[g].low>v||p>u[g].lim));for(m=g,g=l;(g=i.parent(g))!==m;)d.push(g);return{path:f.concat(d.reverse()),lca:m}}function n(i){var u={},s=0;function l(f){var d=s;t.forEach(i.children(f),l),u[f]={low:d,lim:s++}}return t.forEach(i.children(),l),u}return rx}var nx,Y5;function fG(){if(Y5)return nx;Y5=1;var t=zr(),e=va();nx={run:r,cleanup:s};function r(l){var f=e.addDummyNode(l,"root",{},"_root"),d=i(l),v=t.max(t.values(d))-1,p=2*v+1;l.graph().nestingRoot=f,t.forEach(l.edges(),function(m){l.edge(m).minlen*=p});var g=u(l)+1;t.forEach(l.children(),function(m){n(l,f,p,g,v,d,m)}),l.graph().nodeRankFactor=p}function n(l,f,d,v,p,g,m){var b=l.children(m);if(!b.length){m!==f&&l.setEdge(f,m,{weight:0,minlen:d});return}var _=e.addBorderNode(l,"_bt"),x=e.addBorderNode(l,"_bb"),E=l.node(m);l.setParent(_,m),E.borderTop=_,l.setParent(x,m),E.borderBottom=x,t.forEach(b,function(C){n(l,f,d,v,p,g,C);var A=l.node(C),R=A.borderTop?A.borderTop:C,M=A.borderBottom?A.borderBottom:C,B=A.borderTop?v:2*v,O=R!==M?1:p-g[m]+1;l.setEdge(_,R,{weight:B,minlen:O,nestingEdge:!0}),l.setEdge(M,x,{weight:B,minlen:O,nestingEdge:!0})}),l.parent(m)||l.setEdge(f,_,{weight:0,minlen:p+g[m]})}function i(l){var f={};function d(v,p){var g=l.children(v);g&&g.length&&t.forEach(g,function(m){d(m,p+1)}),f[v]=p}return t.forEach(l.children(),function(v){d(v,1)}),f}function u(l){return t.reduce(l.edges(),function(f,d){return f+l.edge(d).weight},0)}function s(l){var f=l.graph();l.removeNode(f.nestingRoot),delete f.nestingRoot,t.forEach(l.edges(),function(d){var v=l.edge(d);v.nestingEdge&&l.removeEdge(d)})}return nx}var ax,X5;function dG(){if(X5)return ax;X5=1;var t=zr(),e=va();ax=r;function r(i){function u(s){var l=i.children(s),f=i.node(s);if(l.length&&t.forEach(l,u),t.has(f,"minRank")){f.borderLeft=[],f.borderRight=[];for(var d=f.minRank,v=f.maxRank+1;d<v;++d)n(i,"borderLeft","_bl",s,f,d),n(i,"borderRight","_br",s,f,d)}}t.forEach(i.children(),u)}function n(i,u,s,l,f,d){var v={width:0,height:0,rank:d,borderType:u},p=f[u][d-1],g=e.addDummyNode(i,"border",v,s);f[u][d]=g,i.setParent(g,l),p&&i.setEdge(p,g,{weight:1})}return ax}var ix,Z5;function vG(){if(Z5)return ix;Z5=1;var t=zr();ix={adjust:e,undo:r};function e(d){var v=d.graph().rankdir.toLowerCase();(v==="lr"||v==="rl")&&n(d)}function r(d){var v=d.graph().rankdir.toLowerCase();(v==="bt"||v==="rl")&&u(d),(v==="lr"||v==="rl")&&(l(d),n(d))}function n(d){t.forEach(d.nodes(),function(v){i(d.node(v))}),t.forEach(d.edges(),function(v){i(d.edge(v))})}function i(d){var v=d.width;d.width=d.height,d.height=v}function u(d){t.forEach(d.nodes(),function(v){s(d.node(v))}),t.forEach(d.edges(),function(v){var p=d.edge(v);t.forEach(p.points,s),t.has(p,"y")&&s(p)})}function s(d){d.y=-d.y}function l(d){t.forEach(d.nodes(),function(v){f(d.node(v))}),t.forEach(d.edges(),function(v){var p=d.edge(v);t.forEach(p.points,f),t.has(p,"x")&&f(p)})}function f(d){var v=d.x;d.x=d.y,d.y=v}return ix}var ux,Q5;function hG(){if(Q5)return ux;Q5=1;var t=zr();ux=e;function e(r){var n={},i=t.filter(r.nodes(),function(d){return!r.children(d).length}),u=t.max(t.map(i,function(d){return r.node(d).rank})),s=t.map(t.range(u+1),function(){return[]});function l(d){if(!t.has(n,d)){n[d]=!0;var v=r.node(d);s[v.rank].push(d),t.forEach(r.successors(d),l)}}var f=t.sortBy(i,function(d){return r.node(d).rank});return t.forEach(f,l),s}return ux}var ox,W5;function pG(){if(W5)return ox;W5=1;var t=zr();ox=e;function e(n,i){for(var u=0,s=1;s<i.length;++s)u+=r(n,i[s-1],i[s]);return u}function r(n,i,u){for(var s=t.zipObject(u,t.map(u,function(g,m){return m})),l=t.flatten(t.map(i,function(g){return t.sortBy(t.map(n.outEdges(g),function(m){return{pos:s[m.w],weight:n.edge(m).weight}}),"pos")}),!0),f=1;f<u.length;)f<<=1;var d=2*f-1;f-=1;var v=t.map(new Array(d),function(){return 0}),p=0;return t.forEach(l.forEach(function(g){var m=g.pos+f;v[m]+=g.weight;for(var b=0;m>0;)m%2&&(b+=v[m+1]),m=m-1>>1,v[m]+=g.weight;p+=g.weight*b})),p}return ox}var sx,J5;function gG(){if(J5)return sx;J5=1;var t=zr();sx=e;function e(r,n){return t.map(n,function(i){var u=r.inEdges(i);if(u.length){var s=t.reduce(u,function(l,f){var d=r.edge(f),v=r.node(f.v);return{sum:l.sum+d.weight*v.order,weight:l.weight+d.weight}},{sum:0,weight:0});return{v:i,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:i}})}return sx}var lx,eB;function yG(){if(eB)return lx;eB=1;var t=zr();lx=e;function e(i,u){var s={};t.forEach(i,function(f,d){var v=s[f.v]={indegree:0,in:[],out:[],vs:[f.v],i:d};t.isUndefined(f.barycenter)||(v.barycenter=f.barycenter,v.weight=f.weight)}),t.forEach(u.edges(),function(f){var d=s[f.v],v=s[f.w];!t.isUndefined(d)&&!t.isUndefined(v)&&(v.indegree++,d.out.push(s[f.w]))});var l=t.filter(s,function(f){return!f.indegree});return r(l)}function r(i){var u=[];function s(d){return function(v){v.merged||(t.isUndefined(v.barycenter)||t.isUndefined(d.barycenter)||v.barycenter>=d.barycenter)&&n(d,v)}}function l(d){return function(v){v.in.push(d),--v.indegree===0&&i.push(v)}}for(;i.length;){var f=i.pop();u.push(f),t.forEach(f.in.reverse(),s(f)),t.forEach(f.out,l(f))}return t.map(t.filter(u,function(d){return!d.merged}),function(d){return t.pick(d,["vs","i","barycenter","weight"])})}function n(i,u){var s=0,l=0;i.weight&&(s+=i.barycenter*i.weight,l+=i.weight),u.weight&&(s+=u.barycenter*u.weight,l+=u.weight),i.vs=u.vs.concat(i.vs),i.barycenter=s/l,i.weight=l,i.i=Math.min(u.i,i.i),u.merged=!0}return lx}var cx,tB;function mG(){if(tB)return cx;tB=1;var t=zr(),e=va();cx=r;function r(u,s){var l=e.partition(u,function(_){return t.has(_,"barycenter")}),f=l.lhs,d=t.sortBy(l.rhs,function(_){return-_.i}),v=[],p=0,g=0,m=0;f.sort(i(!!s)),m=n(v,d,m),t.forEach(f,function(_){m+=_.vs.length,v.push(_.vs),p+=_.barycenter*_.weight,g+=_.weight,m=n(v,d,m)});var b={vs:t.flatten(v,!0)};return g&&(b.barycenter=p/g,b.weight=g),b}function n(u,s,l){for(var f;s.length&&(f=t.last(s)).i<=l;)s.pop(),u.push(f.vs),l++;return l}function i(u){return function(s,l){return s.barycenter<l.barycenter?-1:s.barycenter>l.barycenter?1:u?l.i-s.i:s.i-l.i}}return cx}var fx,rB;function bG(){if(rB)return fx;rB=1;var t=zr(),e=gG(),r=yG(),n=mG();fx=i;function i(l,f,d,v){var p=l.children(f),g=l.node(f),m=g?g.borderLeft:void 0,b=g?g.borderRight:void 0,_={};m&&(p=t.filter(p,function(M){return M!==m&&M!==b}));var x=e(l,p);t.forEach(x,function(M){if(l.children(M.v).length){var B=i(l,M.v,d,v);_[M.v]=B,t.has(B,"barycenter")&&s(M,B)}});var E=r(x,d);u(E,_);var C=n(E,v);if(m&&(C.vs=t.flatten([m,C.vs,b],!0),l.predecessors(m).length)){var A=l.node(l.predecessors(m)[0]),R=l.node(l.predecessors(b)[0]);t.has(C,"barycenter")||(C.barycenter=0,C.weight=0),C.barycenter=(C.barycenter*C.weight+A.order+R.order)/(C.weight+2),C.weight+=2}return C}function u(l,f){t.forEach(l,function(d){d.vs=t.flatten(d.vs.map(function(v){return f[v]?f[v].vs:v}),!0)})}function s(l,f){t.isUndefined(l.barycenter)?(l.barycenter=f.barycenter,l.weight=f.weight):(l.barycenter=(l.barycenter*l.weight+f.barycenter*f.weight)/(l.weight+f.weight),l.weight+=f.weight)}return fx}var dx,nB;function wG(){if(nB)return dx;nB=1;var t=zr(),e=Qa().Graph;dx=r;function r(i,u,s){var l=n(i),f=new e({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(function(d){return i.node(d)});return t.forEach(i.nodes(),function(d){var v=i.node(d),p=i.parent(d);(v.rank===u||v.minRank<=u&&u<=v.maxRank)&&(f.setNode(d),f.setParent(d,p||l),t.forEach(i[s](d),function(g){var m=g.v===d?g.w:g.v,b=f.edge(m,d),_=t.isUndefined(b)?0:b.weight;f.setEdge(m,d,{weight:i.edge(g).weight+_})}),t.has(v,"minRank")&&f.setNode(d,{borderLeft:v.borderLeft[u],borderRight:v.borderRight[u]}))}),f}function n(i){for(var u;i.hasNode(u=t.uniqueId("_root")););return u}return dx}var vx,aB;function xG(){if(aB)return vx;aB=1;var t=zr();vx=e;function e(r,n,i){var u={},s;t.forEach(i,function(l){for(var f=r.parent(l),d,v;f;){if(d=r.parent(f),d?(v=u[d],u[d]=f):(v=s,s=f),v&&v!==f){n.setEdge(v,f);return}f=d}})}return vx}var hx,iB;function EG(){if(iB)return hx;iB=1;var t=zr(),e=hG(),r=pG(),n=bG(),i=wG(),u=xG(),s=Qa().Graph,l=va();hx=f;function f(g){var m=l.maxRank(g),b=d(g,t.range(1,m+1),"inEdges"),_=d(g,t.range(m-1,-1,-1),"outEdges"),x=e(g);p(g,x);for(var E=Number.POSITIVE_INFINITY,C,A=0,R=0;R<4;++A,++R){v(A%2?b:_,A%4>=2),x=l.buildLayerMatrix(g);var M=r(g,x);M<E&&(R=0,C=t.cloneDeep(x),E=M)}p(g,C)}function d(g,m,b){return t.map(m,function(_){return i(g,_,b)})}function v(g,m){var b=new s;t.forEach(g,function(_){var x=_.graph().root,E=n(_,x,b,m);t.forEach(E.vs,function(C,A){_.node(C).order=A}),u(_,b,E.vs)})}function p(g,m){t.forEach(m,function(b){t.forEach(b,function(_,x){g.node(_).order=x})})}return hx}var px,uB;function SG(){if(uB)return px;uB=1;var t=zr(),e=Qa().Graph,r=va();px={positionX:b,findType1Conflicts:n,findType2Conflicts:i,addConflict:s,hasConflict:l,verticalAlignment:f,horizontalCompaction:d,alignCoordinates:g,findSmallestWidthAlignment:p,balance:m};function n(E,C){var A={};function R(M,B){var O=0,N=0,L=M.length,P=t.last(B);return t.forEach(B,function(I,V){var j=u(E,I),Z=j?E.node(j).order:L;(j||I===P)&&(t.forEach(B.slice(N,V+1),function(J){t.forEach(E.predecessors(J),function(G){var $=E.node(G),W=$.order;(W<O||Z<W)&&!($.dummy&&E.node(J).dummy)&&s(A,G,J)})}),N=V+1,O=Z)}),B}return t.reduce(C,R),A}function i(E,C){var A={};function R(B,O,N,L,P){var I;t.forEach(t.range(O,N),function(V){I=B[V],E.node(I).dummy&&t.forEach(E.predecessors(I),function(j){var Z=E.node(j);Z.dummy&&(Z.order<L||Z.order>P)&&s(A,j,I)})})}function M(B,O){var N=-1,L,P=0;return t.forEach(O,function(I,V){if(E.node(I).dummy==="border"){var j=E.predecessors(I);j.length&&(L=E.node(j[0]).order,R(O,P,V,N,L),P=V,N=L)}R(O,P,O.length,L,B.length)}),O}return t.reduce(C,M),A}function u(E,C){if(E.node(C).dummy)return t.find(E.predecessors(C),function(A){return E.node(A).dummy})}function s(E,C,A){if(C>A){var R=C;C=A,A=R}var M=E[C];M||(E[C]=M={}),M[A]=!0}function l(E,C,A){if(C>A){var R=C;C=A,A=R}return t.has(E[C],A)}function f(E,C,A,R){var M={},B={},O={};return t.forEach(C,function(N){t.forEach(N,function(L,P){M[L]=L,B[L]=L,O[L]=P})}),t.forEach(C,function(N){var L=-1;t.forEach(N,function(P){var I=R(P);if(I.length){I=t.sortBy(I,function(G){return O[G]});for(var V=(I.length-1)/2,j=Math.floor(V),Z=Math.ceil(V);j<=Z;++j){var J=I[j];B[P]===P&&L<O[J]&&!l(A,P,J)&&(B[J]=P,B[P]=M[P]=M[J],L=O[J])}}})}),{root:M,align:B}}function d(E,C,A,R,M){var B={},O=v(E,C,A,M),N=M?"borderLeft":"borderRight";function L(V,j){for(var Z=O.nodes(),J=Z.pop(),G={};J;)G[J]?V(J):(G[J]=!0,Z.push(J),Z=Z.concat(j(J))),J=Z.pop()}function P(V){B[V]=O.inEdges(V).reduce(function(j,Z){return Math.max(j,B[Z.v]+O.edge(Z))},0)}function I(V){var j=O.outEdges(V).reduce(function(J,G){return Math.min(J,B[G.w]-O.edge(G))},Number.POSITIVE_INFINITY),Z=E.node(V);j!==Number.POSITIVE_INFINITY&&Z.borderType!==N&&(B[V]=Math.max(B[V],j))}return L(P,O.predecessors.bind(O)),L(I,O.successors.bind(O)),t.forEach(R,function(V){B[V]=B[A[V]]}),B}function v(E,C,A,R){var M=new e,B=E.graph(),O=_(B.nodesep,B.edgesep,R);return t.forEach(C,function(N){var L;t.forEach(N,function(P){var I=A[P];if(M.setNode(I),L){var V=A[L],j=M.edge(V,I);M.setEdge(V,I,Math.max(O(E,P,L),j||0))}L=P})}),M}function p(E,C){return t.minBy(t.values(C),function(A){var R=Number.NEGATIVE_INFINITY,M=Number.POSITIVE_INFINITY;return t.forIn(A,function(B,O){var N=x(E,O)/2;R=Math.max(B+N,R),M=Math.min(B-N,M)}),R-M})}function g(E,C){var A=t.values(C),R=t.min(A),M=t.max(A);t.forEach(["u","d"],function(B){t.forEach(["l","r"],function(O){var N=B+O,L=E[N],P;if(L!==C){var I=t.values(L);P=O==="l"?R-t.min(I):M-t.max(I),P&&(E[N]=t.mapValues(L,function(V){return V+P}))}})})}function m(E,C){return t.mapValues(E.ul,function(A,R){if(C)return E[C.toLowerCase()][R];var M=t.sortBy(t.map(E,R));return(M[1]+M[2])/2})}function b(E){var C=r.buildLayerMatrix(E),A=t.merge(n(E,C),i(E,C)),R={},M;t.forEach(["u","d"],function(O){M=O==="u"?C:t.values(C).reverse(),t.forEach(["l","r"],function(N){N==="r"&&(M=t.map(M,function(V){return t.values(V).reverse()}));var L=(O==="u"?E.predecessors:E.successors).bind(E),P=f(E,M,A,L),I=d(E,M,P.root,P.align,N==="r");N==="r"&&(I=t.mapValues(I,function(V){return-V})),R[O+N]=I})});var B=p(E,R);return g(R,B),m(R,E.graph().align)}function _(E,C,A){return function(R,M,B){var O=R.node(M),N=R.node(B),L=0,P;if(L+=O.width/2,t.has(O,"labelpos"))switch(O.labelpos.toLowerCase()){case"l":P=-O.width/2;break;case"r":P=O.width/2;break}if(P&&(L+=A?P:-P),P=0,L+=(O.dummy?C:E)/2,L+=(N.dummy?C:E)/2,L+=N.width/2,t.has(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":P=N.width/2;break;case"r":P=-N.width/2;break}return P&&(L+=A?P:-P),P=0,L}}function x(E,C){return E.node(C).width}return px}var gx,oB;function TG(){if(oB)return gx;oB=1;var t=zr(),e=va(),r=SG().positionX;gx=n;function n(u){u=e.asNonCompoundGraph(u),i(u),t.forEach(r(u),function(s,l){u.node(l).x=s})}function i(u){var s=e.buildLayerMatrix(u),l=u.graph().ranksep,f=0;t.forEach(s,function(d){var v=t.max(t.map(d,function(p){return u.node(p).height}));t.forEach(d,function(p){u.node(p).y=f+v/2}),f+=v+l})}return gx}var yx,sB;function _G(){if(sB)return yx;sB=1;var t=zr(),e=uG(),r=oG(),n=lG(),i=va().normalizeRanks,u=cG(),s=va().removeEmptyRanks,l=fG(),f=dG(),d=vG(),v=EG(),p=TG(),g=va(),m=Qa().Graph;yx=b;function b(Y,ee){var re=ee&&ee.debugTiming?g.time:g.notime;re("layout",function(){var de=re("  buildLayoutGraph",function(){return L(Y)});re("  runLayout",function(){_(de,re)}),re("  updateInputGraph",function(){x(Y,de)})})}function _(Y,ee){ee("    makeSpaceForEdgeLabels",function(){P(Y)}),ee("    removeSelfEdges",function(){oe(Y)}),ee("    acyclic",function(){e.run(Y)}),ee("    nestingGraph.run",function(){l.run(Y)}),ee("    rank",function(){n(g.asNonCompoundGraph(Y))}),ee("    injectEdgeLabelProxies",function(){I(Y)}),ee("    removeEmptyRanks",function(){s(Y)}),ee("    nestingGraph.cleanup",function(){l.cleanup(Y)}),ee("    normalizeRanks",function(){i(Y)}),ee("    assignRankMinMax",function(){V(Y)}),ee("    removeEdgeLabelProxies",function(){j(Y)}),ee("    normalize.run",function(){r.run(Y)}),ee("    parentDummyChains",function(){u(Y)}),ee("    addBorderSegments",function(){f(Y)}),ee("    order",function(){v(Y)}),ee("    insertSelfEdges",function(){se(Y)}),ee("    adjustCoordinateSystem",function(){d.adjust(Y)}),ee("    position",function(){p(Y)}),ee("    positionSelfEdges",function(){U(Y)}),ee("    removeBorderNodes",function(){W(Y)}),ee("    normalize.undo",function(){r.undo(Y)}),ee("    fixupEdgeLabelCoords",function(){G(Y)}),ee("    undoCoordinateSystem",function(){d.undo(Y)}),ee("    translateGraph",function(){Z(Y)}),ee("    assignNodeIntersects",function(){J(Y)}),ee("    reversePoints",function(){$(Y)}),ee("    acyclic.undo",function(){e.undo(Y)})}function x(Y,ee){t.forEach(Y.nodes(),function(re){var de=Y.node(re),ze=ee.node(re);de&&(de.x=ze.x,de.y=ze.y,ee.children(re).length&&(de.width=ze.width,de.height=ze.height))}),t.forEach(Y.edges(),function(re){var de=Y.edge(re),ze=ee.edge(re);de.points=ze.points,t.has(ze,"x")&&(de.x=ze.x,de.y=ze.y)}),Y.graph().width=ee.graph().width,Y.graph().height=ee.graph().height}var E=["nodesep","edgesep","ranksep","marginx","marginy"],C={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},A=["acyclicer","ranker","rankdir","align"],R=["width","height"],M={width:0,height:0},B=["minlen","weight","width","height","labeloffset"],O={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},N=["labelpos"];function L(Y){var ee=new m({multigraph:!0,compound:!0}),re=ue(Y.graph());return ee.setGraph(t.merge({},C,X(re,E),t.pick(re,A))),t.forEach(Y.nodes(),function(de){var ze=ue(Y.node(de));ee.setNode(de,t.defaults(X(ze,R),M)),ee.setParent(de,Y.parent(de))}),t.forEach(Y.edges(),function(de){var ze=ue(Y.edge(de));ee.setEdge(de,t.merge({},O,X(ze,B),t.pick(ze,N)))}),ee}function P(Y){var ee=Y.graph();ee.ranksep/=2,t.forEach(Y.edges(),function(re){var de=Y.edge(re);de.minlen*=2,de.labelpos.toLowerCase()!=="c"&&(ee.rankdir==="TB"||ee.rankdir==="BT"?de.width+=de.labeloffset:de.height+=de.labeloffset)})}function I(Y){t.forEach(Y.edges(),function(ee){var re=Y.edge(ee);if(re.width&&re.height){var de=Y.node(ee.v),ze=Y.node(ee.w),ie={rank:(ze.rank-de.rank)/2+de.rank,e:ee};g.addDummyNode(Y,"edge-proxy",ie,"_ep")}})}function V(Y){var ee=0;t.forEach(Y.nodes(),function(re){var de=Y.node(re);de.borderTop&&(de.minRank=Y.node(de.borderTop).rank,de.maxRank=Y.node(de.borderBottom).rank,ee=t.max(ee,de.maxRank))}),Y.graph().maxRank=ee}function j(Y){t.forEach(Y.nodes(),function(ee){var re=Y.node(ee);re.dummy==="edge-proxy"&&(Y.edge(re.e).labelRank=re.rank,Y.removeNode(ee))})}function Z(Y){var ee=Number.POSITIVE_INFINITY,re=0,de=Number.POSITIVE_INFINITY,ze=0,ie=Y.graph(),he=ie.marginx||0,be=ie.marginy||0;function ge(Be){var Ge=Be.x,He=Be.y,Ct=Be.width,Ze=Be.height;ee=Math.min(ee,Ge-Ct/2),re=Math.max(re,Ge+Ct/2),de=Math.min(de,He-Ze/2),ze=Math.max(ze,He+Ze/2)}t.forEach(Y.nodes(),function(Be){ge(Y.node(Be))}),t.forEach(Y.edges(),function(Be){var Ge=Y.edge(Be);t.has(Ge,"x")&&ge(Ge)}),ee-=he,de-=be,t.forEach(Y.nodes(),function(Be){var Ge=Y.node(Be);Ge.x-=ee,Ge.y-=de}),t.forEach(Y.edges(),function(Be){var Ge=Y.edge(Be);t.forEach(Ge.points,function(He){He.x-=ee,He.y-=de}),t.has(Ge,"x")&&(Ge.x-=ee),t.has(Ge,"y")&&(Ge.y-=de)}),ie.width=re-ee+he,ie.height=ze-de+be}function J(Y){t.forEach(Y.edges(),function(ee){var re=Y.edge(ee),de=Y.node(ee.v),ze=Y.node(ee.w),ie,he;re.points?(ie=re.points[0],he=re.points[re.points.length-1]):(re.points=[],ie=ze,he=de),re.points.unshift(g.intersectRect(de,ie)),re.points.push(g.intersectRect(ze,he))})}function G(Y){t.forEach(Y.edges(),function(ee){var re=Y.edge(ee);if(t.has(re,"x"))switch((re.labelpos==="l"||re.labelpos==="r")&&(re.width-=re.labeloffset),re.labelpos){case"l":re.x-=re.width/2+re.labeloffset;break;case"r":re.x+=re.width/2+re.labeloffset;break}})}function $(Y){t.forEach(Y.edges(),function(ee){var re=Y.edge(ee);re.reversed&&re.points.reverse()})}function W(Y){t.forEach(Y.nodes(),function(ee){if(Y.children(ee).length){var re=Y.node(ee),de=Y.node(re.borderTop),ze=Y.node(re.borderBottom),ie=Y.node(t.last(re.borderLeft)),he=Y.node(t.last(re.borderRight));re.width=Math.abs(he.x-ie.x),re.height=Math.abs(ze.y-de.y),re.x=ie.x+re.width/2,re.y=de.y+re.height/2}}),t.forEach(Y.nodes(),function(ee){Y.node(ee).dummy==="border"&&Y.removeNode(ee)})}function oe(Y){t.forEach(Y.edges(),function(ee){if(ee.v===ee.w){var re=Y.node(ee.v);re.selfEdges||(re.selfEdges=[]),re.selfEdges.push({e:ee,label:Y.edge(ee)}),Y.removeEdge(ee)}})}function se(Y){var ee=g.buildLayerMatrix(Y);t.forEach(ee,function(re){var de=0;t.forEach(re,function(ze,ie){var he=Y.node(ze);he.order=ie+de,t.forEach(he.selfEdges,function(be){g.addDummyNode(Y,"selfedge",{width:be.label.width,height:be.label.height,rank:he.rank,order:ie+ ++de,e:be.e,label:be.label},"_se")}),delete he.selfEdges})})}function U(Y){t.forEach(Y.nodes(),function(ee){var re=Y.node(ee);if(re.dummy==="selfedge"){var de=Y.node(re.e.v),ze=de.x+de.width/2,ie=de.y,he=re.x-ze,be=de.height/2;Y.setEdge(re.e,re.label),Y.removeNode(ee),re.label.points=[{x:ze+2*he/3,y:ie-be},{x:ze+5*he/6,y:ie-be},{x:ze+he,y:ie},{x:ze+5*he/6,y:ie+be},{x:ze+2*he/3,y:ie+be}],re.label.x=re.x,re.label.y=re.y}})}function X(Y,ee){return t.mapValues(t.pick(Y,ee),Number)}function ue(Y){var ee={};return t.forEach(Y,function(re,de){ee[de.toLowerCase()]=re}),ee}return yx}var mx,lB;function CG(){if(lB)return mx;lB=1;var t=zr(),e=va(),r=Qa().Graph;mx={debugOrdering:n};function n(i){var u=e.buildLayerMatrix(i),s=new r({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(l){s.setNode(l,{label:l}),s.setParent(l,"layer"+i.node(l).rank)}),t.forEach(i.edges(),function(l){s.setEdge(l.v,l.w,{},l.name)}),t.forEach(u,function(l,f){var d="layer"+f;s.setNode(d,{rank:"same"}),t.reduce(l,function(v,p){return s.setEdge(v,p,{style:"invis"}),p})}),s}return mx}var bx,cB;function AG(){return cB||(cB=1,bx="0.8.5"),bx}var wx,fB;function RG(){return fB||(fB=1,wx={graphlib:Qa(),layout:_G(),debug:CG(),util:{time:va().time,notime:va().notime},version:AG()}),wx}var DG=gv.exports,dB;function OG(){return dB||(dB=1,(function(t,e){(function(n,i){t.exports=i(RG())})(DG,function(r){return(function(n){var i={};function u(s){if(i[s])return i[s].exports;var l=i[s]={i:s,l:!1,exports:{}};return n[s].call(l.exports,l,l.exports,u),l.l=!0,l.exports}return u.m=n,u.c=i,u.d=function(s,l,f){u.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:f})},u.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},u.t=function(s,l){if(l&1&&(s=u(s)),l&8||l&4&&typeof s=="object"&&s&&s.__esModule)return s;var f=Object.create(null);if(u.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:s}),l&2&&typeof s!="string")for(var d in s)u.d(f,d,(function(v){return s[v]}).bind(null,d));return f},u.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return u.d(l,"a",l),l},u.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},u.p="",u(u.s=0)})([(function(n,i,u){var s=u(1),l=function(d){d&&d("layout","dagre",s)};typeof cytoscape<"u"&&l(cytoscape),n.exports=l}),(function(n,i,u){function s(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(b){return typeof b}:s=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s(g)}var l=function(m){return typeof m=="function"},f=u(2),d=u(3),v=u(4);function p(g){this.options=d({},f,g)}p.prototype.run=function(){var g=this.options,m=this,b=g.cy,_=g.eles,x=function(U,X){return l(X)?X.apply(U,[U]):X},E=g.boundingBox||{x1:0,y1:0,w:b.width(),h:b.height()};E.x2===void 0&&(E.x2=E.x1+E.w),E.w===void 0&&(E.w=E.x2-E.x1),E.y2===void 0&&(E.y2=E.y1+E.h),E.h===void 0&&(E.h=E.y2-E.y1);var C=new v.graphlib.Graph({multigraph:!0,compound:!0}),A={},R=function(U,X){X!=null&&(A[U]=X)};R("nodesep",g.nodeSep),R("edgesep",g.edgeSep),R("ranksep",g.rankSep),R("rankdir",g.rankDir),R("align",g.align),R("ranker",g.ranker),R("acyclicer",g.acyclicer),C.setGraph(A),C.setDefaultEdgeLabel(function(){return{}}),C.setDefaultNodeLabel(function(){return{}});var M=_.nodes();l(g.sort)&&(M=M.sort(g.sort));for(var B=0;B<M.length;B++){var O=M[B],N=O.layoutDimensions(g);C.setNode(O.id(),{width:N.w,height:N.h,name:O.id()})}for(var L=0;L<M.length;L++){var P=M[L];P.isChild()&&C.setParent(P.id(),P.parent().id())}var I=_.edges().stdFilter(function(se){return!se.source().isParent()&&!se.target().isParent()});l(g.sort)&&(I=I.sort(g.sort));for(var V=0;V<I.length;V++){var j=I[V];C.setEdge(j.source().id(),j.target().id(),{minlen:x(j,g.minLen),weight:x(j,g.edgeWeight),name:j.id()},j.id())}v.layout(C);for(var Z=C.nodes(),J=0;J<Z.length;J++){var G=Z[J],$=C.node(G);b.getElementById(G).scratch().dagre=$}var W;g.boundingBox?(W={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},M.forEach(function(se){var U=se.scratch().dagre;W.x1=Math.min(W.x1,U.x),W.x2=Math.max(W.x2,U.x),W.y1=Math.min(W.y1,U.y),W.y2=Math.max(W.y2,U.y)}),W.w=W.x2-W.x1,W.h=W.y2-W.y1):W=E;var oe=function(U){if(g.boundingBox){var X=W.w===0?0:(U.x-W.x1)/W.w,ue=W.h===0?0:(U.y-W.y1)/W.h;return{x:E.x1+X*E.w,y:E.y1+ue*E.h}}else return U};return M.layoutPositions(m,g,function(se){se=s(se)==="object"?se:this;var U=se.scratch().dagre;return oe({x:U.x,y:U.y})}),this},n.exports=p}),(function(n,i){var u={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(l){return 1},edgeWeight:function(l){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(l,f){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(l,f){return f},ready:function(){},sort:void 0,stop:function(){}};n.exports=u}),(function(n,i){n.exports=Object.assign!=null?Object.assign.bind(Object):function(u){for(var s=arguments.length,l=new Array(s>1?s-1:0),f=1;f<s;f++)l[f-1]=arguments[f];return l.forEach(function(d){Object.keys(d).forEach(function(v){return u[v]=d[v]})}),u}}),(function(n,i){n.exports=r})])})})(gv)),gv.exports}var MG=OG();const BG=Lv(MG);Ku.use(BG);const qG=dt.div`
  display: flex;
  height: 100%;
  gap: 20px;
  padding: 20px 40px;
`,kG=dt.div`
  flex: 1;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  position: relative;
`,zG=dt.div`
  width: 300px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 20px;
  overflow-y: auto;
`,NG=dt.h3`
  margin: 0 0 15px 0;
  font-size: 16px;
`,Xd=dt.div`
  margin-bottom: 20px;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);

  &:last-child {
    border-bottom: none;
  }
`,Zd=dt.div`
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: rgba(255, 255, 255, 0.5);
  margin-bottom: 5px;
`,Rc=dt.div`
  font-size: 14px;
  color: white;
`,LG=dt.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,Dc=dt.div`
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 13px;
`,Oc=dt.div`
  width: 20px;
  height: 20px;
  border-radius: 4px;
  background: ${t=>t.$color};
  border: 1px solid rgba(255, 255, 255, 0.3);
`,PG=dt.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  color: rgba(255, 255, 255, 0.5);
  max-width: 400px;

  h3 {
    font-size: 20px;
    margin-bottom: 10px;
    color: rgba(255, 255, 255, 0.7);
  }
`;function IG(){const t=fn.useRef(null),e=fn.useRef(null),[r,n]=fn.useState(null),[i,u]=fn.useState({chars:0,rules:0,controls:0});fn.useEffect(()=>{s()},[]);async function s(){const f=await qr.characteristics.toArray(),d=await qr.scoringRules.toArray(),v=await qr.controls.toArray();if(u({chars:f.length,rules:d.length,controls:v.length}),f.length===0)return;const p=[],g=[];f.forEach(m=>{p.push({data:{id:`char-${m.id}`,label:m.name,type:"characteristic",info:m}})}),v.forEach((m,b)=>{const _=`control-${b}`;p.push({data:{id:_,label:`${m.riskLevel}: ${m.description.substring(0,30)}...`,type:"control",riskLevel:m.riskLevel,info:m}}),g.push({data:{source:`char-${m.characteristicId}`,target:_,label:m.riskLevel}})}),d.forEach((m,b)=>{const _=`rule-${b}`;p.push({data:{id:_,label:`${m.techType}/${m.phase}
+${m.points}`,type:"rule",info:m}});const x=f.find(E=>E.key===m.characteristicKey);x&&g.push({data:{source:_,target:`char-${x.id}`,label:`+${m.points}`}})}),l(p,g)}function l(f,d){e.current&&(t.current&&t.current.destroy(),t.current=Ku({container:e.current,elements:{nodes:f,edges:d},style:[{selector:"node",style:{label:"data(label)","text-valign":"center","text-halign":"center","font-size":"12px",color:"#ffffff","text-wrap":"wrap","text-max-width":"100px","background-color":"#4AE2C0","border-width":2,"border-color":"#ffffff",width:80,height:80}},{selector:'node[type="characteristic"]',style:{"background-color":"#4AE2C0",shape:"round-rectangle"}},{selector:'node[type="control"]',style:{"background-color":"#FFC107",width:60,height:60,"font-size":"10px"}},{selector:'node[type="control"][riskLevel="low"]',style:{"background-color":"#4CAF50"}},{selector:'node[type="control"][riskLevel="high"]',style:{"background-color":"#F44336"}},{selector:'node[type="rule"]',style:{"background-color":"#2196F3",shape:"diamond",width:70,height:70}},{selector:"edge",style:{width:2,"line-color":"rgba(255, 255, 255, 0.3)","target-arrow-color":"rgba(255, 255, 255, 0.3)","target-arrow-shape":"triangle","curve-style":"bezier",label:"data(label)","font-size":"10px",color:"rgba(255, 255, 255, 0.7)","text-background-color":"#1e3c72","text-background-opacity":.8,"text-background-padding":"3px"}},{selector:":selected",style:{"border-width":4,"border-color":"#FFD700"}}],layout:{name:"dagre",rankDir:"TB",nodeSep:50,rankSep:100}}),t.current.on("tap","node",v=>{const p=v.target;n(p.data())}),t.current.on("tap",v=>{v.target===t.current&&n(null)}))}return _e.jsxs(qG,{children:[_e.jsx(kG,{ref:e,children:i.chars===0&&_e.jsxs(PG,{children:[_e.jsx("h3",{children:"No data to visualize yet"}),_e.jsx("p",{children:"Add some characteristics and controls in the Characteristics tab to see the graph."})]})}),_e.jsxs(zG,{children:[_e.jsx(NG,{children:"Graph Overview"}),_e.jsxs(Xd,{children:[_e.jsx(Zd,{children:"Statistics"}),_e.jsxs(Rc,{children:[i.chars," Characteristics"]}),_e.jsxs(Rc,{children:[i.rules," Scoring Rules"]}),_e.jsxs(Rc,{children:[i.controls," Controls"]})]}),_e.jsxs(Xd,{children:[_e.jsx(Zd,{children:"Legend"}),_e.jsxs(LG,{children:[_e.jsxs(Dc,{children:[_e.jsx(Oc,{$color:"#4AE2C0"}),_e.jsx("span",{children:"Characteristics"})]}),_e.jsxs(Dc,{children:[_e.jsx(Oc,{$color:"#4CAF50"}),_e.jsx("span",{children:"Low Risk Controls"})]}),_e.jsxs(Dc,{children:[_e.jsx(Oc,{$color:"#FFC107"}),_e.jsx("span",{children:"Medium Risk Controls"})]}),_e.jsxs(Dc,{children:[_e.jsx(Oc,{$color:"#F44336"}),_e.jsx("span",{children:"High Risk Controls"})]}),_e.jsxs(Dc,{children:[_e.jsx(Oc,{$color:"#2196F3"}),_e.jsx("span",{children:"Scoring Rules"})]})]})]}),r&&_e.jsxs(Xd,{children:[_e.jsxs(Zd,{children:["Selected: ",r.type]}),_e.jsx(Rc,{style:{fontSize:"13px",lineHeight:"1.6"},children:JSON.stringify(r.info,null,2)})]}),!r&&_e.jsxs(Xd,{children:[_e.jsx(Zd,{children:"Tip"}),_e.jsx(Rc,{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.7)"},children:"Click on a node to see its details"})]})]})]})}const UG=dt.div`
  padding: 20px 40px;
  height: 100%;
  overflow-y: auto;
`,FG=dt.div`
  margin-bottom: 30px;
`,VG=dt.h2`
  margin: 0 0 10px 0;
  font-size: 24px;
`,jG=dt.p`
  margin: 0;
  font-size: 14px;
  color: rgba(255, 255, 255, 0.7);
  line-height: 1.6;
`,GG=dt.table`
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.1);
`,Mc=dt.th`
  background: rgba(0, 0, 0, 0.3);
  padding: 15px;
  text-align: left;
  font-size: 13px;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  text-transform: uppercase;
  letter-spacing: 0.5px;
`,Bc=dt.td`
  padding: 15px;
  font-size: 14px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
`,HG=dt.span`
  color: ${t=>t.$value>0?"#4AE2C0":t.$value<0?"#F44336":"rgba(255, 255, 255, 0.5)"};
  font-weight: 600;
`,KG=dt.span`
  background: rgba(74, 226, 192, 0.2);
  border: 1px solid rgba(74, 226, 192, 0.4);
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
`,vB=dt.button`
  background: linear-gradient(90deg, #4AE2C0, #3cc8a8);
  color: #1e3c72;
  border: 1px solid #4AE2C0;
  padding: 12px 24px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
`,$G=dt.div`
  text-align: center;
  padding: 80px 40px;
  color: rgba(255, 255, 255, 0.5);

  h3 {
    font-size: 20px;
    margin-bottom: 10px;
    color: rgba(255, 255, 255, 0.7);
  }
`;function YG(){const[t,e]=fn.useState([]);fn.useEffect(()=>{r()},[]);async function r(){const n=await qr.scoringRules.toArray();e(n)}return _e.jsxs(UG,{children:[_e.jsxs(FG,{children:[_e.jsx(VG,{children:"Scoring Rules"}),_e.jsx(jG,{children:"Define when characteristics should be recommended based on technology type, research phase, and other contextual factors. Higher scores = higher priority."})]}),t.length>0?_e.jsxs(_e.Fragment,{children:[_e.jsx(vB,{onClick:()=>alert("Add Rule UI coming soon!"),children:"+ Add Scoring Rule"}),_e.jsx("div",{style:{marginTop:"20px"},children:_e.jsxs(GG,{children:[_e.jsx("thead",{children:_e.jsxs("tr",{children:[_e.jsx(Mc,{children:"Tech Type"}),_e.jsx(Mc,{children:"Phase"}),_e.jsx(Mc,{children:"Characteristic"}),_e.jsx(Mc,{children:"Points"}),_e.jsx(Mc,{children:"Reason"})]})}),_e.jsx("tbody",{children:t.map((n,i)=>_e.jsxs("tr",{children:[_e.jsx(Bc,{children:_e.jsx(KG,{children:n.techType.toUpperCase()})}),_e.jsx(Bc,{style:{textTransform:"capitalize"},children:n.phase}),_e.jsx(Bc,{children:n.characteristicKey}),_e.jsx(Bc,{children:_e.jsxs(HG,{$value:n.points,children:[n.points>0?"+":"",n.points]})}),_e.jsx(Bc,{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"13px"},children:n.reason})]},i))})]})})]}):_e.jsxs($G,{children:[_e.jsx("h3",{children:"No scoring rules yet"}),_e.jsx("p",{children:"Scoring rules determine when characteristics are recommended to users."}),_e.jsx("p",{style:{marginTop:"20px"},children:_e.jsx(vB,{onClick:()=>alert("Add Rule UI coming soon!"),children:"+ Add Your First Rule"})})]})]})}const XG=dt.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
  color: white;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
`,ZG=dt.header`
  background: rgba(0, 0, 0, 0.3);
  padding: 20px 40px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  display: flex;
  justify-content: space-between;
  align-items: center;
`,QG=dt.h1`
  margin: 0;
  font-size: 24px;
  font-weight: 600;
  background: linear-gradient(90deg, #4AE2C0, #6BFFE9);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
`,WG=dt.div`
  font-size: 13px;
  color: rgba(255, 255, 255, 0.6);
  margin-top: 4px;
`,JG=dt.nav`
  display: flex;
  gap: 10px;
`,Qd=dt.button`
  background: ${t=>t.$active?"rgba(74, 226, 192, 0.2)":"transparent"};
  border: 1px solid ${t=>t.$active?"#4AE2C0":"rgba(255, 255, 255, 0.3)"};
  color: ${t=>t.$active?"#4AE2C0":"white"};
  padding: 10px 20px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s ease;

  &:hover {
    background: rgba(74, 226, 192, 0.15);
    border-color: #4AE2C0;
    transform: translateY(-1px);
  }
`,eH=dt.main`
  flex: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
`,tH=dt.div`
  background: rgba(74, 226, 192, 0.1);
  border: 1px solid rgba(74, 226, 192, 0.3);
  border-radius: 8px;
  padding: 12px 20px;
  margin: 20px 40px;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 13px;

  .icon {
    font-size: 20px;
  }
`;function rH(){const[t,e]=fn.useState("characteristics");return _e.jsxs(XG,{children:[_e.jsxs(ZG,{children:[_e.jsxs("div",{children:[_e.jsx(QG,{children:"IRB Rules Engine"}),_e.jsx(WG,{children:"Visual rule builder for protocol assessment"})]}),_e.jsxs(JG,{children:[_e.jsx(Qd,{$active:t==="techtypes",onClick:()=>e("techtypes"),children:" Technology Types"}),_e.jsx(Qd,{$active:t==="characteristics",onClick:()=>e("characteristics"),children:" Characteristics"}),_e.jsx(Qd,{$active:t==="graph",onClick:()=>e("graph"),children:" Graph View"}),_e.jsx(Qd,{$active:t==="scoring",onClick:()=>e("scoring"),children:" Scoring Rules"})]})]}),_e.jsxs(tH,{children:[_e.jsx("span",{className:"icon",children:""}),_e.jsxs("div",{children:[_e.jsx("strong",{children:"New Graph-Based Architecture!"})," Technology types are now configurable. Create custom tech domains, define characteristics, and build complex interdependencies. View all relationships in the Graph tab."]})]}),_e.jsxs(eH,{children:[t==="techtypes"&&_e.jsx(m3,{}),t==="characteristics"&&_e.jsx(L3,{}),t==="scoring"&&_e.jsx(YG,{}),t==="graph"&&_e.jsx(IG,{})]})]})}eL.createRoot(document.getElementById("root")).render(_e.jsx(el.StrictMode,{children:_e.jsx(rH,{})}));
