(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(i){if(i.ep)return;i.ep=!0;const u=r(i);fetch(i.href,u)}})();var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ov(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lg={exports:{}},vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2;function NN(){if(L2)return vc;L2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,u){var s=null;if(u!==void 0&&(s=""+u),i.key!==void 0&&(s=""+i.key),"key"in i){u={};for(var l in i)l!=="key"&&(u[l]=i[l])}else u=i;return i=u.ref,{$$typeof:t,type:n,key:s,ref:i!==void 0?i:null,props:u}}return vc.Fragment=e,vc.jsx=r,vc.jsxs=r,vc}var P2;function LN(){return P2||(P2=1,lg.exports=NN()),lg.exports}var ze=LN(),cg={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function PN(){if(I2)return kt;I2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function m(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function E(U,X,ue){this.props=U,this.context=X,this.refs=x,this.updater=ue||b}E.prototype.isReactComponent={},E.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},E.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function _(){}_.prototype=E.prototype;function A(U,X,ue){this.props=U,this.context=X,this.refs=x,this.updater=ue||b}var R=A.prototype=new _;R.constructor=A,C(R,E.prototype),R.isPureReactComponent=!0;var M=Array.isArray;function B(){}var O={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function L(U,X,ue){var $=ue.ref;return{$$typeof:t,type:U,key:X,ref:$!==void 0?$:null,props:ue}}function P(U,X){return L(U.type,X,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function V(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return X[ue]})}var G=/\/+/g;function Z(U,X){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):X.toString(36)}function J(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(B,B):(U.status="pending",U.then(function(X){U.status==="pending"&&(U.status="fulfilled",U.value=X)},function(X){U.status==="pending"&&(U.status="rejected",U.reason=X)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function j(U,X,ue,$,ee){var re=typeof U;(re==="undefined"||re==="boolean")&&(U=null);var de=!1;if(U===null)de=!0;else switch(re){case"bigint":case"string":case"number":de=!0;break;case"object":switch(U.$$typeof){case t:case e:de=!0;break;case v:return de=U._init,j(de(U._payload),X,ue,$,ee)}}if(de)return ee=ee(U),de=$===""?"."+Z(U,0):$,M(ee)?(ue="",de!=null&&(ue=de.replace(G,"$&/")+"/"),j(ee,X,ue,"",function(he){return he})):ee!=null&&(I(ee)&&(ee=P(ee,ue+(ee.key==null||U&&U.key===ee.key?"":(""+ee.key).replace(G,"$&/")+"/")+de)),X.push(ee)),1;de=0;var ke=$===""?".":$+":";if(M(U))for(var ie=0;ie<U.length;ie++)$=U[ie],re=ke+Z($,ie),de+=j($,X,ue,re,ee);else if(ie=m(U),typeof ie=="function")for(U=ie.call(U),ie=0;!($=U.next()).done;)$=$.value,re=ke+Z($,ie++),de+=j($,X,ue,re,ee);else if(re==="object"){if(typeof U.then=="function")return j(J(U),X,ue,$,ee);throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return de}function Y(U,X,ue){if(U==null)return U;var $=[],ee=0;return j(U,$,"","",function(re){return X.call(ue,re,ee++)}),$}function W(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var oe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},se={map:Y,forEach:function(U,X,ue){Y(U,function(){X.apply(this,arguments)},ue)},count:function(U){var X=0;return Y(U,function(){X++}),X},toArray:function(U){return Y(U,function(X){return X})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return kt.Activity=p,kt.Children=se,kt.Component=E,kt.Fragment=r,kt.Profiler=i,kt.PureComponent=A,kt.StrictMode=n,kt.Suspense=f,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,kt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return O.H.useMemoCache(U)}},kt.cache=function(U){return function(){return U.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(U,X,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var $=C({},U.props),ee=U.key;if(X!=null)for(re in X.key!==void 0&&(ee=""+X.key),X)!N.call(X,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&X.ref===void 0||($[re]=X[re]);var re=arguments.length-2;if(re===1)$.children=ue;else if(1<re){for(var de=Array(re),ke=0;ke<re;ke++)de[ke]=arguments[ke+2];$.children=de}return L(U.type,ee,$)},kt.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},kt.createElement=function(U,X,ue){var $,ee={},re=null;if(X!=null)for($ in X.key!==void 0&&(re=""+X.key),X)N.call(X,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ee[$]=X[$]);var de=arguments.length-2;if(de===1)ee.children=ue;else if(1<de){for(var ke=Array(de),ie=0;ie<de;ie++)ke[ie]=arguments[ie+2];ee.children=ke}if(U&&U.defaultProps)for($ in de=U.defaultProps,de)ee[$]===void 0&&(ee[$]=de[$]);return L(U,re,ee)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(U){return{$$typeof:l,render:U}},kt.isValidElement=I,kt.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:W}},kt.memo=function(U,X){return{$$typeof:d,type:U,compare:X===void 0?null:X}},kt.startTransition=function(U){var X=O.T,ue={};O.T=ue;try{var $=U(),ee=O.S;ee!==null&&ee(ue,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(B,oe)}catch(re){oe(re)}finally{X!==null&&ue.types!==null&&(X.types=ue.types),O.T=X}},kt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},kt.use=function(U){return O.H.use(U)},kt.useActionState=function(U,X,ue){return O.H.useActionState(U,X,ue)},kt.useCallback=function(U,X){return O.H.useCallback(U,X)},kt.useContext=function(U){return O.H.useContext(U)},kt.useDebugValue=function(){},kt.useDeferredValue=function(U,X){return O.H.useDeferredValue(U,X)},kt.useEffect=function(U,X){return O.H.useEffect(U,X)},kt.useEffectEvent=function(U){return O.H.useEffectEvent(U)},kt.useId=function(){return O.H.useId()},kt.useImperativeHandle=function(U,X,ue){return O.H.useImperativeHandle(U,X,ue)},kt.useInsertionEffect=function(U,X){return O.H.useInsertionEffect(U,X)},kt.useLayoutEffect=function(U,X){return O.H.useLayoutEffect(U,X)},kt.useMemo=function(U,X){return O.H.useMemo(U,X)},kt.useOptimistic=function(U,X){return O.H.useOptimistic(U,X)},kt.useReducer=function(U,X,ue){return O.H.useReducer(U,X,ue)},kt.useRef=function(U){return O.H.useRef(U)},kt.useState=function(U){return O.H.useState(U)},kt.useSyncExternalStore=function(U,X,ue){return O.H.useSyncExternalStore(U,X,ue)},kt.useTransition=function(){return O.H.useTransition()},kt.version="19.2.0",kt}var U2;function Fx(){return U2||(U2=1,cg.exports=PN()),cg.exports}var Pn=Fx();const Zs=Ov(Pn);var fg={exports:{}},hc={},dg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function IN(){return F2||(F2=1,(function(t){function e(j,Y){var W=j.length;j.push(Y);e:for(;0<W;){var oe=W-1>>>1,se=j[oe];if(0<i(se,Y))j[oe]=Y,j[W]=se,W=oe;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var Y=j[0],W=j.pop();if(W!==Y){j[0]=W;e:for(var oe=0,se=j.length,U=se>>>1;oe<U;){var X=2*(oe+1)-1,ue=j[X],$=X+1,ee=j[$];if(0>i(ue,W))$<se&&0>i(ee,ue)?(j[oe]=ee,j[$]=W,oe=$):(j[oe]=ue,j[X]=W,oe=X);else if($<se&&0>i(ee,W))j[oe]=ee,j[$]=W,oe=$;else break e}}return Y}function i(j,Y){var W=j.sortIndex-Y.sortIndex;return W!==0?W:j.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var f=[],d=[],v=1,p=null,g=3,m=!1,b=!1,C=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function R(j){for(var Y=r(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=j)n(d),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=r(d)}}function M(j){if(C=!1,R(j),!b)if(r(f)!==null)b=!0,B||(B=!0,V());else{var Y=r(d);Y!==null&&J(M,Y.startTime-j)}}var B=!1,O=-1,N=5,L=-1;function P(){return x?!0:!(t.unstable_now()-L<N)}function I(){if(x=!1,B){var j=t.unstable_now();L=j;var Y=!0;try{e:{b=!1,C&&(C=!1,_(O),O=-1),m=!0;var W=g;try{t:{for(R(j),p=r(f);p!==null&&!(p.expirationTime>j&&P());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,g=p.priorityLevel;var se=oe(p.expirationTime<=j);if(j=t.unstable_now(),typeof se=="function"){p.callback=se,R(j),Y=!0;break t}p===r(f)&&n(f),R(j)}else n(f);p=r(f)}if(p!==null)Y=!0;else{var U=r(d);U!==null&&J(M,U.startTime-j),Y=!1}}break e}finally{p=null,g=W,m=!1}Y=void 0}}finally{Y?V():B=!1}}}var V;if(typeof A=="function")V=function(){A(I)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Z=G.port2;G.port1.onmessage=I,V=function(){Z.postMessage(null)}}else V=function(){E(I,0)};function J(j,Y){O=E(function(){j(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(j){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var W=g;g=Y;try{return j()}finally{g=W}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(j,Y){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=g;g=j;try{return Y()}finally{g=W}},t.unstable_scheduleCallback=function(j,Y,W){var oe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?oe+W:oe):W=oe,j){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=W+se,j={id:v++,callback:Y,priorityLevel:j,startTime:W,expirationTime:se,sortIndex:-1},W>oe?(j.sortIndex=W,e(d,j),r(f)===null&&j===r(d)&&(C?(_(O),O=-1):C=!0,J(M,W-oe))):(j.sortIndex=se,e(f,j),b||m||(b=!0,B||(B=!0,V()))),j},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(j){var Y=g;return function(){var W=g;g=Y;try{return j.apply(this,arguments)}finally{g=W}}}})(vg)),vg}var V2;function UN(){return V2||(V2=1,dg.exports=IN()),dg.exports}var hg={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G2;function FN(){if(G2)return Ln;G2=1;var t=Fx();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function u(f,d,v){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:d,implementation:v}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ln.createPortal=function(f,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return u(f,d,null,v)},Ln.flushSync=function(f){var d=s.T,v=n.p;try{if(s.T=null,n.p=2,f)return f()}finally{s.T=d,n.p=v,n.d.f()}},Ln.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(f,d))},Ln.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Ln.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var v=d.as,p=l(v,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?n.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):v==="script"&&n.d.X(f,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ln.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=l(d.as,d.crossOrigin);n.d.M(f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(f)},Ln.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,p=l(v,d.crossOrigin);n.d.L(f,v,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ln.preloadModule=function(f,d){if(typeof f=="string")if(d){var v=l(d.as,d.crossOrigin);n.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(f)},Ln.requestFormReset=function(f){n.d.r(f)},Ln.unstable_batchedUpdates=function(f,d){return f(d)},Ln.useFormState=function(f,d,v){return s.H.useFormState(f,d,v)},Ln.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ln.version="19.2.0",Ln}var j2;function VN(){if(j2)return hg.exports;j2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hg.exports=FN(),hg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function GN(){if(H2)return hc;H2=1;var t=UN(),e=Fx(),r=VN();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function u(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function s(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function l(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(u(a)!==a)throw Error(n(188))}function d(a){var o=a.alternate;if(!o){if(o=u(a),o===null)throw Error(n(188));return o!==a?null:a}for(var c=a,h=o;;){var w=c.return;if(w===null)break;var T=w.alternate;if(T===null){if(h=w.return,h!==null){c=h;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===c)return f(w),a;if(T===h)return f(w),o;T=T.sibling}throw Error(n(188))}if(c.return!==h.return)c=w,h=T;else{for(var k=!1,H=w.child;H;){if(H===c){k=!0,c=w,h=T;break}if(H===h){k=!0,h=w,c=T;break}H=H.sibling}if(!k){for(H=T.child;H;){if(H===c){k=!0,c=T,h=w;break}if(H===h){k=!0,h=T,c=w;break}H=H.sibling}if(!k)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:o}function v(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=v(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),A=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(a){return a===null||typeof a!="object"?null:(a=I&&a[I]||a["@@iterator"],typeof a=="function"?a:null)}var G=Symbol.for("react.client.reference");function Z(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===G?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case B:return"SuspenseList";case L:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case A:return a.displayName||"Context";case _:return(a._context.displayName||"Context")+".Consumer";case R:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:Z(a.type)||"Memo";case N:o=a._payload,a=a._init;try{return Z(a(o))}catch{}}return null}var J=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},oe=[],se=-1;function U(a){return{current:a}}function X(a){0>se||(a.current=oe[se],oe[se]=null,se--)}function ue(a,o){se++,oe[se]=a.current,a.current=o}var $=U(null),ee=U(null),re=U(null),de=U(null);function ke(a,o){switch(ue(re,o),ue(ee,a),ue($,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?u2(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=u2(o),a=o2(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X($),ue($,a)}function ie(){X($),X(ee),X(re)}function he(a){a.memoizedState!==null&&ue(de,a);var o=$.current,c=o2(o,a.type);o!==c&&(ue(ee,a),ue($,c))}function be(a){ee.current===a&&(X($),X(ee)),de.current===a&&(X(de),lc._currentValue=W)}var ge,Me;function je(a){if(ge===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ge=o&&o[1]||"",Me=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+a+Me}var He=!1;function Ct(a,o){if(!a||He)return"";He=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Be){var De=Be}Reflect.construct(a,[],Ve)}else{try{Ve.call()}catch(Be){De=Be}a.call(Ve.prototype)}}else{try{throw Error()}catch(Be){De=Be}(Ve=a())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Be){if(Be&&De&&typeof Be.stack=="string")return[Be.stack,De.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=h.DetermineComponentFrameRoot(),k=T[0],H=T[1];if(k&&H){var ne=k.split(`
`),Ae=H.split(`
`);for(w=h=0;h<ne.length&&!ne[h].includes("DetermineComponentFrameRoot");)h++;for(;w<Ae.length&&!Ae[w].includes("DetermineComponentFrameRoot");)w++;if(h===ne.length||w===Ae.length)for(h=ne.length-1,w=Ae.length-1;1<=h&&0<=w&&ne[h]!==Ae[w];)w--;for(;1<=h&&0<=w;h--,w--)if(ne[h]!==Ae[w]){if(h!==1||w!==1)do if(h--,w--,0>w||ne[h]!==Ae[w]){var Ie=`
`+ne[h].replace(" at new "," at ");return a.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",a.displayName)),Ie}while(1<=h&&0<=w);break}}}finally{He=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?je(c):""}function Ze(a,o){switch(a.tag){case 26:case 27:case 5:return je(a.type);case 16:return je("Lazy");case 13:return a.child!==o&&o!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return Ct(a.type,!1);case 11:return Ct(a.type.render,!1);case 1:return Ct(a.type,!0);case 31:return je("Activity");default:return""}}function vt(a){try{var o="",c=null;do o+=Ze(a,c),c=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ct=Object.prototype.hasOwnProperty,Qe=t.unstable_scheduleCallback,tt=t.unstable_cancelCallback,ot=t.unstable_shouldYield,st=t.unstable_requestPaint,rt=t.unstable_now,xt=t.unstable_getCurrentPriorityLevel,Dt=t.unstable_ImmediatePriority,qt=t.unstable_UserBlockingPriority,Mt=t.unstable_NormalPriority,Pt=t.unstable_LowPriority,gt=t.unstable_IdlePriority,at=t.log,Ne=t.unstable_setDisableYieldValue,K=null,we=null;function Oe(a){if(typeof at=="function"&&Ne(a),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(K,a)}catch{}}var pe=Math.clz32?Math.clz32:Ge,Pe=Math.log,nt=Math.LN2;function Ge(a){return a>>>=0,a===0?32:31-(Pe(a)/nt|0)|0}var qe=256,it=262144,pt=4194304;function _t(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function At(a,o,c){var h=a.pendingLanes;if(h===0)return 0;var w=0,T=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var H=h&134217727;return H!==0?(h=H&~T,h!==0?w=_t(h):(k&=H,k!==0?w=_t(k):c||(c=H&~a,c!==0&&(w=_t(c))))):(H=h&~T,H!==0?w=_t(H):k!==0?w=_t(k):c||(c=h&~a,c!==0&&(w=_t(c)))),w===0?0:o!==0&&o!==w&&(o&T)===0&&(T=w&-w,c=o&-o,T>=c||T===32&&(c&4194048)!==0)?o:w}function lt(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function It(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zt(){var a=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),a}function ir(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function $t(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function jr(a,o,c,h,w,T){var k=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var H=a.entanglements,ne=a.expirationTimes,Ae=a.hiddenUpdates;for(c=k&~c;0<c;){var Ie=31-pe(c),Ve=1<<Ie;H[Ie]=0,ne[Ie]=-1;var De=Ae[Ie];if(De!==null)for(Ae[Ie]=null,Ie=0;Ie<De.length;Ie++){var Be=De[Ie];Be!==null&&(Be.lane&=-536870913)}c&=~Ve}h!==0&&dr(a,h,0),T!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=T&~(k&~o))}function dr(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-pe(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function Bt(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var h=31-pe(c),w=1<<h;w&o|a[h]&o&&(a[h]|=o),c&=~w}}function Ut(a,o){var c=o&-o;return c=(c&42)!==0?1:zr(c),(c&(a.suspendedLanes|o))!==0?0:c}function zr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Tn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function vr(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:O2(a.type))}function _n(a,o){var c=Y.p;try{return Y.p=a,o()}finally{Y.p=c}}var Yr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Yr,wr="__reactProps$"+Yr,Nr="__reactContainer$"+Yr,Lr="__reactEvents$"+Yr,$r="__reactListeners$"+Yr,Tr="__reactHandles$"+Yr,Na="__reactResources$"+Yr,xr="__reactMarker$"+Yr;function vi(a){delete a[Qt],delete a[wr],delete a[Lr],delete a[$r],delete a[Tr]}function ba(a){var o=a[Qt];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Nr]||c[Qt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=h2(a);a!==null;){if(c=a[Qt])return c;a=h2(a)}return o}a=c,c=a.parentNode}return null}function ur(a){if(a=a[Qt]||a[Nr]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Vn(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function hn(a){var o=a[Na];return o||(o=a[Na]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Pr(a){a[xr]=!0}var La=new Set,hi={};function Cn(a,o){Zn(a,o),Zn(a+"Capture",o)}function Zn(a,o){for(hi[a]=o,a=0;a<o.length;a++)La.add(o[a])}var Qn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xi={},Xa={};function Vo(a){return ct.call(Xa,a)?!0:ct.call(Xi,a)?!1:Qn.test(a)?Xa[a]=!0:(Xi[a]=!0,!1)}function Et(a,o,c){if(Vo(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Pa(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function Gn(a,o,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+h)}}function Ir(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Xr(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Go(a,o,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,T=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return w.call(this)},set:function(k){c=""+k,T.call(this,k)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(k){c=""+k},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Xu(a){if(!a._valueTracker){var o=Xr(a)?"checked":"value";a._valueTracker=Go(a,o,""+a[o])}}function Zu(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return a&&(h=Xr(a)?a.checked?"true":"false":a.value),a=h,a!==c?(o.setValue(a),!0):!1}function nr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Qu=/[\n"\\]/g;function pn(a){return a.replace(Qu,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Za(a,o,c,h,w,T,k,H){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),o!=null?k==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Ir(o)):a.value!==""+Ir(o)&&(a.value=""+Ir(o)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),o!=null?Wu(a,k,Ir(o)):c!=null?Wu(a,k,Ir(c)):h!=null&&a.removeAttribute("value"),w==null&&T!=null&&(a.defaultChecked=!!T),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.name=""+Ir(H):a.removeAttribute("name")}function jo(a,o,c,h,w,T,k,H){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),o!=null||c!=null){if(!(T!=="submit"&&T!=="reset"||o!=null)){Xu(a);return}c=c!=null?""+Ir(c):"",o=o!=null?""+Ir(o):c,H||o===a.value||(a.value=o),a.defaultValue=o}h=h??w,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=H?a.checked:!!h,a.defaultChecked=!!h,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),Xu(a)}function Wu(a,o,c){o==="number"&&nr(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Ia(a,o,c,h){if(a=a.options,o){o={};for(var w=0;w<c.length;w++)o["$"+c[w]]=!0;for(c=0;c<a.length;c++)w=o.hasOwnProperty("$"+a[c].value),a[c].selected!==w&&(a[c].selected=w),w&&h&&(a[c].defaultSelected=!0)}else{for(c=""+Ir(c),o=null,w=0;w<a.length;w++){if(a[w].value===c){a[w].selected=!0,h&&(a[w].defaultSelected=!0);return}o!==null||a[w].disabled||(o=a[w])}o!==null&&(o.selected=!0)}}function yl(a,o,c){if(o!=null&&(o=""+Ir(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Ir(c):""}function Ju(a,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(n(92));if(J(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Ir(o),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),Xu(a)}function pi(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var mh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xt(a,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,c):typeof c!="number"||c===0||mh.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function ml(a,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var w in o)h=o[w],o.hasOwnProperty(w)&&c[w]!==h&&Xt(a,w,h)}else for(var T in o)o.hasOwnProperty(T)&&Xt(a,T,o[T])}function bl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(a){return jn.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Wn(){}var wa=null;function Ho(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var gi=null,_r=null;function ca(a){var o=ur(a);if(o&&(a=o.stateNode)){var c=a[wr]||null;e:switch(a=o.stateNode,o.type){case"input":if(Za(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+pn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==a&&h.form===a.form){var w=h[wr]||null;if(!w)throw Error(n(90));Za(h,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===a.form&&Zu(h)}break e;case"textarea":yl(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ia(a,!!c.multiple,o,!1)}}}var yi=!1;function Zi(a,o,c){if(yi)return a(o,c);yi=!0;try{var h=a(o);return h}finally{if(yi=!1,(gi!==null||_r!==null)&&(id(),gi&&(o=gi,a=_r,_r=gi=null,ca(o),a)))for(o=0;o<a.length;o++)ca(a[o])}}function mi(a,o){var c=a.stateNode;if(c===null)return null;var h=c[wr]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(gn)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){wl=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{wl=!1}var xa=null,Ko=null,Qi=null;function Wi(){if(Qi)return Qi;var a,o=Ko,c=o.length,h,w="value"in xa?xa.value:xa.textContent,T=w.length;for(a=0;a<c&&o[a]===w[a];a++);var k=c-a;for(h=1;h<=k&&o[c-h]===w[T-h];h++);return Qi=w.slice(a,1<h?1-h:void 0)}function Ji(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function eo(){return!0}function yf(){return!1}function Zr(a){function o(c,h,w,T,k){this._reactName=c,this._targetInst=w,this.type=h,this.nativeEvent=T,this.target=k,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(c=a[H],this[H]=c?c(T):T[H]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?eo:yf,this.isPropagationStopped=yf,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),o}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=Zr(bi),Qa=p({},bi,{view:0,detail:0}),$o=Zr(Qa),to,xl,ro,Xo=p({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ro&&(ro&&a.type==="mousemove"?(to=a.screenX-ro.screenX,xl=a.screenY-ro.screenY):xl=to=0,ro=a),to)},movementY:function(a){return"movementY"in a?a.movementY:xl}}),Zo=Zr(Xo),El=p({},Xo,{dataTransfer:0}),mf=Zr(El),Qo=p({},Qa,{relatedTarget:0}),eu=Zr(Qo),Wo=p({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),bf=Zr(Wo),wh=p({},bi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),tu=Zr(wh),Sl=p({},bi,{data:0}),Jo=Zr(Sl),Tl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_l={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function no(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=yn[a])?!!o[a]:!1}function wi(){return no}var wf=p({},Qa,{key:function(a){if(a.key){var o=Tl[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ji(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_l[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wi,charCode:function(a){return a.type==="keypress"?Ji(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ji(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),es=Zr(wf),xf=p({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cl=Zr(xf),ts=p({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wi}),Al=Zr(ts),xi=p({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rl=Zr(xi),Dl=p({},Xo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),rs=Zr(Dl),Ol=p({},bi,{newState:0,oldState:0}),Ef=Zr(Ol),xh=[9,13,27,32],ao=gn&&"CompositionEvent"in window,Wa=null;gn&&"documentMode"in document&&(Wa=document.documentMode);var Eh=gn&&"TextEvent"in window&&!Wa,ns=gn&&(!ao||Wa&&8<Wa&&11>=Wa),as=" ",Sf=!1;function Ml(a,o){switch(a){case"keyup":return xh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ei=!1;function _f(a,o){switch(a){case"compositionend":return Tf(o);case"keypress":return o.which!==32?null:(Sf=!0,as);case"textInput":return a=o.data,a===as&&Sf?null:a;default:return null}}function Sh(a,o){if(Ei)return a==="compositionend"||!ao&&Ml(a,o)?(a=Wi(),Qi=Ko=xa=null,Ei=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ns&&o.locale!=="ko"?null:o.data;default:return null}}var Cf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function is(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Cf[a.type]:o==="textarea"}function Bl(a,o,c,h){gi?_r?_r.push(h):_r=[h]:gi=h,o=dd(o,"onChange"),0<o.length&&(c=new Yo("onChange","change",null,c,h),a.push({event:c,listeners:o}))}var ru=null,io=null;function Th(a){e2(a,0)}function us(a){var o=Vn(a);if(Zu(o))return a}function uo(a,o){if(a==="change")return o}var Ea=!1;if(gn){var Cr;if(gn){var nu="oninput"in document;if(!nu){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),nu=typeof Hn.oninput=="function"}Cr=nu}else Cr=!1;Ea=Cr&&(!document.documentMode||9<document.documentMode)}function Af(){ru&&(ru.detachEvent("onpropertychange",os),io=ru=null)}function os(a){if(a.propertyName==="value"&&us(io)){var o=[];Bl(o,io,a,Ho(a)),Zi(Th,o)}}function Rf(a,o,c){a==="focusin"?(Af(),ru=o,io=c,ru.attachEvent("onpropertychange",os)):a==="focusout"&&Af()}function Si(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return us(io)}function ql(a,o){if(a==="click")return us(o)}function au(a,o){if(a==="input"||a==="change")return us(o)}function Ja(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Nn=typeof Object.is=="function"?Object.is:Ja;function y(a,o){if(Nn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var w=c[h];if(!ct.call(o,w)||!Nn(a[w],o[w]))return!1}return!0}function S(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function D(a,o){var c=S(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=o&&h>=o)return{node:c,offset:o-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=S(c)}}function q(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?q(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function z(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=nr(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=nr(a.document)}return o}function F(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var Q=gn&&"documentMode"in document&&11>=document.documentMode,te=null,le=null,ce=null,xe=!1;function ae(a,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xe||te==null||te!==nr(h)||(h=te,"selectionStart"in h&&F(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ce&&y(ce,h)||(ce=h,h=dd(le,"onSelect"),0<h.length&&(o=new Yo("onSelect","select",null,o,c),a.push({event:o,listeners:h}),o.target=te)))}function Se(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var fe={animationend:Se("Animation","AnimationEnd"),animationiteration:Se("Animation","AnimationIteration"),animationstart:Se("Animation","AnimationStart"),transitionrun:Se("Transition","TransitionRun"),transitionstart:Se("Transition","TransitionStart"),transitioncancel:Se("Transition","TransitionCancel"),transitionend:Se("Transition","TransitionEnd")},ye={},me={};gn&&(me=document.createElement("div").style,"AnimationEvent"in window||(delete fe.animationend.animation,delete fe.animationiteration.animation,delete fe.animationstart.animation),"TransitionEvent"in window||delete fe.transitionend.transition);function Ee(a){if(ye[a])return ye[a];if(!fe[a])return a;var o=fe[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in me)return ye[a]=o[c];return a}var _e=Ee("animationend"),Re=Ee("animationiteration"),Le=Ee("animationstart"),Fe=Ee("transitionrun"),$e=Ee("transitionstart"),Je=Ee("transitioncancel"),Ke=Ee("transitionend"),Xe=new Map,We="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");We.push("scrollEnd");function Ye(a,o){Xe.set(a,o),Cn(o,[a])}var ut=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},mt=[],Ot=0,Nt=0;function mn(){for(var a=Ot,o=Nt=Ot=0;o<a;){var c=mt[o];mt[o++]=null;var h=mt[o];mt[o++]=null;var w=mt[o];mt[o++]=null;var T=mt[o];if(mt[o++]=null,h!==null&&w!==null){var k=h.pending;k===null?w.next=w:(w.next=k.next,k.next=w),h.pending=w}T!==0&&oo(c,w,T)}}function Rt(a,o,c,h){mt[Ot++]=a,mt[Ot++]=o,mt[Ot++]=c,mt[Ot++]=h,Nt|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Qr(a,o,c,h){return Rt(a,o,c,h),Wr(a)}function Mr(a,o){return Rt(a,null,null,o),Wr(a)}function oo(a,o,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var w=!1,T=a.return;T!==null;)T.childLanes|=c,h=T.alternate,h!==null&&(h.childLanes|=c),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(w=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,w&&o!==null&&(w=31-pe(c),a=T.hiddenUpdates,h=a[w],h===null?a[w]=[o]:h.push(o),o.lane=c|536870912),T):null}function Wr(a){if(50<rc)throw rc=0,qp=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Jn={};function kl(a,o,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(a,o,c,h){return new kl(a,o,c,h)}function _h(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ti(a,o){var c=a.alternate;return c===null?(c=fa(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function NE(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Df(a,o,c,h,w,T){var k=0;if(h=a,typeof a=="function")_h(a)&&(k=1);else if(typeof a=="string")k=TN(a,c,$.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case L:return a=fa(31,c,o,w),a.elementType=L,a.lanes=T,a;case C:return so(c.children,w,T,o);case x:k=8,w|=24;break;case E:return a=fa(12,c,o,w|2),a.elementType=E,a.lanes=T,a;case M:return a=fa(13,c,o,w),a.elementType=M,a.lanes=T,a;case B:return a=fa(19,c,o,w),a.elementType=B,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:k=10;break e;case _:k=9;break e;case R:k=11;break e;case O:k=14;break e;case N:k=16,h=null;break e}k=29,c=Error(n(130,a===null?"null":typeof a,"")),h=null}return o=fa(k,c,o,w),o.elementType=a,o.type=h,o.lanes=T,o}function so(a,o,c,h){return a=fa(7,a,h,o),a.lanes=c,a}function Ch(a,o,c){return a=fa(6,a,null,o),a.lanes=c,a}function LE(a){var o=fa(18,null,null,0);return o.stateNode=a,o}function Ah(a,o,c){return o=fa(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var PE=new WeakMap;function Sa(a,o){if(typeof a=="object"&&a!==null){var c=PE.get(a);return c!==void 0?c:(o={value:a,source:o,stack:vt(o)},PE.set(a,o),o)}return{value:a,source:o,stack:vt(o)}}var ss=[],ls=0,Of=null,zl=0,Ta=[],_a=0,iu=null,ei=1,ti="";function _i(a,o){ss[ls++]=zl,ss[ls++]=Of,Of=a,zl=o}function IE(a,o,c){Ta[_a++]=ei,Ta[_a++]=ti,Ta[_a++]=iu,iu=a;var h=ei;a=ti;var w=32-pe(h)-1;h&=~(1<<w),c+=1;var T=32-pe(o)+w;if(30<T){var k=w-w%5;T=(h&(1<<k)-1).toString(32),h>>=k,w-=k,ei=1<<32-pe(o)+w|c<<w|h,ti=T+a}else ei=1<<T|c<<w|h,ti=a}function Rh(a){a.return!==null&&(_i(a,1),IE(a,1,0))}function Dh(a){for(;a===Of;)Of=ss[--ls],ss[ls]=null,zl=ss[--ls],ss[ls]=null;for(;a===iu;)iu=Ta[--_a],Ta[_a]=null,ti=Ta[--_a],Ta[_a]=null,ei=Ta[--_a],Ta[_a]=null}function UE(a,o){Ta[_a++]=ei,Ta[_a++]=ti,Ta[_a++]=iu,ei=o.id,ti=o.overflow,iu=a}var An=null,Ar=null,Zt=!1,uu=null,Ca=!1,Oh=Error(n(519));function ou(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(Sa(o,a)),Oh}function FE(a){var o=a.stateNode,c=a.type,h=a.memoizedProps;switch(o[Qt]=a,o[wr]=h,c){case"dialog":Ht("cancel",o),Ht("close",o);break;case"iframe":case"object":case"embed":Ht("load",o);break;case"video":case"audio":for(c=0;c<ac.length;c++)Ht(ac[c],o);break;case"source":Ht("error",o);break;case"img":case"image":case"link":Ht("error",o),Ht("load",o);break;case"details":Ht("toggle",o);break;case"input":Ht("invalid",o),jo(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ht("invalid",o);break;case"textarea":Ht("invalid",o),Ju(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||a2(o.textContent,c)?(h.popover!=null&&(Ht("beforetoggle",o),Ht("toggle",o)),h.onScroll!=null&&Ht("scroll",o),h.onScrollEnd!=null&&Ht("scrollend",o),h.onClick!=null&&(o.onclick=Wn),o=!0):o=!1,o||ou(a,!0)}function VE(a){for(An=a.return;An;)switch(An.tag){case 5:case 31:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:An=An.return}}function cs(a){if(a!==An)return!1;if(!Zt)return VE(a),Zt=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||$p(a.type,a.memoizedProps)),c=!c),c&&Ar&&ou(a),VE(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Ar=v2(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Ar=v2(a)}else o===27?(o=Ar,xu(a.type)?(a=Jp,Jp=null,Ar=a):Ar=o):Ar=An?Ra(a.stateNode.nextSibling):null;return!0}function lo(){Ar=An=null,Zt=!1}function Mh(){var a=uu;return a!==null&&(na===null?na=a:na.push.apply(na,a),uu=null),a}function Nl(a){uu===null?uu=[a]:uu.push(a)}var Bh=U(null),co=null,Ci=null;function su(a,o,c){ue(Bh,o._currentValue),o._currentValue=c}function Ai(a){a._currentValue=Bh.current,X(Bh)}function qh(a,o,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===c)break;a=a.return}}function kh(a,o,c,h){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var T=w.dependencies;if(T!==null){var k=w.child;T=T.firstContext;e:for(;T!==null;){var H=T;T=w;for(var ne=0;ne<o.length;ne++)if(H.context===o[ne]){T.lanes|=c,H=T.alternate,H!==null&&(H.lanes|=c),qh(T.return,c,a),h||(k=null);break e}T=H.next}}else if(w.tag===18){if(k=w.return,k===null)throw Error(n(341));k.lanes|=c,T=k.alternate,T!==null&&(T.lanes|=c),qh(k,c,a),k=null}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===a){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}}function fs(a,o,c,h){a=null;for(var w=o,T=!1;w!==null;){if(!T){if((w.flags&524288)!==0)T=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var k=w.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var H=w.type;Nn(w.pendingProps.value,k.value)||(a!==null?a.push(H):a=[H])}}else if(w===de.current){if(k=w.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(lc):a=[lc])}w=w.return}a!==null&&kh(o,a,c,h),o.flags|=262144}function Mf(a){for(a=a.firstContext;a!==null;){if(!Nn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function fo(a){co=a,Ci=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Rn(a){return GE(co,a)}function Bf(a,o){return co===null&&fo(a),GE(a,o)}function GE(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ci===null){if(a===null)throw Error(n(308));Ci=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ci=Ci.next=o;return c}var wz=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},xz=t.unstable_scheduleCallback,Ez=t.unstable_NormalPriority,Jr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new wz,data:new Map,refCount:0}}function Ll(a){a.refCount--,a.refCount===0&&xz(Ez,function(){a.controller.abort()})}var Pl=null,Nh=0,ds=0,vs=null;function Sz(a,o){if(Pl===null){var c=Pl=[];Nh=0,ds=Ip(),vs={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Nh++,o.then(jE,jE),o}function jE(){if(--Nh===0&&Pl!==null){vs!==null&&(vs.status="fulfilled");var a=Pl;Pl=null,ds=0,vs=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function Tz(a,o){var c=[],h={status:"pending",value:null,reason:null,then:function(w){c.push(w)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var w=0;w<c.length;w++)(0,c[w])(o)},function(w){for(h.status="rejected",h.reason=w,w=0;w<c.length;w++)(0,c[w])(void 0)}),h}var HE=j.S;j.S=function(a,o){RT=rt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Sz(a,o),HE!==null&&HE(a,o)};var vo=U(null);function Lh(){var a=vo.current;return a!==null?a:mr.pooledCache}function qf(a,o){o===null?ue(vo,vo.current):ue(vo,o.pool)}function KE(){var a=Lh();return a===null?null:{parent:Jr._currentValue,pool:a}}var hs=Error(n(460)),Ph=Error(n(474)),kf=Error(n(542)),zf={then:function(){}};function YE(a){return a=a.status,a==="fulfilled"||a==="rejected"}function $E(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Wn,Wn),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ZE(a),a;default:if(typeof o.status=="string")o.then(Wn,Wn);else{if(a=mr,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=h}},function(h){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ZE(a),a}throw po=o,hs}}function ho(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(po=c,hs):c}}var po=null;function XE(){if(po===null)throw Error(n(459));var a=po;return po=null,a}function ZE(a){if(a===hs||a===kf)throw Error(n(483))}var ps=null,Il=0;function Nf(a){var o=Il;return Il+=1,ps===null&&(ps=[]),$E(ps,a,o)}function Ul(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Lf(a,o){throw o.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function QE(a){function o(Te,ve){if(a){var Ce=Te.deletions;Ce===null?(Te.deletions=[ve],Te.flags|=16):Ce.push(ve)}}function c(Te,ve){if(!a)return null;for(;ve!==null;)o(Te,ve),ve=ve.sibling;return null}function h(Te){for(var ve=new Map;Te!==null;)Te.key!==null?ve.set(Te.key,Te):ve.set(Te.index,Te),Te=Te.sibling;return ve}function w(Te,ve){return Te=Ti(Te,ve),Te.index=0,Te.sibling=null,Te}function T(Te,ve,Ce){return Te.index=Ce,a?(Ce=Te.alternate,Ce!==null?(Ce=Ce.index,Ce<ve?(Te.flags|=67108866,ve):Ce):(Te.flags|=67108866,ve)):(Te.flags|=1048576,ve)}function k(Te){return a&&Te.alternate===null&&(Te.flags|=67108866),Te}function H(Te,ve,Ce,Ue){return ve===null||ve.tag!==6?(ve=Ch(Ce,Te.mode,Ue),ve.return=Te,ve):(ve=w(ve,Ce),ve.return=Te,ve)}function ne(Te,ve,Ce,Ue){var bt=Ce.type;return bt===C?Ie(Te,ve,Ce.props.children,Ue,Ce.key):ve!==null&&(ve.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===N&&ho(bt)===ve.type)?(ve=w(ve,Ce.props),Ul(ve,Ce),ve.return=Te,ve):(ve=Df(Ce.type,Ce.key,Ce.props,null,Te.mode,Ue),Ul(ve,Ce),ve.return=Te,ve)}function Ae(Te,ve,Ce,Ue){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ce.containerInfo||ve.stateNode.implementation!==Ce.implementation?(ve=Ah(Ce,Te.mode,Ue),ve.return=Te,ve):(ve=w(ve,Ce.children||[]),ve.return=Te,ve)}function Ie(Te,ve,Ce,Ue,bt){return ve===null||ve.tag!==7?(ve=so(Ce,Te.mode,Ue,bt),ve.return=Te,ve):(ve=w(ve,Ce),ve.return=Te,ve)}function Ve(Te,ve,Ce){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=Ch(""+ve,Te.mode,Ce),ve.return=Te,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case m:return Ce=Df(ve.type,ve.key,ve.props,null,Te.mode,Ce),Ul(Ce,ve),Ce.return=Te,Ce;case b:return ve=Ah(ve,Te.mode,Ce),ve.return=Te,ve;case N:return ve=ho(ve),Ve(Te,ve,Ce)}if(J(ve)||V(ve))return ve=so(ve,Te.mode,Ce,null),ve.return=Te,ve;if(typeof ve.then=="function")return Ve(Te,Nf(ve),Ce);if(ve.$$typeof===A)return Ve(Te,Bf(Te,ve),Ce);Lf(Te,ve)}return null}function De(Te,ve,Ce,Ue){var bt=ve!==null?ve.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return bt!==null?null:H(Te,ve,""+Ce,Ue);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case m:return Ce.key===bt?ne(Te,ve,Ce,Ue):null;case b:return Ce.key===bt?Ae(Te,ve,Ce,Ue):null;case N:return Ce=ho(Ce),De(Te,ve,Ce,Ue)}if(J(Ce)||V(Ce))return bt!==null?null:Ie(Te,ve,Ce,Ue,null);if(typeof Ce.then=="function")return De(Te,ve,Nf(Ce),Ue);if(Ce.$$typeof===A)return De(Te,ve,Bf(Te,Ce),Ue);Lf(Te,Ce)}return null}function Be(Te,ve,Ce,Ue,bt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Te=Te.get(Ce)||null,H(ve,Te,""+Ue,bt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case m:return Te=Te.get(Ue.key===null?Ce:Ue.key)||null,ne(ve,Te,Ue,bt);case b:return Te=Te.get(Ue.key===null?Ce:Ue.key)||null,Ae(ve,Te,Ue,bt);case N:return Ue=ho(Ue),Be(Te,ve,Ce,Ue,bt)}if(J(Ue)||V(Ue))return Te=Te.get(Ce)||null,Ie(ve,Te,Ue,bt,null);if(typeof Ue.then=="function")return Be(Te,ve,Ce,Nf(Ue),bt);if(Ue.$$typeof===A)return Be(Te,ve,Ce,Bf(ve,Ue),bt);Lf(ve,Ue)}return null}function dt(Te,ve,Ce,Ue){for(var bt=null,er=null,ht=ve,Ft=ve=0,Yt=null;ht!==null&&Ft<Ce.length;Ft++){ht.index>Ft?(Yt=ht,ht=null):Yt=ht.sibling;var tr=De(Te,ht,Ce[Ft],Ue);if(tr===null){ht===null&&(ht=Yt);break}a&&ht&&tr.alternate===null&&o(Te,ht),ve=T(tr,ve,Ft),er===null?bt=tr:er.sibling=tr,er=tr,ht=Yt}if(Ft===Ce.length)return c(Te,ht),Zt&&_i(Te,Ft),bt;if(ht===null){for(;Ft<Ce.length;Ft++)ht=Ve(Te,Ce[Ft],Ue),ht!==null&&(ve=T(ht,ve,Ft),er===null?bt=ht:er.sibling=ht,er=ht);return Zt&&_i(Te,Ft),bt}for(ht=h(ht);Ft<Ce.length;Ft++)Yt=Be(ht,Te,Ft,Ce[Ft],Ue),Yt!==null&&(a&&Yt.alternate!==null&&ht.delete(Yt.key===null?Ft:Yt.key),ve=T(Yt,ve,Ft),er===null?bt=Yt:er.sibling=Yt,er=Yt);return a&&ht.forEach(function(Cu){return o(Te,Cu)}),Zt&&_i(Te,Ft),bt}function Tt(Te,ve,Ce,Ue){if(Ce==null)throw Error(n(151));for(var bt=null,er=null,ht=ve,Ft=ve=0,Yt=null,tr=Ce.next();ht!==null&&!tr.done;Ft++,tr=Ce.next()){ht.index>Ft?(Yt=ht,ht=null):Yt=ht.sibling;var Cu=De(Te,ht,tr.value,Ue);if(Cu===null){ht===null&&(ht=Yt);break}a&&ht&&Cu.alternate===null&&o(Te,ht),ve=T(Cu,ve,Ft),er===null?bt=Cu:er.sibling=Cu,er=Cu,ht=Yt}if(tr.done)return c(Te,ht),Zt&&_i(Te,Ft),bt;if(ht===null){for(;!tr.done;Ft++,tr=Ce.next())tr=Ve(Te,tr.value,Ue),tr!==null&&(ve=T(tr,ve,Ft),er===null?bt=tr:er.sibling=tr,er=tr);return Zt&&_i(Te,Ft),bt}for(ht=h(ht);!tr.done;Ft++,tr=Ce.next())tr=Be(ht,Te,Ft,tr.value,Ue),tr!==null&&(a&&tr.alternate!==null&&ht.delete(tr.key===null?Ft:tr.key),ve=T(tr,ve,Ft),er===null?bt=tr:er.sibling=tr,er=tr);return a&&ht.forEach(function(zN){return o(Te,zN)}),Zt&&_i(Te,Ft),bt}function gr(Te,ve,Ce,Ue){if(typeof Ce=="object"&&Ce!==null&&Ce.type===C&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case m:e:{for(var bt=Ce.key;ve!==null;){if(ve.key===bt){if(bt=Ce.type,bt===C){if(ve.tag===7){c(Te,ve.sibling),Ue=w(ve,Ce.props.children),Ue.return=Te,Te=Ue;break e}}else if(ve.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===N&&ho(bt)===ve.type){c(Te,ve.sibling),Ue=w(ve,Ce.props),Ul(Ue,Ce),Ue.return=Te,Te=Ue;break e}c(Te,ve);break}else o(Te,ve);ve=ve.sibling}Ce.type===C?(Ue=so(Ce.props.children,Te.mode,Ue,Ce.key),Ue.return=Te,Te=Ue):(Ue=Df(Ce.type,Ce.key,Ce.props,null,Te.mode,Ue),Ul(Ue,Ce),Ue.return=Te,Te=Ue)}return k(Te);case b:e:{for(bt=Ce.key;ve!==null;){if(ve.key===bt)if(ve.tag===4&&ve.stateNode.containerInfo===Ce.containerInfo&&ve.stateNode.implementation===Ce.implementation){c(Te,ve.sibling),Ue=w(ve,Ce.children||[]),Ue.return=Te,Te=Ue;break e}else{c(Te,ve);break}else o(Te,ve);ve=ve.sibling}Ue=Ah(Ce,Te.mode,Ue),Ue.return=Te,Te=Ue}return k(Te);case N:return Ce=ho(Ce),gr(Te,ve,Ce,Ue)}if(J(Ce))return dt(Te,ve,Ce,Ue);if(V(Ce)){if(bt=V(Ce),typeof bt!="function")throw Error(n(150));return Ce=bt.call(Ce),Tt(Te,ve,Ce,Ue)}if(typeof Ce.then=="function")return gr(Te,ve,Nf(Ce),Ue);if(Ce.$$typeof===A)return gr(Te,ve,Bf(Te,Ce),Ue);Lf(Te,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,ve!==null&&ve.tag===6?(c(Te,ve.sibling),Ue=w(ve,Ce),Ue.return=Te,Te=Ue):(c(Te,ve),Ue=Ch(Ce,Te.mode,Ue),Ue.return=Te,Te=Ue),k(Te)):c(Te,ve)}return function(Te,ve,Ce,Ue){try{Il=0;var bt=gr(Te,ve,Ce,Ue);return ps=null,bt}catch(ht){if(ht===hs||ht===kf)throw ht;var er=fa(29,ht,null,Te.mode);return er.lanes=Ue,er.return=Te,er}finally{}}}var go=QE(!0),WE=QE(!1),lu=!1;function Ih(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function cu(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function fu(a,o,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(ar&2)!==0){var w=h.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),h.pending=o,o=Wr(a),oo(a,null,c),o}return Rt(a,h,o,c),Wr(a)}function Fl(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,Bt(a,c)}}function Fh(a,o){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var w=null,T=null;if(c=c.firstBaseUpdate,c!==null){do{var k={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};T===null?w=T=k:T=T.next=k,c=c.next}while(c!==null);T===null?w=T=o:T=T.next=o}else w=T=o;c={baseState:h.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Vh=!1;function Vl(){if(Vh){var a=vs;if(a!==null)throw a}}function Gl(a,o,c,h){Vh=!1;var w=a.updateQueue;lu=!1;var T=w.firstBaseUpdate,k=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var ne=H,Ae=ne.next;ne.next=null,k===null?T=Ae:k.next=Ae,k=ne;var Ie=a.alternate;Ie!==null&&(Ie=Ie.updateQueue,H=Ie.lastBaseUpdate,H!==k&&(H===null?Ie.firstBaseUpdate=Ae:H.next=Ae,Ie.lastBaseUpdate=ne))}if(T!==null){var Ve=w.baseState;k=0,Ie=Ae=ne=null,H=T;do{var De=H.lane&-536870913,Be=De!==H.lane;if(Be?(Kt&De)===De:(h&De)===De){De!==0&&De===ds&&(Vh=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var dt=a,Tt=H;De=o;var gr=c;switch(Tt.tag){case 1:if(dt=Tt.payload,typeof dt=="function"){Ve=dt.call(gr,Ve,De);break e}Ve=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Tt.payload,De=typeof dt=="function"?dt.call(gr,Ve,De):dt,De==null)break e;Ve=p({},Ve,De);break e;case 2:lu=!0}}De=H.callback,De!==null&&(a.flags|=64,Be&&(a.flags|=8192),Be=w.callbacks,Be===null?w.callbacks=[De]:Be.push(De))}else Be={lane:De,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ie===null?(Ae=Ie=Be,ne=Ve):Ie=Ie.next=Be,k|=De;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;Be=H,H=Be.next,Be.next=null,w.lastBaseUpdate=Be,w.shared.pending=null}}while(!0);Ie===null&&(ne=Ve),w.baseState=ne,w.firstBaseUpdate=Ae,w.lastBaseUpdate=Ie,T===null&&(w.shared.lanes=0),gu|=k,a.lanes=k,a.memoizedState=Ve}}function JE(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function eS(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)JE(c[a],o)}var gs=U(null),Pf=U(0);function tS(a,o){a=Ni,ue(Pf,a),ue(gs,o),Ni=a|o.baseLanes}function Gh(){ue(Pf,Ni),ue(gs,gs.current)}function jh(){Ni=Pf.current,X(gs),X(Pf)}var da=U(null),Aa=null;function du(a){var o=a.alternate;ue(Hr,Hr.current&1),ue(da,a),Aa===null&&(o===null||gs.current!==null||o.memoizedState!==null)&&(Aa=a)}function Hh(a){ue(Hr,Hr.current),ue(da,a),Aa===null&&(Aa=a)}function rS(a){a.tag===22?(ue(Hr,Hr.current),ue(da,a),Aa===null&&(Aa=a)):vu()}function vu(){ue(Hr,Hr.current),ue(da,da.current)}function va(a){X(da),Aa===a&&(Aa=null),X(Hr)}var Hr=U(0);function If(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Qp(c)||Wp(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ri=0,Lt=null,hr=null,en=null,Uf=!1,ys=!1,yo=!1,Ff=0,jl=0,ms=null,_z=0;function Fr(){throw Error(n(321))}function Kh(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!Nn(a[c],o[c]))return!1;return!0}function Yh(a,o,c,h,w,T){return Ri=T,Lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,j.H=a===null||a.memoizedState===null?IS:sp,yo=!1,T=c(h,w),yo=!1,ys&&(T=aS(o,c,h,w)),nS(a),T}function nS(a){j.H=Yl;var o=hr!==null&&hr.next!==null;if(Ri=0,en=hr=Lt=null,Uf=!1,jl=0,ms=null,o)throw Error(n(300));a===null||tn||(a=a.dependencies,a!==null&&Mf(a)&&(tn=!0))}function aS(a,o,c,h){Lt=a;var w=0;do{if(ys&&(ms=null),jl=0,ys=!1,25<=w)throw Error(n(301));if(w+=1,en=hr=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}j.H=US,T=o(c,h)}while(ys);return T}function Cz(){var a=j.H,o=a.useState()[0];return o=typeof o.then=="function"?Hl(o):o,a=a.useState()[0],(hr!==null?hr.memoizedState:null)!==a&&(Lt.flags|=1024),o}function $h(){var a=Ff!==0;return Ff=0,a}function Xh(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function Zh(a){if(Uf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Uf=!1}Ri=0,en=hr=Lt=null,ys=!1,jl=Ff=0,ms=null}function Kn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Lt.memoizedState=en=a:en=en.next=a,en}function Kr(){if(hr===null){var a=Lt.alternate;a=a!==null?a.memoizedState:null}else a=hr.next;var o=en===null?Lt.memoizedState:en.next;if(o!==null)en=o,hr=a;else{if(a===null)throw Lt.alternate===null?Error(n(467)):Error(n(310));hr=a,a={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},en===null?Lt.memoizedState=en=a:en=en.next=a}return en}function Vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(a){var o=jl;return jl+=1,ms===null&&(ms=[]),a=$E(ms,a,o),o=Lt,(en===null?o.memoizedState:en.next)===null&&(o=o.alternate,j.H=o===null||o.memoizedState===null?IS:sp),a}function Gf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Hl(a);if(a.$$typeof===A)return Rn(a)}throw Error(n(438,String(a)))}function Qh(a){var o=null,c=Lt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Lt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Vf(),Lt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),h=0;h<a;h++)c[h]=P;return o.index++,c}function Di(a,o){return typeof o=="function"?o(a):o}function jf(a){var o=Kr();return Wh(o,hr,a)}function Wh(a,o,c){var h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var w=a.baseQueue,T=h.pending;if(T!==null){if(w!==null){var k=w.next;w.next=T.next,T.next=k}o.baseQueue=w=T,h.pending=null}if(T=a.baseState,w===null)a.memoizedState=T;else{o=w.next;var H=k=null,ne=null,Ae=o,Ie=!1;do{var Ve=Ae.lane&-536870913;if(Ve!==Ae.lane?(Kt&Ve)===Ve:(Ri&Ve)===Ve){var De=Ae.revertLane;if(De===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),Ve===ds&&(Ie=!0);else if((Ri&De)===De){Ae=Ae.next,De===ds&&(Ie=!0);continue}else Ve={lane:0,revertLane:Ae.revertLane,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ne===null?(H=ne=Ve,k=T):ne=ne.next=Ve,Lt.lanes|=De,gu|=De;Ve=Ae.action,yo&&c(T,Ve),T=Ae.hasEagerState?Ae.eagerState:c(T,Ve)}else De={lane:Ve,revertLane:Ae.revertLane,gesture:Ae.gesture,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ne===null?(H=ne=De,k=T):ne=ne.next=De,Lt.lanes|=Ve,gu|=Ve;Ae=Ae.next}while(Ae!==null&&Ae!==o);if(ne===null?k=T:ne.next=H,!Nn(T,a.memoizedState)&&(tn=!0,Ie&&(c=vs,c!==null)))throw c;a.memoizedState=T,a.baseState=k,a.baseQueue=ne,h.lastRenderedState=T}return w===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Jh(a){var o=Kr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var h=c.dispatch,w=c.pending,T=o.memoizedState;if(w!==null){c.pending=null;var k=w=w.next;do T=a(T,k.action),k=k.next;while(k!==w);Nn(T,o.memoizedState)||(tn=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),c.lastRenderedState=T}return[T,h]}function iS(a,o,c){var h=Lt,w=Kr(),T=Zt;if(T){if(c===void 0)throw Error(n(407));c=c()}else c=o();var k=!Nn((hr||w).memoizedState,c);if(k&&(w.memoizedState=c,tn=!0),w=w.queue,rp(sS.bind(null,h,w,a),[a]),w.getSnapshot!==o||k||en!==null&&en.memoizedState.tag&1){if(h.flags|=2048,bs(9,{destroy:void 0},oS.bind(null,h,w,c,o),null),mr===null)throw Error(n(349));T||(Ri&127)!==0||uS(h,o,c)}return c}function uS(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Lt.updateQueue,o===null?(o=Vf(),Lt.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function oS(a,o,c,h){o.value=c,o.getSnapshot=h,lS(o)&&cS(a)}function sS(a,o,c){return c(function(){lS(o)&&cS(a)})}function lS(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!Nn(a,c)}catch{return!0}}function cS(a){var o=Mr(a,2);o!==null&&aa(o,a,2)}function ep(a){var o=Kn();if(typeof a=="function"){var c=a;if(a=c(),yo){Oe(!0);try{c()}finally{Oe(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},o}function fS(a,o,c,h){return a.baseState=c,Wh(a,hr,typeof h=="function"?h:Di)}function Az(a,o,c,h,w){if(Yf(a))throw Error(n(485));if(a=o.action,a!==null){var T={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){T.listeners.push(k)}};j.T!==null?c(!0):T.isTransition=!1,h(T),c=o.pending,c===null?(T.next=o.pending=T,dS(o,T)):(T.next=c.next,o.pending=c.next=T)}}function dS(a,o){var c=o.action,h=o.payload,w=a.state;if(o.isTransition){var T=j.T,k={};j.T=k;try{var H=c(w,h),ne=j.S;ne!==null&&ne(k,H),vS(a,o,H)}catch(Ae){tp(a,o,Ae)}finally{T!==null&&k.types!==null&&(T.types=k.types),j.T=T}}else try{T=c(w,h),vS(a,o,T)}catch(Ae){tp(a,o,Ae)}}function vS(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){hS(a,o,h)},function(h){return tp(a,o,h)}):hS(a,o,c)}function hS(a,o,c){o.status="fulfilled",o.value=c,pS(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,dS(a,c)))}function tp(a,o,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,pS(o),o=o.next;while(o!==h)}a.action=null}function pS(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function gS(a,o){return o}function yS(a,o){if(Zt){var c=mr.formState;if(c!==null){e:{var h=Lt;if(Zt){if(Ar){t:{for(var w=Ar,T=Ca;w.nodeType!==8;){if(!T){w=null;break t}if(w=Ra(w.nextSibling),w===null){w=null;break t}}T=w.data,w=T==="F!"||T==="F"?w:null}if(w){Ar=Ra(w.nextSibling),h=w.data==="F!";break e}}ou(h)}h=!1}h&&(o=c[0])}}return c=Kn(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gS,lastRenderedState:o},c.queue=h,c=NS.bind(null,Lt,h),h.dispatch=c,h=ep(!1),T=op.bind(null,Lt,!1,h.queue),h=Kn(),w={state:o,dispatch:null,action:a,pending:null},h.queue=w,c=Az.bind(null,Lt,w,T,c),w.dispatch=c,h.memoizedState=a,[o,c,!1]}function mS(a){var o=Kr();return bS(o,hr,a)}function bS(a,o,c){if(o=Wh(a,o,gS)[0],a=jf(Di)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Hl(o)}catch(k){throw k===hs?kf:k}else h=o;o=Kr();var w=o.queue,T=w.dispatch;return c!==o.memoizedState&&(Lt.flags|=2048,bs(9,{destroy:void 0},Rz.bind(null,w,c),null)),[h,T,a]}function Rz(a,o){a.action=o}function wS(a){var o=Kr(),c=hr;if(c!==null)return bS(o,c,a);Kr(),o=o.memoizedState,c=Kr();var h=c.queue.dispatch;return c.memoizedState=a,[o,h,!1]}function bs(a,o,c,h){return a={tag:a,create:c,deps:h,inst:o,next:null},o=Lt.updateQueue,o===null&&(o=Vf(),Lt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,o.lastEffect=a),a}function xS(){return Kr().memoizedState}function Hf(a,o,c,h){var w=Kn();Lt.flags|=a,w.memoizedState=bs(1|o,{destroy:void 0},c,h===void 0?null:h)}function Kf(a,o,c,h){var w=Kr();h=h===void 0?null:h;var T=w.memoizedState.inst;hr!==null&&h!==null&&Kh(h,hr.memoizedState.deps)?w.memoizedState=bs(o,T,c,h):(Lt.flags|=a,w.memoizedState=bs(1|o,T,c,h))}function ES(a,o){Hf(8390656,8,a,o)}function rp(a,o){Kf(2048,8,a,o)}function Dz(a){Lt.flags|=4;var o=Lt.updateQueue;if(o===null)o=Vf(),Lt.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function SS(a){var o=Kr().memoizedState;return Dz({ref:o,nextImpl:a}),function(){if((ar&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function TS(a,o){return Kf(4,2,a,o)}function _S(a,o){return Kf(4,4,a,o)}function CS(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function AS(a,o,c){c=c!=null?c.concat([a]):null,Kf(4,4,CS.bind(null,o,a),c)}function np(){}function RS(a,o){var c=Kr();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&Kh(o,h[1])?h[0]:(c.memoizedState=[a,o],a)}function DS(a,o){var c=Kr();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&Kh(o,h[1]))return h[0];if(h=a(),yo){Oe(!0);try{a()}finally{Oe(!1)}}return c.memoizedState=[h,o],h}function ap(a,o,c){return c===void 0||(Ri&1073741824)!==0&&(Kt&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=OT(),Lt.lanes|=a,gu|=a,c)}function OS(a,o,c,h){return Nn(c,o)?c:gs.current!==null?(a=ap(a,c,h),Nn(a,o)||(tn=!0),a):(Ri&42)===0||(Ri&1073741824)!==0&&(Kt&261930)===0?(tn=!0,a.memoizedState=c):(a=OT(),Lt.lanes|=a,gu|=a,o)}function MS(a,o,c,h,w){var T=Y.p;Y.p=T!==0&&8>T?T:8;var k=j.T,H={};j.T=H,op(a,!1,o,c);try{var ne=w(),Ae=j.S;if(Ae!==null&&Ae(H,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ie=Tz(ne,h);Kl(a,o,Ie,ga(a))}else Kl(a,o,h,ga(a))}catch(Ve){Kl(a,o,{then:function(){},status:"rejected",reason:Ve},ga())}finally{Y.p=T,k!==null&&H.types!==null&&(k.types=H.types),j.T=k}}function Oz(){}function ip(a,o,c,h){if(a.tag!==5)throw Error(n(476));var w=BS(a).queue;MS(a,w,o,W,c===null?Oz:function(){return qS(a),c(h)})}function BS(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function qS(a){var o=BS(a);o.next===null&&(o=a.alternate.memoizedState),Kl(a,o.next.queue,{},ga())}function up(){return Rn(lc)}function kS(){return Kr().memoizedState}function zS(){return Kr().memoizedState}function Mz(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=ga();a=cu(c);var h=fu(o,a,c);h!==null&&(aa(h,o,c),Fl(h,o,c)),o={cache:zh()},a.payload=o;return}o=o.return}}function Bz(a,o,c){var h=ga();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yf(a)?LS(o,c):(c=Qr(a,o,c,h),c!==null&&(aa(c,a,h),PS(c,o,h)))}function NS(a,o,c){var h=ga();Kl(a,o,c,h)}function Kl(a,o,c,h){var w={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Yf(a))LS(o,w);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var k=o.lastRenderedState,H=T(k,c);if(w.hasEagerState=!0,w.eagerState=H,Nn(H,k))return Rt(a,o,w,0),mr===null&&mn(),!1}catch{}finally{}if(c=Qr(a,o,w,h),c!==null)return aa(c,a,h),PS(c,o,h),!0}return!1}function op(a,o,c,h){if(h={lane:2,revertLane:Ip(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Yf(a)){if(o)throw Error(n(479))}else o=Qr(a,c,h,2),o!==null&&aa(o,a,2)}function Yf(a){var o=a.alternate;return a===Lt||o!==null&&o===Lt}function LS(a,o){ys=Uf=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function PS(a,o,c){if((c&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,Bt(a,c)}}var Yl={readContext:Rn,use:Gf,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useLayoutEffect:Fr,useInsertionEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useSyncExternalStore:Fr,useId:Fr,useHostTransitionStatus:Fr,useFormState:Fr,useActionState:Fr,useOptimistic:Fr,useMemoCache:Fr,useCacheRefresh:Fr};Yl.useEffectEvent=Fr;var IS={readContext:Rn,use:Gf,useCallback:function(a,o){return Kn().memoizedState=[a,o===void 0?null:o],a},useContext:Rn,useEffect:ES,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Hf(4194308,4,CS.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Hf(4194308,4,a,o)},useInsertionEffect:function(a,o){Hf(4,2,a,o)},useMemo:function(a,o){var c=Kn();o=o===void 0?null:o;var h=a();if(yo){Oe(!0);try{a()}finally{Oe(!1)}}return c.memoizedState=[h,o],h},useReducer:function(a,o,c){var h=Kn();if(c!==void 0){var w=c(o);if(yo){Oe(!0);try{c(o)}finally{Oe(!1)}}}else w=o;return h.memoizedState=h.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},h.queue=a,a=a.dispatch=Bz.bind(null,Lt,a),[h.memoizedState,a]},useRef:function(a){var o=Kn();return a={current:a},o.memoizedState=a},useState:function(a){a=ep(a);var o=a.queue,c=NS.bind(null,Lt,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:np,useDeferredValue:function(a,o){var c=Kn();return ap(c,a,o)},useTransition:function(){var a=ep(!1);return a=MS.bind(null,Lt,a.queue,!0,!1),Kn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var h=Lt,w=Kn();if(Zt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),mr===null)throw Error(n(349));(Kt&127)!==0||uS(h,o,c)}w.memoizedState=c;var T={value:c,getSnapshot:o};return w.queue=T,ES(sS.bind(null,h,T,a),[a]),h.flags|=2048,bs(9,{destroy:void 0},oS.bind(null,h,T,c,o),null),c},useId:function(){var a=Kn(),o=mr.identifierPrefix;if(Zt){var c=ti,h=ei;c=(h&~(1<<32-pe(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Ff++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=_z++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:up,useFormState:yS,useActionState:yS,useOptimistic:function(a){var o=Kn();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=op.bind(null,Lt,!0,c),c.dispatch=o,[a,o]},useMemoCache:Qh,useCacheRefresh:function(){return Kn().memoizedState=Mz.bind(null,Lt)},useEffectEvent:function(a){var o=Kn(),c={impl:a};return o.memoizedState=c,function(){if((ar&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},sp={readContext:Rn,use:Gf,useCallback:RS,useContext:Rn,useEffect:rp,useImperativeHandle:AS,useInsertionEffect:TS,useLayoutEffect:_S,useMemo:DS,useReducer:jf,useRef:xS,useState:function(){return jf(Di)},useDebugValue:np,useDeferredValue:function(a,o){var c=Kr();return OS(c,hr.memoizedState,a,o)},useTransition:function(){var a=jf(Di)[0],o=Kr().memoizedState;return[typeof a=="boolean"?a:Hl(a),o]},useSyncExternalStore:iS,useId:kS,useHostTransitionStatus:up,useFormState:mS,useActionState:mS,useOptimistic:function(a,o){var c=Kr();return fS(c,hr,a,o)},useMemoCache:Qh,useCacheRefresh:zS};sp.useEffectEvent=SS;var US={readContext:Rn,use:Gf,useCallback:RS,useContext:Rn,useEffect:rp,useImperativeHandle:AS,useInsertionEffect:TS,useLayoutEffect:_S,useMemo:DS,useReducer:Jh,useRef:xS,useState:function(){return Jh(Di)},useDebugValue:np,useDeferredValue:function(a,o){var c=Kr();return hr===null?ap(c,a,o):OS(c,hr.memoizedState,a,o)},useTransition:function(){var a=Jh(Di)[0],o=Kr().memoizedState;return[typeof a=="boolean"?a:Hl(a),o]},useSyncExternalStore:iS,useId:kS,useHostTransitionStatus:up,useFormState:wS,useActionState:wS,useOptimistic:function(a,o){var c=Kr();return hr!==null?fS(c,hr,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Qh,useCacheRefresh:zS};US.useEffectEvent=SS;function lp(a,o,c,h){o=a.memoizedState,c=c(h,o),c=c==null?o:p({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var cp={enqueueSetState:function(a,o,c){a=a._reactInternals;var h=ga(),w=cu(h);w.payload=o,c!=null&&(w.callback=c),o=fu(a,w,h),o!==null&&(aa(o,a,h),Fl(o,a,h))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var h=ga(),w=cu(h);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=fu(a,w,h),o!==null&&(aa(o,a,h),Fl(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=ga(),h=cu(c);h.tag=2,o!=null&&(h.callback=o),o=fu(a,h,c),o!==null&&(aa(o,a,c),Fl(o,a,c))}};function FS(a,o,c,h,w,T,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,T,k):o.prototype&&o.prototype.isPureReactComponent?!y(c,h)||!y(w,T):!0}function VS(a,o,c,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==a&&cp.enqueueReplaceState(o,o.state,null)}function mo(a,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(a=a.defaultProps){c===o&&(c=p({},c));for(var w in a)c[w]===void 0&&(c[w]=a[w])}return c}function GS(a){ut(a)}function jS(a){console.error(a)}function HS(a){ut(a)}function $f(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function KS(a,o,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function fp(a,o,c){return c=cu(c),c.tag=3,c.payload={element:null},c.callback=function(){$f(a,o)},c}function YS(a){return a=cu(a),a.tag=3,a}function $S(a,o,c,h){var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var T=h.value;a.payload=function(){return w(T)},a.callback=function(){KS(o,c,h)}}var k=c.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){KS(o,c,h),typeof w!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var H=h.stack;this.componentDidCatch(h.value,{componentStack:H!==null?H:""})})}function qz(a,o,c,h,w){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&fs(o,c,w,!0),c=da.current,c!==null){switch(c.tag){case 31:case 13:return Aa===null?ud():c.alternate===null&&Vr===0&&(Vr=3),c.flags&=-257,c.flags|=65536,c.lanes=w,h===zf?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),Np(a,h,w)),!1;case 22:return c.flags|=65536,h===zf?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),Np(a,h,w)),!1}throw Error(n(435,c.tag))}return Np(a,h,w),ud(),!1}if(Zt)return o=da.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,h!==Oh&&(a=Error(n(422),{cause:h}),Nl(Sa(a,c)))):(h!==Oh&&(o=Error(n(423),{cause:h}),Nl(Sa(o,c))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,h=Sa(h,c),w=fp(a.stateNode,h,w),Fh(a,w),Vr!==4&&(Vr=2)),!1;var T=Error(n(520),{cause:h});if(T=Sa(T,c),tc===null?tc=[T]:tc.push(T),Vr!==4&&(Vr=2),o===null)return!0;h=Sa(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=w&-w,c.lanes|=a,a=fp(c.stateNode,h,a),Fh(c,a),!1;case 1:if(o=c.type,T=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(yu===null||!yu.has(T))))return c.flags|=65536,w&=-w,c.lanes|=w,w=YS(w),$S(w,a,c,h),Fh(c,w),!1}c=c.return}while(c!==null);return!1}var dp=Error(n(461)),tn=!1;function Dn(a,o,c,h){o.child=a===null?WE(o,null,c,h):go(o,a.child,c,h)}function XS(a,o,c,h,w){c=c.render;var T=o.ref;if("ref"in h){var k={};for(var H in h)H!=="ref"&&(k[H]=h[H])}else k=h;return fo(o),h=Yh(a,o,c,k,T,w),H=$h(),a!==null&&!tn?(Xh(a,o,w),Oi(a,o,w)):(Zt&&H&&Rh(o),o.flags|=1,Dn(a,o,h,w),o.child)}function ZS(a,o,c,h,w){if(a===null){var T=c.type;return typeof T=="function"&&!_h(T)&&T.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=T,QS(a,o,T,h,w)):(a=Df(c.type,null,h,o,o.mode,w),a.ref=o.ref,a.return=o,o.child=a)}if(T=a.child,!wp(a,w)){var k=T.memoizedProps;if(c=c.compare,c=c!==null?c:y,c(k,h)&&a.ref===o.ref)return Oi(a,o,w)}return o.flags|=1,a=Ti(T,h),a.ref=o.ref,a.return=o,o.child=a}function QS(a,o,c,h,w){if(a!==null){var T=a.memoizedProps;if(y(T,h)&&a.ref===o.ref)if(tn=!1,o.pendingProps=h=T,wp(a,w))(a.flags&131072)!==0&&(tn=!0);else return o.lanes=a.lanes,Oi(a,o,w)}return vp(a,o,c,h,w)}function WS(a,o,c,h){var w=h.children,T=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(T=T!==null?T.baseLanes|c:c,a!==null){for(h=o.child=a.child,w=0;h!==null;)w=w|h.lanes|h.childLanes,h=h.sibling;h=w&~T}else h=0,o.child=null;return JS(a,o,T,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&qf(o,T!==null?T.cachePool:null),T!==null?tS(o,T):Gh(),rS(o);else return h=o.lanes=536870912,JS(a,o,T!==null?T.baseLanes|c:c,c,h)}else T!==null?(qf(o,T.cachePool),tS(o,T),vu(),o.memoizedState=null):(a!==null&&qf(o,null),Gh(),vu());return Dn(a,o,w,c),o.child}function $l(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function JS(a,o,c,h,w){var T=Lh();return T=T===null?null:{parent:Jr._currentValue,pool:T},o.memoizedState={baseLanes:c,cachePool:T},a!==null&&qf(o,null),Gh(),rS(o),a!==null&&fs(a,o,h,!0),o.childLanes=w,null}function Xf(a,o){return o=Qf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function eT(a,o,c){return go(o,a.child,null,c),a=Xf(o,o.pendingProps),a.flags|=2,va(o),o.memoizedState=null,a}function kz(a,o,c){var h=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Zt){if(h.mode==="hidden")return a=Xf(o,h),o.lanes=536870912,$l(null,a);if(Hh(o),(a=Ar)?(a=d2(a,Ca),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:iu!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},c=LE(a),c.return=o,o.child=c,An=o,Ar=null)):a=null,a===null)throw ou(o);return o.lanes=536870912,null}return Xf(o,h)}var T=a.memoizedState;if(T!==null){var k=T.dehydrated;if(Hh(o),w)if(o.flags&256)o.flags&=-257,o=eT(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(tn||fs(a,o,c,!1),w=(c&a.childLanes)!==0,tn||w){if(h=mr,h!==null&&(k=Ut(h,c),k!==0&&k!==T.retryLane))throw T.retryLane=k,Mr(a,k),aa(h,a,k),dp;ud(),o=eT(a,o,c)}else a=T.treeContext,Ar=Ra(k.nextSibling),An=o,Zt=!0,uu=null,Ca=!1,a!==null&&UE(o,a),o=Xf(o,h),o.flags|=4096;return o}return a=Ti(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Zf(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function vp(a,o,c,h,w){return fo(o),c=Yh(a,o,c,h,void 0,w),h=$h(),a!==null&&!tn?(Xh(a,o,w),Oi(a,o,w)):(Zt&&h&&Rh(o),o.flags|=1,Dn(a,o,c,w),o.child)}function tT(a,o,c,h,w,T){return fo(o),o.updateQueue=null,c=aS(o,h,c,w),nS(a),h=$h(),a!==null&&!tn?(Xh(a,o,T),Oi(a,o,T)):(Zt&&h&&Rh(o),o.flags|=1,Dn(a,o,c,T),o.child)}function rT(a,o,c,h,w){if(fo(o),o.stateNode===null){var T=Jn,k=c.contextType;typeof k=="object"&&k!==null&&(T=Rn(k)),T=new c(h,T),o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=cp,o.stateNode=T,T._reactInternals=o,T=o.stateNode,T.props=h,T.state=o.memoizedState,T.refs={},Ih(o),k=c.contextType,T.context=typeof k=="object"&&k!==null?Rn(k):Jn,T.state=o.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(lp(o,c,k,h),T.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(k=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),k!==T.state&&cp.enqueueReplaceState(T,T.state,null),Gl(o,h,T,w),Vl(),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){T=o.stateNode;var H=o.memoizedProps,ne=mo(c,H);T.props=ne;var Ae=T.context,Ie=c.contextType;k=Jn,typeof Ie=="object"&&Ie!==null&&(k=Rn(Ie));var Ve=c.getDerivedStateFromProps;Ie=typeof Ve=="function"||typeof T.getSnapshotBeforeUpdate=="function",H=o.pendingProps!==H,Ie||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H||Ae!==k)&&VS(o,T,h,k),lu=!1;var De=o.memoizedState;T.state=De,Gl(o,h,T,w),Vl(),Ae=o.memoizedState,H||De!==Ae||lu?(typeof Ve=="function"&&(lp(o,c,Ve,h),Ae=o.memoizedState),(ne=lu||FS(o,c,ne,h,De,Ae,k))?(Ie||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=Ae),T.props=h,T.state=Ae,T.context=k,h=ne):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,Uh(a,o),k=o.memoizedProps,Ie=mo(c,k),T.props=Ie,Ve=o.pendingProps,De=T.context,Ae=c.contextType,ne=Jn,typeof Ae=="object"&&Ae!==null&&(ne=Rn(Ae)),H=c.getDerivedStateFromProps,(Ae=typeof H=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==Ve||De!==ne)&&VS(o,T,h,ne),lu=!1,De=o.memoizedState,T.state=De,Gl(o,h,T,w),Vl();var Be=o.memoizedState;k!==Ve||De!==Be||lu||a!==null&&a.dependencies!==null&&Mf(a.dependencies)?(typeof H=="function"&&(lp(o,c,H,h),Be=o.memoizedState),(Ie=lu||FS(o,c,Ie,h,De,Be,ne)||a!==null&&a.dependencies!==null&&Mf(a.dependencies))?(Ae||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,Be,ne),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,Be,ne)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===a.memoizedProps&&De===a.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&De===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Be),T.props=h,T.state=Be,T.context=ne,h=Ie):(typeof T.componentDidUpdate!="function"||k===a.memoizedProps&&De===a.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&De===a.memoizedState||(o.flags|=1024),h=!1)}return T=h,Zf(a,o),h=(o.flags&128)!==0,T||h?(T=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:T.render(),o.flags|=1,a!==null&&h?(o.child=go(o,a.child,null,w),o.child=go(o,null,c,w)):Dn(a,o,c,w),o.memoizedState=T.state,a=o.child):a=Oi(a,o,w),a}function nT(a,o,c,h){return lo(),o.flags|=256,Dn(a,o,c,h),o.child}var hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pp(a){return{baseLanes:a,cachePool:KE()}}function gp(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=pa),a}function aT(a,o,c){var h=o.pendingProps,w=!1,T=(o.flags&128)!==0,k;if((k=T)||(k=a!==null&&a.memoizedState===null?!1:(Hr.current&2)!==0),k&&(w=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,a===null){if(Zt){if(w?du(o):vu(),(a=Ar)?(a=d2(a,Ca),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:iu!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},c=LE(a),c.return=o,o.child=c,An=o,Ar=null)):a=null,a===null)throw ou(o);return Wp(a)?o.lanes=32:o.lanes=536870912,null}var H=h.children;return h=h.fallback,w?(vu(),w=o.mode,H=Qf({mode:"hidden",children:H},w),h=so(h,w,c,null),H.return=o,h.return=o,H.sibling=h,o.child=H,h=o.child,h.memoizedState=pp(c),h.childLanes=gp(a,k,c),o.memoizedState=hp,$l(null,h)):(du(o),yp(o,H))}var ne=a.memoizedState;if(ne!==null&&(H=ne.dehydrated,H!==null)){if(T)o.flags&256?(du(o),o.flags&=-257,o=mp(a,o,c)):o.memoizedState!==null?(vu(),o.child=a.child,o.flags|=128,o=null):(vu(),H=h.fallback,w=o.mode,h=Qf({mode:"visible",children:h.children},w),H=so(H,w,c,null),H.flags|=2,h.return=o,H.return=o,h.sibling=H,o.child=h,go(o,a.child,null,c),h=o.child,h.memoizedState=pp(c),h.childLanes=gp(a,k,c),o.memoizedState=hp,o=$l(null,h));else if(du(o),Wp(H)){if(k=H.nextSibling&&H.nextSibling.dataset,k)var Ae=k.dgst;k=Ae,h=Error(n(419)),h.stack="",h.digest=k,Nl({value:h,source:null,stack:null}),o=mp(a,o,c)}else if(tn||fs(a,o,c,!1),k=(c&a.childLanes)!==0,tn||k){if(k=mr,k!==null&&(h=Ut(k,c),h!==0&&h!==ne.retryLane))throw ne.retryLane=h,Mr(a,h),aa(k,a,h),dp;Qp(H)||ud(),o=mp(a,o,c)}else Qp(H)?(o.flags|=192,o.child=a.child,o=null):(a=ne.treeContext,Ar=Ra(H.nextSibling),An=o,Zt=!0,uu=null,Ca=!1,a!==null&&UE(o,a),o=yp(o,h.children),o.flags|=4096);return o}return w?(vu(),H=h.fallback,w=o.mode,ne=a.child,Ae=ne.sibling,h=Ti(ne,{mode:"hidden",children:h.children}),h.subtreeFlags=ne.subtreeFlags&65011712,Ae!==null?H=Ti(Ae,H):(H=so(H,w,c,null),H.flags|=2),H.return=o,h.return=o,h.sibling=H,o.child=h,$l(null,h),h=o.child,H=a.child.memoizedState,H===null?H=pp(c):(w=H.cachePool,w!==null?(ne=Jr._currentValue,w=w.parent!==ne?{parent:ne,pool:ne}:w):w=KE(),H={baseLanes:H.baseLanes|c,cachePool:w}),h.memoizedState=H,h.childLanes=gp(a,k,c),o.memoizedState=hp,$l(a.child,h)):(du(o),c=a.child,a=c.sibling,c=Ti(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,a!==null&&(k=o.deletions,k===null?(o.deletions=[a],o.flags|=16):k.push(a)),o.child=c,o.memoizedState=null,c)}function yp(a,o){return o=Qf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Qf(a,o){return a=fa(22,a,null,o),a.lanes=0,a}function mp(a,o,c){return go(o,a.child,null,c),a=yp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function iT(a,o,c){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),qh(a.return,o,c)}function bp(a,o,c,h,w,T){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:w,treeForkCount:T}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=h,k.tail=c,k.tailMode=w,k.treeForkCount=T)}function uT(a,o,c){var h=o.pendingProps,w=h.revealOrder,T=h.tail;h=h.children;var k=Hr.current,H=(k&2)!==0;if(H?(k=k&1|2,o.flags|=128):k&=1,ue(Hr,k),Dn(a,o,h,c),h=Zt?zl:0,!H&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&iT(a,c,o);else if(a.tag===19)iT(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(c=o.child,w=null;c!==null;)a=c.alternate,a!==null&&If(a)===null&&(w=c),c=c.sibling;c=w,c===null?(w=o.child,o.child=null):(w=c.sibling,c.sibling=null),bp(o,!1,w,c,T,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,w=o.child,o.child=null;w!==null;){if(a=w.alternate,a!==null&&If(a)===null){o.child=w;break}a=w.sibling,w.sibling=c,c=w,w=a}bp(o,!0,c,null,T,h);break;case"together":bp(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Oi(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),gu|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(fs(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,c=Ti(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Ti(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function wp(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Mf(a)))}function zz(a,o,c){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),su(o,Jr,a.memoizedState.cache),lo();break;case 27:case 5:he(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:su(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Hh(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(du(o),o.flags|=128,null):(c&o.child.childLanes)!==0?aT(a,o,c):(du(o),a=Oi(a,o,c),a!==null?a.sibling:null);du(o);break;case 19:var w=(a.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(fs(a,o,c,!1),h=(c&o.childLanes)!==0),w){if(h)return uT(a,o,c);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ue(Hr,Hr.current),h)break;return null;case 22:return o.lanes=0,WS(a,o,c,o.pendingProps);case 24:su(o,Jr,a.memoizedState.cache)}return Oi(a,o,c)}function oT(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)tn=!0;else{if(!wp(a,c)&&(o.flags&128)===0)return tn=!1,zz(a,o,c);tn=(a.flags&131072)!==0}else tn=!1,Zt&&(o.flags&1048576)!==0&&IE(o,zl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=ho(o.elementType),o.type=a,typeof a=="function")_h(a)?(h=mo(a,h),o.tag=1,o=rT(null,o,a,h,c)):(o.tag=0,o=vp(null,o,a,h,c));else{if(a!=null){var w=a.$$typeof;if(w===R){o.tag=11,o=XS(null,o,a,h,c);break e}else if(w===O){o.tag=14,o=ZS(null,o,a,h,c);break e}}throw o=Z(a)||a,Error(n(306,o,""))}}return o;case 0:return vp(a,o,o.type,o.pendingProps,c);case 1:return h=o.type,w=mo(h,o.pendingProps),rT(a,o,h,w,c);case 3:e:{if(ke(o,o.stateNode.containerInfo),a===null)throw Error(n(387));h=o.pendingProps;var T=o.memoizedState;w=T.element,Uh(a,o),Gl(o,h,null,c);var k=o.memoizedState;if(h=k.cache,su(o,Jr,h),h!==T.cache&&kh(o,[Jr],c,!0),Vl(),h=k.element,T.isDehydrated)if(T={element:h,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=T,o.memoizedState=T,o.flags&256){o=nT(a,o,h,c);break e}else if(h!==w){w=Sa(Error(n(424)),o),Nl(w),o=nT(a,o,h,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ar=Ra(a.firstChild),An=o,Zt=!0,uu=null,Ca=!0,c=WE(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(lo(),h===w){o=Oi(a,o,c);break e}Dn(a,o,h,c)}o=o.child}return o;case 26:return Zf(a,o),a===null?(c=m2(o.type,null,o.pendingProps,null))?o.memoizedState=c:Zt||(c=o.type,a=o.pendingProps,h=vd(re.current).createElement(c),h[Qt]=o,h[wr]=a,On(h,c,a),Pr(h),o.stateNode=h):o.memoizedState=m2(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return he(o),a===null&&Zt&&(h=o.stateNode=p2(o.type,o.pendingProps,re.current),An=o,Ca=!0,w=Ar,xu(o.type)?(Jp=w,Ar=Ra(h.firstChild)):Ar=w),Dn(a,o,o.pendingProps.children,c),Zf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Zt&&((w=h=Ar)&&(h=fN(h,o.type,o.pendingProps,Ca),h!==null?(o.stateNode=h,An=o,Ar=Ra(h.firstChild),Ca=!1,w=!0):w=!1),w||ou(o)),he(o),w=o.type,T=o.pendingProps,k=a!==null?a.memoizedProps:null,h=T.children,$p(w,T)?h=null:k!==null&&$p(w,k)&&(o.flags|=32),o.memoizedState!==null&&(w=Yh(a,o,Cz,null,null,c),lc._currentValue=w),Zf(a,o),Dn(a,o,h,c),o.child;case 6:return a===null&&Zt&&((a=c=Ar)&&(c=dN(c,o.pendingProps,Ca),c!==null?(o.stateNode=c,An=o,Ar=null,a=!0):a=!1),a||ou(o)),null;case 13:return aT(a,o,c);case 4:return ke(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=go(o,null,h,c):Dn(a,o,h,c),o.child;case 11:return XS(a,o,o.type,o.pendingProps,c);case 7:return Dn(a,o,o.pendingProps,c),o.child;case 8:return Dn(a,o,o.pendingProps.children,c),o.child;case 12:return Dn(a,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,su(o,o.type,h.value),Dn(a,o,h.children,c),o.child;case 9:return w=o.type._context,h=o.pendingProps.children,fo(o),w=Rn(w),h=h(w),o.flags|=1,Dn(a,o,h,c),o.child;case 14:return ZS(a,o,o.type,o.pendingProps,c);case 15:return QS(a,o,o.type,o.pendingProps,c);case 19:return uT(a,o,c);case 31:return kz(a,o,c);case 22:return WS(a,o,c,o.pendingProps);case 24:return fo(o),h=Rn(Jr),a===null?(w=Lh(),w===null&&(w=mr,T=zh(),w.pooledCache=T,T.refCount++,T!==null&&(w.pooledCacheLanes|=c),w=T),o.memoizedState={parent:h,cache:w},Ih(o),su(o,Jr,w)):((a.lanes&c)!==0&&(Uh(a,o),Gl(o,null,null,c),Vl()),w=a.memoizedState,T=o.memoizedState,w.parent!==h?(w={parent:h,cache:h},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),su(o,Jr,h)):(h=T.cache,su(o,Jr,h),h!==w.cache&&kh(o,[Jr],c,!0))),Dn(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Mi(a){a.flags|=4}function xp(a,o,c,h,w){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if(kT())a.flags|=8192;else throw po=zf,Ph}else a.flags&=-16777217}function sT(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!S2(o))if(kT())a.flags|=8192;else throw po=zf,Ph}function Wf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?zt():536870912,a.lanes|=o,Ss|=o)}function Xl(a,o){if(!Zt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Rr(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(o)for(var w=a.child;w!==null;)c|=w.lanes|w.childLanes,h|=w.subtreeFlags&65011712,h|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)c|=w.lanes|w.childLanes,h|=w.subtreeFlags,h|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=h,a.childLanes=c,o}function Nz(a,o,c){var h=o.pendingProps;switch(Dh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(o),null;case 1:return Rr(o),null;case 3:return c=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ai(Jr),ie(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(cs(o)?Mi(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Mh())),Rr(o),null;case 26:var w=o.type,T=o.memoizedState;return a===null?(Mi(o),T!==null?(Rr(o),sT(o,T)):(Rr(o),xp(o,w,null,h,c))):T?T!==a.memoizedState?(Mi(o),Rr(o),sT(o,T)):(Rr(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&Mi(o),Rr(o),xp(o,w,a,h,c)),null;case 27:if(be(o),c=re.current,w=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Mi(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Rr(o),null}a=$.current,cs(o)?FE(o):(a=p2(w,h,c),o.stateNode=a,Mi(o))}return Rr(o),null;case 5:if(be(o),w=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Mi(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Rr(o),null}if(T=$.current,cs(o))FE(o);else{var k=vd(re.current);switch(T){case 1:T=k.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:T=k.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":T=k.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":T=k.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":T=k.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof h.is=="string"?k.createElement("select",{is:h.is}):k.createElement("select"),h.multiple?T.multiple=!0:h.size&&(T.size=h.size);break;default:T=typeof h.is=="string"?k.createElement(w,{is:h.is}):k.createElement(w)}}T[Qt]=o,T[wr]=h;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)T.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=T;e:switch(On(T,w,h),w){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Mi(o)}}return Rr(o),xp(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&Mi(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(a=re.current,cs(o)){if(a=o.stateNode,c=o.memoizedProps,h=null,w=An,w!==null)switch(w.tag){case 27:case 5:h=w.memoizedProps}a[Qt]=o,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||a2(a.nodeValue,c)),a||ou(o,!0)}else a=vd(a).createTextNode(h),a[Qt]=o,o.stateNode=a}return Rr(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(h=cs(o),c!==null){if(a===null){if(!h)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Qt]=o}else lo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rr(o),a=!1}else c=Mh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(va(o),o):(va(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Rr(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=cs(o),h!==null&&h.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Qt]=o}else lo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rr(o),w=!1}else w=Mh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(va(o),o):(va(o),null)}return va(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=o.child,w=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(w=h.alternate.memoizedState.cachePool.pool),T=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),T!==w&&(h.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Wf(o,o.updateQueue),Rr(o),null);case 4:return ie(),a===null&&Gp(o.stateNode.containerInfo),Rr(o),null;case 10:return Ai(o.type),Rr(o),null;case 19:if(X(Hr),h=o.memoizedState,h===null)return Rr(o),null;if(w=(o.flags&128)!==0,T=h.rendering,T===null)if(w)Xl(h,!1);else{if(Vr!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(T=If(a),T!==null){for(o.flags|=128,Xl(h,!1),a=T.updateQueue,o.updateQueue=a,Wf(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)NE(c,a),c=c.sibling;return ue(Hr,Hr.current&1|2),Zt&&_i(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&rt()>nd&&(o.flags|=128,w=!0,Xl(h,!1),o.lanes=4194304)}else{if(!w)if(a=If(T),a!==null){if(o.flags|=128,w=!0,a=a.updateQueue,o.updateQueue=a,Wf(o,a),Xl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!T.alternate&&!Zt)return Rr(o),null}else 2*rt()-h.renderingStartTime>nd&&c!==536870912&&(o.flags|=128,w=!0,Xl(h,!1),o.lanes=4194304);h.isBackwards?(T.sibling=o.child,o.child=T):(a=h.last,a!==null?a.sibling=T:o.child=T,h.last=T)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=rt(),a.sibling=null,c=Hr.current,ue(Hr,w?c&1|2:c&1),Zt&&_i(o,h.treeForkCount),a):(Rr(o),null);case 22:case 23:return va(o),jh(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Rr(o),o.subtreeFlags&6&&(o.flags|=8192)):Rr(o),c=o.updateQueue,c!==null&&Wf(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),a!==null&&X(vo),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ai(Jr),Rr(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function Lz(a,o){switch(Dh(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ai(Jr),ie(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return be(o),null;case 31:if(o.memoizedState!==null){if(va(o),o.alternate===null)throw Error(n(340));lo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(va(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));lo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return X(Hr),null;case 4:return ie(),null;case 10:return Ai(o.type),null;case 22:case 23:return va(o),jh(),a!==null&&X(vo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ai(Jr),null;case 25:return null;default:return null}}function lT(a,o){switch(Dh(o),o.tag){case 3:Ai(Jr),ie();break;case 26:case 27:case 5:be(o);break;case 4:ie();break;case 31:o.memoizedState!==null&&va(o);break;case 13:va(o);break;case 19:X(Hr);break;case 10:Ai(o.type);break;case 22:case 23:va(o),jh(),a!==null&&X(vo);break;case 24:Ai(Jr)}}function Zl(a,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var w=h.next;c=w;do{if((c.tag&a)===a){h=void 0;var T=c.create,k=c.inst;h=T(),k.destroy=h}c=c.next}while(c!==w)}}catch(H){fr(o,o.return,H)}}function hu(a,o,c){try{var h=o.updateQueue,w=h!==null?h.lastEffect:null;if(w!==null){var T=w.next;h=T;do{if((h.tag&a)===a){var k=h.inst,H=k.destroy;if(H!==void 0){k.destroy=void 0,w=o;var ne=c,Ae=H;try{Ae()}catch(Ie){fr(w,ne,Ie)}}}h=h.next}while(h!==T)}}catch(Ie){fr(o,o.return,Ie)}}function cT(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{eS(o,c)}catch(h){fr(a,a.return,h)}}}function fT(a,o,c){c.props=mo(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){fr(a,o,h)}}function Ql(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(w){fr(a,o,w)}}function ri(a,o){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(w){fr(a,o,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(w){fr(a,o,w)}else c.current=null}function dT(a){var o=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(w){fr(a,a.return,w)}}function Ep(a,o,c){try{var h=a.stateNode;iN(h,a.type,c,o),h[wr]=o}catch(w){fr(a,a.return,w)}}function vT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&xu(a.type)||a.tag===4}function Sp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||vT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&xu(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Tp(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Wn));else if(h!==4&&(h===27&&xu(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(Tp(a,o,c),a=a.sibling;a!==null;)Tp(a,o,c),a=a.sibling}function Jf(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(h!==4&&(h===27&&xu(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Jf(a,o,c),a=a.sibling;a!==null;)Jf(a,o,c),a=a.sibling}function hT(a){var o=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);On(o,h,c),o[Qt]=a,o[wr]=c}catch(T){fr(a,a.return,T)}}var Bi=!1,rn=!1,_p=!1,pT=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Pz(a,o){if(a=a.containerInfo,Kp=wd,a=z(a),F(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var w=h.anchorOffset,T=h.focusNode;h=h.focusOffset;try{c.nodeType,T.nodeType}catch{c=null;break e}var k=0,H=-1,ne=-1,Ae=0,Ie=0,Ve=a,De=null;t:for(;;){for(var Be;Ve!==c||w!==0&&Ve.nodeType!==3||(H=k+w),Ve!==T||h!==0&&Ve.nodeType!==3||(ne=k+h),Ve.nodeType===3&&(k+=Ve.nodeValue.length),(Be=Ve.firstChild)!==null;)De=Ve,Ve=Be;for(;;){if(Ve===a)break t;if(De===c&&++Ae===w&&(H=k),De===T&&++Ie===h&&(ne=k),(Be=Ve.nextSibling)!==null)break;Ve=De,De=Ve.parentNode}Ve=Be}c=H===-1||ne===-1?null:{start:H,end:ne}}else c=null}c=c||{start:0,end:0}}else c=null;for(Yp={focusedElem:a,selectionRange:c},wd=!1,bn=o;bn!==null;)if(o=bn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,bn=a;else for(;bn!==null;){switch(o=bn,T=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)w=a[c],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,c=o,w=T.memoizedProps,T=T.memoizedState,h=c.stateNode;try{var dt=mo(c.type,w);a=h.getSnapshotBeforeUpdate(dt,T),h.__reactInternalSnapshotBeforeUpdate=a}catch(Tt){fr(c,c.return,Tt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Zp(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Zp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,bn=a;break}bn=o.return}}function gT(a,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:ki(a,c),h&4&&Zl(5,c);break;case 1:if(ki(a,c),h&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(k){fr(c,c.return,k)}else{var w=mo(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(w,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){fr(c,c.return,k)}}h&64&&cT(c),h&512&&Ql(c,c.return);break;case 3:if(ki(a,c),h&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{eS(a,o)}catch(k){fr(c,c.return,k)}}break;case 27:o===null&&h&4&&hT(c);case 26:case 5:ki(a,c),o===null&&h&4&&dT(c),h&512&&Ql(c,c.return);break;case 12:ki(a,c);break;case 31:ki(a,c),h&4&&bT(a,c);break;case 13:ki(a,c),h&4&&wT(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=Yz.bind(null,c),vN(a,c))));break;case 22:if(h=c.memoizedState!==null||Bi,!h){o=o!==null&&o.memoizedState!==null||rn,w=Bi;var T=rn;Bi=h,(rn=o)&&!T?zi(a,c,(c.subtreeFlags&8772)!==0):ki(a,c),Bi=w,rn=T}break;case 30:break;default:ki(a,c)}}function yT(a){var o=a.alternate;o!==null&&(a.alternate=null,yT(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&vi(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Br=null,ea=!1;function qi(a,o,c){for(c=c.child;c!==null;)mT(a,o,c),c=c.sibling}function mT(a,o,c){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(K,c)}catch{}switch(c.tag){case 26:rn||ri(c,o),qi(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:rn||ri(c,o);var h=Br,w=ea;xu(c.type)&&(Br=c.stateNode,ea=!1),qi(a,o,c),uc(c.stateNode),Br=h,ea=w;break;case 5:rn||ri(c,o);case 6:if(h=Br,w=ea,Br=null,qi(a,o,c),Br=h,ea=w,Br!==null)if(ea)try{(Br.nodeType===9?Br.body:Br.nodeName==="HTML"?Br.ownerDocument.body:Br).removeChild(c.stateNode)}catch(T){fr(c,o,T)}else try{Br.removeChild(c.stateNode)}catch(T){fr(c,o,T)}break;case 18:Br!==null&&(ea?(a=Br,c2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Ms(a)):c2(Br,c.stateNode));break;case 4:h=Br,w=ea,Br=c.stateNode.containerInfo,ea=!0,qi(a,o,c),Br=h,ea=w;break;case 0:case 11:case 14:case 15:hu(2,c,o),rn||hu(4,c,o),qi(a,o,c);break;case 1:rn||(ri(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&fT(c,o,h)),qi(a,o,c);break;case 21:qi(a,o,c);break;case 22:rn=(h=rn)||c.memoizedState!==null,qi(a,o,c),rn=h;break;default:qi(a,o,c)}}function bT(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ms(a)}catch(c){fr(o,o.return,c)}}}function wT(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ms(a)}catch(c){fr(o,o.return,c)}}function Iz(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new pT),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new pT),o;default:throw Error(n(435,a.tag))}}function ed(a,o){var c=Iz(a);o.forEach(function(h){if(!c.has(h)){c.add(h);var w=$z.bind(null,a,h);h.then(w,w)}})}function ta(a,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var w=c[h],T=a,k=o,H=k;e:for(;H!==null;){switch(H.tag){case 27:if(xu(H.type)){Br=H.stateNode,ea=!1;break e}break;case 5:Br=H.stateNode,ea=!1;break e;case 3:case 4:Br=H.stateNode.containerInfo,ea=!0;break e}H=H.return}if(Br===null)throw Error(n(160));mT(T,k,w),Br=null,ea=!1,T=w.alternate,T!==null&&(T.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)xT(o,a),o=o.sibling}var Fa=null;function xT(a,o){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ta(o,a),ra(a),h&4&&(hu(3,a,a.return),Zl(3,a),hu(5,a,a.return));break;case 1:ta(o,a),ra(a),h&512&&(rn||c===null||ri(c,c.return)),h&64&&Bi&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var w=Fa;if(ta(o,a),ra(a),h&512&&(rn||c===null||ri(c,c.return)),h&4){var T=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,w=w.ownerDocument||w;t:switch(h){case"title":T=w.getElementsByTagName("title")[0],(!T||T[xr]||T[Qt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=w.createElement(h),w.head.insertBefore(T,w.querySelector("head > title"))),On(T,h,c),T[Qt]=a,Pr(T),h=T;break e;case"link":var k=x2("link","href",w).get(h+(c.href||""));if(k){for(var H=0;H<k.length;H++)if(T=k[H],T.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&T.getAttribute("rel")===(c.rel==null?null:c.rel)&&T.getAttribute("title")===(c.title==null?null:c.title)&&T.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){k.splice(H,1);break t}}T=w.createElement(h),On(T,h,c),w.head.appendChild(T);break;case"meta":if(k=x2("meta","content",w).get(h+(c.content||""))){for(H=0;H<k.length;H++)if(T=k[H],T.getAttribute("content")===(c.content==null?null:""+c.content)&&T.getAttribute("name")===(c.name==null?null:c.name)&&T.getAttribute("property")===(c.property==null?null:c.property)&&T.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&T.getAttribute("charset")===(c.charSet==null?null:c.charSet)){k.splice(H,1);break t}}T=w.createElement(h),On(T,h,c),w.head.appendChild(T);break;default:throw Error(n(468,h))}T[Qt]=a,Pr(T),h=T}a.stateNode=h}else E2(w,a.type,a.stateNode);else a.stateNode=w2(w,h,a.memoizedProps);else T!==h?(T===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):T.count--,h===null?E2(w,a.type,a.stateNode):w2(w,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Ep(a,a.memoizedProps,c.memoizedProps)}break;case 27:ta(o,a),ra(a),h&512&&(rn||c===null||ri(c,c.return)),c!==null&&h&4&&Ep(a,a.memoizedProps,c.memoizedProps);break;case 5:if(ta(o,a),ra(a),h&512&&(rn||c===null||ri(c,c.return)),a.flags&32){w=a.stateNode;try{pi(w,"")}catch(dt){fr(a,a.return,dt)}}h&4&&a.stateNode!=null&&(w=a.memoizedProps,Ep(a,w,c!==null?c.memoizedProps:w)),h&1024&&(_p=!0);break;case 6:if(ta(o,a),ra(a),h&4){if(a.stateNode===null)throw Error(n(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(dt){fr(a,a.return,dt)}}break;case 3:if(gd=null,w=Fa,Fa=hd(o.containerInfo),ta(o,a),Fa=w,ra(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Ms(o.containerInfo)}catch(dt){fr(a,a.return,dt)}_p&&(_p=!1,ET(a));break;case 4:h=Fa,Fa=hd(a.stateNode.containerInfo),ta(o,a),ra(a),Fa=h;break;case 12:ta(o,a),ra(a);break;case 31:ta(o,a),ra(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ed(a,h)));break;case 13:ta(o,a),ra(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(rd=rt()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ed(a,h)));break;case 22:w=a.memoizedState!==null;var ne=c!==null&&c.memoizedState!==null,Ae=Bi,Ie=rn;if(Bi=Ae||w,rn=Ie||ne,ta(o,a),rn=Ie,Bi=Ae,ra(a),h&8192)e:for(o=a.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(c===null||ne||Bi||rn||bo(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){ne=c=o;try{if(T=ne.stateNode,w)k=T.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{H=ne.stateNode;var Ve=ne.memoizedProps.style,De=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;H.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(dt){fr(ne,ne.return,dt)}}}else if(o.tag===6){if(c===null){ne=o;try{ne.stateNode.nodeValue=w?"":ne.memoizedProps}catch(dt){fr(ne,ne.return,dt)}}}else if(o.tag===18){if(c===null){ne=o;try{var Be=ne.stateNode;w?f2(Be,!0):f2(ne.stateNode,!1)}catch(dt){fr(ne,ne.return,dt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,ed(a,c))));break;case 19:ta(o,a),ra(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ed(a,h)));break;case 30:break;case 21:break;default:ta(o,a),ra(a)}}function ra(a){var o=a.flags;if(o&2){try{for(var c,h=a.return;h!==null;){if(vT(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var w=c.stateNode,T=Sp(a);Jf(a,T,w);break;case 5:var k=c.stateNode;c.flags&32&&(pi(k,""),c.flags&=-33);var H=Sp(a);Jf(a,H,k);break;case 3:case 4:var ne=c.stateNode.containerInfo,Ae=Sp(a);Tp(a,Ae,ne);break;default:throw Error(n(161))}}catch(Ie){fr(a,a.return,Ie)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function ET(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;ET(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ki(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)gT(a,o.alternate,o),o=o.sibling}function bo(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:hu(4,o,o.return),bo(o);break;case 1:ri(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&fT(o,o.return,c),bo(o);break;case 27:uc(o.stateNode);case 26:case 5:ri(o,o.return),bo(o);break;case 22:o.memoizedState===null&&bo(o);break;case 30:bo(o);break;default:bo(o)}a=a.sibling}}function zi(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,w=a,T=o,k=T.flags;switch(T.tag){case 0:case 11:case 15:zi(w,T,c),Zl(4,T);break;case 1:if(zi(w,T,c),h=T,w=h.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Ae){fr(h,h.return,Ae)}if(h=T,w=h.updateQueue,w!==null){var H=h.stateNode;try{var ne=w.shared.hiddenCallbacks;if(ne!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ne.length;w++)JE(ne[w],H)}catch(Ae){fr(h,h.return,Ae)}}c&&k&64&&cT(T),Ql(T,T.return);break;case 27:hT(T);case 26:case 5:zi(w,T,c),c&&h===null&&k&4&&dT(T),Ql(T,T.return);break;case 12:zi(w,T,c);break;case 31:zi(w,T,c),c&&k&4&&bT(w,T);break;case 13:zi(w,T,c),c&&k&4&&wT(w,T);break;case 22:T.memoizedState===null&&zi(w,T,c),Ql(T,T.return);break;case 30:break;default:zi(w,T,c)}o=o.sibling}}function Cp(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Ll(c))}function Ap(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ll(a))}function Va(a,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ST(a,o,c,h),o=o.sibling}function ST(a,o,c,h){var w=o.flags;switch(o.tag){case 0:case 11:case 15:Va(a,o,c,h),w&2048&&Zl(9,o);break;case 1:Va(a,o,c,h);break;case 3:Va(a,o,c,h),w&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ll(a)));break;case 12:if(w&2048){Va(a,o,c,h),a=o.stateNode;try{var T=o.memoizedProps,k=T.id,H=T.onPostCommit;typeof H=="function"&&H(k,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ne){fr(o,o.return,ne)}}else Va(a,o,c,h);break;case 31:Va(a,o,c,h);break;case 13:Va(a,o,c,h);break;case 23:break;case 22:T=o.stateNode,k=o.alternate,o.memoizedState!==null?T._visibility&2?Va(a,o,c,h):Wl(a,o):T._visibility&2?Va(a,o,c,h):(T._visibility|=2,ws(a,o,c,h,(o.subtreeFlags&10256)!==0||!1)),w&2048&&Cp(k,o);break;case 24:Va(a,o,c,h),w&2048&&Ap(o.alternate,o);break;default:Va(a,o,c,h)}}function ws(a,o,c,h,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var T=a,k=o,H=c,ne=h,Ae=k.flags;switch(k.tag){case 0:case 11:case 15:ws(T,k,H,ne,w),Zl(8,k);break;case 23:break;case 22:var Ie=k.stateNode;k.memoizedState!==null?Ie._visibility&2?ws(T,k,H,ne,w):Wl(T,k):(Ie._visibility|=2,ws(T,k,H,ne,w)),w&&Ae&2048&&Cp(k.alternate,k);break;case 24:ws(T,k,H,ne,w),w&&Ae&2048&&Ap(k.alternate,k);break;default:ws(T,k,H,ne,w)}o=o.sibling}}function Wl(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,h=o,w=h.flags;switch(h.tag){case 22:Wl(c,h),w&2048&&Cp(h.alternate,h);break;case 24:Wl(c,h),w&2048&&Ap(h.alternate,h);break;default:Wl(c,h)}o=o.sibling}}var Jl=8192;function xs(a,o,c){if(a.subtreeFlags&Jl)for(a=a.child;a!==null;)TT(a,o,c),a=a.sibling}function TT(a,o,c){switch(a.tag){case 26:xs(a,o,c),a.flags&Jl&&a.memoizedState!==null&&_N(c,Fa,a.memoizedState,a.memoizedProps);break;case 5:xs(a,o,c);break;case 3:case 4:var h=Fa;Fa=hd(a.stateNode.containerInfo),xs(a,o,c),Fa=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Jl,Jl=16777216,xs(a,o,c),Jl=h):xs(a,o,c));break;default:xs(a,o,c)}}function _T(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function ec(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];bn=h,AT(h,a)}_T(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)CT(a),a=a.sibling}function CT(a){switch(a.tag){case 0:case 11:case 15:ec(a),a.flags&2048&&hu(9,a,a.return);break;case 3:ec(a);break;case 12:ec(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,td(a)):ec(a);break;default:ec(a)}}function td(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];bn=h,AT(h,a)}_T(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:hu(8,o,o.return),td(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,td(o));break;default:td(o)}a=a.sibling}}function AT(a,o){for(;bn!==null;){var c=bn;switch(c.tag){case 0:case 11:case 15:hu(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ll(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,bn=h;else e:for(c=a;bn!==null;){h=bn;var w=h.sibling,T=h.return;if(yT(h),h===c){bn=null;break e}if(w!==null){w.return=T,bn=w;break e}bn=T}}}var Uz={getCacheForType:function(a){var o=Rn(Jr),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return Rn(Jr).controller.signal}},Fz=typeof WeakMap=="function"?WeakMap:Map,ar=0,mr=null,jt=null,Kt=0,cr=0,ha=null,pu=!1,Es=!1,Rp=!1,Ni=0,Vr=0,gu=0,wo=0,Dp=0,pa=0,Ss=0,tc=null,na=null,Op=!1,rd=0,RT=0,nd=1/0,ad=null,yu=null,ln=0,mu=null,Ts=null,Li=0,Mp=0,Bp=null,DT=null,rc=0,qp=null;function ga(){return(ar&2)!==0&&Kt!==0?Kt&-Kt:j.T!==null?Ip():vr()}function OT(){if(pa===0)if((Kt&536870912)===0||Zt){var a=it;it<<=1,(it&3932160)===0&&(it=262144),pa=a}else pa=536870912;return a=da.current,a!==null&&(a.flags|=32),pa}function aa(a,o,c){(a===mr&&(cr===2||cr===9)||a.cancelPendingCommit!==null)&&(_s(a,0),bu(a,Kt,pa,!1)),$t(a,c),((ar&2)===0||a!==mr)&&(a===mr&&((ar&2)===0&&(wo|=c),Vr===4&&bu(a,Kt,pa,!1)),ni(a))}function MT(a,o,c){if((ar&6)!==0)throw Error(n(327));var h=!c&&(o&127)===0&&(o&a.expiredLanes)===0||lt(a,o),w=h?jz(a,o):zp(a,o,!0),T=h;do{if(w===0){Es&&!h&&bu(a,o,0,!1);break}else{if(c=a.current.alternate,T&&!Vz(c)){w=zp(a,o,!1),T=!1;continue}if(w===2){if(T=o,a.errorRecoveryDisabledLanes&T)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var H=a;w=tc;var ne=H.current.memoizedState.isDehydrated;if(ne&&(_s(H,k).flags|=256),k=zp(H,k,!1),k!==2){if(Rp&&!ne){H.errorRecoveryDisabledLanes|=T,wo|=T,w=4;break e}T=na,na=w,T!==null&&(na===null?na=T:na.push.apply(na,T))}w=k}if(T=!1,w!==2)continue}}if(w===1){_s(a,0),bu(a,o,0,!0);break}e:{switch(h=a,T=w,T){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:bu(h,o,pa,!pu);break e;case 2:na=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(w=rd+300-rt(),10<w)){if(bu(h,o,pa,!pu),At(h,0,!0)!==0)break e;Li=o,h.timeoutHandle=s2(BT.bind(null,h,c,na,ad,Op,o,pa,wo,Ss,pu,T,"Throttled",-0,0),w);break e}BT(h,c,na,ad,Op,o,pa,wo,Ss,pu,T,null,-0,0)}}break}while(!0);ni(a)}function BT(a,o,c,h,w,T,k,H,ne,Ae,Ie,Ve,De,Be){if(a.timeoutHandle=-1,Ve=o.subtreeFlags,Ve&8192||(Ve&16785408)===16785408){Ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},TT(o,T,Ve);var dt=(T&62914560)===T?rd-rt():(T&4194048)===T?RT-rt():0;if(dt=CN(Ve,dt),dt!==null){Li=T,a.cancelPendingCommit=dt(UT.bind(null,a,o,T,c,h,w,k,H,ne,Ie,Ve,null,De,Be)),bu(a,T,k,!Ae);return}}UT(a,o,T,c,h,w,k,H,ne)}function Vz(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var w=c[h],T=w.getSnapshot;w=w.value;try{if(!Nn(T(),w))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function bu(a,o,c,h){o&=~Dp,o&=~wo,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var w=o;0<w;){var T=31-pe(w),k=1<<T;h[T]=-1,w&=~k}c!==0&&dr(a,c,o)}function id(){return(ar&6)===0?(nc(0),!1):!0}function kp(){if(jt!==null){if(cr===0)var a=jt.return;else a=jt,Ci=co=null,Zh(a),ps=null,Il=0,a=jt;for(;a!==null;)lT(a.alternate,a),a=a.return;jt=null}}function _s(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,sN(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Li=0,kp(),mr=a,jt=c=Ti(a.current,null),Kt=o,cr=0,ha=null,pu=!1,Es=lt(a,o),Rp=!1,Ss=pa=Dp=wo=gu=Vr=0,na=tc=null,Op=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var w=31-pe(h),T=1<<w;o|=a[w],h&=~T}return Ni=o,mn(),c}function qT(a,o){Lt=null,j.H=Yl,o===hs||o===kf?(o=XE(),cr=3):o===Ph?(o=XE(),cr=4):cr=o===dp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ha=o,jt===null&&(Vr=1,$f(a,Sa(o,a.current)))}function kT(){var a=da.current;return a===null?!0:(Kt&4194048)===Kt?Aa===null:(Kt&62914560)===Kt||(Kt&536870912)!==0?a===Aa:!1}function zT(){var a=j.H;return j.H=Yl,a===null?Yl:a}function NT(){var a=j.A;return j.A=Uz,a}function ud(){Vr=4,pu||(Kt&4194048)!==Kt&&da.current!==null||(Es=!0),(gu&134217727)===0&&(wo&134217727)===0||mr===null||bu(mr,Kt,pa,!1)}function zp(a,o,c){var h=ar;ar|=2;var w=zT(),T=NT();(mr!==a||Kt!==o)&&(ad=null,_s(a,o)),o=!1;var k=Vr;e:do try{if(cr!==0&&jt!==null){var H=jt,ne=ha;switch(cr){case 8:kp(),k=6;break e;case 3:case 2:case 9:case 6:da.current===null&&(o=!0);var Ae=cr;if(cr=0,ha=null,Cs(a,H,ne,Ae),c&&Es){k=0;break e}break;default:Ae=cr,cr=0,ha=null,Cs(a,H,ne,Ae)}}Gz(),k=Vr;break}catch(Ie){qT(a,Ie)}while(!0);return o&&a.shellSuspendCounter++,Ci=co=null,ar=h,j.H=w,j.A=T,jt===null&&(mr=null,Kt=0,mn()),k}function Gz(){for(;jt!==null;)LT(jt)}function jz(a,o){var c=ar;ar|=2;var h=zT(),w=NT();mr!==a||Kt!==o?(ad=null,nd=rt()+500,_s(a,o)):Es=lt(a,o);e:do try{if(cr!==0&&jt!==null){o=jt;var T=ha;t:switch(cr){case 1:cr=0,ha=null,Cs(a,o,T,1);break;case 2:case 9:if(YE(T)){cr=0,ha=null,PT(o);break}o=function(){cr!==2&&cr!==9||mr!==a||(cr=7),ni(a)},T.then(o,o);break e;case 3:cr=7;break e;case 4:cr=5;break e;case 7:YE(T)?(cr=0,ha=null,PT(o)):(cr=0,ha=null,Cs(a,o,T,7));break;case 5:var k=null;switch(jt.tag){case 26:k=jt.memoizedState;case 5:case 27:var H=jt;if(k?S2(k):H.stateNode.complete){cr=0,ha=null;var ne=H.sibling;if(ne!==null)jt=ne;else{var Ae=H.return;Ae!==null?(jt=Ae,od(Ae)):jt=null}break t}}cr=0,ha=null,Cs(a,o,T,5);break;case 6:cr=0,ha=null,Cs(a,o,T,6);break;case 8:kp(),Vr=6;break e;default:throw Error(n(462))}}Hz();break}catch(Ie){qT(a,Ie)}while(!0);return Ci=co=null,j.H=h,j.A=w,ar=c,jt!==null?0:(mr=null,Kt=0,mn(),Vr)}function Hz(){for(;jt!==null&&!ot();)LT(jt)}function LT(a){var o=oT(a.alternate,a,Ni);a.memoizedProps=a.pendingProps,o===null?od(a):jt=o}function PT(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=tT(c,o,o.pendingProps,o.type,void 0,Kt);break;case 11:o=tT(c,o,o.pendingProps,o.type.render,o.ref,Kt);break;case 5:Zh(o);default:lT(c,o),o=jt=NE(o,Ni),o=oT(c,o,Ni)}a.memoizedProps=a.pendingProps,o===null?od(a):jt=o}function Cs(a,o,c,h){Ci=co=null,Zh(o),ps=null,Il=0;var w=o.return;try{if(qz(a,w,o,c,Kt)){Vr=1,$f(a,Sa(c,a.current)),jt=null;return}}catch(T){if(w!==null)throw jt=w,T;Vr=1,$f(a,Sa(c,a.current)),jt=null;return}o.flags&32768?(Zt||h===1?a=!0:Es||(Kt&536870912)!==0?a=!1:(pu=a=!0,(h===2||h===9||h===3||h===6)&&(h=da.current,h!==null&&h.tag===13&&(h.flags|=16384))),IT(o,a)):od(o)}function od(a){var o=a;do{if((o.flags&32768)!==0){IT(o,pu);return}a=o.return;var c=Nz(o.alternate,o,Ni);if(c!==null){jt=c;return}if(o=o.sibling,o!==null){jt=o;return}jt=o=a}while(o!==null);Vr===0&&(Vr=5)}function IT(a,o){do{var c=Lz(a.alternate,a);if(c!==null){c.flags&=32767,jt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){jt=a;return}jt=a=c}while(a!==null);Vr=6,jt=null}function UT(a,o,c,h,w,T,k,H,ne){a.cancelPendingCommit=null;do sd();while(ln!==0);if((ar&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(T=o.lanes|o.childLanes,T|=Nt,jr(a,c,T,k,H,ne),a===mr&&(jt=mr=null,Kt=0),Ts=o,mu=a,Li=c,Mp=T,Bp=w,DT=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Xz(Mt,function(){return HT(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=j.T,j.T=null,w=Y.p,Y.p=2,k=ar,ar|=4;try{Pz(a,o,c)}finally{ar=k,Y.p=w,j.T=h}}ln=1,FT(),VT(),GT()}}function FT(){if(ln===1){ln=0;var a=mu,o=Ts,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=j.T,j.T=null;var h=Y.p;Y.p=2;var w=ar;ar|=4;try{xT(o,a);var T=Yp,k=z(a.containerInfo),H=T.focusedElem,ne=T.selectionRange;if(k!==H&&H&&H.ownerDocument&&q(H.ownerDocument.documentElement,H)){if(ne!==null&&F(H)){var Ae=ne.start,Ie=ne.end;if(Ie===void 0&&(Ie=Ae),"selectionStart"in H)H.selectionStart=Ae,H.selectionEnd=Math.min(Ie,H.value.length);else{var Ve=H.ownerDocument||document,De=Ve&&Ve.defaultView||window;if(De.getSelection){var Be=De.getSelection(),dt=H.textContent.length,Tt=Math.min(ne.start,dt),gr=ne.end===void 0?Tt:Math.min(ne.end,dt);!Be.extend&&Tt>gr&&(k=gr,gr=Tt,Tt=k);var Te=D(H,Tt),ve=D(H,gr);if(Te&&ve&&(Be.rangeCount!==1||Be.anchorNode!==Te.node||Be.anchorOffset!==Te.offset||Be.focusNode!==ve.node||Be.focusOffset!==ve.offset)){var Ce=Ve.createRange();Ce.setStart(Te.node,Te.offset),Be.removeAllRanges(),Tt>gr?(Be.addRange(Ce),Be.extend(ve.node,ve.offset)):(Ce.setEnd(ve.node,ve.offset),Be.addRange(Ce))}}}}for(Ve=[],Be=H;Be=Be.parentNode;)Be.nodeType===1&&Ve.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Ve.length;H++){var Ue=Ve[H];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}wd=!!Kp,Yp=Kp=null}finally{ar=w,Y.p=h,j.T=c}}a.current=o,ln=2}}function VT(){if(ln===2){ln=0;var a=mu,o=Ts,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=j.T,j.T=null;var h=Y.p;Y.p=2;var w=ar;ar|=4;try{gT(a,o.alternate,o)}finally{ar=w,Y.p=h,j.T=c}}ln=3}}function GT(){if(ln===4||ln===3){ln=0,st();var a=mu,o=Ts,c=Li,h=DT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ln=5:(ln=0,Ts=mu=null,jT(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(yu=null),Tn(c),o=o.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(K,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=j.T,w=Y.p,Y.p=2,j.T=null;try{for(var T=a.onRecoverableError,k=0;k<h.length;k++){var H=h[k];T(H.value,{componentStack:H.stack})}}finally{j.T=o,Y.p=w}}(Li&3)!==0&&sd(),ni(a),w=a.pendingLanes,(c&261930)!==0&&(w&42)!==0?a===qp?rc++:(rc=0,qp=a):rc=0,nc(0)}}function jT(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Ll(o)))}function sd(){return FT(),VT(),GT(),HT()}function HT(){if(ln!==5)return!1;var a=mu,o=Mp;Mp=0;var c=Tn(Li),h=j.T,w=Y.p;try{Y.p=32>c?32:c,j.T=null,c=Bp,Bp=null;var T=mu,k=Li;if(ln=0,Ts=mu=null,Li=0,(ar&6)!==0)throw Error(n(331));var H=ar;if(ar|=4,CT(T.current),ST(T,T.current,k,c),ar=H,nc(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(K,T)}catch{}return!0}finally{Y.p=w,j.T=h,jT(a,o)}}function KT(a,o,c){o=Sa(c,o),o=fp(a.stateNode,o,2),a=fu(a,o,2),a!==null&&($t(a,2),ni(a))}function fr(a,o,c){if(a.tag===3)KT(a,a,c);else for(;o!==null;){if(o.tag===3){KT(o,a,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(yu===null||!yu.has(h))){a=Sa(c,a),c=YS(2),h=fu(o,c,2),h!==null&&($S(c,h,o,a),$t(h,2),ni(h));break}}o=o.return}}function Np(a,o,c){var h=a.pingCache;if(h===null){h=a.pingCache=new Fz;var w=new Set;h.set(o,w)}else w=h.get(o),w===void 0&&(w=new Set,h.set(o,w));w.has(c)||(Rp=!0,w.add(c),a=Kz.bind(null,a,o,c),o.then(a,a))}function Kz(a,o,c){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,mr===a&&(Kt&c)===c&&(Vr===4||Vr===3&&(Kt&62914560)===Kt&&300>rt()-rd?(ar&2)===0&&_s(a,0):Dp|=c,Ss===Kt&&(Ss=0)),ni(a)}function YT(a,o){o===0&&(o=zt()),a=Mr(a,o),a!==null&&($t(a,o),ni(a))}function Yz(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),YT(a,c)}function $z(a,o){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,w=a.memoizedState;w!==null&&(c=w.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),YT(a,c)}function Xz(a,o){return Qe(a,o)}var ld=null,As=null,Lp=!1,cd=!1,Pp=!1,wu=0;function ni(a){a!==As&&a.next===null&&(As===null?ld=As=a:As=As.next=a),cd=!0,Lp||(Lp=!0,Qz())}function nc(a,o){if(!Pp&&cd){Pp=!0;do for(var c=!1,h=ld;h!==null;){if(a!==0){var w=h.pendingLanes;if(w===0)var T=0;else{var k=h.suspendedLanes,H=h.pingedLanes;T=(1<<31-pe(42|a)+1)-1,T&=w&~(k&~H),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(c=!0,QT(h,T))}else T=Kt,T=At(h,h===mr?T:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(T&3)===0||lt(h,T)||(c=!0,QT(h,T));h=h.next}while(c);Pp=!1}}function Zz(){$T()}function $T(){cd=Lp=!1;var a=0;wu!==0&&oN()&&(a=wu);for(var o=rt(),c=null,h=ld;h!==null;){var w=h.next,T=XT(h,o);T===0?(h.next=null,c===null?ld=w:c.next=w,w===null&&(As=c)):(c=h,(a!==0||(T&3)!==0)&&(cd=!0)),h=w}ln!==0&&ln!==5||nc(a),wu!==0&&(wu=0)}function XT(a,o){for(var c=a.suspendedLanes,h=a.pingedLanes,w=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var k=31-pe(T),H=1<<k,ne=w[k];ne===-1?((H&c)===0||(H&h)!==0)&&(w[k]=It(H,o)):ne<=o&&(a.expiredLanes|=H),T&=~H}if(o=mr,c=Kt,c=At(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===o&&(cr===2||cr===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&tt(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||lt(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(h!==null&&tt(h),Tn(c)){case 2:case 8:c=qt;break;case 32:c=Mt;break;case 268435456:c=gt;break;default:c=Mt}return h=ZT.bind(null,a),c=Qe(c,h),a.callbackPriority=o,a.callbackNode=c,o}return h!==null&&h!==null&&tt(h),a.callbackPriority=2,a.callbackNode=null,2}function ZT(a,o){if(ln!==0&&ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(sd()&&a.callbackNode!==c)return null;var h=Kt;return h=At(a,a===mr?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(MT(a,h,o),XT(a,rt()),a.callbackNode!=null&&a.callbackNode===c?ZT.bind(null,a):null)}function QT(a,o){if(sd())return null;MT(a,o,!0)}function Qz(){lN(function(){(ar&6)!==0?Qe(Dt,Zz):$T()})}function Ip(){if(wu===0){var a=ds;a===0&&(a=qe,qe<<=1,(qe&261888)===0&&(qe=256)),wu=a}return wu}function WT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ua(""+a)}function JT(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function Wz(a,o,c,h,w){if(o==="submit"&&c&&c.stateNode===w){var T=WT((w[wr]||null).action),k=h.submitter;k&&(o=(o=k[wr]||null)?WT(o.formAction):k.getAttribute("formAction"),o!==null&&(T=o,k=null));var H=new Yo("action","action",null,h,w);a.push({event:H,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(wu!==0){var ne=k?JT(w,k):new FormData(w);ip(c,{pending:!0,data:ne,method:w.method,action:T},null,ne)}}else typeof T=="function"&&(H.preventDefault(),ne=k?JT(w,k):new FormData(w),ip(c,{pending:!0,data:ne,method:w.method,action:T},T,ne))},currentTarget:w}]})}}for(var Up=0;Up<We.length;Up++){var Fp=We[Up],Jz=Fp.toLowerCase(),eN=Fp[0].toUpperCase()+Fp.slice(1);Ye(Jz,"on"+eN)}Ye(_e,"onAnimationEnd"),Ye(Re,"onAnimationIteration"),Ye(Le,"onAnimationStart"),Ye("dblclick","onDoubleClick"),Ye("focusin","onFocus"),Ye("focusout","onBlur"),Ye(Fe,"onTransitionRun"),Ye($e,"onTransitionStart"),Ye(Je,"onTransitionCancel"),Ye(Ke,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function e2(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],w=h.event;h=h.listeners;e:{var T=void 0;if(o)for(var k=h.length-1;0<=k;k--){var H=h[k],ne=H.instance,Ae=H.currentTarget;if(H=H.listener,ne!==T&&w.isPropagationStopped())break e;T=H,w.currentTarget=Ae;try{T(w)}catch(Ie){ut(Ie)}w.currentTarget=null,T=ne}else for(k=0;k<h.length;k++){if(H=h[k],ne=H.instance,Ae=H.currentTarget,H=H.listener,ne!==T&&w.isPropagationStopped())break e;T=H,w.currentTarget=Ae;try{T(w)}catch(Ie){ut(Ie)}w.currentTarget=null,T=ne}}}}function Ht(a,o){var c=o[Lr];c===void 0&&(c=o[Lr]=new Set);var h=a+"__bubble";c.has(h)||(t2(o,a,2,!1),c.add(h))}function Vp(a,o,c){var h=0;o&&(h|=4),t2(c,a,h,o)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Gp(a){if(!a[fd]){a[fd]=!0,La.forEach(function(c){c!=="selectionchange"&&(tN.has(c)||Vp(c,!1,a),Vp(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[fd]||(o[fd]=!0,Vp("selectionchange",!1,o))}}function t2(a,o,c,h){switch(O2(o)){case 2:var w=DN;break;case 8:w=ON;break;default:w=ag}c=w.bind(null,o,c,a),w=void 0,!wl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),h?w!==void 0?a.addEventListener(o,c,{capture:!0,passive:w}):a.addEventListener(o,c,!0):w!==void 0?a.addEventListener(o,c,{passive:w}):a.addEventListener(o,c,!1)}function jp(a,o,c,h,w){var T=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var H=h.stateNode.containerInfo;if(H===w)break;if(k===4)for(k=h.return;k!==null;){var ne=k.tag;if((ne===3||ne===4)&&k.stateNode.containerInfo===w)return;k=k.return}for(;H!==null;){if(k=ba(H),k===null)return;if(ne=k.tag,ne===5||ne===6||ne===26||ne===27){h=T=k;continue e}H=H.parentNode}}h=h.return}Zi(function(){var Ae=T,Ie=Ho(c),Ve=[];e:{var De=Xe.get(a);if(De!==void 0){var Be=Yo,dt=a;switch(a){case"keypress":if(Ji(c)===0)break e;case"keydown":case"keyup":Be=es;break;case"focusin":dt="focus",Be=eu;break;case"focusout":dt="blur",Be=eu;break;case"beforeblur":case"afterblur":Be=eu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Al;break;case _e:case Re:case Le:Be=bf;break;case Ke:Be=Rl;break;case"scroll":case"scrollend":Be=$o;break;case"wheel":Be=rs;break;case"copy":case"cut":case"paste":Be=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=Cl;break;case"toggle":case"beforetoggle":Be=Ef}var Tt=(o&4)!==0,gr=!Tt&&(a==="scroll"||a==="scrollend"),Te=Tt?De!==null?De+"Capture":null:De;Tt=[];for(var ve=Ae,Ce;ve!==null;){var Ue=ve;if(Ce=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||Ce===null||Te===null||(Ue=mi(ve,Te),Ue!=null&&Tt.push(ic(ve,Ue,Ce))),gr)break;ve=ve.return}0<Tt.length&&(De=new Be(De,dt,null,c,Ie),Ve.push({event:De,listeners:Tt}))}}if((o&7)===0){e:{if(De=a==="mouseover"||a==="pointerover",Be=a==="mouseout"||a==="pointerout",De&&c!==wa&&(dt=c.relatedTarget||c.fromElement)&&(ba(dt)||dt[Nr]))break e;if((Be||De)&&(De=Ie.window===Ie?Ie:(De=Ie.ownerDocument)?De.defaultView||De.parentWindow:window,Be?(dt=c.relatedTarget||c.toElement,Be=Ae,dt=dt?ba(dt):null,dt!==null&&(gr=u(dt),Tt=dt.tag,dt!==gr||Tt!==5&&Tt!==27&&Tt!==6)&&(dt=null)):(Be=null,dt=Ae),Be!==dt)){if(Tt=Zo,Ue="onMouseLeave",Te="onMouseEnter",ve="mouse",(a==="pointerout"||a==="pointerover")&&(Tt=Cl,Ue="onPointerLeave",Te="onPointerEnter",ve="pointer"),gr=Be==null?De:Vn(Be),Ce=dt==null?De:Vn(dt),De=new Tt(Ue,ve+"leave",Be,c,Ie),De.target=gr,De.relatedTarget=Ce,Ue=null,ba(Ie)===Ae&&(Tt=new Tt(Te,ve+"enter",dt,c,Ie),Tt.target=Ce,Tt.relatedTarget=gr,Ue=Tt),gr=Ue,Be&&dt)t:{for(Tt=rN,Te=Be,ve=dt,Ce=0,Ue=Te;Ue;Ue=Tt(Ue))Ce++;Ue=0;for(var bt=ve;bt;bt=Tt(bt))Ue++;for(;0<Ce-Ue;)Te=Tt(Te),Ce--;for(;0<Ue-Ce;)ve=Tt(ve),Ue--;for(;Ce--;){if(Te===ve||ve!==null&&Te===ve.alternate){Tt=Te;break t}Te=Tt(Te),ve=Tt(ve)}Tt=null}else Tt=null;Be!==null&&r2(Ve,De,Be,Tt,!1),dt!==null&&gr!==null&&r2(Ve,gr,dt,Tt,!0)}}e:{if(De=Ae?Vn(Ae):window,Be=De.nodeName&&De.nodeName.toLowerCase(),Be==="select"||Be==="input"&&De.type==="file")var er=uo;else if(is(De))if(Ea)er=au;else{er=Si;var ht=Rf}else Be=De.nodeName,!Be||Be.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Ae&&bl(Ae.elementType)&&(er=uo):er=ql;if(er&&(er=er(a,Ae))){Bl(Ve,er,c,Ie);break e}ht&&ht(a,De,Ae),a==="focusout"&&Ae&&De.type==="number"&&Ae.memoizedProps.value!=null&&Wu(De,"number",De.value)}switch(ht=Ae?Vn(Ae):window,a){case"focusin":(is(ht)||ht.contentEditable==="true")&&(te=ht,le=Ae,ce=null);break;case"focusout":ce=le=te=null;break;case"mousedown":xe=!0;break;case"contextmenu":case"mouseup":case"dragend":xe=!1,ae(Ve,c,Ie);break;case"selectionchange":if(Q)break;case"keydown":case"keyup":ae(Ve,c,Ie)}var Ft;if(ao)e:{switch(a){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else Ei?Ml(a,c)&&(Yt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Yt="onCompositionStart");Yt&&(ns&&c.locale!=="ko"&&(Ei||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Ei&&(Ft=Wi()):(xa=Ie,Ko="value"in xa?xa.value:xa.textContent,Ei=!0)),ht=dd(Ae,Yt),0<ht.length&&(Yt=new Jo(Yt,a,null,c,Ie),Ve.push({event:Yt,listeners:ht}),Ft?Yt.data=Ft:(Ft=Tf(c),Ft!==null&&(Yt.data=Ft)))),(Ft=Eh?_f(a,c):Sh(a,c))&&(Yt=dd(Ae,"onBeforeInput"),0<Yt.length&&(ht=new Jo("onBeforeInput","beforeinput",null,c,Ie),Ve.push({event:ht,listeners:Yt}),ht.data=Ft)),Wz(Ve,a,Ae,c,Ie)}e2(Ve,o)})}function ic(a,o,c){return{instance:a,listener:o,currentTarget:c}}function dd(a,o){for(var c=o+"Capture",h=[];a!==null;){var w=a,T=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||T===null||(w=mi(a,c),w!=null&&h.unshift(ic(a,w,T)),w=mi(a,o),w!=null&&h.push(ic(a,w,T))),a.tag===3)return h;a=a.return}return[]}function rN(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function r2(a,o,c,h,w){for(var T=o._reactName,k=[];c!==null&&c!==h;){var H=c,ne=H.alternate,Ae=H.stateNode;if(H=H.tag,ne!==null&&ne===h)break;H!==5&&H!==26&&H!==27||Ae===null||(ne=Ae,w?(Ae=mi(c,T),Ae!=null&&k.unshift(ic(c,Ae,ne))):w||(Ae=mi(c,T),Ae!=null&&k.push(ic(c,Ae,ne)))),c=c.return}k.length!==0&&a.push({event:o,listeners:k})}var nN=/\r\n?/g,aN=/\u0000|\uFFFD/g;function n2(a){return(typeof a=="string"?a:""+a).replace(nN,`
`).replace(aN,"")}function a2(a,o){return o=n2(o),n2(a)===o}function pr(a,o,c,h,w,T){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||pi(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&pi(a,""+h);break;case"className":Pa(a,"class",h);break;case"tabIndex":Pa(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Pa(a,c,h);break;case"style":ml(a,h,T);break;case"data":if(o!=="object"){Pa(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Ua(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(c==="formAction"?(o!=="input"&&pr(a,o,"name",w.name,w,null),pr(a,o,"formEncType",w.formEncType,w,null),pr(a,o,"formMethod",w.formMethod,w,null),pr(a,o,"formTarget",w.formTarget,w,null)):(pr(a,o,"encType",w.encType,w,null),pr(a,o,"method",w.method,w,null),pr(a,o,"target",w.target,w,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Ua(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=Wn);break;case"onScroll":h!=null&&Ht("scroll",a);break;case"onScrollEnd":h!=null&&Ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(w.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=Ua(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":Ht("beforetoggle",a),Ht("toggle",a),Et(a,"popover",h);break;case"xlinkActuate":Gn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Gn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Gn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Gn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Gn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Gn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Gn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Gn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Gn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Et(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=bh.get(c)||c,Et(a,c,h))}}function Hp(a,o,c,h,w,T){switch(c){case"style":ml(a,h,T);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(w.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"children":typeof h=="string"?pi(a,h):(typeof h=="number"||typeof h=="bigint")&&pi(a,""+h);break;case"onScroll":h!=null&&Ht("scroll",a);break;case"onScrollEnd":h!=null&&Ht("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hi.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(w=c.endsWith("Capture"),o=c.slice(2,w?c.length-7:void 0),T=a[wr]||null,T=T!=null?T[c]:null,typeof T=="function"&&a.removeEventListener(o,T,w),typeof h=="function")){typeof T!="function"&&T!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,h,w);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):Et(a,c,h)}}}function On(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",a),Ht("load",a);var h=!1,w=!1,T;for(T in c)if(c.hasOwnProperty(T)){var k=c[T];if(k!=null)switch(T){case"src":h=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:pr(a,o,T,k,c,null)}}w&&pr(a,o,"srcSet",c.srcSet,c,null),h&&pr(a,o,"src",c.src,c,null);return;case"input":Ht("invalid",a);var H=T=k=w=null,ne=null,Ae=null;for(h in c)if(c.hasOwnProperty(h)){var Ie=c[h];if(Ie!=null)switch(h){case"name":w=Ie;break;case"type":k=Ie;break;case"checked":ne=Ie;break;case"defaultChecked":Ae=Ie;break;case"value":T=Ie;break;case"defaultValue":H=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,o));break;default:pr(a,o,h,Ie,c,null)}}jo(a,T,H,ne,Ae,k,w,!1);return;case"select":Ht("invalid",a),h=k=T=null;for(w in c)if(c.hasOwnProperty(w)&&(H=c[w],H!=null))switch(w){case"value":T=H;break;case"defaultValue":k=H;break;case"multiple":h=H;default:pr(a,o,w,H,c,null)}o=T,c=k,a.multiple=!!h,o!=null?Ia(a,!!h,o,!1):c!=null&&Ia(a,!!h,c,!0);return;case"textarea":Ht("invalid",a),T=w=h=null;for(k in c)if(c.hasOwnProperty(k)&&(H=c[k],H!=null))switch(k){case"value":h=H;break;case"defaultValue":w=H;break;case"children":T=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:pr(a,o,k,H,c,null)}Ju(a,h,w,T);return;case"option":for(ne in c)if(c.hasOwnProperty(ne)&&(h=c[ne],h!=null))switch(ne){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:pr(a,o,ne,h,c,null)}return;case"dialog":Ht("beforetoggle",a),Ht("toggle",a),Ht("cancel",a),Ht("close",a);break;case"iframe":case"object":Ht("load",a);break;case"video":case"audio":for(h=0;h<ac.length;h++)Ht(ac[h],a);break;case"image":Ht("error",a),Ht("load",a);break;case"details":Ht("toggle",a);break;case"embed":case"source":case"link":Ht("error",a),Ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in c)if(c.hasOwnProperty(Ae)&&(h=c[Ae],h!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:pr(a,o,Ae,h,c,null)}return;default:if(bl(o)){for(Ie in c)c.hasOwnProperty(Ie)&&(h=c[Ie],h!==void 0&&Hp(a,o,Ie,h,c,void 0));return}}for(H in c)c.hasOwnProperty(H)&&(h=c[H],h!=null&&pr(a,o,H,h,c,null))}function iN(a,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,T=null,k=null,H=null,ne=null,Ae=null,Ie=null;for(Be in c){var Ve=c[Be];if(c.hasOwnProperty(Be)&&Ve!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":ne=Ve;default:h.hasOwnProperty(Be)||pr(a,o,Be,null,h,Ve)}}for(var De in h){var Be=h[De];if(Ve=c[De],h.hasOwnProperty(De)&&(Be!=null||Ve!=null))switch(De){case"type":T=Be;break;case"name":w=Be;break;case"checked":Ae=Be;break;case"defaultChecked":Ie=Be;break;case"value":k=Be;break;case"defaultValue":H=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(n(137,o));break;default:Be!==Ve&&pr(a,o,De,Be,h,Ve)}}Za(a,k,H,ne,Ae,Ie,T,w);return;case"select":Be=k=H=De=null;for(T in c)if(ne=c[T],c.hasOwnProperty(T)&&ne!=null)switch(T){case"value":break;case"multiple":Be=ne;default:h.hasOwnProperty(T)||pr(a,o,T,null,h,ne)}for(w in h)if(T=h[w],ne=c[w],h.hasOwnProperty(w)&&(T!=null||ne!=null))switch(w){case"value":De=T;break;case"defaultValue":H=T;break;case"multiple":k=T;default:T!==ne&&pr(a,o,w,T,h,ne)}o=H,c=k,h=Be,De!=null?Ia(a,!!c,De,!1):!!h!=!!c&&(o!=null?Ia(a,!!c,o,!0):Ia(a,!!c,c?[]:"",!1));return;case"textarea":Be=De=null;for(H in c)if(w=c[H],c.hasOwnProperty(H)&&w!=null&&!h.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:pr(a,o,H,null,h,w)}for(k in h)if(w=h[k],T=c[k],h.hasOwnProperty(k)&&(w!=null||T!=null))switch(k){case"value":De=w;break;case"defaultValue":Be=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==T&&pr(a,o,k,w,h,T)}yl(a,De,Be);return;case"option":for(var dt in c)if(De=c[dt],c.hasOwnProperty(dt)&&De!=null&&!h.hasOwnProperty(dt))switch(dt){case"selected":a.selected=!1;break;default:pr(a,o,dt,null,h,De)}for(ne in h)if(De=h[ne],Be=c[ne],h.hasOwnProperty(ne)&&De!==Be&&(De!=null||Be!=null))switch(ne){case"selected":a.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:pr(a,o,ne,De,h,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in c)De=c[Tt],c.hasOwnProperty(Tt)&&De!=null&&!h.hasOwnProperty(Tt)&&pr(a,o,Tt,null,h,De);for(Ae in h)if(De=h[Ae],Be=c[Ae],h.hasOwnProperty(Ae)&&De!==Be&&(De!=null||Be!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,o));break;default:pr(a,o,Ae,De,h,Be)}return;default:if(bl(o)){for(var gr in c)De=c[gr],c.hasOwnProperty(gr)&&De!==void 0&&!h.hasOwnProperty(gr)&&Hp(a,o,gr,void 0,h,De);for(Ie in h)De=h[Ie],Be=c[Ie],!h.hasOwnProperty(Ie)||De===Be||De===void 0&&Be===void 0||Hp(a,o,Ie,De,h,Be);return}}for(var Te in c)De=c[Te],c.hasOwnProperty(Te)&&De!=null&&!h.hasOwnProperty(Te)&&pr(a,o,Te,null,h,De);for(Ve in h)De=h[Ve],Be=c[Ve],!h.hasOwnProperty(Ve)||De===Be||De==null&&Be==null||pr(a,o,Ve,De,h,Be)}function i2(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uN(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var w=c[h],T=w.transferSize,k=w.initiatorType,H=w.duration;if(T&&H&&i2(k)){for(k=0,H=w.responseEnd,h+=1;h<c.length;h++){var ne=c[h],Ae=ne.startTime;if(Ae>H)break;var Ie=ne.transferSize,Ve=ne.initiatorType;Ie&&i2(Ve)&&(ne=ne.responseEnd,k+=Ie*(ne<H?1:(H-Ae)/(ne-Ae)))}if(--h,o+=8*(T+k)/(w.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Kp=null,Yp=null;function vd(a){return a.nodeType===9?a:a.ownerDocument}function u2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o2(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function $p(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xp=null;function oN(){var a=window.event;return a&&a.type==="popstate"?a===Xp?!1:(Xp=a,!0):(Xp=null,!1)}var s2=typeof setTimeout=="function"?setTimeout:void 0,sN=typeof clearTimeout=="function"?clearTimeout:void 0,l2=typeof Promise=="function"?Promise:void 0,lN=typeof queueMicrotask=="function"?queueMicrotask:typeof l2<"u"?function(a){return l2.resolve(null).then(a).catch(cN)}:s2;function cN(a){setTimeout(function(){throw a})}function xu(a){return a==="head"}function c2(a,o){var c=o,h=0;do{var w=c.nextSibling;if(a.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(w),Ms(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")uc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,uc(c);for(var T=c.firstChild;T;){var k=T.nextSibling,H=T.nodeName;T[xr]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=k}}else c==="body"&&uc(a.ownerDocument.body);c=w}while(c);Ms(o)}function f2(a,o){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function Zp(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Zp(c),vi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function fN(a,o,c,h){for(;a.nodeType===1;){var w=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[xr])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var T=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=Ra(a.nextSibling),a===null)break}return null}function dN(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Ra(a.nextSibling),a===null))return null;return a}function d2(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ra(a.nextSibling),a===null))return null;return a}function Qp(a){return a.data==="$?"||a.data==="$~"}function Wp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function vN(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ra(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Jp=null;function v2(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Ra(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function h2(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function p2(a,o,c){switch(o=vd(c),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function uc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);vi(a)}var Da=new Map,g2=new Set;function hd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Pi=Y.d;Y.d={f:hN,r:pN,D:gN,C:yN,L:mN,m:bN,X:xN,S:wN,M:EN};function hN(){var a=Pi.f(),o=id();return a||o}function pN(a){var o=ur(a);o!==null&&o.tag===5&&o.type==="form"?qS(o):Pi.r(a)}var Rs=typeof document>"u"?null:document;function y2(a,o,c){var h=Rs;if(h&&typeof o=="string"&&o){var w=pn(o);w='link[rel="'+a+'"][href="'+w+'"]',typeof c=="string"&&(w+='[crossorigin="'+c+'"]'),g2.has(w)||(g2.add(w),a={rel:a,crossOrigin:c,href:o},h.querySelector(w)===null&&(o=h.createElement("link"),On(o,"link",a),Pr(o),h.head.appendChild(o)))}}function gN(a){Pi.D(a),y2("dns-prefetch",a,null)}function yN(a,o){Pi.C(a,o),y2("preconnect",a,o)}function mN(a,o,c){Pi.L(a,o,c);var h=Rs;if(h&&a&&o){var w='link[rel="preload"][as="'+pn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(w+='[imagesrcset="'+pn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(w+='[imagesizes="'+pn(c.imageSizes)+'"]')):w+='[href="'+pn(a)+'"]';var T=w;switch(o){case"style":T=Ds(a);break;case"script":T=Os(a)}Da.has(T)||(a=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Da.set(T,a),h.querySelector(w)!==null||o==="style"&&h.querySelector(oc(T))||o==="script"&&h.querySelector(sc(T))||(o=h.createElement("link"),On(o,"link",a),Pr(o),h.head.appendChild(o)))}}function bN(a,o){Pi.m(a,o);var c=Rs;if(c&&a){var h=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+pn(h)+'"][href="'+pn(a)+'"]',T=w;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Os(a)}if(!Da.has(T)&&(a=p({rel:"modulepreload",href:a},o),Da.set(T,a),c.querySelector(w)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(sc(T)))return}h=c.createElement("link"),On(h,"link",a),Pr(h),c.head.appendChild(h)}}}function wN(a,o,c){Pi.S(a,o,c);var h=Rs;if(h&&a){var w=hn(h).hoistableStyles,T=Ds(a);o=o||"default";var k=w.get(T);if(!k){var H={loading:0,preload:null};if(k=h.querySelector(oc(T)))H.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Da.get(T))&&eg(a,c);var ne=k=h.createElement("link");Pr(ne),On(ne,"link",a),ne._p=new Promise(function(Ae,Ie){ne.onload=Ae,ne.onerror=Ie}),ne.addEventListener("load",function(){H.loading|=1}),ne.addEventListener("error",function(){H.loading|=2}),H.loading|=4,pd(k,o,h)}k={type:"stylesheet",instance:k,count:1,state:H},w.set(T,k)}}}function xN(a,o){Pi.X(a,o);var c=Rs;if(c&&a){var h=hn(c).hoistableScripts,w=Os(a),T=h.get(w);T||(T=c.querySelector(sc(w)),T||(a=p({src:a,async:!0},o),(o=Da.get(w))&&tg(a,o),T=c.createElement("script"),Pr(T),On(T,"link",a),c.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(w,T))}}function EN(a,o){Pi.M(a,o);var c=Rs;if(c&&a){var h=hn(c).hoistableScripts,w=Os(a),T=h.get(w);T||(T=c.querySelector(sc(w)),T||(a=p({src:a,async:!0,type:"module"},o),(o=Da.get(w))&&tg(a,o),T=c.createElement("script"),Pr(T),On(T,"link",a),c.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(w,T))}}function m2(a,o,c,h){var w=(w=re.current)?hd(w):null;if(!w)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Ds(c.href),c=hn(w).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Ds(c.href);var T=hn(w).hoistableStyles,k=T.get(a);if(k||(w=w.ownerDocument||w,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,k),(T=w.querySelector(oc(a)))&&!T._p&&(k.instance=T,k.state.loading=5),Da.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Da.set(a,c),T||SN(w,a,c,k.state))),o&&h===null)throw Error(n(528,""));return k}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Os(c),c=hn(w).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Ds(a){return'href="'+pn(a)+'"'}function oc(a){return'link[rel="stylesheet"]['+a+"]"}function b2(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function SN(a,o,c,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),On(o,"link",c),Pr(o),a.head.appendChild(o))}function Os(a){return'[src="'+pn(a)+'"]'}function sc(a){return"script[async]"+a}function w2(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+pn(c.href)+'"]');if(h)return o.instance=h,Pr(h),h;var w=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Pr(h),On(h,"style",w),pd(h,c.precedence,a),o.instance=h;case"stylesheet":w=Ds(c.href);var T=a.querySelector(oc(w));if(T)return o.state.loading|=4,o.instance=T,Pr(T),T;h=b2(c),(w=Da.get(w))&&eg(h,w),T=(a.ownerDocument||a).createElement("link"),Pr(T);var k=T;return k._p=new Promise(function(H,ne){k.onload=H,k.onerror=ne}),On(T,"link",h),o.state.loading|=4,pd(T,c.precedence,a),o.instance=T;case"script":return T=Os(c.src),(w=a.querySelector(sc(T)))?(o.instance=w,Pr(w),w):(h=c,(w=Da.get(T))&&(h=p({},c),tg(h,w)),a=a.ownerDocument||a,w=a.createElement("script"),Pr(w),On(w,"link",h),a.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,pd(h,c.precedence,a));return o.instance}function pd(a,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=h.length?h[h.length-1]:null,T=w,k=0;k<h.length;k++){var H=h[k];if(H.dataset.precedence===o)T=H;else if(T!==w)break}T?T.parentNode.insertBefore(a,T.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function eg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function tg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var gd=null;function x2(a,o,c){if(gd===null){var h=new Map,w=gd=new Map;w.set(c,h)}else w=gd,h=w.get(c),h||(h=new Map,w.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),w=0;w<c.length;w++){var T=c[w];if(!(T[xr]||T[Qt]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var k=T.getAttribute(o)||"";k=a+k;var H=h.get(k);H?H.push(T):h.set(k,[T])}}return h}function E2(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function TN(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function S2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function _N(a,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=Ds(h.href),T=o.querySelector(oc(w));if(T){o=T._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=yd.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=T,Pr(T);return}T=o.ownerDocument||o,h=b2(h),(w=Da.get(w))&&eg(h,w),T=T.createElement("link"),Pr(T);var k=T;k._p=new Promise(function(H,ne){k.onload=H,k.onerror=ne}),On(T,"link",h),c.instance=T}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=yd.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var rg=0;function CN(a,o){return a.stylesheets&&a.count===0&&bd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&bd(a,a.stylesheets),a.unsuspend){var T=a.unsuspend;a.unsuspend=null,T()}},6e4+o);0<a.imgBytes&&rg===0&&(rg=62500*uN());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&bd(a,a.stylesheets),a.unsuspend)){var T=a.unsuspend;a.unsuspend=null,T()}},(a.imgBytes>rg?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(w)}}:null}function yd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var md=null;function bd(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,md=new Map,o.forEach(AN,a),md=null,yd.call(a))}function AN(a,o){if(!(o.state.loading&4)){var c=md.get(a);if(c)var h=c.get(null);else{c=new Map,md.set(a,c);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<w.length;T++){var k=w[T];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(c.set(k.dataset.precedence,k),h=k)}h&&c.set(null,h)}w=o.instance,k=w.getAttribute("data-precedence"),T=c.get(k)||h,T===h&&c.set(null,w),c.set(k,w),this.count++,h=yd.bind(this),w.addEventListener("load",h),w.addEventListener("error",h),T?T.parentNode.insertBefore(w,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),o.state.loading|=4}}var lc={$$typeof:A,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function RN(a,o,c,h,w,T,k,H,ne){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ir(0),this.hiddenUpdates=ir(null),this.identifierPrefix=h,this.onUncaughtError=w,this.onCaughtError=T,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function T2(a,o,c,h,w,T,k,H,ne,Ae,Ie,Ve){return a=new RN(a,o,c,k,ne,Ae,Ie,Ve,H),o=1,T===!0&&(o|=24),T=fa(3,null,null,o),a.current=T,T.stateNode=a,o=zh(),o.refCount++,a.pooledCache=o,o.refCount++,T.memoizedState={element:h,isDehydrated:c,cache:o},Ih(T),a}function _2(a){return a?(a=Jn,a):Jn}function C2(a,o,c,h,w,T){w=_2(w),h.context===null?h.context=w:h.pendingContext=w,h=cu(o),h.payload={element:c},T=T===void 0?null:T,T!==null&&(h.callback=T),c=fu(a,h,o),c!==null&&(aa(c,a,o),Fl(c,a,o))}function A2(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function ng(a,o){A2(a,o),(a=a.alternate)&&A2(a,o)}function R2(a){if(a.tag===13||a.tag===31){var o=Mr(a,67108864);o!==null&&aa(o,a,67108864),ng(a,67108864)}}function D2(a){if(a.tag===13||a.tag===31){var o=ga();o=zr(o);var c=Mr(a,o);c!==null&&aa(c,a,o),ng(a,o)}}var wd=!0;function DN(a,o,c,h){var w=j.T;j.T=null;var T=Y.p;try{Y.p=2,ag(a,o,c,h)}finally{Y.p=T,j.T=w}}function ON(a,o,c,h){var w=j.T;j.T=null;var T=Y.p;try{Y.p=8,ag(a,o,c,h)}finally{Y.p=T,j.T=w}}function ag(a,o,c,h){if(wd){var w=ig(h);if(w===null)jp(a,o,h,xd,c),M2(a,h);else if(BN(w,a,o,c,h))h.stopPropagation();else if(M2(a,h),o&4&&-1<MN.indexOf(a)){for(;w!==null;){var T=ur(w);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var k=_t(T.pendingLanes);if(k!==0){var H=T;for(H.pendingLanes|=2,H.entangledLanes|=2;k;){var ne=1<<31-pe(k);H.entanglements[1]|=ne,k&=~ne}ni(T),(ar&6)===0&&(nd=rt()+500,nc(0))}}break;case 31:case 13:H=Mr(T,2),H!==null&&aa(H,T,2),id(),ng(T,2)}if(T=ig(h),T===null&&jp(a,o,h,xd,c),T===w)break;w=T}w!==null&&h.stopPropagation()}else jp(a,o,h,null,c)}}function ig(a){return a=Ho(a),ug(a)}var xd=null;function ug(a){if(xd=null,a=ba(a),a!==null){var o=u(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=s(o),a!==null)return a;a=null}else if(c===31){if(a=l(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return xd=a,null}function O2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case Dt:return 2;case qt:return 8;case Mt:case Pt:return 32;case gt:return 268435456;default:return 32}default:return 32}}var og=!1,Eu=null,Su=null,Tu=null,cc=new Map,fc=new Map,_u=[],MN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M2(a,o){switch(a){case"focusin":case"focusout":Eu=null;break;case"dragenter":case"dragleave":Su=null;break;case"mouseover":case"mouseout":Tu=null;break;case"pointerover":case"pointerout":cc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(o.pointerId)}}function dc(a,o,c,h,w,T){return a===null||a.nativeEvent!==T?(a={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:T,targetContainers:[w]},o!==null&&(o=ur(o),o!==null&&R2(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),a)}function BN(a,o,c,h,w){switch(o){case"focusin":return Eu=dc(Eu,a,o,c,h,w),!0;case"dragenter":return Su=dc(Su,a,o,c,h,w),!0;case"mouseover":return Tu=dc(Tu,a,o,c,h,w),!0;case"pointerover":var T=w.pointerId;return cc.set(T,dc(cc.get(T)||null,a,o,c,h,w)),!0;case"gotpointercapture":return T=w.pointerId,fc.set(T,dc(fc.get(T)||null,a,o,c,h,w)),!0}return!1}function B2(a){var o=ba(a.target);if(o!==null){var c=u(o);if(c!==null){if(o=c.tag,o===13){if(o=s(c),o!==null){a.blockedOn=o,_n(a.priority,function(){D2(c)});return}}else if(o===31){if(o=l(c),o!==null){a.blockedOn=o,_n(a.priority,function(){D2(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ed(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=ig(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);wa=h,c.target.dispatchEvent(h),wa=null}else return o=ur(c),o!==null&&R2(o),a.blockedOn=c,!1;o.shift()}return!0}function q2(a,o,c){Ed(a)&&c.delete(o)}function qN(){og=!1,Eu!==null&&Ed(Eu)&&(Eu=null),Su!==null&&Ed(Su)&&(Su=null),Tu!==null&&Ed(Tu)&&(Tu=null),cc.forEach(q2),fc.forEach(q2)}function Sd(a,o){a.blockedOn===o&&(a.blockedOn=null,og||(og=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qN)))}var Td=null;function k2(a){Td!==a&&(Td=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Td===a&&(Td=null);for(var o=0;o<a.length;o+=3){var c=a[o],h=a[o+1],w=a[o+2];if(typeof h!="function"){if(ug(h||c)===null)continue;break}var T=ur(c);T!==null&&(a.splice(o,3),o-=3,ip(T,{pending:!0,data:w,method:c.method,action:h},h,w))}}))}function Ms(a){function o(ne){return Sd(ne,a)}Eu!==null&&Sd(Eu,a),Su!==null&&Sd(Su,a),Tu!==null&&Sd(Tu,a),cc.forEach(o),fc.forEach(o);for(var c=0;c<_u.length;c++){var h=_u[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<_u.length&&(c=_u[0],c.blockedOn===null);)B2(c),c.blockedOn===null&&_u.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var w=c[h],T=c[h+1],k=w[wr]||null;if(typeof T=="function")k||k2(c);else if(k){var H=null;if(T&&T.hasAttribute("formAction")){if(w=T,k=T[wr]||null)H=k.formAction;else if(ug(w)!==null)continue}else H=k.action;typeof H=="function"?c[h+1]=H:(c.splice(h,3),h-=3),k2(c)}}}function z2(){function a(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(k){return w=k})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function sg(a){this._internalRoot=a}_d.prototype.render=sg.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,h=ga();C2(c,h,a,o,null,null)},_d.prototype.unmount=sg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;C2(a.current,2,null,a,null,null),id(),o[Nr]=null}};function _d(a){this._internalRoot=a}_d.prototype.unstable_scheduleHydration=function(a){if(a){var o=vr();a={blockedOn:null,target:a,priority:o};for(var c=0;c<_u.length&&o!==0&&o<_u[c].priority;c++);_u.splice(c,0,a),c===0&&B2(a)}};var N2=e.version;if(N2!=="19.2.0")throw Error(n(527,N2,"19.2.0"));Y.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=d(o),a=a!==null?v(a):null,a=a===null?null:a.stateNode,a};var kN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{K=Cd.inject(kN),we=Cd}catch{}}return hc.createRoot=function(a,o){if(!i(a))throw Error(n(299));var c=!1,h="",w=GS,T=jS,k=HS;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=T2(a,1,!1,null,null,c,h,null,w,T,k,z2),a[Nr]=o.current,Gp(a),new sg(o)},hc.hydrateRoot=function(a,o,c){if(!i(a))throw Error(n(299));var h=!1,w="",T=GS,k=jS,H=HS,ne=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onUncaughtError!==void 0&&(T=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(H=c.onRecoverableError),c.formState!==void 0&&(ne=c.formState)),o=T2(a,1,!0,o,c??null,h,w,ne,T,k,H,z2),o.context=_2(null),c=o.current,h=ga(),h=zr(h),w=cu(h),w.callback=null,fu(c,w,h),c=h,o.current.lanes=c,$t(o,c),ni(o),a[Nr]=o.current,Gp(a),new _d(o)},hc.version="19.2.0",hc}var K2;function jN(){if(K2)return fg.exports;K2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fg.exports=GN(),fg.exports}var HN=jN();const KN=Ov(HN);var oa=function(){return oa=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u])}return e},oa.apply(this,arguments)};function cv(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,u;n<i;n++)(u||!(n in e))&&(u||(u=Array.prototype.slice.call(e,0,n)),u[n]=e[n]);return t.concat(u||Array.prototype.slice.call(e))}var Dr="-ms-",Lc="-moz-",or="-webkit-",uq="comm",Mv="rule",Vx="decl",YN="@import",oq="@keyframes",$N="@layer",sq=Math.abs,Gx=String.fromCharCode,vx=Object.assign;function XN(t,e){return xn(t,0)^45?(((e<<2^xn(t,0))<<2^xn(t,1))<<2^xn(t,2))<<2^xn(t,3):0}function lq(t){return t.trim()}function Ui(t,e){return(t=e.exec(t))?t[0]:t}function Vt(t,e,r){return t.replace(e,r)}function Hd(t,e,r){return t.indexOf(e,r)}function xn(t,e){return t.charCodeAt(e)|0}function Qs(t,e,r){return t.slice(e,r)}function oi(t){return t.length}function cq(t){return t.length}function Oc(t,e){return e.push(t),t}function ZN(t,e){return t.map(e).join("")}function Y2(t,e){return t.filter(function(r){return!Ui(r,e)})}var Bv=1,Ws=1,fq=0,qa=0,on=0,il="";function qv(t,e,r,n,i,u,s,l){return{value:t,root:e,parent:r,type:n,props:i,children:u,line:Bv,column:Ws,length:s,return:"",siblings:l}}function Du(t,e){return vx(qv("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Bs(t){for(;t.root;)t=Du(t.root,{children:[t]});Oc(t,t.siblings)}function QN(){return on}function WN(){return on=qa>0?xn(il,--qa):0,Ws--,on===10&&(Ws=1,Bv--),on}function ja(){return on=qa<fq?xn(il,qa++):0,Ws++,on===10&&(Ws=1,Bv++),on}function Do(){return xn(il,qa)}function Kd(){return qa}function kv(t,e){return Qs(il,t,e)}function hx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JN(t){return Bv=Ws=1,fq=oi(il=t),qa=0,[]}function eL(t){return il="",t}function pg(t){return lq(kv(qa-1,px(t===91?t+2:t===40?t+1:t)))}function tL(t){for(;(on=Do())&&on<33;)ja();return hx(t)>2||hx(on)>3?"":" "}function rL(t,e){for(;--e&&ja()&&!(on<48||on>102||on>57&&on<65||on>70&&on<97););return kv(t,Kd()+(e<6&&Do()==32&&ja()==32))}function px(t){for(;ja();)switch(on){case t:return qa;case 34:case 39:t!==34&&t!==39&&px(on);break;case 40:t===41&&px(t);break;case 92:ja();break}return qa}function nL(t,e){for(;ja()&&t+on!==57;)if(t+on===84&&Do()===47)break;return"/*"+kv(e,qa-1)+"*"+Gx(t===47?t:ja())}function aL(t){for(;!hx(Do());)ja();return kv(t,qa)}function iL(t){return eL(Yd("",null,null,null,[""],t=JN(t),0,[0],t))}function Yd(t,e,r,n,i,u,s,l,f){for(var d=0,v=0,p=s,g=0,m=0,b=0,C=1,x=1,E=1,_=0,A="",R=i,M=u,B=n,O=A;x;)switch(b=_,_=ja()){case 40:if(b!=108&&xn(O,p-1)==58){Hd(O+=Vt(pg(_),"&","&\f"),"&\f",sq(d?l[d-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:O+=pg(_);break;case 9:case 10:case 13:case 32:O+=tL(b);break;case 92:O+=rL(Kd()-1,7);continue;case 47:switch(Do()){case 42:case 47:Oc(uL(nL(ja(),Kd()),e,r,f),f);break;default:O+="/"}break;case 123*C:l[d++]=oi(O)*E;case 125*C:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+v:E==-1&&(O=Vt(O,/\f/g,"")),m>0&&oi(O)-p&&Oc(m>32?X2(O+";",n,r,p-1,f):X2(Vt(O," ","")+";",n,r,p-2,f),f);break;case 59:O+=";";default:if(Oc(B=$2(O,e,r,d,v,i,l,A,R=[],M=[],p,u),u),_===123)if(v===0)Yd(O,e,B,B,R,u,p,l,M);else switch(g===99&&xn(O,3)===110?100:g){case 100:case 108:case 109:case 115:Yd(t,B,B,n&&Oc($2(t,B,B,0,0,i,l,A,i,R=[],p,M),M),i,M,p,l,n?R:M);break;default:Yd(O,B,B,B,[""],M,0,l,M)}}d=v=m=0,C=E=1,A=O="",p=s;break;case 58:p=1+oi(O),m=b;default:if(C<1){if(_==123)--C;else if(_==125&&C++==0&&WN()==125)continue}switch(O+=Gx(_),_*C){case 38:E=v>0?1:(O+="\f",-1);break;case 44:l[d++]=(oi(O)-1)*E,E=1;break;case 64:Do()===45&&(O+=pg(ja())),g=Do(),v=p=oi(A=O+=aL(Kd())),_++;break;case 45:b===45&&oi(O)==2&&(C=0)}}return u}function $2(t,e,r,n,i,u,s,l,f,d,v,p){for(var g=i-1,m=i===0?u:[""],b=cq(m),C=0,x=0,E=0;C<n;++C)for(var _=0,A=Qs(t,g+1,g=sq(x=s[C])),R=t;_<b;++_)(R=lq(x>0?m[_]+" "+A:Vt(A,/&\f/g,m[_])))&&(f[E++]=R);return qv(t,e,r,i===0?Mv:l,f,d,v,p)}function uL(t,e,r,n){return qv(t,e,r,uq,Gx(QN()),Qs(t,2,-2),0,n)}function X2(t,e,r,n,i){return qv(t,e,r,Vx,Qs(t,0,n),Qs(t,n+1,-1),n,i)}function dq(t,e,r){switch(XN(t,e)){case 5103:return or+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return or+t+t;case 4789:return Lc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return or+t+Lc+t+Dr+t+t;case 5936:switch(xn(t,e+11)){case 114:return or+t+Dr+Vt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return or+t+Dr+Vt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return or+t+Dr+Vt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return or+t+Dr+t+t;case 6165:return or+t+Dr+"flex-"+t+t;case 5187:return or+t+Vt(t,/(\w+).+(:[^]+)/,or+"box-$1$2"+Dr+"flex-$1$2")+t;case 5443:return or+t+Dr+"flex-item-"+Vt(t,/flex-|-self/g,"")+(Ui(t,/flex-|baseline/)?"":Dr+"grid-row-"+Vt(t,/flex-|-self/g,""))+t;case 4675:return or+t+Dr+"flex-line-pack"+Vt(t,/align-content|flex-|-self/g,"")+t;case 5548:return or+t+Dr+Vt(t,"shrink","negative")+t;case 5292:return or+t+Dr+Vt(t,"basis","preferred-size")+t;case 6060:return or+"box-"+Vt(t,"-grow","")+or+t+Dr+Vt(t,"grow","positive")+t;case 4554:return or+Vt(t,/([^-])(transform)/g,"$1"+or+"$2")+t;case 6187:return Vt(Vt(Vt(t,/(zoom-|grab)/,or+"$1"),/(image-set)/,or+"$1"),t,"")+t;case 5495:case 3959:return Vt(t,/(image-set\([^]*)/,or+"$1$`$1");case 4968:return Vt(Vt(t,/(.+:)(flex-)?(.*)/,or+"box-pack:$3"+Dr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+or+t+t;case 4200:if(!Ui(t,/flex-|baseline/))return Dr+"grid-column-align"+Qs(t,e)+t;break;case 2592:case 3360:return Dr+Vt(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,Ui(n.props,/grid-\w+-end/)})?~Hd(t+(r=r[e].value),"span",0)?t:Dr+Vt(t,"-start","")+t+Dr+"grid-row-span:"+(~Hd(r,"span",0)?Ui(r,/\d+/):+Ui(r,/\d+/)-+Ui(t,/\d+/))+";":Dr+Vt(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return Ui(n.props,/grid-\w+-start/)})?t:Dr+Vt(Vt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Vt(t,/(.+)-inline(.+)/,or+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(oi(t)-1-e>6)switch(xn(t,e+1)){case 109:if(xn(t,e+4)!==45)break;case 102:return Vt(t,/(.+:)(.+)-([^]+)/,"$1"+or+"$2-$3$1"+Lc+(xn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Hd(t,"stretch",0)?dq(Vt(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Vt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,u,s,l,f,d){return Dr+i+":"+u+d+(s?Dr+i+"-span:"+(l?f:+f-+u)+d:"")+t});case 4949:if(xn(t,e+6)===121)return Vt(t,":",":"+or)+t;break;case 6444:switch(xn(t,xn(t,14)===45?18:11)){case 120:return Vt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+or+(xn(t,14)===45?"inline-":"")+"box$3$1"+or+"$2$3$1"+Dr+"$2box$3")+t;case 100:return Vt(t,":",":"+Dr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Vt(t,"scroll-","scroll-snap-")+t}return t}function fv(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function oL(t,e,r,n){switch(t.type){case $N:if(t.children.length)break;case YN:case Vx:return t.return=t.return||t.value;case uq:return"";case oq:return t.return=t.value+"{"+fv(t.children,n)+"}";case Mv:if(!oi(t.value=t.props.join(",")))return""}return oi(r=fv(t.children,n))?t.return=t.value+"{"+r+"}":""}function sL(t){var e=cq(t);return function(r,n,i,u){for(var s="",l=0;l<e;l++)s+=t[l](r,n,i,u)||"";return s}}function lL(t){return function(e){e.root||(e=e.return)&&t(e)}}function cL(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case Vx:t.return=dq(t.value,t.length,r);return;case oq:return fv([Du(t,{value:Vt(t.value,"@","@"+or)})],n);case Mv:if(t.length)return ZN(r=t.props,function(i){switch(Ui(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Bs(Du(t,{props:[Vt(i,/:(read-\w+)/,":"+Lc+"$1")]})),Bs(Du(t,{props:[i]})),vx(t,{props:Y2(r,n)});break;case"::placeholder":Bs(Du(t,{props:[Vt(i,/:(plac\w+)/,":"+or+"input-$1")]})),Bs(Du(t,{props:[Vt(i,/:(plac\w+)/,":"+Lc+"$1")]})),Bs(Du(t,{props:[Vt(i,/:(plac\w+)/,Dr+"input-$1")]})),Bs(Du(t,{props:[i]})),vx(t,{props:Y2(r,n)});break}return""})}}var fL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ya={},Js=typeof process<"u"&&ya!==void 0&&(ya.REACT_APP_SC_ATTR||ya.SC_ATTR)||"data-styled",vq="active",hq="data-styled-version",zv="6.1.19",jx=`/*!sc*/
`,dv=typeof window<"u"&&typeof document<"u",dL=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ya!==void 0&&ya.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ya.REACT_APP_SC_DISABLE_SPEEDY!==""?ya.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ya.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ya!==void 0&&ya.SC_DISABLE_SPEEDY!==void 0&&ya.SC_DISABLE_SPEEDY!==""&&ya.SC_DISABLE_SPEEDY!=="false"&&ya.SC_DISABLE_SPEEDY),Nv=Object.freeze([]),el=Object.freeze({});function vL(t,e,r){return r===void 0&&(r=el),t.theme!==r.theme&&t.theme||e||r.theme}var pq=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),hL=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,pL=/(^-|-$)/g;function Z2(t){return t.replace(hL,"-").replace(pL,"")}var gL=/(a)(d)/gi,Ad=52,Q2=function(t){return String.fromCharCode(t+(t>25?39:97))};function gx(t){var e,r="";for(e=Math.abs(t);e>Ad;e=e/Ad|0)r=Q2(e%Ad)+r;return(Q2(e%Ad)+r).replace(gL,"$1-$2")}var gg,gq=5381,Vs=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},yq=function(t){return Vs(gq,t)};function yL(t){return gx(yq(t)>>>0)}function mL(t){return t.displayName||t.name||"Component"}function yg(t){return typeof t=="string"&&!0}var mq=typeof Symbol=="function"&&Symbol.for,bq=mq?Symbol.for("react.memo"):60115,bL=mq?Symbol.for("react.forward_ref"):60112,wL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},xL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},EL=((gg={})[bL]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gg[bq]=wq,gg);function W2(t){return("type"in(e=t)&&e.type.$$typeof)===bq?wq:"$$typeof"in t?EL[t.$$typeof]:wL;var e}var SL=Object.defineProperty,TL=Object.getOwnPropertyNames,J2=Object.getOwnPropertySymbols,_L=Object.getOwnPropertyDescriptor,CL=Object.getPrototypeOf,e_=Object.prototype;function xq(t,e,r){if(typeof e!="string"){if(e_){var n=CL(e);n&&n!==e_&&xq(t,n,r)}var i=TL(e);J2&&(i=i.concat(J2(e)));for(var u=W2(t),s=W2(e),l=0;l<i.length;++l){var f=i[l];if(!(f in xL||r&&r[f]||s&&f in s||u&&f in u)){var d=_L(e,f);try{SL(t,f,d)}catch{}}}}return t}function tl(t){return typeof t=="function"}function Hx(t){return typeof t=="object"&&"styledComponentId"in t}function Ao(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function t_(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function Fc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function yx(t,e,r){if(r===void 0&&(r=!1),!r&&!Fc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=yx(t[n],e[n]);else if(Fc(e))for(var n in e)t[n]=yx(t[n],e[n]);return t}function Kx(t,e){Object.defineProperty(t,"toString",{value:e})}function Wc(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var AL=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,u=i;e>=u;)if((u<<=1)<0)throw Wc(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(n),this.length=u;for(var s=i;s<u;s++)this.groupSizes[s]=0}for(var l=this.indexOfGroup(e+1),f=(s=0,r.length);s<f;s++)this.tag.insertRule(l,r[s])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var u=n;u<i;u++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),u=i+n,s=i;s<u;s++)r+="".concat(this.tag.getRule(s)).concat(jx);return r},t})(),$d=new Map,vv=new Map,Xd=1,Rd=function(t){if($d.has(t))return $d.get(t);for(;vv.has(Xd);)Xd++;var e=Xd++;return $d.set(t,e),vv.set(e,t),e},RL=function(t,e){Xd=e+1,$d.set(t,e),vv.set(e,t)},DL="style[".concat(Js,"][").concat(hq,'="').concat(zv,'"]'),OL=new RegExp("^".concat(Js,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ML=function(t,e,r){for(var n,i=r.split(","),u=0,s=i.length;u<s;u++)(n=i[u])&&t.registerName(e,n)},BL=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(jx),i=[],u=0,s=n.length;u<s;u++){var l=n[u].trim();if(l){var f=l.match(OL);if(f){var d=0|parseInt(f[1],10),v=f[2];d!==0&&(RL(v,d),ML(t,v,f[3]),t.getTag().insertRules(d,i)),i.length=0}else i.push(l)}}},r_=function(t){for(var e=document.querySelectorAll(DL),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(Js)!==vq&&(BL(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function qL(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Eq=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=(function(l){var f=Array.from(l.querySelectorAll("style[".concat(Js,"]")));return f[f.length-1]})(r),u=i!==void 0?i.nextSibling:null;n.setAttribute(Js,vq),n.setAttribute(hq,zv);var s=qL();return s&&n.setAttribute("nonce",s),r.insertBefore(n,u),n},kL=(function(){function t(e){this.element=Eq(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,u=n.length;i<u;i++){var s=n[i];if(s.ownerNode===r)return s}throw Wc(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t})(),zL=(function(){function t(e){this.element=Eq(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),NL=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),n_=dv,LL={isServer:!dv,useCSSOMInjection:!dL},Sq=(function(){function t(e,r,n){e===void 0&&(e=el),r===void 0&&(r={});var i=this;this.options=oa(oa({},LL),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&dv&&n_&&(n_=!1,r_(this)),Kx(this,function(){return(function(u){for(var s=u.getTag(),l=s.length,f="",d=function(p){var g=(function(E){return vv.get(E)})(p);if(g===void 0)return"continue";var m=u.names.get(g),b=s.getGroup(p);if(m===void 0||!m.size||b.length===0)return"continue";var C="".concat(Js,".g").concat(p,'[id="').concat(g,'"]'),x="";m!==void 0&&m.forEach(function(E){E.length>0&&(x+="".concat(E,","))}),f+="".concat(b).concat(C,'{content:"').concat(x,'"}').concat(jx)},v=0;v<l;v++)d(v);return f})(i)})}return t.registerId=function(e){return Rd(e)},t.prototype.rehydrate=function(){!this.server&&dv&&r_(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(oa(oa({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new NL(i):n?new kL(i):new zL(i)})(this.options),new AL(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(Rd(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(Rd(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Rd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),PL=/&/g,IL=/^\s*\/\/.*$/gm;function Tq(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Tq(r.children,e)),r})}function UL(t){var e,r,n,i=el,u=i.options,s=u===void 0?el:u,l=i.plugins,f=l===void 0?Nv:l,d=function(g,m,b){return b.startsWith(r)&&b.endsWith(r)&&b.replaceAll(r,"").length>0?".".concat(e):g},v=f.slice();v.push(function(g){g.type===Mv&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(PL,r).replace(n,d))}),s.prefix&&v.push(cL),v.push(oL);var p=function(g,m,b,C){m===void 0&&(m=""),b===void 0&&(b=""),C===void 0&&(C="&"),e=C,r=m,n=new RegExp("\\".concat(r,"\\b"),"g");var x=g.replace(IL,""),E=iL(b||m?"".concat(b," ").concat(m," { ").concat(x," }"):x);s.namespace&&(E=Tq(E,s.namespace));var _=[];return fv(E,sL(v.concat(lL(function(A){return _.push(A)})))),_};return p.hash=f.length?f.reduce(function(g,m){return m.name||Wc(15),Vs(g,m.name)},gq).toString():"",p}var FL=new Sq,mx=UL(),_q=Zs.createContext({shouldForwardProp:void 0,styleSheet:FL,stylis:mx});_q.Consumer;Zs.createContext(void 0);function a_(){return Pn.useContext(_q)}var VL=(function(){function t(e,r){var n=this;this.inject=function(i,u){u===void 0&&(u=mx);var s=n.name+u.hash;i.hasNameForId(n.id,s)||i.insertRules(n.id,s,u(n.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,Kx(this,function(){throw Wc(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=mx),this.name+e.hash},t})(),GL=function(t){return t>="A"&&t<="Z"};function i_(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;GL(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var Cq=function(t){return t==null||t===!1||t===""},Aq=function(t){var e,r,n=[];for(var i in t){var u=t[i];t.hasOwnProperty(i)&&!Cq(u)&&(Array.isArray(u)&&u.isCss||tl(u)?n.push("".concat(i_(i),":"),u,";"):Fc(u)?n.push.apply(n,cv(cv(["".concat(i," {")],Aq(u),!1),["}"],!1)):n.push("".concat(i_(i),": ").concat((e=i,(r=u)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in fL||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Oo(t,e,r,n){if(Cq(t))return[];if(Hx(t))return[".".concat(t.styledComponentId)];if(tl(t)){if(!tl(u=t)||u.prototype&&u.prototype.isReactComponent||!e)return[t];var i=t(e);return Oo(i,e,r,n)}var u;return t instanceof VL?r?(t.inject(r,n),[t.getName(n)]):[t]:Fc(t)?Aq(t):Array.isArray(t)?Array.prototype.concat.apply(Nv,t.map(function(s){return Oo(s,e,r,n)})):[t.toString()]}function jL(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(tl(r)&&!Hx(r))return!1}return!0}var HL=yq(zv),KL=(function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&jL(e),this.componentId=r,this.baseHash=Vs(HL,r),this.baseStyle=n,Sq.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=Ao(i,this.staticRulesId);else{var u=t_(Oo(this.rules,e,r,n)),s=gx(Vs(this.baseHash,u)>>>0);if(!r.hasNameForId(this.componentId,s)){var l=n(u,".".concat(s),void 0,this.componentId);r.insertRules(this.componentId,s,l)}i=Ao(i,s),this.staticRulesId=s}else{for(var f=Vs(this.baseHash,n.hash),d="",v=0;v<this.rules.length;v++){var p=this.rules[v];if(typeof p=="string")d+=p;else if(p){var g=t_(Oo(p,e,r,n));f=Vs(f,g+v),d+=g}}if(d){var m=gx(f>>>0);r.hasNameForId(this.componentId,m)||r.insertRules(this.componentId,m,n(d,".".concat(m),void 0,this.componentId)),i=Ao(i,m)}}return i},t})(),Rq=Zs.createContext(void 0);Rq.Consumer;var mg={};function YL(t,e,r){var n=Hx(t),i=t,u=!yg(t),s=e.attrs,l=s===void 0?Nv:s,f=e.componentId,d=f===void 0?(function(R,M){var B=typeof R!="string"?"sc":Z2(R);mg[B]=(mg[B]||0)+1;var O="".concat(B,"-").concat(yL(zv+B+mg[B]));return M?"".concat(M,"-").concat(O):O})(e.displayName,e.parentComponentId):f,v=e.displayName,p=v===void 0?(function(R){return yg(R)?"styled.".concat(R):"Styled(".concat(mL(R),")")})(t):v,g=e.displayName&&e.componentId?"".concat(Z2(e.displayName),"-").concat(e.componentId):e.componentId||d,m=n&&i.attrs?i.attrs.concat(l).filter(Boolean):l,b=e.shouldForwardProp;if(n&&i.shouldForwardProp){var C=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;b=function(R,M){return C(R,M)&&x(R,M)}}else b=C}var E=new KL(r,g,n?i.componentStyle:void 0);function _(R,M){return(function(B,O,N){var L=B.attrs,P=B.componentStyle,I=B.defaultProps,V=B.foldedComponentIds,G=B.styledComponentId,Z=B.target,J=Zs.useContext(Rq),j=a_(),Y=B.shouldForwardProp||j.shouldForwardProp,W=vL(O,J,I)||el,oe=(function(ee,re,de){for(var ke,ie=oa(oa({},re),{className:void 0,theme:de}),he=0;he<ee.length;he+=1){var be=tl(ke=ee[he])?ke(ie):ke;for(var ge in be)ie[ge]=ge==="className"?Ao(ie[ge],be[ge]):ge==="style"?oa(oa({},ie[ge]),be[ge]):be[ge]}return re.className&&(ie.className=Ao(ie.className,re.className)),ie})(L,O,W),se=oe.as||Z,U={};for(var X in oe)oe[X]===void 0||X[0]==="$"||X==="as"||X==="theme"&&oe.theme===W||(X==="forwardedAs"?U.as=oe.forwardedAs:Y&&!Y(X,se)||(U[X]=oe[X]));var ue=(function(ee,re){var de=a_(),ke=ee.generateAndInjectStyles(re,de.styleSheet,de.stylis);return ke})(P,oe),$=Ao(V,G);return ue&&($+=" "+ue),oe.className&&($+=" "+oe.className),U[yg(se)&&!pq.has(se)?"class":"className"]=$,N&&(U.ref=N),Pn.createElement(se,U)})(A,R,M)}_.displayName=p;var A=Zs.forwardRef(_);return A.attrs=m,A.componentStyle=E,A.displayName=p,A.shouldForwardProp=b,A.foldedComponentIds=n?Ao(i.foldedComponentIds,i.styledComponentId):"",A.styledComponentId=g,A.target=n?i.target:t,Object.defineProperty(A,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(R){this._foldedDefaultProps=n?(function(M){for(var B=[],O=1;O<arguments.length;O++)B[O-1]=arguments[O];for(var N=0,L=B;N<L.length;N++)yx(M,L[N],!0);return M})({},i.defaultProps,R):R}}),Kx(A,function(){return".".concat(A.styledComponentId)}),u&&xq(A,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),A}function u_(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var o_=function(t){return Object.assign(t,{isCss:!0})};function $L(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(tl(t)||Fc(t))return o_(Oo(u_(Nv,cv([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?Oo(n):o_(Oo(u_(n,e)))}function bx(t,e,r){if(r===void 0&&(r=el),!e)throw Wc(1,e);var n=function(i){for(var u=[],s=1;s<arguments.length;s++)u[s-1]=arguments[s];return t(e,r,$L.apply(void 0,cv([i],u,!1)))};return n.attrs=function(i){return bx(t,e,oa(oa({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return bx(t,e,oa(oa({},r),i))},n}var Dq=function(t){return bx(YL,t)},wt=Dq;pq.forEach(function(t){wt[t]=Dq(t)});var Zd={exports:{}},XL=Zd.exports,s_;function ZL(){return s_||(s_=1,(function(t,e){(function(r,n){t.exports=n()})(XL,function(){var r=function(y,S){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,q){D.__proto__=q}||function(D,q){for(var z in q)Object.prototype.hasOwnProperty.call(q,z)&&(D[z]=q[z])})(y,S)},n=function(){return(n=Object.assign||function(y){for(var S,D=1,q=arguments.length;D<q;D++)for(var z in S=arguments[D])Object.prototype.hasOwnProperty.call(S,z)&&(y[z]=S[z]);return y}).apply(this,arguments)};function i(y,S,D){for(var q,z=0,F=S.length;z<F;z++)!q&&z in S||((q=q||Array.prototype.slice.call(S,0,z))[z]=S[z]);return y.concat(q||Array.prototype.slice.call(S))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Dc,s=Object.keys,l=Array.isArray;function f(y,S){return typeof S!="object"||s(S).forEach(function(D){y[D]=S[D]}),y}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var d=Object.getPrototypeOf,v={}.hasOwnProperty;function p(y,S){return v.call(y,S)}function g(y,S){typeof S=="function"&&(S=S(d(y))),(typeof Reflect>"u"?s:Reflect.ownKeys)(S).forEach(function(D){b(y,D,S[D])})}var m=Object.defineProperty;function b(y,S,D,q){m(y,S,f(D&&p(D,"get")&&typeof D.get=="function"?{get:D.get,set:D.set,configurable:!0}:{value:D,configurable:!0,writable:!0},q))}function C(y){return{from:function(S){return y.prototype=Object.create(S.prototype),b(y.prototype,"constructor",y),{extend:g.bind(null,y.prototype)}}}}var x=Object.getOwnPropertyDescriptor,E=[].slice;function _(y,S,D){return E.call(y,S,D)}function A(y,S){return S(y)}function R(y){if(!y)throw new Error("Assertion Failed")}function M(y){u.setImmediate?setImmediate(y):setTimeout(y,0)}function B(y,S){if(typeof S=="string"&&p(y,S))return y[S];if(!S)return y;if(typeof S!="string"){for(var D=[],q=0,z=S.length;q<z;++q){var F=B(y,S[q]);D.push(F)}return D}var Q=S.indexOf(".");if(Q!==-1){var te=y[S.substr(0,Q)];return te==null?void 0:B(te,S.substr(Q+1))}}function O(y,S,D){if(y&&S!==void 0&&!("isFrozen"in Object&&Object.isFrozen(y)))if(typeof S!="string"&&"length"in S){R(typeof D!="string"&&"length"in D);for(var q=0,z=S.length;q<z;++q)O(y,S[q],D[q])}else{var F,Q,te=S.indexOf(".");te!==-1?(F=S.substr(0,te),(Q=S.substr(te+1))===""?D===void 0?l(y)&&!isNaN(parseInt(F))?y.splice(F,1):delete y[F]:y[F]=D:O(te=!(te=y[F])||!p(y,F)?y[F]={}:te,Q,D)):D===void 0?l(y)&&!isNaN(parseInt(S))?y.splice(S,1):delete y[S]:y[S]=D}}function N(y){var S,D={};for(S in y)p(y,S)&&(D[S]=y[S]);return D}var L=[].concat;function P(y){return L.apply([],y)}var Dt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(P([8,16,32,64].map(function(y){return["Int","Uint","Float"].map(function(S){return S+y+"Array"})}))).filter(function(y){return u[y]}),I=new Set(Dt.map(function(y){return u[y]})),V=null;function G(y){return V=new WeakMap,y=(function S(D){if(!D||typeof D!="object")return D;var q=V.get(D);if(q)return q;if(l(D)){q=[],V.set(D,q);for(var z=0,F=D.length;z<F;++z)q.push(S(D[z]))}else if(I.has(D.constructor))q=D;else{var Q,te=d(D);for(Q in q=te===Object.prototype?{}:Object.create(te),V.set(D,q),D)p(D,Q)&&(q[Q]=S(D[Q]))}return q})(y),V=null,y}var Z={}.toString;function J(y){return Z.call(y).slice(8,-1)}var j=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Y=typeof j=="symbol"?function(y){var S;return y!=null&&(S=y[j])&&S.apply(y)}:function(){return null};function W(y,S){return S=y.indexOf(S),0<=S&&y.splice(S,1),0<=S}var oe={};function se(y){var S,D,q,z;if(arguments.length===1){if(l(y))return y.slice();if(this===oe&&typeof y=="string")return[y];if(z=Y(y)){for(D=[];!(q=z.next()).done;)D.push(q.value);return D}if(y==null)return[y];if(typeof(S=y.length)!="number")return[y];for(D=new Array(S);S--;)D[S]=y[S];return D}for(S=arguments.length,D=new Array(S);S--;)D[S]=arguments[S];return D}var U=typeof Symbol<"u"?function(y){return y[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},xt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Hn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(xt),X={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ue(y,S){this.name=y,this.message=S}function $(y,S){return y+". Errors: "+Object.keys(S).map(function(D){return S[D].toString()}).filter(function(D,q,z){return z.indexOf(D)===q}).join(`
`)}function ee(y,S,D,q){this.failures=S,this.failedKeys=q,this.successCount=D,this.message=$(y,S)}function re(y,S){this.name="BulkError",this.failures=Object.keys(S).map(function(D){return S[D]}),this.failuresByPos=S,this.message=$(y,this.failures)}C(ue).from(Error).extend({toString:function(){return this.name+": "+this.message}}),C(ee).from(ue),C(re).from(ue);var de=Hn.reduce(function(y,S){return y[S]=S+"Error",y},{}),ke=ue,ie=Hn.reduce(function(y,S){var D=S+"Error";function q(z,F){this.name=D,z?typeof z=="string"?(this.message="".concat(z).concat(F?`
 `+F:""),this.inner=F||null):typeof z=="object"&&(this.message="".concat(z.name," ").concat(z.message),this.inner=z):(this.message=X[S]||D,this.inner=null)}return C(q).from(ke),y[S]=q,y},{});ie.Syntax=SyntaxError,ie.Type=TypeError,ie.Range=RangeError;var he=xt.reduce(function(y,S){return y[S+"Error"]=ie[S],y},{}),be=Hn.reduce(function(y,S){return["Syntax","Type","Range"].indexOf(S)===-1&&(y[S+"Error"]=ie[S]),y},{});function ge(){}function Me(y){return y}function je(y,S){return y==null||y===Me?S:function(D){return S(y(D))}}function He(y,S){return function(){y.apply(this,arguments),S.apply(this,arguments)}}function Ct(y,S){return y===ge?S:function(){var D=y.apply(this,arguments);D!==void 0&&(arguments[0]=D);var q=this.onsuccess,z=this.onerror;this.onsuccess=null,this.onerror=null;var F=S.apply(this,arguments);return q&&(this.onsuccess=this.onsuccess?He(q,this.onsuccess):q),z&&(this.onerror=this.onerror?He(z,this.onerror):z),F!==void 0?F:D}}function Ze(y,S){return y===ge?S:function(){y.apply(this,arguments);var D=this.onsuccess,q=this.onerror;this.onsuccess=this.onerror=null,S.apply(this,arguments),D&&(this.onsuccess=this.onsuccess?He(D,this.onsuccess):D),q&&(this.onerror=this.onerror?He(q,this.onerror):q)}}function vt(y,S){return y===ge?S:function(D){var q=y.apply(this,arguments);f(D,q);var z=this.onsuccess,F=this.onerror;return this.onsuccess=null,this.onerror=null,D=S.apply(this,arguments),z&&(this.onsuccess=this.onsuccess?He(z,this.onsuccess):z),F&&(this.onerror=this.onerror?He(F,this.onerror):F),q===void 0?D===void 0?void 0:D:f(q,D)}}function ct(y,S){return y===ge?S:function(){return S.apply(this,arguments)!==!1&&y.apply(this,arguments)}}function Qe(y,S){return y===ge?S:function(){var D=y.apply(this,arguments);if(D&&typeof D.then=="function"){for(var q=this,z=arguments.length,F=new Array(z);z--;)F[z]=arguments[z];return D.then(function(){return S.apply(q,F)})}return S.apply(this,arguments)}}be.ModifyError=ee,be.DexieError=ue,be.BulkError=re;var tt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ot(y){tt=y}var st={},rt=100,Dt=typeof Promise>"u"?[]:(function(){var y=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[y,d(y),y];var S=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[S,d(S),y]})(),xt=Dt[0],Hn=Dt[1],Dt=Dt[2],Hn=Hn&&Hn.then,qt=xt&&xt.constructor,Mt=!!Dt,Pt=function(y,S){Pe.push([y,S]),at&&(queueMicrotask(zt),at=!1)},gt=!0,at=!0,Ne=[],K=[],we=Me,Oe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ge,pgp:!1,env:{},finalize:ge},pe=Oe,Pe=[],nt=0,Ge=[];function qe(y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var S=this._PSD=pe;if(typeof y!="function"){if(y!==st)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&_t(this,this._value))}this._state=null,this._value=null,++S.ref,(function D(q,z){try{z(function(F){if(q._state===null){if(F===q)throw new TypeError("A promise cannot be resolved with itself.");var Q=q._lib&&ir();F&&typeof F.then=="function"?D(q,function(te,le){F instanceof qe?F._then(te,le):F.then(te,le)}):(q._state=!0,q._value=F,At(q)),Q&&$t()}},_t.bind(null,q))}catch(F){_t(q,F)}})(this,y)}var it={get:function(){var y=pe,S=_n;function D(q,z){var F=this,Q=!y.global&&(y!==pe||S!==_n),te=Q&&!Nr(),le=new qe(function(ce,xe){lt(F,new pt(vi(q,y,Q,te),vi(z,y,Q,te),ce,xe,y))});return this._consoleTask&&(le._consoleTask=this._consoleTask),le}return D.prototype=st,D},set:function(y){b(this,"then",y&&y.prototype===st?it:{get:function(){return y},set:it.set})}};function pt(y,S,D,q,z){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof S=="function"?S:null,this.resolve=D,this.reject=q,this.psd=z}function _t(y,S){var D,q;K.push(S),y._state===null&&(D=y._lib&&ir(),S=we(S),y._state=!1,y._value=S,q=y,Ne.some(function(z){return z._value===q._value})||Ne.push(q),At(y),D&&$t())}function At(y){var S=y._listeners;y._listeners=[];for(var D=0,q=S.length;D<q;++D)lt(y,S[D]);var z=y._PSD;--z.ref||z.finalize(),nt===0&&(++nt,Pt(function(){--nt==0&&jr()},[]))}function lt(y,S){if(y._state!==null){var D=y._state?S.onFulfilled:S.onRejected;if(D===null)return(y._state?S.resolve:S.reject)(y._value);++S.psd.ref,++nt,Pt(It,[D,y,S])}else y._listeners.push(S)}function It(y,S,D){try{var q,z=S._value;!S._state&&K.length&&(K=[]),q=tt&&S._consoleTask?S._consoleTask.run(function(){return y(z)}):y(z),S._state||K.indexOf(z)!==-1||(function(F){for(var Q=Ne.length;Q;)if(Ne[--Q]._value===F._value)return Ne.splice(Q,1)})(S),D.resolve(q)}catch(F){D.reject(F)}finally{--nt==0&&jr(),--D.psd.ref||D.psd.finalize()}}function zt(){xr(Oe,function(){ir()&&$t()})}function ir(){var y=gt;return at=gt=!1,y}function $t(){var y,S,D;do for(;0<Pe.length;)for(y=Pe,Pe=[],D=y.length,S=0;S<D;++S){var q=y[S];q[0].apply(null,q[1])}while(0<Pe.length);at=gt=!0}function jr(){var y=Ne;Ne=[],y.forEach(function(q){q._PSD.onunhandled.call(null,q._value,q)});for(var S=Ge.slice(0),D=S.length;D;)S[--D]()}function dr(y){return new qe(st,!1,y)}function Bt(y,S){var D=pe;return function(){var q=ir(),z=pe;try{return Tr(D,!0),y.apply(this,arguments)}catch(F){S&&S(F)}finally{Tr(z,!1),q&&$t()}}}g(qe.prototype,{then:it,_then:function(y,S){lt(this,new pt(null,null,y,S,pe))},catch:function(y){if(arguments.length===1)return this.then(null,y);var S=y,D=arguments[1];return typeof S=="function"?this.then(null,function(q){return(q instanceof S?D:dr)(q)}):this.then(null,function(q){return(q&&q.name===S?D:dr)(q)})},finally:function(y){return this.then(function(S){return qe.resolve(y()).then(function(){return S})},function(S){return qe.resolve(y()).then(function(){return dr(S)})})},timeout:function(y,S){var D=this;return y<1/0?new qe(function(q,z){var F=setTimeout(function(){return z(new ie.Timeout(S))},y);D.then(q,z).finally(clearTimeout.bind(null,F))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(qe.prototype,Symbol.toStringTag,"Dexie.Promise"),Oe.env=Na(),g(qe,{all:function(){var y=se.apply(null,arguments).map(Lr);return new qe(function(S,D){y.length===0&&S([]);var q=y.length;y.forEach(function(z,F){return qe.resolve(z).then(function(Q){y[F]=Q,--q||S(y)},D)})})},resolve:function(y){return y instanceof qe?y:y&&typeof y.then=="function"?new qe(function(S,D){y.then(S,D)}):new qe(st,!0,y)},reject:dr,race:function(){var y=se.apply(null,arguments).map(Lr);return new qe(function(S,D){y.map(function(q){return qe.resolve(q).then(S,D)})})},PSD:{get:function(){return pe},set:function(y){return pe=y}},totalEchoes:{get:function(){return _n}},newPSD:Qt,usePSD:xr,scheduler:{get:function(){return Pt},set:function(y){Pt=y}},rejectionMapper:{get:function(){return we},set:function(y){we=y}},follow:function(y,S){return new qe(function(D,q){return Qt(function(z,F){var Q=pe;Q.unhandleds=[],Q.onunhandled=F,Q.finalize=He(function(){var te,le=this;te=function(){le.unhandleds.length===0?z():F(le.unhandleds[0])},Ge.push(function ce(){te(),Ge.splice(Ge.indexOf(ce),1)}),++nt,Pt(function(){--nt==0&&jr()},[])},Q.finalize),y()},S,D,q)})}}),qt&&(qt.allSettled&&b(qe,"allSettled",function(){var y=se.apply(null,arguments).map(Lr);return new qe(function(S){y.length===0&&S([]);var D=y.length,q=new Array(D);y.forEach(function(z,F){return qe.resolve(z).then(function(Q){return q[F]={status:"fulfilled",value:Q}},function(Q){return q[F]={status:"rejected",reason:Q}}).then(function(){return--D||S(q)})})})}),qt.any&&typeof AggregateError<"u"&&b(qe,"any",function(){var y=se.apply(null,arguments).map(Lr);return new qe(function(S,D){y.length===0&&D(new AggregateError([]));var q=y.length,z=new Array(q);y.forEach(function(F,Q){return qe.resolve(F).then(function(te){return S(te)},function(te){z[Q]=te,--q||D(new AggregateError(z))})})})}),qt.withResolvers&&(qe.withResolvers=qt.withResolvers));var Ut={awaits:0,echoes:0,id:0},zr=0,Tn=[],vr=0,_n=0,Yr=0;function Qt(y,S,D,q){var z=pe,F=Object.create(z);return F.parent=z,F.ref=0,F.global=!1,F.id=++Yr,Oe.env,F.env=Mt?{Promise:qe,PromiseProp:{value:qe,configurable:!0,writable:!0},all:qe.all,race:qe.race,allSettled:qe.allSettled,any:qe.any,resolve:qe.resolve,reject:qe.reject}:{},S&&f(F,S),++z.ref,F.finalize=function(){--this.parent.ref||this.parent.finalize()},q=xr(F,y,D,q),F.ref===0&&F.finalize(),q}function wr(){return Ut.id||(Ut.id=++zr),++Ut.awaits,Ut.echoes+=rt,Ut.id}function Nr(){return!!Ut.awaits&&(--Ut.awaits==0&&(Ut.id=0),Ut.echoes=Ut.awaits*rt,!0)}function Lr(y){return Ut.echoes&&y&&y.constructor===qt?(wr(),y.then(function(S){return Nr(),S},function(S){return Nr(),ur(S)})):y}function $r(){var y=Tn[Tn.length-1];Tn.pop(),Tr(y,!1)}function Tr(y,S){var D,q=pe;(S?!Ut.echoes||vr++&&y===pe:!vr||--vr&&y===pe)||queueMicrotask(S?(function(z){++_n,Ut.echoes&&--Ut.echoes!=0||(Ut.echoes=Ut.awaits=Ut.id=0),Tn.push(pe),Tr(z,!0)}).bind(null,y):$r),y!==pe&&(pe=y,q===Oe&&(Oe.env=Na()),Mt&&(D=Oe.env.Promise,S=y.env,(q.global||y.global)&&(Object.defineProperty(u,"Promise",S.PromiseProp),D.all=S.all,D.race=S.race,D.resolve=S.resolve,D.reject=S.reject,S.allSettled&&(D.allSettled=S.allSettled),S.any&&(D.any=S.any))))}function Na(){var y=u.Promise;return Mt?{Promise:y,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:y.all,race:y.race,allSettled:y.allSettled,any:y.any,resolve:y.resolve,reject:y.reject}:{}}function xr(y,S,D,q,z){var F=pe;try{return Tr(y,!0),S(D,q,z)}finally{Tr(F,!1)}}function vi(y,S,D,q){return typeof y!="function"?y:function(){var z=pe;D&&wr(),Tr(S,!0);try{return y.apply(this,arguments)}finally{Tr(z,!1),q&&queueMicrotask(Nr)}}}function ba(y){Promise===qt&&Ut.echoes===0?vr===0?y():enqueueNativeMicroTask(y):setTimeout(y,0)}(""+Hn).indexOf("[native code]")===-1&&(wr=Nr=ge);var ur=qe.reject,Vn="",hn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Pr="String expected.",La=[],hi="__dbnames",Cn="readonly",Zn="readwrite";function Qn(y,S){return y?S?function(){return y.apply(this,arguments)&&S.apply(this,arguments)}:y:S}var Xi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xa(y){return typeof y!="string"||/\./.test(y)?function(S){return S}:function(S){return S[y]===void 0&&y in S&&delete(S=G(S))[y],S}}function Vo(){throw ie.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Et(y,S){try{var D=Pa(y),q=Pa(S);if(D!==q)return D==="Array"?1:q==="Array"?-1:D==="binary"?1:q==="binary"?-1:D==="string"?1:q==="string"?-1:D==="Date"?1:q!=="Date"?NaN:-1;switch(D){case"number":case"Date":case"string":return S<y?1:y<S?-1:0;case"binary":return(function(z,F){for(var Q=z.length,te=F.length,le=Q<te?Q:te,ce=0;ce<le;++ce)if(z[ce]!==F[ce])return z[ce]<F[ce]?-1:1;return Q===te?0:Q<te?-1:1})(Gn(y),Gn(S));case"Array":return(function(z,F){for(var Q=z.length,te=F.length,le=Q<te?Q:te,ce=0;ce<le;++ce){var xe=Et(z[ce],F[ce]);if(xe!==0)return xe}return Q===te?0:Q<te?-1:1})(y,S)}}catch{}return NaN}function Pa(y){var S=typeof y;return S!="object"?S:ArrayBuffer.isView(y)?"binary":(y=J(y),y==="ArrayBuffer"?"binary":y)}function Gn(y){return y instanceof Uint8Array?y:ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):new Uint8Array(y)}function Ir(y,S,D){var q=y.schema.yProps;return q?(S&&0<D.numFailures&&(S=S.filter(function(z,F){return!D.failures[F]})),Promise.all(q.map(function(z){return z=z.updatesTable,S?y.db.table(z).where("k").anyOf(S).delete():y.db.table(z).clear()})).then(function(){return D})):D}var Xr=(Go.prototype.execute=function(y){var S=this["@@propmod"];if(S.add!==void 0){var D=S.add;if(l(D))return i(i([],l(y)?y:[],!0),D).sort();if(typeof D=="number")return(Number(y)||0)+D;if(typeof D=="bigint")try{return BigInt(y)+D}catch{return BigInt(0)+D}throw new TypeError("Invalid term ".concat(D))}if(S.remove!==void 0){var q=S.remove;if(l(q))return l(y)?y.filter(function(z){return!q.includes(z)}).sort():[];if(typeof q=="number")return Number(y)-q;if(typeof q=="bigint")try{return BigInt(y)-q}catch{return BigInt(0)-q}throw new TypeError("Invalid subtrahend ".concat(q))}return D=(D=S.replacePrefix)===null||D===void 0?void 0:D[0],D&&typeof y=="string"&&y.startsWith(D)?S.replacePrefix[1]+y.substring(D.length):y},Go);function Go(y){this["@@propmod"]=y}function Xu(y,S){for(var D=s(S),q=D.length,z=!1,F=0;F<q;++F){var Q=D[F],te=S[Q],le=B(y,Q);te instanceof Xr?(O(y,Q,te.execute(le)),z=!0):le!==te&&(O(y,Q,te),z=!0)}return z}var Zu=(nr.prototype._trans=function(y,S,D){var q=this._tx||pe.trans,z=this.name,F=tt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(y==="readonly"?"read":"write"," ").concat(this.name));function Q(ce,xe,ae){if(!ae.schema[z])throw new ie.NotFound("Table "+z+" not part of transaction");return S(ae.idbtrans,ae)}var te=ir();try{var le=q&&q.db._novip===this.db._novip?q===pe.trans?q._promise(y,Q,D):Qt(function(){return q._promise(y,Q,D)},{trans:q,transless:pe.transless||pe}):(function ce(xe,ae,Se,fe){if(xe.idbdb&&(xe._state.openComplete||pe.letThrough||xe._vip)){var ye=xe._createTransaction(ae,Se,xe._dbSchema);try{ye.create(),xe._state.PR1398_maxLoop=3}catch(me){return me.name===de.InvalidState&&xe.isOpen()&&0<--xe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),xe.close({disableAutoOpen:!1}),xe.open().then(function(){return ce(xe,ae,Se,fe)})):ur(me)}return ye._promise(ae,function(me,Ee){return Qt(function(){return pe.trans=ye,fe(me,Ee,ye)})}).then(function(me){if(ae==="readwrite")try{ye.idbtrans.commit()}catch{}return ae==="readonly"?me:ye._completion.then(function(){return me})})}if(xe._state.openComplete)return ur(new ie.DatabaseClosed(xe._state.dbOpenError));if(!xe._state.isBeingOpened){if(!xe._state.autoOpen)return ur(new ie.DatabaseClosed);xe.open().catch(ge)}return xe._state.dbReadyPromise.then(function(){return ce(xe,ae,Se,fe)})})(this.db,y,[this.name],Q);return F&&(le._consoleTask=F,le=le.catch(function(ce){return console.trace(ce),ur(ce)})),le}finally{te&&$t()}},nr.prototype.get=function(y,S){var D=this;return y&&y.constructor===Object?this.where(y).first(S):y==null?ur(new ie.Type("Invalid argument to Table.get()")):this._trans("readonly",function(q){return D.core.get({trans:q,key:y}).then(function(z){return D.hook.reading.fire(z)})}).then(S)},nr.prototype.where=function(y){if(typeof y=="string")return new this.db.WhereClause(this,y);if(l(y))return new this.db.WhereClause(this,"[".concat(y.join("+"),"]"));var S=s(y);if(S.length===1)return this.where(S[0]).equals(y[S[0]]);var D=this.schema.indexes.concat(this.schema.primKey).filter(function(te){if(te.compound&&S.every(function(ce){return 0<=te.keyPath.indexOf(ce)})){for(var le=0;le<S.length;++le)if(S.indexOf(te.keyPath[le])===-1)return!1;return!0}return!1}).sort(function(te,le){return te.keyPath.length-le.keyPath.length})[0];if(D&&this.db._maxKey!==Vn){var F=D.keyPath.slice(0,S.length);return this.where(F).equals(F.map(function(le){return y[le]}))}!D&&tt&&console.warn("The query ".concat(JSON.stringify(y)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(S.join("+"),"]"));var q=this.schema.idxByName;function z(te,le){return Et(te,le)===0}var Q=S.reduce(function(ae,le){var ce=ae[0],xe=ae[1],ae=q[le],Se=y[le];return[ce||ae,ce||!ae?Qn(xe,ae&&ae.multi?function(fe){return fe=B(fe,le),l(fe)&&fe.some(function(ye){return z(Se,ye)})}:function(fe){return z(Se,B(fe,le))}):xe]},[null,null]),F=Q[0],Q=Q[1];return F?this.where(F.name).equals(y[F.keyPath]).filter(Q):D?this.filter(Q):this.where(S).equals("")},nr.prototype.filter=function(y){return this.toCollection().and(y)},nr.prototype.count=function(y){return this.toCollection().count(y)},nr.prototype.offset=function(y){return this.toCollection().offset(y)},nr.prototype.limit=function(y){return this.toCollection().limit(y)},nr.prototype.each=function(y){return this.toCollection().each(y)},nr.prototype.toArray=function(y){return this.toCollection().toArray(y)},nr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},nr.prototype.orderBy=function(y){return new this.db.Collection(new this.db.WhereClause(this,l(y)?"[".concat(y.join("+"),"]"):y))},nr.prototype.reverse=function(){return this.toCollection().reverse()},nr.prototype.mapToClass=function(y){var S,D=this.db,q=this.name;function z(){return S!==null&&S.apply(this,arguments)||this}(this.schema.mappedClass=y).prototype instanceof Vo&&((function(le,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Class extends value "+String(ce)+" is not a constructor or null");function xe(){this.constructor=le}r(le,ce),le.prototype=ce===null?Object.create(ce):(xe.prototype=ce.prototype,new xe)})(z,S=y),Object.defineProperty(z.prototype,"db",{get:function(){return D},enumerable:!1,configurable:!0}),z.prototype.table=function(){return q},y=z);for(var F=new Set,Q=y.prototype;Q;Q=d(Q))Object.getOwnPropertyNames(Q).forEach(function(le){return F.add(le)});function te(le){if(!le)return le;var ce,xe=Object.create(y.prototype);for(ce in le)if(!F.has(ce))try{xe[ce]=le[ce]}catch{}return xe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=te,this.hook("reading",te),y},nr.prototype.defineClass=function(){return this.mapToClass(function(y){f(this,y)})},nr.prototype.add=function(y,S){var D=this,q=this.schema.primKey,z=q.auto,F=q.keyPath,Q=y;return F&&z&&(Q=Xa(F)(y)),this._trans("readwrite",function(te){return D.core.mutate({trans:te,type:"add",keys:S!=null?[S]:null,values:[Q]})}).then(function(te){return te.numFailures?qe.reject(te.failures[0]):te.lastResult}).then(function(te){if(F)try{O(y,F,te)}catch{}return te})},nr.prototype.upsert=function(y,S){var D=this,q=this.schema.primKey.keyPath;return this._trans("readwrite",function(z){return D.core.get({trans:z,key:y}).then(function(F){var Q=F??{};return Xu(Q,S),q&&O(Q,q,y),D.core.mutate({trans:z,type:"put",values:[Q],keys:[y],upsert:!0,updates:{keys:[y],changeSpecs:[S]}}).then(function(te){return te.numFailures?qe.reject(te.failures[0]):!!F})})})},nr.prototype.update=function(y,S){return typeof y!="object"||l(y)?this.where(":id").equals(y).modify(S):(y=B(y,this.schema.primKey.keyPath),y===void 0?ur(new ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(y).modify(S))},nr.prototype.put=function(y,S){var D=this,q=this.schema.primKey,z=q.auto,F=q.keyPath,Q=y;return F&&z&&(Q=Xa(F)(y)),this._trans("readwrite",function(te){return D.core.mutate({trans:te,type:"put",values:[Q],keys:S!=null?[S]:null})}).then(function(te){return te.numFailures?qe.reject(te.failures[0]):te.lastResult}).then(function(te){if(F)try{O(y,F,te)}catch{}return te})},nr.prototype.delete=function(y){var S=this;return this._trans("readwrite",function(D){return S.core.mutate({trans:D,type:"delete",keys:[y]}).then(function(q){return Ir(S,[y],q)}).then(function(q){return q.numFailures?qe.reject(q.failures[0]):void 0})})},nr.prototype.clear=function(){var y=this;return this._trans("readwrite",function(S){return y.core.mutate({trans:S,type:"deleteRange",range:Xi}).then(function(D){return Ir(y,null,D)})}).then(function(S){return S.numFailures?qe.reject(S.failures[0]):void 0})},nr.prototype.bulkGet=function(y){var S=this;return this._trans("readonly",function(D){return S.core.getMany({keys:y,trans:D}).then(function(q){return q.map(function(z){return S.hook.reading.fire(z)})})})},nr.prototype.bulkAdd=function(y,S,D){var q=this,z=Array.isArray(S)?S:void 0,F=(D=D||(z?void 0:S))?D.allKeys:void 0;return this._trans("readwrite",function(Q){var ce=q.schema.primKey,te=ce.auto,ce=ce.keyPath;if(ce&&z)throw new ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(z&&z.length!==y.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var le=y.length,ce=ce&&te?y.map(Xa(ce)):y;return q.core.mutate({trans:Q,type:"add",keys:z,values:ce,wantResults:F}).then(function(ye){var ae=ye.numFailures,Se=ye.results,fe=ye.lastResult,ye=ye.failures;if(ae===0)return F?Se:fe;throw new re("".concat(q.name,".bulkAdd(): ").concat(ae," of ").concat(le," operations failed"),ye)})})},nr.prototype.bulkPut=function(y,S,D){var q=this,z=Array.isArray(S)?S:void 0,F=(D=D||(z?void 0:S))?D.allKeys:void 0;return this._trans("readwrite",function(Q){var ce=q.schema.primKey,te=ce.auto,ce=ce.keyPath;if(ce&&z)throw new ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(z&&z.length!==y.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var le=y.length,ce=ce&&te?y.map(Xa(ce)):y;return q.core.mutate({trans:Q,type:"put",keys:z,values:ce,wantResults:F}).then(function(ye){var ae=ye.numFailures,Se=ye.results,fe=ye.lastResult,ye=ye.failures;if(ae===0)return F?Se:fe;throw new re("".concat(q.name,".bulkPut(): ").concat(ae," of ").concat(le," operations failed"),ye)})})},nr.prototype.bulkUpdate=function(y){var S=this,D=this.core,q=y.map(function(Q){return Q.key}),z=y.map(function(Q){return Q.changes}),F=[];return this._trans("readwrite",function(Q){return D.getMany({trans:Q,keys:q,cache:"clone"}).then(function(te){var le=[],ce=[];y.forEach(function(ae,Se){var fe=ae.key,ye=ae.changes,me=te[Se];if(me){for(var Ee=0,_e=Object.keys(ye);Ee<_e.length;Ee++){var Re=_e[Ee],Le=ye[Re];if(Re===S.schema.primKey.keyPath){if(Et(Le,fe)!==0)throw new ie.Constraint("Cannot update primary key in bulkUpdate()")}else O(me,Re,Le)}F.push(Se),le.push(fe),ce.push(me)}});var xe=le.length;return D.mutate({trans:Q,type:"put",keys:le,values:ce,updates:{keys:q,changeSpecs:z}}).then(function(ae){var Se=ae.numFailures,fe=ae.failures;if(Se===0)return xe;for(var ye=0,me=Object.keys(fe);ye<me.length;ye++){var Ee,_e=me[ye],Re=F[Number(_e)];Re!=null&&(Ee=fe[_e],delete fe[_e],fe[Re]=Ee)}throw new re("".concat(S.name,".bulkUpdate(): ").concat(Se," of ").concat(xe," operations failed"),fe)})})})},nr.prototype.bulkDelete=function(y){var S=this,D=y.length;return this._trans("readwrite",function(q){return S.core.mutate({trans:q,type:"delete",keys:y}).then(function(z){return Ir(S,y,z)})}).then(function(Q){var z=Q.numFailures,F=Q.lastResult,Q=Q.failures;if(z===0)return F;throw new re("".concat(S.name,".bulkDelete(): ").concat(z," of ").concat(D," operations failed"),Q)})},nr);function nr(){}function Qu(y){function S(Q,te){if(te){for(var le=arguments.length,ce=new Array(le-1);--le;)ce[le-1]=arguments[le];return D[Q].subscribe.apply(null,ce),y}if(typeof Q=="string")return D[Q]}var D={};S.addEventType=F;for(var q=1,z=arguments.length;q<z;++q)F(arguments[q]);return S;function F(Q,te,le){if(typeof Q!="object"){var ce;te=te||ct;var xe={subscribers:[],fire:le=le||ge,subscribe:function(ae){xe.subscribers.indexOf(ae)===-1&&(xe.subscribers.push(ae),xe.fire=te(xe.fire,ae))},unsubscribe:function(ae){xe.subscribers=xe.subscribers.filter(function(Se){return Se!==ae}),xe.fire=xe.subscribers.reduce(te,le)}};return D[Q]=S[Q]=xe}s(ce=Q).forEach(function(ae){var Se=ce[ae];if(l(Se))F(ae,ce[ae][0],ce[ae][1]);else{if(Se!=="asap")throw new ie.InvalidArgument("Invalid event config");var fe=F(ae,Me,function(){for(var ye=arguments.length,me=new Array(ye);ye--;)me[ye]=arguments[ye];fe.subscribers.forEach(function(Ee){M(function(){Ee.apply(null,me)})})})}})}}function pn(y,S){return C(S).from({prototype:y}),S}function Za(y,S){return!(y.filter||y.algorithm||y.or)&&(S?y.justLimit:!y.replayFilter)}function jo(y,S){y.filter=Qn(y.filter,S)}function Wu(y,S,D){var q=y.replayFilter;y.replayFilter=q?function(){return Qn(q(),S())}:S,y.justLimit=D&&!q}function Ia(y,S){if(y.isPrimKey)return S.primaryKey;var D=S.getIndexByKeyPath(y.index);if(!D)throw new ie.Schema("KeyPath "+y.index+" on object store "+S.name+" is not indexed");return D}function yl(y,S,D){var q=Ia(y,S.schema);return S.openCursor({trans:D,values:!y.keysOnly,reverse:y.dir==="prev",unique:!!y.unique,query:{index:q,range:y.range}})}function Ju(y,S,D,q){var z=y.replayFilter?Qn(y.filter,y.replayFilter()):y.filter;if(y.or){var F={},Q=function(te,le,ce){var xe,ae;z&&!z(le,ce,function(Se){return le.stop(Se)},function(Se){return le.fail(Se)})||((ae=""+(xe=le.primaryKey))=="[object ArrayBuffer]"&&(ae=""+new Uint8Array(xe)),p(F,ae)||(F[ae]=!0,S(te,le,ce)))};return Promise.all([y.or._iterate(Q,D),pi(yl(y,q,D),y.algorithm,Q,!y.keysOnly&&y.valueMapper)])}return pi(yl(y,q,D),Qn(y.algorithm,z),S,!y.keysOnly&&y.valueMapper)}function pi(y,S,D,q){var z=Bt(q?function(F,Q,te){return D(q(F),Q,te)}:D);return y.then(function(F){if(F)return F.start(function(){var Q=function(){return F.continue()};S&&!S(F,function(te){return Q=te},function(te){F.stop(te),Q=ge},function(te){F.fail(te),Q=ge})||z(F.value,F,function(te){return Q=te}),Q()})})}var mh=(Xt.prototype._read=function(y,S){var D=this._ctx;return D.error?D.table._trans(null,ur.bind(null,D.error)):D.table._trans("readonly",y).then(S)},Xt.prototype._write=function(y){var S=this._ctx;return S.error?S.table._trans(null,ur.bind(null,S.error)):S.table._trans("readwrite",y,"locked")},Xt.prototype._addAlgorithm=function(y){var S=this._ctx;S.algorithm=Qn(S.algorithm,y)},Xt.prototype._iterate=function(y,S){return Ju(this._ctx,y,S,this._ctx.table.core)},Xt.prototype.clone=function(y){var S=Object.create(this.constructor.prototype),D=Object.create(this._ctx);return y&&f(D,y),S._ctx=D,S},Xt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Xt.prototype.each=function(y){var S=this._ctx;return this._read(function(D){return Ju(S,y,D,S.table.core)})},Xt.prototype.count=function(y){var S=this;return this._read(function(D){var q=S._ctx,z=q.table.core;if(Za(q,!0))return z.count({trans:D,query:{index:Ia(q,z.schema),range:q.range}}).then(function(Q){return Math.min(Q,q.limit)});var F=0;return Ju(q,function(){return++F,!1},D,z).then(function(){return F})}).then(y)},Xt.prototype.sortBy=function(y,S){var D=y.split(".").reverse(),q=D[0],z=D.length-1;function F(le,ce){return ce?F(le[D[ce]],ce-1):le[q]}var Q=this._ctx.dir==="next"?1:-1;function te(le,ce){return Et(F(le,z),F(ce,z))*Q}return this.toArray(function(le){return le.sort(te)}).then(S)},Xt.prototype.toArray=function(y){var S=this;return this._read(function(D){var q=S._ctx;if(q.dir==="next"&&Za(q,!0)&&0<q.limit){var z=q.valueMapper,F=Ia(q,q.table.core.schema);return q.table.core.query({trans:D,limit:q.limit,values:!0,query:{index:F,range:q.range}}).then(function(te){return te=te.result,z?te.map(z):te})}var Q=[];return Ju(q,function(te){return Q.push(te)},D,q.table.core).then(function(){return Q})},y)},Xt.prototype.offset=function(y){var S=this._ctx;return y<=0||(S.offset+=y,Za(S)?Wu(S,function(){var D=y;return function(q,z){return D===0||(D===1?--D:z(function(){q.advance(D),D=0}),!1)}}):Wu(S,function(){var D=y;return function(){return--D<0}})),this},Xt.prototype.limit=function(y){return this._ctx.limit=Math.min(this._ctx.limit,y),Wu(this._ctx,function(){var S=y;return function(D,q,z){return--S<=0&&q(z),0<=S}},!0),this},Xt.prototype.until=function(y,S){return jo(this._ctx,function(D,q,z){return!y(D.value)||(q(z),S)}),this},Xt.prototype.first=function(y){return this.limit(1).toArray(function(S){return S[0]}).then(y)},Xt.prototype.last=function(y){return this.reverse().first(y)},Xt.prototype.filter=function(y){var S;return jo(this._ctx,function(D){return y(D.value)}),(S=this._ctx).isMatch=Qn(S.isMatch,y),this},Xt.prototype.and=function(y){return this.filter(y)},Xt.prototype.or=function(y){return new this.db.WhereClause(this._ctx.table,y,this)},Xt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Xt.prototype.desc=function(){return this.reverse()},Xt.prototype.eachKey=function(y){var S=this._ctx;return S.keysOnly=!S.isMatch,this.each(function(D,q){y(q.key,q)})},Xt.prototype.eachUniqueKey=function(y){return this._ctx.unique="unique",this.eachKey(y)},Xt.prototype.eachPrimaryKey=function(y){var S=this._ctx;return S.keysOnly=!S.isMatch,this.each(function(D,q){y(q.primaryKey,q)})},Xt.prototype.keys=function(y){var S=this._ctx;S.keysOnly=!S.isMatch;var D=[];return this.each(function(q,z){D.push(z.key)}).then(function(){return D}).then(y)},Xt.prototype.primaryKeys=function(y){var S=this._ctx;if(S.dir==="next"&&Za(S,!0)&&0<S.limit)return this._read(function(q){var z=Ia(S,S.table.core.schema);return S.table.core.query({trans:q,values:!1,limit:S.limit,query:{index:z,range:S.range}})}).then(function(q){return q.result}).then(y);S.keysOnly=!S.isMatch;var D=[];return this.each(function(q,z){D.push(z.primaryKey)}).then(function(){return D}).then(y)},Xt.prototype.uniqueKeys=function(y){return this._ctx.unique="unique",this.keys(y)},Xt.prototype.firstKey=function(y){return this.limit(1).keys(function(S){return S[0]}).then(y)},Xt.prototype.lastKey=function(y){return this.reverse().firstKey(y)},Xt.prototype.distinct=function(){var y=this._ctx,y=y.index&&y.table.schema.idxByName[y.index];if(!y||!y.multi)return this;var S={};return jo(this._ctx,function(z){var q=z.primaryKey.toString(),z=p(S,q);return S[q]=!0,!z}),this},Xt.prototype.modify=function(y){var S=this,D=this._ctx;return this._write(function(q){var z=typeof y=="function"?y:function(me){return Xu(me,y)},F=D.table.core,ce=F.schema.primaryKey,Q=ce.outbound,te=ce.extractKey,le=200,ce=S.db._options.modifyChunkSize;ce&&(le=typeof ce=="object"?ce[F.name]||ce["*"]||200:ce);function xe(me,Re){var _e=Re.failures,Re=Re.numFailures;Se+=me-Re;for(var Le=0,Fe=s(_e);Le<Fe.length;Le++){var $e=Fe[Le];ae.push(_e[$e])}}var ae=[],Se=0,fe=[],ye=y===ml;return S.clone().primaryKeys().then(function(me){function Ee(Re){var Le=Math.min(le,me.length-Re),Fe=me.slice(Re,Re+Le);return(ye?Promise.resolve([]):F.getMany({trans:q,keys:Fe,cache:"immutable"})).then(function($e){var Je=[],Ke=[],Xe=Q?[]:null,We=ye?Fe:[];if(!ye)for(var Ye=0;Ye<Le;++Ye){var ut=$e[Ye],mt={value:G(ut),primKey:me[Re+Ye]};z.call(mt,mt.value,mt)!==!1&&(mt.value==null?We.push(me[Re+Ye]):Q||Et(te(ut),te(mt.value))===0?(Ke.push(mt.value),Q&&Xe.push(me[Re+Ye])):(We.push(me[Re+Ye]),Je.push(mt.value)))}return Promise.resolve(0<Je.length&&F.mutate({trans:q,type:"add",values:Je}).then(function(Ot){for(var Nt in Ot.failures)We.splice(parseInt(Nt),1);xe(Je.length,Ot)})).then(function(){return(0<Ke.length||_e&&typeof y=="object")&&F.mutate({trans:q,type:"put",keys:Xe,values:Ke,criteria:_e,changeSpec:typeof y!="function"&&y,isAdditionalChunk:0<Re}).then(function(Ot){return xe(Ke.length,Ot)})}).then(function(){return(0<We.length||_e&&ye)&&F.mutate({trans:q,type:"delete",keys:We,criteria:_e,isAdditionalChunk:0<Re}).then(function(Ot){return Ir(D.table,We,Ot)}).then(function(Ot){return xe(We.length,Ot)})}).then(function(){return me.length>Re+Le&&Ee(Re+le)})})}var _e=Za(D)&&D.limit===1/0&&(typeof y!="function"||ye)&&{index:D.index,range:D.range};return Ee(0).then(function(){if(0<ae.length)throw new ee("Error modifying one or more objects",ae,Se,fe);return me.length})})})},Xt.prototype.delete=function(){var y=this._ctx,S=y.range;return!Za(y)||y.table.schema.yProps||!y.isPrimKey&&S.type!==3?this.modify(ml):this._write(function(D){var q=y.table.core.schema.primaryKey,z=S;return y.table.core.count({trans:D,query:{index:q,range:z}}).then(function(F){return y.table.core.mutate({trans:D,type:"deleteRange",range:z}).then(function(le){var te=le.failures,le=le.numFailures;if(le)throw new ee("Could not delete some values",Object.keys(te).map(function(ce){return te[ce]}),F-le);return F-le})})})},Xt);function Xt(){}var ml=function(y,S){return S.value=null};function bl(y,S){return y<S?-1:y===S?0:1}function bh(y,S){return S<y?-1:y===S?0:1}function jn(y,S,D){return y=y instanceof gi?new y.Collection(y):y,y._ctx.error=new(D||TypeError)(S),y}function Ua(y){return new y.Collection(y,function(){return Ho("")}).limit(0)}function Wn(y,S,D,q){var z,F,Q,te,le,ce,xe,ae=D.length;if(!D.every(function(ye){return typeof ye=="string"}))return jn(y,Pr);function Se(ye){z=ye==="next"?function(Ee){return Ee.toUpperCase()}:function(Ee){return Ee.toLowerCase()},F=ye==="next"?function(Ee){return Ee.toLowerCase()}:function(Ee){return Ee.toUpperCase()},Q=ye==="next"?bl:bh;var me=D.map(function(Ee){return{lower:F(Ee),upper:z(Ee)}}).sort(function(Ee,_e){return Q(Ee.lower,_e.lower)});te=me.map(function(Ee){return Ee.upper}),le=me.map(function(Ee){return Ee.lower}),xe=(ce=ye)==="next"?"":q}Se("next"),y=new y.Collection(y,function(){return wa(te[0],le[ae-1]+q)}),y._ondirectionchange=function(ye){Se(ye)};var fe=0;return y._addAlgorithm(function(ye,me,Ee){var _e=ye.key;if(typeof _e!="string")return!1;var Re=F(_e);if(S(Re,le,fe))return!0;for(var Le=null,Fe=fe;Fe<ae;++Fe){var $e=(function(Je,Ke,Xe,We,Ye,ut){for(var mt=Math.min(Je.length,We.length),Ot=-1,Nt=0;Nt<mt;++Nt){var mn=Ke[Nt];if(mn!==We[Nt])return Ye(Je[Nt],Xe[Nt])<0?Je.substr(0,Nt)+Xe[Nt]+Xe.substr(Nt+1):Ye(Je[Nt],We[Nt])<0?Je.substr(0,Nt)+We[Nt]+Xe.substr(Nt+1):0<=Ot?Je.substr(0,Ot)+Ke[Ot]+Xe.substr(Ot+1):null;Ye(Je[Nt],mn)<0&&(Ot=Nt)}return mt<We.length&&ut==="next"?Je+Xe.substr(Je.length):mt<Je.length&&ut==="prev"?Je.substr(0,Xe.length):Ot<0?null:Je.substr(0,Ot)+We[Ot]+Xe.substr(Ot+1)})(_e,Re,te[Fe],le[Fe],Q,ce);$e===null&&Le===null?fe=Fe+1:(Le===null||0<Q(Le,$e))&&(Le=$e)}return me(Le!==null?function(){ye.continue(Le+xe)}:Ee),!1}),y}function wa(y,S,D,q){return{type:2,lower:y,upper:S,lowerOpen:D,upperOpen:q}}function Ho(y){return{type:1,lower:y,upper:y}}var gi=(Object.defineProperty(_r.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),_r.prototype.between=function(y,S,D,q){D=D!==!1,q=q===!0;try{return 0<this._cmp(y,S)||this._cmp(y,S)===0&&(D||q)&&(!D||!q)?Ua(this):new this.Collection(this,function(){return wa(y,S,!D,!q)})}catch{return jn(this,hn)}},_r.prototype.equals=function(y){return y==null?jn(this,hn):new this.Collection(this,function(){return Ho(y)})},_r.prototype.above=function(y){return y==null?jn(this,hn):new this.Collection(this,function(){return wa(y,void 0,!0)})},_r.prototype.aboveOrEqual=function(y){return y==null?jn(this,hn):new this.Collection(this,function(){return wa(y,void 0,!1)})},_r.prototype.below=function(y){return y==null?jn(this,hn):new this.Collection(this,function(){return wa(void 0,y,!1,!0)})},_r.prototype.belowOrEqual=function(y){return y==null?jn(this,hn):new this.Collection(this,function(){return wa(void 0,y)})},_r.prototype.startsWith=function(y){return typeof y!="string"?jn(this,Pr):this.between(y,y+Vn,!0,!0)},_r.prototype.startsWithIgnoreCase=function(y){return y===""?this.startsWith(y):Wn(this,function(S,D){return S.indexOf(D[0])===0},[y],Vn)},_r.prototype.equalsIgnoreCase=function(y){return Wn(this,function(S,D){return S===D[0]},[y],"")},_r.prototype.anyOfIgnoreCase=function(){var y=se.apply(oe,arguments);return y.length===0?Ua(this):Wn(this,function(S,D){return D.indexOf(S)!==-1},y,"")},_r.prototype.startsWithAnyOfIgnoreCase=function(){var y=se.apply(oe,arguments);return y.length===0?Ua(this):Wn(this,function(S,D){return D.some(function(q){return S.indexOf(q)===0})},y,Vn)},_r.prototype.anyOf=function(){var y=this,S=se.apply(oe,arguments),D=this._cmp;try{S.sort(D)}catch{return jn(this,hn)}if(S.length===0)return Ua(this);var q=new this.Collection(this,function(){return wa(S[0],S[S.length-1])});q._ondirectionchange=function(F){D=F==="next"?y._ascending:y._descending,S.sort(D)};var z=0;return q._addAlgorithm(function(F,Q,te){for(var le=F.key;0<D(le,S[z]);)if(++z===S.length)return Q(te),!1;return D(le,S[z])===0||(Q(function(){F.continue(S[z])}),!1)}),q},_r.prototype.notEqual=function(y){return this.inAnyRange([[-1/0,y],[y,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},_r.prototype.noneOf=function(){var y=se.apply(oe,arguments);if(y.length===0)return new this.Collection(this);try{y.sort(this._ascending)}catch{return jn(this,hn)}var S=y.reduce(function(D,q){return D?D.concat([[D[D.length-1][1],q]]):[[-1/0,q]]},null);return S.push([y[y.length-1],this.db._maxKey]),this.inAnyRange(S,{includeLowers:!1,includeUppers:!1})},_r.prototype.inAnyRange=function(_e,S){var D=this,q=this._cmp,z=this._ascending,F=this._descending,Q=this._min,te=this._max;if(_e.length===0)return Ua(this);if(!_e.every(function(Re){return Re[0]!==void 0&&Re[1]!==void 0&&z(Re[0],Re[1])<=0}))return jn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ie.InvalidArgument);var le=!S||S.includeLowers!==!1,ce=S&&S.includeUppers===!0,xe,ae=z;function Se(Re,Le){return ae(Re[0],Le[0])}try{(xe=_e.reduce(function(Re,Le){for(var Fe=0,$e=Re.length;Fe<$e;++Fe){var Je=Re[Fe];if(q(Le[0],Je[1])<0&&0<q(Le[1],Je[0])){Je[0]=Q(Je[0],Le[0]),Je[1]=te(Je[1],Le[1]);break}}return Fe===$e&&Re.push(Le),Re},[])).sort(Se)}catch{return jn(this,hn)}var fe=0,ye=ce?function(Re){return 0<z(Re,xe[fe][1])}:function(Re){return 0<=z(Re,xe[fe][1])},me=le?function(Re){return 0<F(Re,xe[fe][0])}:function(Re){return 0<=F(Re,xe[fe][0])},Ee=ye,_e=new this.Collection(this,function(){return wa(xe[0][0],xe[xe.length-1][1],!le,!ce)});return _e._ondirectionchange=function(Re){ae=Re==="next"?(Ee=ye,z):(Ee=me,F),xe.sort(Se)},_e._addAlgorithm(function(Re,Le,Fe){for(var $e,Je=Re.key;Ee(Je);)if(++fe===xe.length)return Le(Fe),!1;return!ye($e=Je)&&!me($e)||(D._cmp(Je,xe[fe][1])===0||D._cmp(Je,xe[fe][0])===0||Le(function(){ae===z?Re.continue(xe[fe][0]):Re.continue(xe[fe][1])}),!1)}),_e},_r.prototype.startsWithAnyOf=function(){var y=se.apply(oe,arguments);return y.every(function(S){return typeof S=="string"})?y.length===0?Ua(this):this.inAnyRange(y.map(function(S){return[S,S+Vn]})):jn(this,"startsWithAnyOf() only works with strings")},_r);function _r(){}function ca(y){return Bt(function(S){return yi(S),y(S.target.error),!1})}function yi(y){y.stopPropagation&&y.stopPropagation(),y.preventDefault&&y.preventDefault()}var Zi="storagemutated",mi="x-storagemutated-1",gn=Qu(null,Zi),wl=(zn.prototype._lock=function(){return R(!pe.global),++this._reculock,this._reculock!==1||pe.global||(pe.lockOwnerFor=this),this},zn.prototype._unlock=function(){if(R(!pe.global),--this._reculock==0)for(pe.global||(pe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var y=this._blockedFuncs.shift();try{xr(y[1],y[0])}catch{}}return this},zn.prototype._locked=function(){return this._reculock&&pe.lockOwnerFor!==this},zn.prototype.create=function(y){var S=this;if(!this.mode)return this;var D=this.db.idbdb,q=this.db._state.dbOpenError;if(R(!this.idbtrans),!y&&!D)switch(q&&q.name){case"DatabaseClosedError":throw new ie.DatabaseClosed(q);case"MissingAPIError":throw new ie.MissingAPI(q.message,q);default:throw new ie.OpenFailed(q)}if(!this.active)throw new ie.TransactionInactive;return R(this._completion._state===null),(y=this.idbtrans=y||(this.db.core||D).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Bt(function(z){yi(z),S._reject(y.error)}),y.onabort=Bt(function(z){yi(z),S.active&&S._reject(new ie.Abort(y.error)),S.active=!1,S.on("abort").fire(z)}),y.oncomplete=Bt(function(){S.active=!1,S._resolve(),"mutatedParts"in y&&gn.storagemutated.fire(y.mutatedParts)}),this},zn.prototype._promise=function(y,S,D){var q=this;if(y==="readwrite"&&this.mode!=="readwrite")return ur(new ie.ReadOnly("Transaction is readonly"));if(!this.active)return ur(new ie.TransactionInactive);if(this._locked())return new qe(function(F,Q){q._blockedFuncs.push([function(){q._promise(y,S,D).then(F,Q)},pe])});if(D)return Qt(function(){var F=new qe(function(Q,te){q._lock();var le=S(Q,te,q);le&&le.then&&le.then(Q,te)});return F.finally(function(){return q._unlock()}),F._lib=!0,F});var z=new qe(function(F,Q){var te=S(F,Q,q);te&&te.then&&te.then(F,Q)});return z._lib=!0,z},zn.prototype._root=function(){return this.parent?this.parent._root():this},zn.prototype.waitFor=function(y){var S,D=this._root(),q=qe.resolve(y);D._waitingFor?D._waitingFor=D._waitingFor.then(function(){return q}):(D._waitingFor=q,D._waitingQueue=[],S=D.idbtrans.objectStore(D.storeNames[0]),(function F(){for(++D._spinCount;D._waitingQueue.length;)D._waitingQueue.shift()();D._waitingFor&&(S.get(-1/0).onsuccess=F)})());var z=D._waitingFor;return new qe(function(F,Q){q.then(function(te){return D._waitingQueue.push(Bt(F.bind(null,te)))},function(te){return D._waitingQueue.push(Bt(Q.bind(null,te)))}).finally(function(){D._waitingFor===z&&(D._waitingFor=null)})})},zn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ie.Abort))},zn.prototype.table=function(y){var S=this._memoizedTables||(this._memoizedTables={});if(p(S,y))return S[y];var D=this.schema[y];if(!D)throw new ie.NotFound("Table "+y+" not part of transaction");return D=new this.db.Table(y,D,this),D.core=this.db.core.table(y),S[y]=D},zn);function zn(){}function xa(y,S,D,q,z,F,Q,te){return{name:y,keyPath:S,unique:D,multi:q,auto:z,compound:F,src:(D&&!Q?"&":"")+(q?"*":"")+(z?"++":"")+Ko(S),type:te}}function Ko(y){return typeof y=="string"?y:y?"["+[].join.call(y,"+")+"]":""}function Qi(y,S,D){return{name:y,primKey:S,indexes:D,mappedClass:null,idxByName:(q=function(z){return[z.name,z]},D.reduce(function(z,F,Q){return Q=q(F,Q),Q&&(z[Q[0]]=Q[1]),z},{}))};var q}var Wi=function(y){try{return y.only([[]]),Wi=function(){return[[]]},[[]]}catch{return Wi=function(){return Vn},Vn}};function Ji(y){return y==null?function(){}:typeof y=="string"?(S=y).split(".").length===1?function(D){return D[S]}:function(D){return B(D,S)}:function(D){return B(D,y)};var S}function eo(y){return[].slice.call(y)}var yf=0;function Zr(y){return y==null?":id":typeof y=="string"?y:"[".concat(y.join("+"),"]")}function bi(y,S,le){function q(Ee){if(Ee.type===3)return null;if(Ee.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var fe=Ee.lower,ye=Ee.upper,me=Ee.lowerOpen,Ee=Ee.upperOpen;return fe===void 0?ye===void 0?null:S.upperBound(ye,!!Ee):ye===void 0?S.lowerBound(fe,!!me):S.bound(fe,ye,!!me,!!Ee)}function z(Se){var fe,ye=Se.name;return{name:ye,schema:Se,mutate:function(me){var Ee=me.trans,_e=me.type,Re=me.keys,Le=me.values,Fe=me.range;return new Promise(function($e,Je){$e=Bt($e);var Ke=Ee.objectStore(ye),Xe=Ke.keyPath==null,We=_e==="put"||_e==="add";if(!We&&_e!=="delete"&&_e!=="deleteRange")throw new Error("Invalid operation type: "+_e);var Ye,ut=(Re||Le||{length:1}).length;if(Re&&Le&&Re.length!==Le.length)throw new Error("Given keys array must have same length as given values array.");if(ut===0)return $e({numFailures:0,failures:{},results:[],lastResult:void 0});function mt(Wr){++mn,yi(Wr)}var Ot=[],Nt=[],mn=0;if(_e==="deleteRange"){if(Fe.type===4)return $e({numFailures:mn,failures:Nt,results:[],lastResult:void 0});Fe.type===3?Ot.push(Ye=Ke.clear()):Ot.push(Ye=Ke.delete(q(Fe)))}else{var Xe=We?Xe?[Le,Re]:[Le,null]:[Re,null],Rt=Xe[0],Qr=Xe[1];if(We)for(var Mr=0;Mr<ut;++Mr)Ot.push(Ye=Qr&&Qr[Mr]!==void 0?Ke[_e](Rt[Mr],Qr[Mr]):Ke[_e](Rt[Mr])),Ye.onerror=mt;else for(Mr=0;Mr<ut;++Mr)Ot.push(Ye=Ke[_e](Rt[Mr])),Ye.onerror=mt}function oo(Wr){Wr=Wr.target.result,Ot.forEach(function(Jn,kl){return Jn.error!=null&&(Nt[kl]=Jn.error)}),$e({numFailures:mn,failures:Nt,results:_e==="delete"?Re:Ot.map(function(Jn){return Jn.result}),lastResult:Wr})}Ye.onerror=function(Wr){mt(Wr),oo(Wr)},Ye.onsuccess=oo})},getMany:function(me){var Ee=me.trans,_e=me.keys;return new Promise(function(Re,Le){Re=Bt(Re);for(var Fe,$e=Ee.objectStore(ye),Je=_e.length,Ke=new Array(Je),Xe=0,We=0,Ye=function(Ot){Ot=Ot.target,Ke[Ot._pos]=Ot.result,++We===Xe&&Re(Ke)},ut=ca(Le),mt=0;mt<Je;++mt)_e[mt]!=null&&((Fe=$e.get(_e[mt]))._pos=mt,Fe.onsuccess=Ye,Fe.onerror=ut,++Xe);Xe===0&&Re(Ke)})},get:function(me){var Ee=me.trans,_e=me.key;return new Promise(function(Re,Le){Re=Bt(Re);var Fe=Ee.objectStore(ye).get(_e);Fe.onsuccess=function($e){return Re($e.target.result)},Fe.onerror=ca(Le)})},query:(fe=ce,function(me){return new Promise(function(Ee,_e){Ee=Bt(Ee);var Re,Le,Fe,Xe=me.trans,$e=me.values,Je=me.limit,Ye=me.query,Ke=Je===1/0?void 0:Je,We=Ye.index,Ye=Ye.range,Xe=Xe.objectStore(ye),We=We.isPrimaryKey?Xe:Xe.index(We.name),Ye=q(Ye);if(Je===0)return Ee({result:[]});fe?((Ke=$e?We.getAll(Ye,Ke):We.getAllKeys(Ye,Ke)).onsuccess=function(ut){return Ee({result:ut.target.result})},Ke.onerror=ca(_e)):(Re=0,Le=!$e&&"openKeyCursor"in We?We.openKeyCursor(Ye):We.openCursor(Ye),Fe=[],Le.onsuccess=function(ut){var mt=Le.result;return mt?(Fe.push($e?mt.value:mt.primaryKey),++Re===Je?Ee({result:Fe}):void mt.continue()):Ee({result:Fe})},Le.onerror=ca(_e))})}),openCursor:function(me){var Ee=me.trans,_e=me.values,Re=me.query,Le=me.reverse,Fe=me.unique;return new Promise(function($e,Je){$e=Bt($e);var We=Re.index,Ke=Re.range,Xe=Ee.objectStore(ye),Xe=We.isPrimaryKey?Xe:Xe.index(We.name),We=Le?Fe?"prevunique":"prev":Fe?"nextunique":"next",Ye=!_e&&"openKeyCursor"in Xe?Xe.openKeyCursor(q(Ke),We):Xe.openCursor(q(Ke),We);Ye.onerror=ca(Je),Ye.onsuccess=Bt(function(ut){var mt,Ot,Nt,mn,Rt=Ye.result;Rt?(Rt.___id=++yf,Rt.done=!1,mt=Rt.continue.bind(Rt),Ot=(Ot=Rt.continuePrimaryKey)&&Ot.bind(Rt),Nt=Rt.advance.bind(Rt),mn=function(){throw new Error("Cursor not stopped")},Rt.trans=Ee,Rt.stop=Rt.continue=Rt.continuePrimaryKey=Rt.advance=function(){throw new Error("Cursor not started")},Rt.fail=Bt(Je),Rt.next=function(){var Qr=this,Mr=1;return this.start(function(){return Mr--?Qr.continue():Qr.stop()}).then(function(){return Qr})},Rt.start=function(Qr){function Mr(){if(Ye.result)try{Qr()}catch(Wr){Rt.fail(Wr)}else Rt.done=!0,Rt.start=function(){throw new Error("Cursor behind last entry")},Rt.stop()}var oo=new Promise(function(Wr,Jn){Wr=Bt(Wr),Ye.onerror=ca(Jn),Rt.fail=Jn,Rt.stop=function(kl){Rt.stop=Rt.continue=Rt.continuePrimaryKey=Rt.advance=mn,Wr(kl)}});return Ye.onsuccess=Bt(function(Wr){Ye.onsuccess=Mr,Mr()}),Rt.continue=mt,Rt.continuePrimaryKey=Ot,Rt.advance=Nt,Mr(),oo},$e(Rt)):$e(null)},Je)})},count:function(me){var Ee=me.query,_e=me.trans,Re=Ee.index,Le=Ee.range;return new Promise(function(Fe,$e){var Je=_e.objectStore(ye),Ke=Re.isPrimaryKey?Je:Je.index(Re.name),Je=q(Le),Ke=Je?Ke.count(Je):Ke.count();Ke.onsuccess=Bt(function(Xe){return Fe(Xe.target.result)}),Ke.onerror=ca($e)})}}}var F,Q,te,xe=(Q=le,te=eo((F=y).objectStoreNames),{schema:{name:F.name,tables:te.map(function(Se){return Q.objectStore(Se)}).map(function(Se){var fe=Se.keyPath,Ee=Se.autoIncrement,ye=l(fe),me={},Ee={name:Se.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:fe==null,compound:ye,keyPath:fe,autoIncrement:Ee,unique:!0,extractKey:Ji(fe)},indexes:eo(Se.indexNames).map(function(_e){return Se.index(_e)}).map(function(Fe){var Re=Fe.name,Le=Fe.unique,$e=Fe.multiEntry,Fe=Fe.keyPath,$e={name:Re,compound:l(Fe),keyPath:Fe,unique:Le,multiEntry:$e,extractKey:Ji(Fe)};return me[Zr(Fe)]=$e}),getIndexByKeyPath:function(_e){return me[Zr(_e)]}};return me[":id"]=Ee.primaryKey,fe!=null&&(me[Zr(fe)]=Ee.primaryKey),Ee})},hasGetAll:0<te.length&&"getAll"in Q.objectStore(te[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),le=xe.schema,ce=xe.hasGetAll,xe=le.tables.map(z),ae={};return xe.forEach(function(Se){return ae[Se.name]=Se}),{stack:"dbcore",transaction:y.transaction.bind(y),table:function(Se){if(!ae[Se])throw new Error("Table '".concat(Se,"' not found"));return ae[Se]},MIN_KEY:-1/0,MAX_KEY:Wi(S),schema:le}}function Yo(y,S,D,q){var z=D.IDBKeyRange;return D.indexedDB,{dbcore:(q=bi(S,z,q),y.dbcore.reduce(function(F,Q){return Q=Q.create,n(n({},F),Q(F))},q))}}function Qa(y,q){var D=q.db,q=Yo(y._middlewares,D,y._deps,q);y.core=q.dbcore,y.tables.forEach(function(z){var F=z.name;y.core.schema.tables.some(function(Q){return Q.name===F})&&(z.core=y.core.table(F),y[F]instanceof y.Table&&(y[F].core=z.core))})}function $o(y,S,D,q){D.forEach(function(z){var F=q[z];S.forEach(function(Q){var te=(function le(ce,xe){return x(ce,xe)||(ce=d(ce))&&le(ce,xe)})(Q,z);(!te||"value"in te&&te.value===void 0)&&(Q===y.Transaction.prototype||Q instanceof y.Transaction?b(Q,z,{get:function(){return this.table(z)},set:function(le){m(this,z,{value:le,writable:!0,configurable:!0,enumerable:!0})}}):Q[z]=new y.Table(z,F))})})}function to(y,S){S.forEach(function(D){for(var q in D)D[q]instanceof y.Table&&delete D[q]})}function xl(y,S){return y._cfg.version-S._cfg.version}function ro(y,S,D,q){var z=y._dbSchema;D.objectStoreNames.contains("$meta")&&!z.$meta&&(z.$meta=Qi("$meta",bf("")[0],[]),y._storeNames.push("$meta"));var F=y._createTransaction("readwrite",y._storeNames,z);F.create(D),F._completion.catch(q);var Q=F._reject.bind(F),te=pe.transless||pe;Qt(function(){return pe.trans=F,pe.transless=te,S!==0?(Qa(y,D),ce=S,((le=F).storeNames.includes("$meta")?le.table("$meta").get("version").then(function(xe){return xe??ce}):qe.resolve(ce)).then(function(xe){return Se=xe,fe=F,ye=D,me=[],xe=(ae=y)._versions,Ee=ae._dbSchema=eu(0,ae.idbdb,ye),(xe=xe.filter(function(_e){return _e._cfg.version>=Se})).length!==0?(xe.forEach(function(_e){me.push(function(){var Re=Ee,Le=_e._cfg.dbschema;Wo(ae,Re,ye),Wo(ae,Le,ye),Ee=ae._dbSchema=Le;var Fe=Zo(Re,Le);Fe.add.forEach(function(We){El(ye,We[0],We[1].primKey,We[1].indexes)}),Fe.change.forEach(function(We){if(We.recreate)throw new ie.Upgrade("Not yet support for changing primary key");var Ye=ye.objectStore(We.name);We.add.forEach(function(ut){return Qo(Ye,ut)}),We.change.forEach(function(ut){Ye.deleteIndex(ut.name),Qo(Ye,ut)}),We.del.forEach(function(ut){return Ye.deleteIndex(ut)})});var $e=_e._cfg.contentUpgrade;if($e&&_e._cfg.version>Se){Qa(ae,ye),fe._memoizedTables={};var Je=N(Le);Fe.del.forEach(function(We){Je[We]=Re[We]}),to(ae,[ae.Transaction.prototype]),$o(ae,[ae.Transaction.prototype],s(Je),Je),fe.schema=Je;var Ke,Xe=U($e);return Xe&&wr(),Fe=qe.follow(function(){var We;(Ke=$e(fe))&&Xe&&(We=Nr.bind(null,null),Ke.then(We,We))}),Ke&&typeof Ke.then=="function"?qe.resolve(Ke):Fe.then(function(){return Ke})}}),me.push(function(Re){var Le,Fe,$e=_e._cfg.dbschema;Le=$e,Fe=Re,[].slice.call(Fe.db.objectStoreNames).forEach(function(Je){return Le[Je]==null&&Fe.db.deleteObjectStore(Je)}),to(ae,[ae.Transaction.prototype]),$o(ae,[ae.Transaction.prototype],ae._storeNames,ae._dbSchema),fe.schema=ae._dbSchema}),me.push(function(Re){ae.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ae.idbdb.version/10)===_e._cfg.version?(ae.idbdb.deleteObjectStore("$meta"),delete ae._dbSchema.$meta,ae._storeNames=ae._storeNames.filter(function(Le){return Le!=="$meta"})):Re.objectStore("$meta").put(_e._cfg.version,"version"))})}),(function _e(){return me.length?qe.resolve(me.shift()(fe.idbtrans)).then(_e):qe.resolve()})().then(function(){mf(Ee,ye)})):qe.resolve();var ae,Se,fe,ye,me,Ee}).catch(Q)):(s(z).forEach(function(xe){El(D,xe,z[xe].primKey,z[xe].indexes)}),Qa(y,D),void qe.follow(function(){return y.on.populate.fire(F)}).catch(Q));var le,ce})}function Xo(y,S){mf(y._dbSchema,S),S.db.version%10!=0||S.objectStoreNames.contains("$meta")||S.db.createObjectStore("$meta").add(Math.ceil(S.db.version/10-1),"version");var D=eu(0,y.idbdb,S);Wo(y,y._dbSchema,S);for(var q=0,z=Zo(D,y._dbSchema).change;q<z.length;q++){var F=(function(Q){if(Q.change.length||Q.recreate)return console.warn("Unable to patch indexes of table ".concat(Q.name," because it has changes on the type of index or primary key.")),{value:void 0};var te=S.objectStore(Q.name);Q.add.forEach(function(le){tt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Q.name,".").concat(le.src)),Qo(te,le)})})(z[q]);if(typeof F=="object")return F.value}}function Zo(y,S){var D,q={del:[],add:[],change:[]};for(D in y)S[D]||q.del.push(D);for(D in S){var z=y[D],F=S[D];if(z){var Q={name:D,def:F,recreate:!1,del:[],add:[],change:[]};if(""+(z.primKey.keyPath||"")!=""+(F.primKey.keyPath||"")||z.primKey.auto!==F.primKey.auto)Q.recreate=!0,q.change.push(Q);else{var te=z.idxByName,le=F.idxByName,ce=void 0;for(ce in te)le[ce]||Q.del.push(ce);for(ce in le){var xe=te[ce],ae=le[ce];xe?xe.src!==ae.src&&Q.change.push(ae):Q.add.push(ae)}(0<Q.del.length||0<Q.add.length||0<Q.change.length)&&q.change.push(Q)}}else q.add.push([D,F])}return q}function El(y,S,D,q){var z=y.db.createObjectStore(S,D.keyPath?{keyPath:D.keyPath,autoIncrement:D.auto}:{autoIncrement:D.auto});return q.forEach(function(F){return Qo(z,F)}),z}function mf(y,S){s(y).forEach(function(D){S.db.objectStoreNames.contains(D)||(tt&&console.debug("Dexie: Creating missing table",D),El(S,D,y[D].primKey,y[D].indexes))})}function Qo(y,S){y.createIndex(S.name,S.keyPath,{unique:S.unique,multiEntry:S.multi})}function eu(y,S,D){var q={};return _(S.objectStoreNames,0).forEach(function(z){for(var F=D.objectStore(z),Q=xa(Ko(ce=F.keyPath),ce||"",!0,!1,!!F.autoIncrement,ce&&typeof ce!="string",!0),te=[],le=0;le<F.indexNames.length;++le){var xe=F.index(F.indexNames[le]),ce=xe.keyPath,xe=xa(xe.name,ce,!!xe.unique,!!xe.multiEntry,!1,ce&&typeof ce!="string",!1);te.push(xe)}q[z]=Qi(z,Q,te)}),q}function Wo(y,S,D){for(var q=D.db.objectStoreNames,z=0;z<q.length;++z){var F=q[z],Q=D.objectStore(F);y._hasGetAll="getAll"in Q;for(var te=0;te<Q.indexNames.length;++te){var le=Q.indexNames[te],ce=Q.index(le).keyPath,xe=typeof ce=="string"?ce:"["+_(ce).join("+")+"]";!S[F]||(ce=S[F].idxByName[xe])&&(ce.name=le,delete S[F].idxByName[xe],S[F].idxByName[le]=ce)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(y._hasGetAll=!1)}function bf(y){return y.split(",").map(function(S,D){var F=S.split(":"),q=(z=F[1])===null||z===void 0?void 0:z.trim(),z=(S=F[0].trim()).replace(/([&*]|\+\+)/g,""),F=/^\[/.test(z)?z.match(/^\[(.*)\]$/)[1].split("+"):z;return xa(z,F||null,/\&/.test(S),/\*/.test(S),/\+\+/.test(S),l(F),D===0,q)})}var wh=(tu.prototype._createTableSchema=Qi,tu.prototype._parseIndexSyntax=bf,tu.prototype._parseStoresSpec=function(y,S){var D=this;s(y).forEach(function(q){if(y[q]!==null){var z=D._parseIndexSyntax(y[q]),F=z.shift();if(!F)throw new ie.Schema("Invalid schema for table "+q+": "+y[q]);if(F.unique=!0,F.multi)throw new ie.Schema("Primary key cannot be multiEntry*");z.forEach(function(Q){if(Q.auto)throw new ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!Q.keyPath)throw new ie.Schema("Index must have a name and cannot be an empty string")}),z=D._createTableSchema(q,F,z),S[q]=z}})},tu.prototype.stores=function(D){var S=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,D):D;var D=S._versions,q={},z={};return D.forEach(function(F){f(q,F._cfg.storesSource),z=F._cfg.dbschema={},F._parseStoresSpec(q,z)}),S._dbSchema=z,to(S,[S._allTables,S,S.Transaction.prototype]),$o(S,[S._allTables,S,S.Transaction.prototype,this._cfg.tables],s(z),z),S._storeNames=s(z),this},tu.prototype.upgrade=function(y){return this._cfg.contentUpgrade=Qe(this._cfg.contentUpgrade||ge,y),this},tu);function tu(){}function Sl(y,S){var D=y._dbNamesDB;return D||(D=y._dbNamesDB=new Ea(hi,{addons:[],indexedDB:y,IDBKeyRange:S})).version(1).stores({dbnames:"name"}),D.table("dbnames")}function Jo(y){return y&&typeof y.databases=="function"}function Tl(y){return Qt(function(){return pe.letThrough=!0,y()})}function _l(y){return!("from"in y)}var yn=function(y,S){if(!this){var D=new yn;return y&&"d"in y&&f(D,y),D}f(this,arguments.length?{d:1,from:y,to:1<arguments.length?S:y}:{d:0})};function no(y,S,D){var q=Et(S,D);if(!isNaN(q)){if(0<q)throw RangeError();if(_l(y))return f(y,{from:S,to:D,d:1});var z=y.l,q=y.r;if(Et(D,y.from)<0)return z?no(z,S,D):y.l={from:S,to:D,d:1,l:null,r:null},xf(y);if(0<Et(S,y.to))return q?no(q,S,D):y.r={from:S,to:D,d:1,l:null,r:null},xf(y);Et(S,y.from)<0&&(y.from=S,y.l=null,y.d=q?q.d+1:1),0<Et(D,y.to)&&(y.to=D,y.r=null,y.d=y.l?y.l.d+1:1),D=!y.r,z&&!y.l&&wi(y,z),q&&D&&wi(y,q)}}function wi(y,S){_l(S)||(function D(q,le){var F=le.from,Q=le.to,te=le.l,le=le.r;no(q,F,Q),te&&D(q,te),le&&D(q,le)})(y,S)}function wf(y,S){var D=es(S),q=D.next();if(q.done)return!1;for(var z=q.value,F=es(y),Q=F.next(z.from),te=Q.value;!q.done&&!Q.done;){if(Et(te.from,z.to)<=0&&0<=Et(te.to,z.from))return!0;Et(z.from,te.from)<0?z=(q=D.next(te.from)).value:te=(Q=F.next(z.from)).value}return!1}function es(y){var S=_l(y)?null:{s:0,n:y};return{next:function(D){for(var q=0<arguments.length;S;)switch(S.s){case 0:if(S.s=1,q)for(;S.n.l&&Et(D,S.n.from)<0;)S={up:S,n:S.n.l,s:1};else for(;S.n.l;)S={up:S,n:S.n.l,s:1};case 1:if(S.s=2,!q||Et(D,S.n.to)<=0)return{value:S.n,done:!1};case 2:if(S.n.r){S.s=3,S={up:S,n:S.n.r,s:0};continue}case 3:S=S.up}return{done:!0}}}}function xf(y){var S,D,q=(((S=y.r)===null||S===void 0?void 0:S.d)||0)-(((D=y.l)===null||D===void 0?void 0:D.d)||0),z=1<q?"r":q<-1?"l":"";z&&(S=z=="r"?"l":"r",D=n({},y),q=y[z],y.from=q.from,y.to=q.to,y[z]=q[z],D[z]=q[S],(y[S]=D).d=Cl(D)),y.d=Cl(y)}function Cl(D){var S=D.r,D=D.l;return(S?D?Math.max(S.d,D.d):S.d:D?D.d:0)+1}function ts(y,S){return s(S).forEach(function(D){y[D]?wi(y[D],S[D]):y[D]=(function q(z){var F,Q,te={};for(F in z)p(z,F)&&(Q=z[F],te[F]=!Q||typeof Q!="object"||I.has(Q.constructor)?Q:q(Q));return te})(S[D])}),y}function Al(y,S){return y.all||S.all||Object.keys(y).some(function(D){return S[D]&&wf(S[D],y[D])})}g(yn.prototype,((Hn={add:function(y){return wi(this,y),this},addKey:function(y){return no(this,y,y),this},addKeys:function(y){var S=this;return y.forEach(function(D){return no(S,D,D)}),this},hasKey:function(y){var S=es(this).next(y).value;return S&&Et(S.from,y)<=0&&0<=Et(S.to,y)}})[j]=function(){return es(this)},Hn));var xi={},Rl={},Dl=!1;function rs(y){ts(Rl,y),Dl||(Dl=!0,setTimeout(function(){Dl=!1,Ol(Rl,!(Rl={}))},0))}function Ol(y,S){S===void 0&&(S=!1);var D=new Set;if(y.all)for(var q=0,z=Object.values(xi);q<z.length;q++)Ef(Q=z[q],y,D,S);else for(var F in y){var Q,te=/^idb\:\/\/(.*)\/(.*)\//.exec(F);te&&(F=te[1],te=te[2],(Q=xi["idb://".concat(F,"/").concat(te)])&&Ef(Q,y,D,S))}D.forEach(function(le){return le()})}function Ef(y,S,D,q){for(var z=[],F=0,Q=Object.entries(y.queries.query);F<Q.length;F++){for(var te=Q[F],le=te[0],ce=[],xe=0,ae=te[1];xe<ae.length;xe++){var Se=ae[xe];Al(S,Se.obsSet)?Se.subscribers.forEach(function(Ee){return D.add(Ee)}):q&&ce.push(Se)}q&&z.push([le,ce])}if(q)for(var fe=0,ye=z;fe<ye.length;fe++){var me=ye[fe],le=me[0],ce=me[1];y.queries.query[le]=ce}}function xh(y){var S=y._state,D=y._deps.indexedDB;if(S.isBeingOpened||y.idbdb)return S.dbReadyPromise.then(function(){return S.dbOpenError?ur(S.dbOpenError):y});S.isBeingOpened=!0,S.dbOpenError=null,S.openComplete=!1;var q=S.openCanceller,z=Math.round(10*y.verno),F=!1;function Q(){if(S.openCanceller!==q)throw new ie.DatabaseClosed("db.open() was cancelled")}function te(){return new qe(function(Se,fe){if(Q(),!D)throw new ie.MissingAPI;var ye=y.name,me=S.autoSchema||!z?D.open(ye):D.open(ye,z);if(!me)throw new ie.MissingAPI;me.onerror=ca(fe),me.onblocked=Bt(y._fireOnBlocked),me.onupgradeneeded=Bt(function(Ee){var _e;xe=me.transaction,S.autoSchema&&!y._options.allowEmptyDB?(me.onerror=yi,xe.abort(),me.result.close(),(_e=D.deleteDatabase(ye)).onsuccess=_e.onerror=Bt(function(){fe(new ie.NoSuchDatabase("Database ".concat(ye," doesnt exist")))})):(xe.onerror=ca(fe),Ee=Ee.oldVersion>Math.pow(2,62)?0:Ee.oldVersion,ae=Ee<1,y.idbdb=me.result,F&&Xo(y,xe),ro(y,Ee/10,xe,fe))},fe),me.onsuccess=Bt(function(){xe=null;var Ee,_e,Re,Le,Fe,$e=y.idbdb=me.result,Je=_($e.objectStoreNames);if(0<Je.length)try{var Ke=$e.transaction((Le=Je).length===1?Le[0]:Le,"readonly");if(S.autoSchema)_e=$e,Re=Ke,(Ee=y).verno=_e.version/10,Re=Ee._dbSchema=eu(0,_e,Re),Ee._storeNames=_(_e.objectStoreNames,0),$o(Ee,[Ee._allTables],s(Re),Re);else if(Wo(y,y._dbSchema,Ke),((Fe=Zo(eu(0,(Fe=y).idbdb,Ke),Fe._dbSchema)).add.length||Fe.change.some(function(Xe){return Xe.add.length||Xe.change.length}))&&!F)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),$e.close(),z=$e.version+1,F=!0,Se(te());Qa(y,Ke)}catch{}La.push(y),$e.onversionchange=Bt(function(Xe){S.vcFired=!0,y.on("versionchange").fire(Xe)}),$e.onclose=Bt(function(){y.close({disableAutoOpen:!1})}),ae&&(Fe=y._deps,Ke=ye,$e=Fe.indexedDB,Fe=Fe.IDBKeyRange,Jo($e)||Ke===hi||Sl($e,Fe).put({name:Ke}).catch(ge)),Se()},fe)}).catch(function(Se){switch(Se?.name){case"UnknownError":if(0<S.PR1398_maxLoop)return S.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),te();break;case"VersionError":if(0<z)return z=0,te()}return qe.reject(Se)})}var le,ce=S.dbReadyResolve,xe=null,ae=!1;return qe.race([q,(typeof navigator>"u"?qe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Se){function fe(){return indexedDB.databases().finally(Se)}le=setInterval(fe,100),fe()}).finally(function(){return clearInterval(le)}):Promise.resolve()).then(te)]).then(function(){return Q(),S.onReadyBeingFired=[],qe.resolve(Tl(function(){return y.on.ready.fire(y.vip)})).then(function Se(){if(0<S.onReadyBeingFired.length){var fe=S.onReadyBeingFired.reduce(Qe,ge);return S.onReadyBeingFired=[],qe.resolve(Tl(function(){return fe(y.vip)})).then(Se)}})}).finally(function(){S.openCanceller===q&&(S.onReadyBeingFired=null,S.isBeingOpened=!1)}).catch(function(Se){S.dbOpenError=Se;try{xe&&xe.abort()}catch{}return q===S.openCanceller&&y._close(),ur(Se)}).finally(function(){S.openComplete=!0,ce()}).then(function(){var Se;return ae&&(Se={},y.tables.forEach(function(fe){fe.schema.indexes.forEach(function(ye){ye.name&&(Se["idb://".concat(y.name,"/").concat(fe.name,"/").concat(ye.name)]=new yn(-1/0,[[[]]]))}),Se["idb://".concat(y.name,"/").concat(fe.name,"/")]=Se["idb://".concat(y.name,"/").concat(fe.name,"/:dels")]=new yn(-1/0,[[[]]])}),gn(Zi).fire(Se),Ol(Se,!0)),y})}function ao(y){function S(F){return y.next(F)}var D=z(S),q=z(function(F){return y.throw(F)});function z(F){return function(le){var te=F(le),le=te.value;return te.done?le:le&&typeof le.then=="function"?le.then(D,q):l(le)?Promise.all(le).then(D,q):D(le)}}return z(S)()}function Wa(y,S,D){for(var q=l(y)?y.slice():[y],z=0;z<D;++z)q.push(S);return q}var Eh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(y){return n(n({},y),{table:function(S){var D=y.table(S),q=D.schema,z={},F=[];function Q(ae,Se,fe){var ye=Zr(ae),me=z[ye]=z[ye]||[],Ee=ae==null?0:typeof ae=="string"?1:ae.length,_e=0<Se,_e=n(n({},fe),{name:_e?"".concat(ye,"(virtual-from:").concat(fe.name,")"):fe.name,lowLevelIndex:fe,isVirtual:_e,keyTail:Se,keyLength:Ee,extractKey:Ji(ae),unique:!_e&&fe.unique});return me.push(_e),_e.isPrimaryKey||F.push(_e),1<Ee&&Q(Ee===2?ae[0]:ae.slice(0,Ee-1),Se+1,fe),me.sort(function(Re,Le){return Re.keyTail-Le.keyTail}),_e}S=Q(q.primaryKey.keyPath,0,q.primaryKey),z[":id"]=[S];for(var te=0,le=q.indexes;te<le.length;te++){var ce=le[te];Q(ce.keyPath,0,ce)}function xe(ae){var Se,fe=ae.query.index;return fe.isVirtual?n(n({},ae),{query:{index:fe.lowLevelIndex,range:(Se=ae.query.range,fe=fe.keyTail,{type:Se.type===1?2:Se.type,lower:Wa(Se.lower,Se.lowerOpen?y.MAX_KEY:y.MIN_KEY,fe),lowerOpen:!0,upper:Wa(Se.upper,Se.upperOpen?y.MIN_KEY:y.MAX_KEY,fe),upperOpen:!0})}}):ae}return n(n({},D),{schema:n(n({},q),{primaryKey:S,indexes:F,getIndexByKeyPath:function(ae){return(ae=z[Zr(ae)])&&ae[0]}}),count:function(ae){return D.count(xe(ae))},query:function(ae){return D.query(xe(ae))},openCursor:function(ae){var Se=ae.query.index,fe=Se.keyTail,ye=Se.isVirtual,me=Se.keyLength;return ye?D.openCursor(xe(ae)).then(function(_e){return _e&&Ee(_e)}):D.openCursor(ae);function Ee(_e){return Object.create(_e,{continue:{value:function(Re){Re!=null?_e.continue(Wa(Re,ae.reverse?y.MAX_KEY:y.MIN_KEY,fe)):ae.unique?_e.continue(_e.key.slice(0,me).concat(ae.reverse?y.MIN_KEY:y.MAX_KEY,fe)):_e.continue()}},continuePrimaryKey:{value:function(Re,Le){_e.continuePrimaryKey(Wa(Re,y.MAX_KEY,fe),Le)}},primaryKey:{get:function(){return _e.primaryKey}},key:{get:function(){var Re=_e.key;return me===1?Re[0]:Re.slice(0,me)}},value:{get:function(){return _e.value}}})}}})}})}};function ns(y,S,D,q){return D=D||{},q=q||"",s(y).forEach(function(z){var F,Q,te;p(S,z)?(F=y[z],Q=S[z],typeof F=="object"&&typeof Q=="object"&&F&&Q?(te=J(F))!==J(Q)?D[q+z]=S[z]:te==="Object"?ns(F,Q,D,q+z+"."):F!==Q&&(D[q+z]=S[z]):F!==Q&&(D[q+z]=S[z])):D[q+z]=void 0}),s(S).forEach(function(z){p(y,z)||(D[q+z]=S[z])}),D}function as(y,S){return S.type==="delete"?S.keys:S.keys||S.values.map(y.extractKey)}var Sf={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(y){return n(n({},y),{table:function(S){var D=y.table(S),q=D.schema.primaryKey;return n(n({},D),{mutate:function(z){var F=pe.trans,Q=F.table(S).hook,te=Q.deleting,le=Q.creating,ce=Q.updating;switch(z.type){case"add":if(le.fire===ge)break;return F._promise("readwrite",function(){return xe(z)},!0);case"put":if(le.fire===ge&&ce.fire===ge)break;return F._promise("readwrite",function(){return xe(z)},!0);case"delete":if(te.fire===ge)break;return F._promise("readwrite",function(){return xe(z)},!0);case"deleteRange":if(te.fire===ge)break;return F._promise("readwrite",function(){return(function ae(Se,fe,ye){return D.query({trans:Se,values:!1,query:{index:q,range:fe},limit:ye}).then(function(me){var Ee=me.result;return xe({type:"delete",keys:Ee,trans:Se}).then(function(_e){return 0<_e.numFailures?Promise.reject(_e.failures[0]):Ee.length<ye?{failures:[],numFailures:0,lastResult:void 0}:ae(Se,n(n({},fe),{lower:Ee[Ee.length-1],lowerOpen:!0}),ye)})})})(z.trans,z.range,1e4)},!0)}return D.mutate(z);function xe(ae){var Se,fe,ye,me=pe.trans,Ee=ae.keys||as(q,ae);if(!Ee)throw new Error("Keys missing");return(ae=ae.type==="add"||ae.type==="put"?n(n({},ae),{keys:Ee}):n({},ae)).type!=="delete"&&(ae.values=i([],ae.values)),ae.keys&&(ae.keys=i([],ae.keys)),Se=D,ye=Ee,((fe=ae).type==="add"?Promise.resolve([]):Se.getMany({trans:fe.trans,keys:ye,cache:"immutable"})).then(function(_e){var Re=Ee.map(function(Le,Fe){var $e,Je,Ke,Xe=_e[Fe],We={onerror:null,onsuccess:null};return ae.type==="delete"?te.fire.call(We,Le,Xe,me):ae.type==="add"||Xe===void 0?($e=le.fire.call(We,Le,ae.values[Fe],me),Le==null&&$e!=null&&(ae.keys[Fe]=Le=$e,q.outbound||O(ae.values[Fe],q.keyPath,Le))):($e=ns(Xe,ae.values[Fe]),(Je=ce.fire.call(We,$e,Le,Xe,me))&&(Ke=ae.values[Fe],Object.keys(Je).forEach(function(Ye){p(Ke,Ye)?Ke[Ye]=Je[Ye]:O(Ke,Ye,Je[Ye])}))),We});return D.mutate(ae).then(function(Le){for(var Fe=Le.failures,$e=Le.results,Je=Le.numFailures,Le=Le.lastResult,Ke=0;Ke<Ee.length;++Ke){var Xe=($e||Ee)[Ke],We=Re[Ke];Xe==null?We.onerror&&We.onerror(Fe[Ke]):We.onsuccess&&We.onsuccess(ae.type==="put"&&_e[Ke]?ae.values[Ke]:Xe)}return{failures:Fe,results:$e,numFailures:Je,lastResult:Le}}).catch(function(Le){return Re.forEach(function(Fe){return Fe.onerror&&Fe.onerror(Le)}),Promise.reject(Le)})})}}})}})}};function Ml(y,S,D){try{if(!S||S.keys.length<y.length)return null;for(var q=[],z=0,F=0;z<S.keys.length&&F<y.length;++z)Et(S.keys[z],y[F])===0&&(q.push(D?G(S.values[z]):S.values[z]),++F);return q.length===y.length?q:null}catch{return null}}var Tf={stack:"dbcore",level:-1,create:function(y){return{table:function(S){var D=y.table(S);return n(n({},D),{getMany:function(q){if(!q.cache)return D.getMany(q);var z=Ml(q.keys,q.trans._cache,q.cache==="clone");return z?qe.resolve(z):D.getMany(q).then(function(F){return q.trans._cache={keys:q.keys,values:q.cache==="clone"?G(F):F},F})},mutate:function(q){return q.type!=="add"&&(q.trans._cache=null),D.mutate(q)}})}}}};function Ei(y,S){return y.trans.mode==="readonly"&&!!y.subscr&&!y.trans.explicit&&y.trans.db._options.cache!=="disabled"&&!S.schema.primaryKey.outbound}function _f(y,S){switch(y){case"query":return S.values&&!S.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Sh={stack:"dbcore",level:0,name:"Observability",create:function(y){var S=y.schema.name,D=new yn(y.MIN_KEY,y.MAX_KEY);return n(n({},y),{transaction:function(q,z,F){if(pe.subscr&&z!=="readonly")throw new ie.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(pe.querier));return y.transaction(q,z,F)},table:function(q){var z=y.table(q),F=z.schema,Q=F.primaryKey,ae=F.indexes,te=Q.extractKey,le=Q.outbound,ce=Q.autoIncrement&&ae.filter(function(fe){return fe.compound&&fe.keyPath.includes(Q.keyPath)}),xe=n(n({},z),{mutate:function(fe){function ye(Ye){return Ye="idb://".concat(S,"/").concat(q,"/").concat(Ye),Le[Ye]||(Le[Ye]=new yn)}var me,Ee,_e,Re=fe.trans,Le=fe.mutatedParts||(fe.mutatedParts={}),Fe=ye(""),$e=ye(":dels"),Je=fe.type,We=fe.type==="deleteRange"?[fe.range]:fe.type==="delete"?[fe.keys]:fe.values.length<50?[as(Q,fe).filter(function(Ye){return Ye}),fe.values]:[],Ke=We[0],Xe=We[1],We=fe.trans._cache;return l(Ke)?(Fe.addKeys(Ke),(We=Je==="delete"||Ke.length===Xe.length?Ml(Ke,We):null)||$e.addKeys(Ke),(We||Xe)&&(me=ye,Ee=We,_e=Xe,F.indexes.forEach(function(Ye){var ut=me(Ye.name||"");function mt(Nt){return Nt!=null?Ye.extractKey(Nt):null}function Ot(Nt){return Ye.multiEntry&&l(Nt)?Nt.forEach(function(mn){return ut.addKey(mn)}):ut.addKey(Nt)}(Ee||_e).forEach(function(Nt,Qr){var Rt=Ee&&mt(Ee[Qr]),Qr=_e&&mt(_e[Qr]);Et(Rt,Qr)!==0&&(Rt!=null&&Ot(Rt),Qr!=null&&Ot(Qr))})}))):Ke?(Xe={from:(Xe=Ke.lower)!==null&&Xe!==void 0?Xe:y.MIN_KEY,to:(Xe=Ke.upper)!==null&&Xe!==void 0?Xe:y.MAX_KEY},$e.add(Xe),Fe.add(Xe)):(Fe.add(D),$e.add(D),F.indexes.forEach(function(Ye){return ye(Ye.name).add(D)})),z.mutate(fe).then(function(Ye){return!Ke||fe.type!=="add"&&fe.type!=="put"||(Fe.addKeys(Ye.results),ce&&ce.forEach(function(ut){for(var mt=fe.values.map(function(Rt){return ut.extractKey(Rt)}),Ot=ut.keyPath.findIndex(function(Rt){return Rt===Q.keyPath}),Nt=0,mn=Ye.results.length;Nt<mn;++Nt)mt[Nt][Ot]=Ye.results[Nt];ye(ut.name).addKeys(mt)})),Re.mutatedParts=ts(Re.mutatedParts||{},Le),Ye})}}),ae=function(ye){var me=ye.query,ye=me.index,me=me.range;return[ye,new yn((ye=me.lower)!==null&&ye!==void 0?ye:y.MIN_KEY,(me=me.upper)!==null&&me!==void 0?me:y.MAX_KEY)]},Se={get:function(fe){return[Q,new yn(fe.key)]},getMany:function(fe){return[Q,new yn().addKeys(fe.keys)]},count:ae,query:ae,openCursor:ae};return s(Se).forEach(function(fe){xe[fe]=function(ye){var me=pe.subscr,Ee=!!me,_e=Ei(pe,z)&&_f(fe,ye)?ye.obsSet={}:me;if(Ee){var Re=function(Xe){return Xe="idb://".concat(S,"/").concat(q,"/").concat(Xe),_e[Xe]||(_e[Xe]=new yn)},Le=Re(""),Fe=Re(":dels"),me=Se[fe](ye),Ee=me[0],me=me[1];if((fe==="query"&&Ee.isPrimaryKey&&!ye.values?Fe:Re(Ee.name||"")).add(me),!Ee.isPrimaryKey){if(fe!=="count"){var $e=fe==="query"&&le&&ye.values&&z.query(n(n({},ye),{values:!1}));return z[fe].apply(this,arguments).then(function(Xe){if(fe==="query"){if(le&&ye.values)return $e.then(function(mt){return mt=mt.result,Le.addKeys(mt),Xe});var We=ye.values?Xe.result.map(te):Xe.result;(ye.values?Le:Fe).addKeys(We)}else if(fe==="openCursor"){var Ye=Xe,ut=ye.values;return Ye&&Object.create(Ye,{key:{get:function(){return Fe.addKey(Ye.primaryKey),Ye.key}},primaryKey:{get:function(){var mt=Ye.primaryKey;return Fe.addKey(mt),mt}},value:{get:function(){return ut&&Le.addKey(Ye.primaryKey),Ye.value}}})}return Xe})}Fe.add(D)}}return z[fe].apply(this,arguments)}}),xe}})}};function Cf(y,S,D){if(D.numFailures===0)return S;if(S.type==="deleteRange")return null;var q=S.keys?S.keys.length:"values"in S&&S.values?S.values.length:1;return D.numFailures===q?null:(S=n({},S),l(S.keys)&&(S.keys=S.keys.filter(function(z,F){return!(F in D.failures)})),"values"in S&&l(S.values)&&(S.values=S.values.filter(function(z,F){return!(F in D.failures)})),S)}function is(y,S){return D=y,((q=S).lower===void 0||(q.lowerOpen?0<Et(D,q.lower):0<=Et(D,q.lower)))&&(y=y,(S=S).upper===void 0||(S.upperOpen?Et(y,S.upper)<0:Et(y,S.upper)<=0));var D,q}function Bl(y,S,Se,q,z,F){if(!Se||Se.length===0)return y;var Q=S.query.index,te=Q.multiEntry,le=S.query.range,ce=q.schema.primaryKey.extractKey,xe=Q.extractKey,ae=(Q.lowLevelIndex||Q).extractKey,Se=Se.reduce(function(fe,ye){var me=fe,Ee=[];if(ye.type==="add"||ye.type==="put")for(var _e=new yn,Re=ye.values.length-1;0<=Re;--Re){var Le,Fe=ye.values[Re],$e=ce(Fe);_e.hasKey($e)||(Le=xe(Fe),(te&&l(Le)?Le.some(function(Ye){return is(Ye,le)}):is(Le,le))&&(_e.addKey($e),Ee.push(Fe)))}switch(ye.type){case"add":var Je=new yn().addKeys(S.values?fe.map(function(ut){return ce(ut)}):fe),me=fe.concat(S.values?Ee.filter(function(ut){return ut=ce(ut),!Je.hasKey(ut)&&(Je.addKey(ut),!0)}):Ee.map(function(ut){return ce(ut)}).filter(function(ut){return!Je.hasKey(ut)&&(Je.addKey(ut),!0)}));break;case"put":var Ke=new yn().addKeys(ye.values.map(function(ut){return ce(ut)}));me=fe.filter(function(ut){return!Ke.hasKey(S.values?ce(ut):ut)}).concat(S.values?Ee:Ee.map(function(ut){return ce(ut)}));break;case"delete":var Xe=new yn().addKeys(ye.keys);me=fe.filter(function(ut){return!Xe.hasKey(S.values?ce(ut):ut)});break;case"deleteRange":var We=ye.range;me=fe.filter(function(ut){return!is(ce(ut),We)})}return me},y);return Se===y?y:(Se.sort(function(fe,ye){return Et(ae(fe),ae(ye))||Et(ce(fe),ce(ye))}),S.limit&&S.limit<1/0&&(Se.length>S.limit?Se.length=S.limit:y.length===S.limit&&Se.length<S.limit&&(z.dirty=!0)),F?Object.freeze(Se):Se)}function ru(y,S){return Et(y.lower,S.lower)===0&&Et(y.upper,S.upper)===0&&!!y.lowerOpen==!!S.lowerOpen&&!!y.upperOpen==!!S.upperOpen}function io(y,S){return(function(D,q,z,F){if(D===void 0)return q!==void 0?-1:0;if(q===void 0)return 1;if((q=Et(D,q))===0){if(z&&F)return 0;if(z)return 1;if(F)return-1}return q})(y.lower,S.lower,y.lowerOpen,S.lowerOpen)<=0&&0<=(function(D,q,z,F){if(D===void 0)return q!==void 0?1:0;if(q===void 0)return-1;if((q=Et(D,q))===0){if(z&&F)return 0;if(z)return-1;if(F)return 1}return q})(y.upper,S.upper,y.upperOpen,S.upperOpen)}function Th(y,S,D,q){y.subscribers.add(D),q.addEventListener("abort",function(){var z,F;y.subscribers.delete(D),y.subscribers.size===0&&(z=y,F=S,setTimeout(function(){z.subscribers.size===0&&W(F,z)},3e3))})}var us={stack:"dbcore",level:0,name:"Cache",create:function(y){var S=y.schema.name;return n(n({},y),{transaction:function(D,q,z){var F,Q,te=y.transaction(D,q,z);return q==="readwrite"&&(Q=(F=new AbortController).signal,z=function(le){return function(){if(F.abort(),q==="readwrite"){for(var ce=new Set,xe=0,ae=D;xe<ae.length;xe++){var Se=ae[xe],fe=xi["idb://".concat(S,"/").concat(Se)];if(fe){var ye=y.table(Se),me=fe.optimisticOps.filter(function(ut){return ut.trans===te});if(te._explicit&&le&&te.mutatedParts)for(var Ee=0,_e=Object.values(fe.queries.query);Ee<_e.length;Ee++)for(var Re=0,Le=(Je=_e[Ee]).slice();Re<Le.length;Re++)Al((Ke=Le[Re]).obsSet,te.mutatedParts)&&(W(Je,Ke),Ke.subscribers.forEach(function(ut){return ce.add(ut)}));else if(0<me.length){fe.optimisticOps=fe.optimisticOps.filter(function(ut){return ut.trans!==te});for(var Fe=0,$e=Object.values(fe.queries.query);Fe<$e.length;Fe++)for(var Je,Ke,Xe,We=0,Ye=(Je=$e[Fe]).slice();We<Ye.length;We++)(Ke=Ye[We]).res!=null&&te.mutatedParts&&(le&&!Ke.dirty?(Xe=Object.isFrozen(Ke.res),Xe=Bl(Ke.res,Ke.req,me,ye,Ke,Xe),Ke.dirty?(W(Je,Ke),Ke.subscribers.forEach(function(ut){return ce.add(ut)})):Xe!==Ke.res&&(Ke.res=Xe,Ke.promise=qe.resolve({result:Xe}))):(Ke.dirty&&W(Je,Ke),Ke.subscribers.forEach(function(ut){return ce.add(ut)})))}}}ce.forEach(function(ut){return ut()})}}},te.addEventListener("abort",z(!1),{signal:Q}),te.addEventListener("error",z(!1),{signal:Q}),te.addEventListener("complete",z(!0),{signal:Q})),te},table:function(D){var q=y.table(D),z=q.schema.primaryKey;return n(n({},q),{mutate:function(F){var Q=pe.trans;if(z.outbound||Q.db._options.cache==="disabled"||Q.explicit||Q.idbtrans.mode!=="readwrite")return q.mutate(F);var te=xi["idb://".concat(S,"/").concat(D)];return te?(Q=q.mutate(F),F.type!=="add"&&F.type!=="put"||!(50<=F.values.length||as(z,F).some(function(le){return le==null}))?(te.optimisticOps.push(F),F.mutatedParts&&rs(F.mutatedParts),Q.then(function(le){0<le.numFailures&&(W(te.optimisticOps,F),(le=Cf(0,F,le))&&te.optimisticOps.push(le),F.mutatedParts&&rs(F.mutatedParts))}),Q.catch(function(){W(te.optimisticOps,F),F.mutatedParts&&rs(F.mutatedParts)})):Q.then(function(le){var ce=Cf(0,n(n({},F),{values:F.values.map(function(xe,ae){var Se;return le.failures[ae]?xe:(xe=(Se=z.keyPath)!==null&&Se!==void 0&&Se.includes(".")?G(xe):n({},xe),O(xe,z.keyPath,le.results[ae]),xe)})}),le);te.optimisticOps.push(ce),queueMicrotask(function(){return F.mutatedParts&&rs(F.mutatedParts)})}),Q):q.mutate(F)},query:function(F){if(!Ei(pe,q)||!_f("query",F))return q.query(F);var Q=((ce=pe.trans)===null||ce===void 0?void 0:ce.db._options.cache)==="immutable",ae=pe,te=ae.requery,le=ae.signal,ce=(function(ye,me,Ee,_e){var Re=xi["idb://".concat(ye,"/").concat(me)];if(!Re)return[];if(!(me=Re.queries[Ee]))return[null,!1,Re,null];var Le=me[(_e.query?_e.query.index.name:null)||""];if(!Le)return[null,!1,Re,null];switch(Ee){case"query":var Fe=Le.find(function($e){return $e.req.limit===_e.limit&&$e.req.values===_e.values&&ru($e.req.query.range,_e.query.range)});return Fe?[Fe,!0,Re,Le]:[Le.find(function($e){return("limit"in $e.req?$e.req.limit:1/0)>=_e.limit&&(!_e.values||$e.req.values)&&io($e.req.query.range,_e.query.range)}),!1,Re,Le];case"count":return Fe=Le.find(function($e){return ru($e.req.query.range,_e.query.range)}),[Fe,!!Fe,Re,Le]}})(S,D,"query",F),xe=ce[0],ae=ce[1],Se=ce[2],fe=ce[3];return xe&&ae?xe.obsSet=F.obsSet:(ae=q.query(F).then(function(ye){var me=ye.result;if(xe&&(xe.res=me),Q){for(var Ee=0,_e=me.length;Ee<_e;++Ee)Object.freeze(me[Ee]);Object.freeze(me)}else ye.result=G(me);return ye}).catch(function(ye){return fe&&xe&&W(fe,xe),Promise.reject(ye)}),xe={obsSet:F.obsSet,promise:ae,subscribers:new Set,type:"query",req:F,dirty:!1},fe?fe.push(xe):(fe=[xe],(Se=Se||(xi["idb://".concat(S,"/").concat(D)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[F.query.index.name||""]=fe)),Th(xe,fe,te,le),xe.promise.then(function(ye){return{result:Bl(ye.result,F,Se?.optimisticOps,q,xe,Q)}})}})}})}};function uo(y,S){return new Proxy(y,{get:function(D,q,z){return q==="db"?S:Reflect.get(D,q,z)}})}var Ea=(Cr.prototype.version=function(y){if(isNaN(y)||y<.1)throw new ie.Type("Given version is not a positive number");if(y=Math.round(10*y)/10,this.idbdb||this._state.isBeingOpened)throw new ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,y);var S=this._versions,D=S.filter(function(q){return q._cfg.version===y})[0];return D||(D=new this.Version(y),S.push(D),S.sort(xl),D.stores({}),this._state.autoSchema=!1,D)},Cr.prototype._whenReady=function(y){var S=this;return this.idbdb&&(this._state.openComplete||pe.letThrough||this._vip)?y():new qe(function(D,q){if(S._state.openComplete)return q(new ie.DatabaseClosed(S._state.dbOpenError));if(!S._state.isBeingOpened){if(!S._state.autoOpen)return void q(new ie.DatabaseClosed);S.open().catch(ge)}S._state.dbReadyPromise.then(D,q)}).then(y)},Cr.prototype.use=function(y){var S=y.stack,D=y.create,q=y.level,z=y.name;return z&&this.unuse({stack:S,name:z}),y=this._middlewares[S]||(this._middlewares[S]=[]),y.push({stack:S,create:D,level:q??10,name:z}),y.sort(function(F,Q){return F.level-Q.level}),this},Cr.prototype.unuse=function(y){var S=y.stack,D=y.name,q=y.create;return S&&this._middlewares[S]&&(this._middlewares[S]=this._middlewares[S].filter(function(z){return q?z.create!==q:!!D&&z.name!==D})),this},Cr.prototype.open=function(){var y=this;return xr(Oe,function(){return xh(y)})},Cr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var y=this._state,S=La.indexOf(this);if(0<=S&&La.splice(S,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}y.isBeingOpened||(y.dbReadyPromise=new qe(function(D){y.dbReadyResolve=D}),y.openCanceller=new qe(function(D,q){y.cancelOpen=q}))},Cr.prototype.close=function(D){var S=(D===void 0?{disableAutoOpen:!0}:D).disableAutoOpen,D=this._state;S?(D.isBeingOpened&&D.cancelOpen(new ie.DatabaseClosed),this._close(),D.autoOpen=!1,D.dbOpenError=new ie.DatabaseClosed):(this._close(),D.autoOpen=this._options.autoOpen||D.isBeingOpened,D.openComplete=!1,D.dbOpenError=null)},Cr.prototype.delete=function(y){var S=this;y===void 0&&(y={disableAutoOpen:!0});var D=0<arguments.length&&typeof arguments[0]!="object",q=this._state;return new qe(function(z,F){function Q(){S.close(y);var te=S._deps.indexedDB.deleteDatabase(S.name);te.onsuccess=Bt(function(){var le,ce,xe;le=S._deps,ce=S.name,xe=le.indexedDB,le=le.IDBKeyRange,Jo(xe)||ce===hi||Sl(xe,le).delete(ce).catch(ge),z()}),te.onerror=ca(F),te.onblocked=S._fireOnBlocked}if(D)throw new ie.InvalidArgument("Invalid closeOptions argument to db.delete()");q.isBeingOpened?q.dbReadyPromise.then(Q):Q()})},Cr.prototype.backendDB=function(){return this.idbdb},Cr.prototype.isOpen=function(){return this.idbdb!==null},Cr.prototype.hasBeenClosed=function(){var y=this._state.dbOpenError;return y&&y.name==="DatabaseClosed"},Cr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Cr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Cr.prototype,"tables",{get:function(){var y=this;return s(this._allTables).map(function(S){return y._allTables[S]})},enumerable:!1,configurable:!0}),Cr.prototype.transaction=function(){var y=(function(S,D,q){var z=arguments.length;if(z<2)throw new ie.InvalidArgument("Too few arguments");for(var F=new Array(z-1);--z;)F[z-1]=arguments[z];return q=F.pop(),[S,P(F),q]}).apply(this,arguments);return this._transaction.apply(this,y)},Cr.prototype._transaction=function(y,S,D){var q=this,z=pe.trans;z&&z.db===this&&y.indexOf("!")===-1||(z=null);var F,Q,te=y.indexOf("?")!==-1;y=y.replace("!","").replace("?","");try{if(Q=S.map(function(ce){if(ce=ce instanceof q.Table?ce.name:ce,typeof ce!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ce}),y=="r"||y===Cn)F=Cn;else{if(y!="rw"&&y!=Zn)throw new ie.InvalidArgument("Invalid transaction mode: "+y);F=Zn}if(z){if(z.mode===Cn&&F===Zn){if(!te)throw new ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");z=null}z&&Q.forEach(function(ce){if(z&&z.storeNames.indexOf(ce)===-1){if(!te)throw new ie.SubTransaction("Table "+ce+" not included in parent transaction.");z=null}}),te&&z&&!z.active&&(z=null)}}catch(ce){return z?z._promise(null,function(xe,ae){ae(ce)}):ur(ce)}var le=(function ce(xe,ae,Se,fe,ye){return qe.resolve().then(function(){var me=pe.transless||pe,Ee=xe._createTransaction(ae,Se,xe._dbSchema,fe);if(Ee.explicit=!0,me={trans:Ee,transless:me},fe)Ee.idbtrans=fe.idbtrans;else try{Ee.create(),Ee.idbtrans._explicit=!0,xe._state.PR1398_maxLoop=3}catch(Le){return Le.name===de.InvalidState&&xe.isOpen()&&0<--xe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),xe.close({disableAutoOpen:!1}),xe.open().then(function(){return ce(xe,ae,Se,null,ye)})):ur(Le)}var _e,Re=U(ye);return Re&&wr(),me=qe.follow(function(){var Le;(_e=ye.call(Ee,Ee))&&(Re?(Le=Nr.bind(null,null),_e.then(Le,Le)):typeof _e.next=="function"&&typeof _e.throw=="function"&&(_e=ao(_e)))},me),(_e&&typeof _e.then=="function"?qe.resolve(_e).then(function(Le){return Ee.active?Le:ur(new ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):me.then(function(){return _e})).then(function(Le){return fe&&Ee._resolve(),Ee._completion.then(function(){return Le})}).catch(function(Le){return Ee._reject(Le),ur(Le)})})}).bind(null,this,F,Q,z,D);return z?z._promise(F,le,"lock"):pe.trans?xr(pe.transless,function(){return q._whenReady(le)}):this._whenReady(le)},Cr.prototype.table=function(y){if(!p(this._allTables,y))throw new ie.InvalidTable("Table ".concat(y," does not exist"));return this._allTables[y]},Cr);function Cr(y,S){var D=this;this._middlewares={},this.verno=0;var q=Cr.dependencies;this._options=S=n({addons:Cr.addons,autoOpen:!0,indexedDB:q.indexedDB,IDBKeyRange:q.IDBKeyRange,cache:"cloned"},S),this._deps={indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange},q=S.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var z,F,Q,te,le,ce={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ge,dbReadyPromise:null,cancelOpen:ge,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:S.autoOpen};ce.dbReadyPromise=new qe(function(ae){ce.dbReadyResolve=ae}),ce.openCanceller=new qe(function(ae,Se){ce.cancelOpen=Se}),this._state=ce,this.name=y,this.on=Qu(this,"populate","blocked","versionchange","close",{ready:[Qe,ge]}),this.once=function(ae,Se){var fe=function(){for(var ye=[],me=0;me<arguments.length;me++)ye[me]=arguments[me];D.on(ae).unsubscribe(fe),Se.apply(D,ye)};return D.on(ae,fe)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(ae){return function(Se,fe){Cr.vip(function(){var ye,me=D._state;me.openComplete?(me.dbOpenError||qe.resolve().then(Se),fe&&ae(Se)):me.onReadyBeingFired?(me.onReadyBeingFired.push(Se),fe&&ae(Se)):(ae(Se),ye=D,fe||ae(function Ee(){ye.on.ready.unsubscribe(Se),ye.on.ready.unsubscribe(Ee)}))})}}),this.Collection=(z=this,pn(mh.prototype,function(_e,Ee){this.db=z;var fe=Xi,ye=null;if(Ee)try{fe=Ee()}catch(Re){ye=Re}var me=_e._ctx,Ee=me.table,_e=Ee.hook.reading.fire;this._ctx={table:Ee,index:me.index,isPrimKey:!me.index||Ee.schema.primKey.keyPath&&me.index===Ee.schema.primKey.name,range:fe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ye,or:me.or,valueMapper:_e!==Me?_e:null}})),this.Table=(F=this,pn(Zu.prototype,function(ae,Se,fe){this.db=F,this._tx=fe,this.name=ae,this.schema=Se,this.hook=F._allTables[ae]?F._allTables[ae].hook:Qu(null,{creating:[Ct,ge],reading:[je,Me],updating:[vt,ge],deleting:[Ze,ge]})})),this.Transaction=(Q=this,pn(wl.prototype,function(ae,Se,fe,ye,me){var Ee=this;ae!=="readonly"&&Se.forEach(function(_e){_e=(_e=fe[_e])===null||_e===void 0?void 0:_e.yProps,_e&&(Se=Se.concat(_e.map(function(Re){return Re.updatesTable})))}),this.db=Q,this.mode=ae,this.storeNames=Se,this.schema=fe,this.chromeTransactionDurability=ye,this.idbtrans=null,this.on=Qu(this,"complete","error","abort"),this.parent=me||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new qe(function(_e,Re){Ee._resolve=_e,Ee._reject=Re}),this._completion.then(function(){Ee.active=!1,Ee.on.complete.fire()},function(_e){var Re=Ee.active;return Ee.active=!1,Ee.on.error.fire(_e),Ee.parent?Ee.parent._reject(_e):Re&&Ee.idbtrans&&Ee.idbtrans.abort(),ur(_e)})})),this.Version=(te=this,pn(wh.prototype,function(ae){this.db=te,this._cfg={version:ae,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(le=this,pn(gi.prototype,function(ae,Se,fe){if(this.db=le,this._ctx={table:ae,index:Se===":id"?null:Se,or:fe},this._cmp=this._ascending=Et,this._descending=function(ye,me){return Et(me,ye)},this._max=function(ye,me){return 0<Et(ye,me)?ye:me},this._min=function(ye,me){return Et(ye,me)<0?ye:me},this._IDBKeyRange=le._deps.IDBKeyRange,!this._IDBKeyRange)throw new ie.MissingAPI})),this.on("versionchange",function(ae){0<ae.newVersion?console.warn("Another connection wants to upgrade database '".concat(D.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(D.name,"'. Closing db now to resume the delete request.")),D.close({disableAutoOpen:!1})}),this.on("blocked",function(ae){!ae.newVersion||ae.newVersion<ae.oldVersion?console.warn("Dexie.delete('".concat(D.name,"') was blocked")):console.warn("Upgrade '".concat(D.name,"' blocked by other connection holding version ").concat(ae.oldVersion/10))}),this._maxKey=Wi(S.IDBKeyRange),this._createTransaction=function(ae,Se,fe,ye){return new D.Transaction(ae,Se,fe,D._options.chromeTransactionDurability,ye)},this._fireOnBlocked=function(ae){D.on("blocked").fire(ae),La.filter(function(Se){return Se.name===D.name&&Se!==D&&!Se._state.vcFired}).map(function(Se){return Se.on("versionchange").fire(ae)})},this.use(Tf),this.use(us),this.use(Sh),this.use(Eh),this.use(Sf);var xe=new Proxy(this,{get:function(ae,Se,fe){if(Se==="_vip")return!0;if(Se==="table")return function(me){return uo(D.table(me),xe)};var ye=Reflect.get(ae,Se,fe);return ye instanceof Zu?uo(ye,xe):Se==="tables"?ye.map(function(me){return uo(me,xe)}):Se==="_createTransaction"?function(){return uo(ye.apply(this,arguments),xe)}:ye}});this.vip=xe,q.forEach(function(ae){return ae(D)})}var nu,Hn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Af=(os.prototype.subscribe=function(y,S,D){return this._subscribe(y&&typeof y!="function"?y:{next:y,error:S,complete:D})},os.prototype[Hn]=function(){return this},os);function os(y){this._subscribe=y}try{nu={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{nu={indexedDB:null,IDBKeyRange:null}}function Rf(y){var S,D=!1,q=new Af(function(z){var F=U(y),Q,te=!1,le={},ce={},xe={get closed(){return te},unsubscribe:function(){te||(te=!0,Q&&Q.abort(),ae&&gn.storagemutated.unsubscribe(fe))}};z.start&&z.start(xe);var ae=!1,Se=function(){return ba(ye)},fe=function(me){ts(le,me),Al(ce,le)&&Se()},ye=function(){var me,Ee,_e;!te&&nu.indexedDB&&(le={},me={},Q&&Q.abort(),Q=new AbortController,_e=(function(Re){var Le=ir();try{F&&wr();var Fe=Qt(y,Re);return Fe=F?Fe.finally(Nr):Fe}finally{Le&&$t()}})(Ee={subscr:me,signal:Q.signal,requery:Se,querier:y,trans:null}),Promise.resolve(_e).then(function(Re){D=!0,S=Re,te||Ee.signal.aborted||(le={},(function(Le){for(var Fe in Le)if(p(Le,Fe))return;return 1})(ce=me)||ae||(gn(Zi,fe),ae=!0),ba(function(){return!te&&z.next&&z.next(Re)}))},function(Re){D=!1,["DatabaseClosedError","AbortError"].includes(Re?.name)||te||ba(function(){te||z.error&&z.error(Re)})}))};return setTimeout(Se,0),xe});return q.hasValue=function(){return D},q.getValue=function(){return S},q}var Si=Ea;function ql(y){var S=Ja;try{Ja=!0,gn.storagemutated.fire(y),Ol(y,!0)}finally{Ja=S}}g(Si,n(n({},be),{delete:function(y){return new Si(y,{addons:[]}).delete()},exists:function(y){return new Si(y,{addons:[]}).open().then(function(S){return S.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(y){try{return S=Si.dependencies,D=S.indexedDB,S=S.IDBKeyRange,(Jo(D)?Promise.resolve(D.databases()).then(function(q){return q.map(function(z){return z.name}).filter(function(z){return z!==hi})}):Sl(D,S).toCollection().primaryKeys()).then(y)}catch{return ur(new ie.MissingAPI)}var S,D},defineClass:function(){return function(y){f(this,y)}},ignoreTransaction:function(y){return pe.trans?xr(pe.transless,y):y()},vip:Tl,async:function(y){return function(){try{var S=ao(y.apply(this,arguments));return S&&typeof S.then=="function"?S:qe.resolve(S)}catch(D){return ur(D)}}},spawn:function(y,S,D){try{var q=ao(y.apply(D,S||[]));return q&&typeof q.then=="function"?q:qe.resolve(q)}catch(z){return ur(z)}},currentTransaction:{get:function(){return pe.trans||null}},waitFor:function(y,S){return S=qe.resolve(typeof y=="function"?Si.ignoreTransaction(y):y).timeout(S||6e4),pe.trans?pe.trans.waitFor(S):S},Promise:qe,debug:{get:function(){return tt},set:function(y){ot(y)}},derive:C,extend:f,props:g,override:A,Events:Qu,on:gn,liveQuery:Rf,extendObservabilitySet:ts,getByKeyPath:B,setByKeyPath:O,delByKeyPath:function(y,S){typeof S=="string"?O(y,S,void 0):"length"in S&&[].map.call(S,function(D){O(y,D,void 0)})},shallowClone:N,deepClone:G,getObjectDiff:ns,cmp:Et,asap:M,minKey:-1/0,addons:[],connections:La,errnames:de,dependencies:nu,cache:xi,semVer:"4.2.1",version:"4.2.1".split(".").map(function(y){return parseInt(y)}).reduce(function(y,S,D){return y+S/Math.pow(10,2*D)})})),Si.maxKey=Wi(Si.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(gn(Zi,function(y){Ja||(y=new CustomEvent(mi,{detail:y}),Ja=!0,dispatchEvent(y),Ja=!1)}),addEventListener(mi,function(y){y=y.detail,Ja||ql(y)}));var au,Ja=!1,Nn=function(){};return typeof BroadcastChannel<"u"&&((Nn=function(){(au=new BroadcastChannel(mi)).onmessage=function(y){return y.data&&ql(y.data)}})(),typeof au.unref=="function"&&au.unref(),gn(Zi,function(y){Ja||au.postMessage(y)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(y){if(!Ea.disableBfCache&&y.persisted){tt&&console.debug("Dexie: handling persisted pagehide"),au?.close();for(var S=0,D=La;S<D.length;S++)D[S].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(y){!Ea.disableBfCache&&y.persisted&&(tt&&console.debug("Dexie: handling persisted pageshow"),Nn(),ql({all:new yn(-1/0,[[]])}))})),qe.rejectionMapper=function(y,S){return!y||y instanceof ue||y instanceof TypeError||y instanceof SyntaxError||!y.name||!he[y.name]?y:(S=new he[y.name](S||y.message,y),"stack"in y&&b(S,"stack",{get:function(){return this.inner.stack}}),S)},ot(tt),n(Ea,Object.freeze({__proto__:null,Dexie:Ea,liveQuery:Rf,Entity:Vo,cmp:Et,PropModification:Xr,replacePrefix:function(y,S){return new Xr({replacePrefix:[y,S]})},add:function(y){return new Xr({add:y})},remove:function(y){return new Xr({remove:y})},default:Ea,RangeSet:yn,mergeRanges:wi,rangesOverlap:wf}),{default:Ea}),Ea})})(Zd)),Zd.exports}var QL=ZL();const wx=Ov(QL),l_=Symbol.for("Dexie"),hv=globalThis[l_]||(globalThis[l_]=wx);if(wx.semVer!==hv.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${wx.semVer} and ${hv.semVer}`);const{liveQuery:Lj,mergeRanges:Pj,rangesOverlap:Ij,RangeSet:Uj,cmp:Fj,Entity:Vj,PropModification:Gj,replacePrefix:jj,add:Hj,remove:Kj,DexieYProvider:Yj}=hv,an=new hv("IRBRulesEngine");an.version(1).stores({characteristics:"++id, key, name, techType",controls:"++id, characteristicId, riskLevel",scoringRules:"++id, techType, phase, characteristicKey",questions:"++id, key, phase, priority",impactRules:"++id, questionKey, characteristicKey, answer",synergyRules:"++id",profiles:"++id, name"});async function WL(){if(await an.characteristics.count()===0){console.log("Seeding initial data...");const e=await an.characteristics.bulkAdd([{key:"autonomous",name:"Operates Autonomously",description:"AI makes decisions without requiring human approval",techType:"ml",baseScore:4},{key:"patient_data",name:"Uses Patient Data",description:"System is trained on or uses actual medical records",techType:"ml",baseScore:2},{key:"hallucination",name:"May Generate False Information",description:"LLM can create plausible but incorrect medical information",techType:"llm",baseScore:4}],{allKeys:!0});await an.controls.bulkAdd([{characteristicId:e[0],riskLevel:"low",description:"Document operating boundaries clearly"},{characteristicId:e[0],riskLevel:"low",description:"Maintain decision logic documentation"},{characteristicId:e[0],riskLevel:"medium",description:"Require human approval for edge cases"},{characteristicId:e[0],riskLevel:"medium",description:"Implement regular audit procedures"},{characteristicId:e[0],riskLevel:"high",description:"Install kill switch mechanism"},{characteristicId:e[0],riskLevel:"high",description:"Enable real-time monitoring dashboard"},{characteristicId:e[0],riskLevel:"high",description:"Maintain liability insurance coverage"}]),await an.profiles.bulkAdd([{name:"Standard",multiplier:1,thresholdAdjustment:0,minCharacteristics:7,description:"Balanced approach for most institutions"},{name:"Conservative",multiplier:1.3,thresholdAdjustment:-5,minCharacteristics:10,description:"More comprehensive coverage, lower thresholds"},{name:"Streamlined",multiplier:.7,thresholdAdjustment:5,minCharacteristics:5,description:"Focused on essentials, higher thresholds"}]),await an.scoringRules.bulkAdd([{techType:"ml",phase:"translational",characteristicKey:"autonomous",points:12,reason:"Autonomous ML in translational phase requires careful oversight"},{techType:"ml",phase:"clinical",characteristicKey:"autonomous",points:15,reason:"Autonomous ML in clinical deployment is critical"},{techType:"llm",phase:"clinical",characteristicKey:"hallucination",points:15,reason:"LLM hallucination risk in clinical setting is critical"}]),await an.questions.bulkAdd([{key:"autonomous",text:"Can the AI make decisions without human review?",phase:"all",priority:10},{key:"vulnerable",text:"Will this involve vulnerable populations?",phase:"all",priority:10},{key:"real_data",text:"Will you use actual patient records or data?",phase:"discovery",priority:9}]),console.log("Initial data seeded successfully")}}WL();const JL=wt.div`
  display: grid;
  grid-template-columns: 350px 1fr;
  height: 100%;
  gap: 20px;
  padding: 20px 40px;
`,e3=wt.aside`
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  padding: 20px;
  overflow-y: auto;
  border: 1px solid rgba(255, 255, 255, 0.1);

  &::-webkit-scrollbar {
    width: 8px;
  }
  &::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }
  &::-webkit-scrollbar-thumb {
    background: rgba(74, 226, 192, 0.3);
    border-radius: 4px;
  }
`,t3=wt.div`
  background: ${t=>t.$selected?"rgba(74, 226, 192, 0.15)":"rgba(255, 255, 255, 0.05)"};
  border: 1px solid ${t=>t.$selected?"#4AE2C0":"rgba(255, 255, 255, 0.1)"};
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 10px;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background: rgba(74, 226, 192, 0.1);
    border-color: #4AE2C0;
    transform: translateX(5px);
  }
`,r3=wt.div`
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 5px;
  color: white;
`,n3=wt.div`
  font-size: 11px;
  color: rgba(255, 255, 255, 0.6);
  text-transform: uppercase;
  display: flex;
  justify-content: space-between;
`,a3=wt.div`
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  padding: 30px;
  overflow-y: auto;
  border: 1px solid rgba(255, 255, 255, 0.1);

  &::-webkit-scrollbar {
    width: 8px;
  }
  &::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }
  &::-webkit-scrollbar-thumb {
    background: rgba(74, 226, 192, 0.3);
    border-radius: 4px;
  }
`,pc=wt.div`
  margin-bottom: 24px;
`,gc=wt.label`
  display: block;
  font-size: 13px;
  font-weight: 600;
  margin-bottom: 8px;
  color: rgba(255, 255, 255, 0.9);
`,Qd=wt.input`
  width: 100%;
  padding: 12px;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 6px;
  color: white;
  font-size: 14px;
  box-sizing: border-box;

  &:focus {
    outline: none;
    border-color: #4AE2C0;
    box-shadow: 0 0 0 3px rgba(74, 226, 192, 0.1);
  }

  &::placeholder {
    color: rgba(255, 255, 255, 0.4);
  }
`,i3=wt.textarea`
  width: 100%;
  padding: 12px;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 6px;
  color: white;
  font-size: 14px;
  min-height: 100px;
  box-sizing: border-box;
  font-family: inherit;
  resize: vertical;

  &:focus {
    outline: none;
    border-color: #4AE2C0;
    box-shadow: 0 0 0 3px rgba(74, 226, 192, 0.1);
  }

  &::placeholder {
    color: rgba(255, 255, 255, 0.4);
  }
`,u3=wt.select`
  width: 100%;
  padding: 12px;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 6px;
  color: white;
  font-size: 14px;
  box-sizing: border-box;
  cursor: pointer;

  &:focus {
    outline: none;
    border-color: #4AE2C0;
    box-shadow: 0 0 0 3px rgba(74, 226, 192, 0.1);
  }

  option {
    background: #1e3c72;
    color: white;
  }
`,Dd=wt.button`
  background: ${t=>t.$variant==="primary"?"linear-gradient(90deg, #4AE2C0, #3cc8a8)":t.$variant==="danger"?"rgba(244, 67, 54, 0.2)":"rgba(255, 255, 255, 0.1)"};
  color: ${t=>t.$variant==="primary"?"#1e3c72":"white"};
  border: 1px solid ${t=>t.$variant==="primary"?"#4AE2C0":t.$variant==="danger"?"rgba(244, 67, 54, 0.5)":"rgba(255, 255, 255, 0.3)"};
  padding: 12px 24px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-right: 10px;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    background: ${t=>t.$variant==="primary"?"linear-gradient(90deg, #3cc8a8, #2db090)":t.$variant==="danger"?"rgba(244, 67, 54, 0.3)":"rgba(255, 255, 255, 0.15)"};
  }

  &:active {
    transform: translateY(0);
  }
`,o3=wt.div`
  margin-top: 40px;
  padding-top: 40px;
  border-top: 2px solid rgba(255, 255, 255, 0.1);
`,s3=wt.h3`
  font-size: 18px;
  margin: 0 0 10px 0;
  color: white;
`,l3=wt.p`
  font-size: 13px;
  color: rgba(255, 255, 255, 0.6);
  margin: 0 0 25px 0;
  line-height: 1.5;
`,c3=wt.div`
  background: ${t=>t.$level==="low"?"rgba(76, 175, 80, 0.08)":t.$level==="medium"?"rgba(255, 193, 7, 0.08)":"rgba(244, 67, 54, 0.08)"};
  border: 2px solid ${t=>t.$level==="low"?"rgba(76, 175, 80, 0.3)":t.$level==="medium"?"rgba(255, 193, 7, 0.3)":"rgba(244, 67, 54, 0.3)"};
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 20px;
`,f3=wt.h4`
  margin: 0 0 15px 0;
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: ${t=>t.$level==="low"?"#4CAF50":t.$level==="medium"?"#FFC107":"#F44336"};
  display: flex;
  align-items: center;
  gap: 8px;

  &::before {
    content: ${t=>t.$level==="low"?'""':t.$level==="medium"?'""':'""'};
  }
`,d3=wt.div`
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
  align-items: center;
`,v3=wt(Qd)`
  flex: 1;
  margin: 0;
`,h3=wt.button`
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  padding: 10px 14px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.2s ease;
  white-space: nowrap;

  &:hover {
    background: rgba(244, 67, 54, 0.2);
    border-color: #F44336;
  }
`,p3=wt.div`
  text-align: center;
  padding: 80px 40px;
  color: rgba(255, 255, 255, 0.5);

  h2 {
    font-size: 24px;
    margin-bottom: 10px;
    color: rgba(255, 255, 255, 0.7);
  }

  p {
    font-size: 14px;
  }
`,g3=wt.div`
  margin-top: 40px;
  padding-top: 30px;
  border-top: 2px solid rgba(255, 255, 255, 0.1);
  display: flex;
  gap: 10px;
`;function y3(){const[t,e]=Pn.useState([]),[r,n]=Pn.useState(null),[i,u]=Pn.useState({low:[],medium:[],high:[]}),[s,l]=Pn.useState({key:"",name:"",description:"",techType:"ml",baseScore:2});Pn.useEffect(()=>{f()},[]);async function f(){const x=await an.characteristics.toArray();e(x)}async function d(x){n(x),l({key:x.key,name:x.name,description:x.description,techType:x.techType,baseScore:x.baseScore});const E=await an.controls.where("characteristicId").equals(x.id).toArray(),_={low:E.filter(A=>A.riskLevel==="low").map(A=>A.description),medium:E.filter(A=>A.riskLevel==="medium").map(A=>A.description),high:E.filter(A=>A.riskLevel==="high").map(A=>A.description)};u(_)}async function v(){if(!s.key||!s.name){alert("Please fill in at least the Key and Name fields");return}try{if(r){await an.characteristics.update(r.id,s),await an.controls.where("characteristicId").equals(r.id).delete();for(const[x,E]of Object.entries(i))for(const _ of E)_.trim()&&await an.controls.add({characteristicId:r.id,riskLevel:x,description:_.trim()})}else{const x=await an.characteristics.add(s);for(const[E,_]of Object.entries(i))for(const A of _)A.trim()&&await an.controls.add({characteristicId:x,riskLevel:E,description:A.trim()})}await f(),alert(" Saved successfully!")}catch(x){alert("Error saving: "+x.message)}}function p(){n(null),l({key:"",name:"",description:"",techType:"ml",baseScore:2}),u({low:[],medium:[],high:[]})}function g(x){u({...i,[x]:[...i[x],""]})}function m(x,E,_){const A=[...i[x]];A[E]=_,u({...i,[x]:A})}function b(x,E){const _=[...i[x]];_.splice(E,1),u({...i,[x]:_})}async function C(){if(r&&confirm(`Are you sure you want to delete "${r.name}"? This cannot be undone.`))try{await an.controls.where("characteristicId").equals(r.id).delete(),await an.characteristics.delete(r.id),n(null),p(),await f(),alert(" Deleted successfully")}catch(x){alert("Error deleting: "+x.message)}}return ze.jsxs(JL,{children:[ze.jsxs(e3,{children:[ze.jsx(Dd,{$variant:"primary",onClick:p,style:{width:"100%",marginBottom:"20px"},children:"+ New Characteristic"}),t.map(x=>ze.jsxs(t3,{$selected:r?.id===x.id,onClick:()=>d(x),children:[ze.jsx(r3,{children:x.name}),ze.jsxs(n3,{children:[ze.jsx("span",{children:x.techType.toUpperCase()}),ze.jsxs("span",{children:["Score: ",x.baseScore]})]})]},x.id)),t.length===0&&ze.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontSize:"13px"},children:["No characteristics yet.",ze.jsx("br",{}),'Click "New Characteristic" to add one.']})]}),ze.jsx(a3,{children:r||s.key===""?ze.jsxs(ze.Fragment,{children:[ze.jsx("h2",{children:r?"Edit Characteristic":"New Characteristic"}),ze.jsxs(pc,{children:[ze.jsx(gc,{children:"Key (unique identifier) *"}),ze.jsx(Qd,{value:s.key,onChange:x=>l({...s,key:x.target.value}),placeholder:"e.g., autonomous_decision"})]}),ze.jsxs(pc,{children:[ze.jsx(gc,{children:"Display Name *"}),ze.jsx(Qd,{value:s.name,onChange:x=>l({...s,name:x.target.value}),placeholder:"e.g., Operates Autonomously"})]}),ze.jsxs(pc,{children:[ze.jsx(gc,{children:"Description"}),ze.jsx(i3,{value:s.description,onChange:x=>l({...s,description:x.target.value}),placeholder:"Describe what this characteristic means and why it matters..."})]}),ze.jsxs(pc,{children:[ze.jsx(gc,{children:"Technology Type"}),ze.jsxs(u3,{value:s.techType,onChange:x=>l({...s,techType:x.target.value}),children:[ze.jsx("option",{value:"ml",children:"Machine Learning (ML)"}),ze.jsx("option",{value:"llm",children:"Large Language Model (LLM)"}),ze.jsx("option",{value:"imaging",children:"Medical Imaging AI"}),ze.jsx("option",{value:"wearables",children:"Wearables/Sensors"}),ze.jsx("option",{value:"apps",children:"Digital Health Apps"})]})]}),ze.jsxs(pc,{children:[ze.jsx(gc,{children:"Base Severity Score (1-4)"}),ze.jsx(Qd,{type:"number",min:"1",max:"4",value:s.baseScore,onChange:x=>l({...s,baseScore:parseInt(x.target.value)||1})}),ze.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.5)",marginTop:"5px"},children:"1 = Low concern, 4 = High concern"})]}),ze.jsxs(o3,{children:[ze.jsx(s3,{children:"Recommended Controls by Risk Level"}),ze.jsx(l3,{children:"Define different controls based on the overall project risk level. Low risk projects get simpler controls, high risk projects get comprehensive ones."}),["low","medium","high"].map(x=>ze.jsxs(c3,{$level:x,children:[ze.jsxs(f3,{$level:x,children:[x.toUpperCase()," Risk Controls"]}),i[x].map((E,_)=>ze.jsxs(d3,{children:[ze.jsx(v3,{value:E,onChange:A=>m(x,_,A.target.value),placeholder:`Enter ${x} risk control...`}),ze.jsx(h3,{onClick:()=>b(x,_),children:"Remove"})]},_)),ze.jsxs(Dd,{onClick:()=>g(x),style:{marginTop:"10px"},children:["+ Add ",x," risk control"]})]},x))]}),ze.jsxs(g3,{children:[ze.jsx(Dd,{$variant:"primary",onClick:v,children:" Save Characteristic"}),r&&ze.jsx(Dd,{$variant:"danger",onClick:C,children:" Delete"})]})]}):ze.jsxs(p3,{children:[ze.jsx("h2",{children:"Select a characteristic to edit"}),ze.jsx("p",{children:"or create a new one from the sidebar"})]})})]})}function xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function m3(t){if(Array.isArray(t))return t}function b3(t){if(Array.isArray(t))return xx(t)}function Gu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mq(n.key),n)}}function ju(t,e,r){return e&&w3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sa(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Yx(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var f=r.next();return s=f.done,f},e:function(f){l=!0,u=f},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw u}}}}function Oq(t,e,r){return(e=Mq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E3(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,u,s,l=[],f=!0,d=!1;try{if(u=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=u.call(r)).done)&&(l.push(n.value),l.length!==e);f=!0);}catch(v){d=!0,i=v}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function S3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function un(t,e){return m3(t)||E3(t,e)||Yx(t,e)||S3()}function pv(t){return b3(t)||x3(t)||Yx(t)||T3()}function _3(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mq(t){var e=_3(t,"string");return typeof e=="symbol"?e:e+""}function dn(t){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(t)}function Yx(t,e){if(t){if(typeof t=="string")return xx(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xx(t,e):void 0}}var cn=typeof window>"u"?null:window,c_=cn?cn.navigator:null;cn&&cn.document;var C3=dn(""),Bq=dn({}),A3=dn(function(){}),R3=typeof HTMLElement>"u"?"undefined":dn(HTMLElement),Jc=function(e){return e&&e.instanceString&&Ur(e.instanceString)?e.instanceString():null},yt=function(e){return e!=null&&dn(e)==C3},Ur=function(e){return e!=null&&dn(e)===A3},br=function(e){return!ma(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Jt=function(e){return e!=null&&dn(e)===Bq&&!br(e)&&e.constructor===Object},D3=function(e){return e!=null&&dn(e)===Bq},et=function(e){return e!=null&&dn(e)===dn(1)&&!isNaN(e)},O3=function(e){return et(e)&&Math.floor(e)===e},gv=function(e){if(R3!=="undefined")return e!=null&&e instanceof HTMLElement},ma=function(e){return ef(e)||qq(e)},ef=function(e){return Jc(e)==="collection"&&e._private.single},qq=function(e){return Jc(e)==="collection"&&!e._private.single},$x=function(e){return Jc(e)==="core"},kq=function(e){return Jc(e)==="stylesheet"},M3=function(e){return Jc(e)==="event"},Nu=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},B3=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},q3=function(e){return Jt(e)&&et(e.x1)&&et(e.x2)&&et(e.y1)&&et(e.y2)},k3=function(e){return D3(e)&&Ur(e.then)},z3=function(){return c_&&c_.userAgent.match(/msie|trident|edge/i)},rl=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var u=[],s=0;s<arguments.length;s++)u.push(arguments[s]);return u.join("$")});var n=function(){var u=this,s=arguments,l,f=r.apply(u,s),d=n.cache;return(l=d[f])||(l=d[f]=e.apply(u,s)),l};return n.cache={},n},Xx=rl(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Lv=rl(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),zq=rl(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),f_=function(e){return Nu(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Mu=function(e,r){return e.slice(-1*r.length)===r},fn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",N3="rgb[a]?\\(("+fn+"[%]?)\\s*,\\s*("+fn+"[%]?)\\s*,\\s*("+fn+"[%]?)(?:\\s*,\\s*("+fn+"))?\\)",L3="rgb[a]?\\((?:"+fn+"[%]?)\\s*,\\s*(?:"+fn+"[%]?)\\s*,\\s*(?:"+fn+"[%]?)(?:\\s*,\\s*(?:"+fn+"))?\\)",P3="hsl[a]?\\(("+fn+")\\s*,\\s*("+fn+"[%])\\s*,\\s*("+fn+"[%])(?:\\s*,\\s*("+fn+"))?\\)",I3="hsl[a]?\\((?:"+fn+")\\s*,\\s*(?:"+fn+"[%])\\s*,\\s*(?:"+fn+"[%])(?:\\s*,\\s*(?:"+fn+"))?\\)",U3="\\#[0-9a-fA-F]{3}",F3="\\#[0-9a-fA-F]{6}",Nq=function(e,r){return e<r?-1:e>r?1:0},V3=function(e,r){return-1*Nq(e,r)},St=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),u=0;u<i.length;u++){var s=i[u];t[s]=n[s]}}return t},G3=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,u,s=16;return r?(n=parseInt(e[1]+e[1],s),i=parseInt(e[2]+e[2],s),u=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),i=parseInt(e[3]+e[4],s),u=parseInt(e[5]+e[6],s)),[n,i,u]}},j3=function(e){var r,n,i,u,s,l,f,d;function v(b,C,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?b+(C-b)*6*x:x<1/2?C:x<2/3?b+(C-b)*(2/3-x)*6:b}var p=new RegExp("^"+P3+"$").exec(e);if(p){if(n=parseInt(p[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(p[2]),i<0||i>100||(i=i/100,u=parseFloat(p[3]),u<0||u>100)||(u=u/100,s=p[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(i===0)l=f=d=Math.round(u*255);else{var g=u<.5?u*(1+i):u+i-u*i,m=2*u-g;l=Math.round(255*v(m,g,n+1/3)),f=Math.round(255*v(m,g,n)),d=Math.round(255*v(m,g,n-1/3))}r=[l,f,d,s]}return r},H3=function(e){var r,n=new RegExp("^"+N3+"$").exec(e);if(n){r=[];for(var i=[],u=1;u<=3;u++){var s=n[u];if(s[s.length-1]==="%"&&(i[u]=!0),s=parseFloat(s),i[u]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var l=i[1]||i[2]||i[3],f=i[1]&&i[2]&&i[3];if(l&&!f)return;var d=n[4];if(d!==void 0){if(d=parseFloat(d),d<0||d>1)return;r.push(d)}}return r},K3=function(e){return Y3[e.toLowerCase()]},Lq=function(e){return(br(e)?e:null)||K3(e)||G3(e)||H3(e)||j3(e)},Y3={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Pq=function(e){for(var r=e.map,n=e.keys,i=n.length,u=0;u<i;u++){var s=n[u];if(Jt(s))throw Error("Tried to set map with object key");u<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},Iq=function(e){for(var r=e.map,n=e.keys,i=n.length,u=0;u<i;u++){var s=n[u];if(Jt(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},Od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bg,d_;function rf(){if(d_)return bg;d_=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return bg=t,bg}var wg,v_;function $3(){if(v_)return wg;v_=1;var t=typeof Od=="object"&&Od&&Od.Object===Object&&Od;return wg=t,wg}var xg,h_;function Pv(){if(h_)return xg;h_=1;var t=$3(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return xg=r,xg}var Eg,p_;function X3(){if(p_)return Eg;p_=1;var t=Pv(),e=function(){return t.Date.now()};return Eg=e,Eg}var Sg,g_;function Z3(){if(g_)return Sg;g_=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Sg=e,Sg}var Tg,y_;function Q3(){if(y_)return Tg;y_=1;var t=Z3(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Tg=r,Tg}var _g,m_;function Zx(){if(m_)return _g;m_=1;var t=Pv(),e=t.Symbol;return _g=e,_g}var Cg,b_;function W3(){if(b_)return Cg;b_=1;var t=Zx(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function u(s){var l=r.call(s,i),f=s[i];try{s[i]=void 0;var d=!0}catch{}var v=n.call(s);return d&&(l?s[i]=f:delete s[i]),v}return Cg=u,Cg}var Ag,w_;function J3(){if(w_)return Ag;w_=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Ag=r,Ag}var Rg,x_;function Uq(){if(x_)return Rg;x_=1;var t=Zx(),e=W3(),r=J3(),n="[object Null]",i="[object Undefined]",u=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:u&&u in Object(l)?e(l):r(l)}return Rg=s,Rg}var Dg,E_;function e4(){if(E_)return Dg;E_=1;function t(e){return e!=null&&typeof e=="object"}return Dg=t,Dg}var Og,S_;function nf(){if(S_)return Og;S_=1;var t=Uq(),e=e4(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Og=n,Og}var Mg,T_;function t4(){if(T_)return Mg;T_=1;var t=Q3(),e=rf(),r=nf(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function f(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var v=typeof d.valueOf=="function"?d.valueOf():d;d=e(v)?v+"":v}if(typeof d!="string")return d===0?d:+d;d=t(d);var p=u.test(d);return p||s.test(d)?l(d.slice(2),p?2:8):i.test(d)?n:+d}return Mg=f,Mg}var Bg,__;function r4(){if(__)return Bg;__=1;var t=rf(),e=X3(),r=t4(),n="Expected a function",i=Math.max,u=Math.min;function s(l,f,d){var v,p,g,m,b,C,x=0,E=!1,_=!1,A=!0;if(typeof l!="function")throw new TypeError(n);f=r(f)||0,t(d)&&(E=!!d.leading,_="maxWait"in d,g=_?i(r(d.maxWait)||0,f):g,A="trailing"in d?!!d.trailing:A);function R(G){var Z=v,J=p;return v=p=void 0,x=G,m=l.apply(J,Z),m}function M(G){return x=G,b=setTimeout(N,f),E?R(G):m}function B(G){var Z=G-C,J=G-x,j=f-Z;return _?u(j,g-J):j}function O(G){var Z=G-C,J=G-x;return C===void 0||Z>=f||Z<0||_&&J>=g}function N(){var G=e();if(O(G))return L(G);b=setTimeout(N,B(G))}function L(G){return b=void 0,A&&v?R(G):(v=p=void 0,m)}function P(){b!==void 0&&clearTimeout(b),x=0,v=C=p=b=void 0}function I(){return b===void 0?m:L(e())}function V(){var G=e(),Z=O(G);if(v=arguments,p=this,C=G,Z){if(b===void 0)return M(C);if(_)return clearTimeout(b),b=setTimeout(N,f),R(C)}return b===void 0&&(b=setTimeout(N,f)),m}return V.cancel=P,V.flush=I,V}return Bg=s,Bg}var n4=r4(),af=tf(n4),qg=cn?cn.performance:null,Fq=qg&&qg.now?function(){return qg.now()}:function(){return Date.now()},a4=(function(){if(cn){if(cn.requestAnimationFrame)return function(t){cn.requestAnimationFrame(t)};if(cn.mozRequestAnimationFrame)return function(t){cn.mozRequestAnimationFrame(t)};if(cn.webkitRequestAnimationFrame)return function(t){cn.webkitRequestAnimationFrame(t)};if(cn.msRequestAnimationFrame)return function(t){cn.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Fq())},1e3/60)}})(),yv=function(e){return a4(e)},Gi=Fq,_o=9261,Vq=65599,Fs=5381,Gq=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_o,n=r,i;i=e.next(),!i.done;)n=n*Vq+i.value|0;return n},Vc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_o;return r*Vq+e|0},Gc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fs;return(r<<5)+r+e|0},i4=function(e,r){return e*2097152+r},Au=function(e){return e[0]*2097152+e[1]},Md=function(e,r){return[Vc(e[0],r[0]),Gc(e[1],r[1])]},C_=function(e,r){var n={value:0,done:!1},i=0,u=e.length,s={next:function(){return i<u?n.value=e[i++]:n.done=!0,n}};return Gq(s,r)},Mo=function(e,r){var n={value:0,done:!1},i=0,u=e.length,s={next:function(){return i<u?n.value=e.charCodeAt(i++):n.done=!0,n}};return Gq(s,r)},jq=function(){return u4(arguments)},u4=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=Mo(i):r=Mo(i,r)}return r};function o4(t,e,r,n,i){var u=i*Math.PI/180,s=Math.cos(u)*(t-r)-Math.sin(u)*(e-n)+r,l=Math.sin(u)*(t-r)+Math.cos(u)*(e-n)+n;return{x:s,y:l}}var s4=function(e,r,n,i,u,s){return{x:(e-n)*u+n,y:(r-i)*s+i}};function l4(t,e,r){if(r===0)return t;var n=(e.x1+e.x2)/2,i=(e.y1+e.y2)/2,u=e.w/e.h,s=1/u,l=o4(t.x,t.y,n,i,r),f=s4(l.x,l.y,n,i,u,s);return{x:f.x,y:f.y}}var A_=!0,c4=console.warn!=null,f4=console.trace!=null,Qx=Number.MAX_SAFE_INTEGER||9007199254740991,Hq=function(){return!0},mv=function(){return!1},R_=function(){return 0},Wx=function(){},qr=function(e){throw new Error(e)},Kq=function(e){if(e!==void 0)A_=!!e;else return A_},lr=function(e){Kq()&&(c4?console.warn(e):(console.log(e),f4&&console.trace()))},d4=function(e){return St({},e)},si=function(e){return e==null?e:br(e)?e.slice():Jt(e)?d4(e):e},v4=function(e){return e.slice()},Yq=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},h4={},$q=function(){return h4},qn=function(e){var r=Object.keys(e);return function(n){for(var i={},u=0;u<r.length;u++){var s=r[u],l=n?.[s];i[s]=l===void 0?e[s]:l}return i}},Lu=function(e,r,n){for(var i=e.length-1;i>=0;i--)e[i]===r&&e.splice(i,1)},Jx=function(e){e.splice(0,e.length)},p4=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},ia=function(e,r,n){return n&&(r=zq(n,r)),e[r]},Fi=function(e,r,n,i){n&&(r=zq(n,r)),e[r]=i},g4=(function(){function t(){Gu(this,t),this._obj={}}return ju(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])})(),Vi=typeof Map<"u"?Map:g4,y4="undefined",m4=(function(){function t(e){if(Gu(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return ju(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])})(),ul=(typeof Set>"u"?"undefined":dn(Set))!==y4?Set:m4,Iv=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!$x(e)){qr("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){qr("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var u=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new ul,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(u.position.x==null&&(u.position.x=0),u.position.y==null&&(u.position.y=0),r.renderedPosition){var s=r.renderedPosition,l=e.pan(),f=e.zoom();u.position={x:(s.x-l.x)/f,y:(s.y-l.y)/f}}var d=[];br(r.classes)?d=r.classes:yt(r.classes)&&(d=r.classes.split(/\s+/));for(var v=0,p=d.length;v<p;v++){var g=d[v];!g||g===""||u.classes.add(g)}this.createEmitter(),(n===void 0||n)&&this.restore();var m=r.style||r.css;m&&(lr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(m))},D_=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,u){var s;Jt(n)&&!ma(n)&&(s=n,n=s.roots||s.root,i=s.visit,u=s.directed),u=arguments.length===2&&!Ur(i)?i:u,i=Ur(i)?i:function(){};for(var l=this._private.cy,f=n=yt(n)?this.filter(n):n,d=[],v=[],p={},g={},m={},b=0,C,x=this.byGroup(),E=x.nodes,_=x.edges,A=0;A<f.length;A++){var R=f[A],M=R.id();R.isNode()&&(d.unshift(R),e.bfs&&(m[M]=!0,v.push(R)),g[M]=0)}for(var B=function(){var G=e.bfs?d.shift():d.pop(),Z=G.id();if(e.dfs){if(m[Z])return 0;m[Z]=!0,v.push(G)}var J=g[Z],j=p[Z],Y=j!=null?j.source():null,W=j!=null?j.target():null,oe=j==null?void 0:G.same(Y)?W[0]:Y[0],se;if(se=i(G,j,oe,b++,J),se===!0)return C=G,1;if(se===!1)return 1;for(var U=G.connectedEdges().filter(function(re){return(!u||re.source().same(G))&&_.has(re)}),X=0;X<U.length;X++){var ue=U[X],$=ue.connectedNodes().filter(function(re){return!re.same(G)&&E.has(re)}),ee=$.id();$.length!==0&&!m[ee]&&($=$[0],d.push($),e.bfs&&(m[ee]=!0,v.push($)),p[ee]=ue,g[ee]=g[Z]+1)}},O;d.length!==0&&(O=B(),!(O!==0&&O===1)););for(var N=l.collection(),L=0;L<v.length;L++){var P=v[L],I=p[P.id()];I!=null&&N.push(I),N.push(P)}return{path:l.collection(N),found:l.collection(C)}}},jc={breadthFirstSearch:D_({bfs:!0}),depthFirstSearch:D_({dfs:!0})};jc.bfs=jc.breadthFirstSearch;jc.dfs=jc.depthFirstSearch;var Wd={exports:{}},b4=Wd.exports,O_;function w4(){return O_||(O_=1,(function(t,e){(function(){var r,n,i,u,s,l,f,d,v,p,g,m,b,C,x;i=Math.floor,p=Math.min,n=function(E,_){return E<_?-1:E>_?1:0},v=function(E,_,A,R,M){var B;if(A==null&&(A=0),M==null&&(M=n),A<0)throw new Error("lo must be non-negative");for(R==null&&(R=E.length);A<R;)B=i((A+R)/2),M(_,E[B])<0?R=B:A=B+1;return[].splice.apply(E,[A,A-A].concat(_)),_},l=function(E,_,A){return A==null&&(A=n),E.push(_),C(E,0,E.length-1,A)},s=function(E,_){var A,R;return _==null&&(_=n),A=E.pop(),E.length?(R=E[0],E[0]=A,x(E,0,_)):R=A,R},d=function(E,_,A){var R;return A==null&&(A=n),R=E[0],E[0]=_,x(E,0,A),R},f=function(E,_,A){var R;return A==null&&(A=n),E.length&&A(E[0],_)<0&&(R=[E[0],_],_=R[0],E[0]=R[1],x(E,0,A)),_},u=function(E,_){var A,R,M,B,O,N;for(_==null&&(_=n),B=(function(){N=[];for(var L=0,P=i(E.length/2);0<=P?L<P:L>P;0<=P?L++:L--)N.push(L);return N}).apply(this).reverse(),O=[],R=0,M=B.length;R<M;R++)A=B[R],O.push(x(E,A,_));return O},b=function(E,_,A){var R;if(A==null&&(A=n),R=E.indexOf(_),R!==-1)return C(E,0,R,A),x(E,R,A)},g=function(E,_,A){var R,M,B,O,N;if(A==null&&(A=n),M=E.slice(0,_),!M.length)return M;for(u(M,A),N=E.slice(_),B=0,O=N.length;B<O;B++)R=N[B],f(M,R,A);return M.sort(A).reverse()},m=function(E,_,A){var R,M,B,O,N,L,P,I,V;if(A==null&&(A=n),_*10<=E.length){if(B=E.slice(0,_).sort(A),!B.length)return B;for(M=B[B.length-1],P=E.slice(_),O=0,L=P.length;O<L;O++)R=P[O],A(R,M)<0&&(v(B,R,0,null,A),B.pop(),M=B[B.length-1]);return B}for(u(E,A),V=[],N=0,I=p(_,E.length);0<=I?N<I:N>I;0<=I?++N:--N)V.push(s(E,A));return V},C=function(E,_,A,R){var M,B,O;for(R==null&&(R=n),M=E[A];A>_;){if(O=A-1>>1,B=E[O],R(M,B)<0){E[A]=B,A=O;continue}break}return E[A]=M},x=function(E,_,A){var R,M,B,O,N;for(A==null&&(A=n),M=E.length,N=_,B=E[_],R=2*_+1;R<M;)O=R+1,O<M&&!(A(E[R],E[O])<0)&&(R=O),E[_]=E[R],_=R,R=2*_+1;return E[_]=B,C(E,N,_,A)},r=(function(){E.push=l,E.pop=s,E.replace=d,E.pushpop=f,E.heapify=u,E.updateItem=b,E.nlargest=g,E.nsmallest=m;function E(_){this.cmp=_??n,this.nodes=[]}return E.prototype.push=function(_){return l(this.nodes,_,this.cmp)},E.prototype.pop=function(){return s(this.nodes,this.cmp)},E.prototype.peek=function(){return this.nodes[0]},E.prototype.contains=function(_){return this.nodes.indexOf(_)!==-1},E.prototype.replace=function(_){return d(this.nodes,_,this.cmp)},E.prototype.pushpop=function(_){return f(this.nodes,_,this.cmp)},E.prototype.heapify=function(){return u(this.nodes,this.cmp)},E.prototype.updateItem=function(_){return b(this.nodes,_,this.cmp)},E.prototype.clear=function(){return this.nodes=[]},E.prototype.empty=function(){return this.nodes.length===0},E.prototype.size=function(){return this.nodes.length},E.prototype.clone=function(){var _;return _=new E,_.nodes=this.nodes.slice(0),_},E.prototype.toArray=function(){return this.nodes.slice(0)},E.prototype.insert=E.prototype.push,E.prototype.top=E.prototype.peek,E.prototype.front=E.prototype.peek,E.prototype.has=E.prototype.contains,E.prototype.copy=E.prototype.clone,E})(),(function(E,_){return t.exports=_()})(this,function(){return r})}).call(b4)})(Wd)),Wd.exports}var kg,M_;function x4(){return M_||(M_=1,kg=w4()),kg}var E4=x4(),uf=tf(E4),S4=qn({root:null,weight:function(e){return 1},directed:!1}),T4={dijkstra:function(e){if(!Jt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=S4(e),i=n.root,u=n.weight,s=n.directed,l=this,f=u,d=yt(i)?this.filter(i)[0]:i[0],v={},p={},g={},m=this.byGroup(),b=m.nodes,C=m.edges;C.unmergeBy(function(J){return J.isLoop()});for(var x=function(j){return v[j.id()]},E=function(j,Y){v[j.id()]=Y,_.updateItem(j)},_=new uf(function(J,j){return x(J)-x(j)}),A=0;A<b.length;A++){var R=b[A];v[R.id()]=R.same(d)?0:1/0,_.push(R)}for(var M=function(j,Y){for(var W=(s?j.edgesTo(Y):j.edgesWith(Y)).intersect(C),oe=1/0,se,U=0;U<W.length;U++){var X=W[U],ue=f(X);(ue<oe||!se)&&(oe=ue,se=X)}return{edge:se,dist:oe}};_.size()>0;){var B=_.pop(),O=x(B),N=B.id();if(g[N]=O,O!==1/0)for(var L=B.neighborhood().intersect(b),P=0;P<L.length;P++){var I=L[P],V=I.id(),G=M(B,I),Z=O+G.dist;Z<x(I)&&(E(I,Z),p[V]={node:B,edge:G.edge})}}return{distanceTo:function(j){var Y=yt(j)?b.filter(j)[0]:j[0];return g[Y.id()]},pathTo:function(j){var Y=yt(j)?b.filter(j)[0]:j[0],W=[],oe=Y,se=oe.id();if(Y.length>0)for(W.unshift(Y);p[se];){var U=p[se];W.unshift(U.edge),W.unshift(U.node),oe=U.node,se=oe.id()}return l.spawn(W)}}}},_4={kruskal:function(e){e=e||function(A){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,u=n.length,s=new Array(u),l=n,f=function(R){for(var M=0;M<s.length;M++){var B=s[M];if(B.has(R))return M}},d=0;d<u;d++)s[d]=this.spawn(n[d]);for(var v=i.sort(function(A,R){return e(A)-e(R)}),p=0;p<v.length;p++){var g=v[p],m=g.source()[0],b=g.target()[0],C=f(m),x=f(b),E=s[C],_=s[x];C!==x&&(l.merge(g),E.merge(_),s.splice(x,1))}return l}},C4=qn({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),A4={aStar:function(e){var r=this.cy(),n=C4(e),i=n.root,u=n.goal,s=n.heuristic,l=n.directed,f=n.weight;i=r.collection(i)[0],u=r.collection(u)[0];var d=i.id(),v=u.id(),p={},g={},m={},b=new uf(function(se,U){return g[se.id()]-g[U.id()]}),C=new ul,x={},E={},_=function(U,X){b.push(U),C.add(X)},A,R,M=function(){A=b.pop(),R=A.id(),C.delete(R)},B=function(U){return C.has(U)};_(i,d),p[d]=0,g[d]=s(i);for(var O=0;b.size()>0;){if(M(),O++,R===v){for(var N=[],L=u,P=v,I=E[P];N.unshift(L),I!=null&&N.unshift(I),L=x[P],L!=null;)P=L.id(),I=E[P];return{found:!0,distance:p[R],path:this.spawn(N),steps:O}}m[R]=!0;for(var V=A._private.edges,G=0;G<V.length;G++){var Z=V[G];if(this.hasElementWithId(Z.id())&&!(l&&Z.data("source")!==R)){var J=Z.source(),j=Z.target(),Y=J.id()!==R?J:j,W=Y.id();if(this.hasElementWithId(W)&&!m[W]){var oe=p[R]+f(Z);if(!B(W)){p[W]=oe,g[W]=oe+s(Y),_(Y,W),x[W]=A,E[W]=Z;continue}oe<p[W]&&(p[W]=oe,g[W]=oe+s(Y),x[W]=A,E[W]=Z)}}}}return{found:!1,distance:void 0,path:void 0,steps:O}}},R4=qn({weight:function(e){return 1},directed:!1}),D4={floydWarshall:function(e){for(var r=this.cy(),n=R4(e),i=n.weight,u=n.directed,s=i,l=this.byGroup(),f=l.nodes,d=l.edges,v=f.length,p=v*v,g=function(ue){return f.indexOf(ue)},m=function(ue){return f[ue]},b=new Array(p),C=0;C<p;C++){var x=C%v,E=(C-x)/v;E===x?b[C]=0:b[C]=1/0}for(var _=new Array(p),A=new Array(p),R=0;R<d.length;R++){var M=d[R],B=M.source()[0],O=M.target()[0];if(B!==O){var N=g(B),L=g(O),P=N*v+L,I=s(M);if(b[P]>I&&(b[P]=I,_[P]=L,A[P]=M),!u){var V=L*v+N;!u&&b[V]>I&&(b[V]=I,_[V]=N,A[V]=M)}}}for(var G=0;G<v;G++)for(var Z=0;Z<v;Z++)for(var J=Z*v+G,j=0;j<v;j++){var Y=Z*v+j,W=G*v+j;b[J]+b[W]<b[Y]&&(b[Y]=b[J]+b[W],_[Y]=_[J])}var oe=function(ue){return(yt(ue)?r.filter(ue):ue)[0]},se=function(ue){return g(oe(ue))},U={distance:function(ue,$){var ee=se(ue),re=se($);return b[ee*v+re]},path:function(ue,$){var ee=se(ue),re=se($),de=m(ee);if(ee===re)return de.collection();if(_[ee*v+re]==null)return r.collection();var ke=r.collection(),ie=ee,he;for(ke.merge(de);ee!==re;)ie=ee,ee=_[ee*v+re],he=A[ie*v+ee],ke.merge(he),ke.merge(m(ee));return ke}};return U}},O4=qn({weight:function(e){return 1},directed:!1,root:null}),M4={bellmanFord:function(e){var r=this,n=O4(e),i=n.weight,u=n.directed,s=n.root,l=i,f=this,d=this.cy(),v=this.byGroup(),p=v.edges,g=v.nodes,m=g.length,b=new Vi,C=!1,x=[];s=d.collection(s)[0],p.unmergeBy(function(Ze){return Ze.isLoop()});for(var E=p.length,_=function(vt){var ct=b.get(vt.id());return ct||(ct={},b.set(vt.id(),ct)),ct},A=function(vt){return(yt(vt)?d.$(vt):vt)[0]},R=function(vt){return _(A(vt)).dist},M=function(vt){for(var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Qe=A(vt),tt=[],ot=Qe;;){if(ot==null)return r.spawn();var st=_(ot),rt=st.edge,xt=st.pred;if(tt.unshift(ot[0]),ot.same(ct)&&tt.length>0)break;rt!=null&&tt.unshift(rt),ot=xt}return f.spawn(tt)},B=0;B<m;B++){var O=g[B],N=_(O);O.same(s)?N.dist=0:N.dist=1/0,N.pred=null,N.edge=null}for(var L=!1,P=function(vt,ct,Qe,tt,ot,st){var rt=tt.dist+st;rt<ot.dist&&!Qe.same(tt.edge)&&(ot.dist=rt,ot.pred=vt,ot.edge=Qe,L=!0)},I=1;I<m;I++){L=!1;for(var V=0;V<E;V++){var G=p[V],Z=G.source(),J=G.target(),j=l(G),Y=_(Z),W=_(J);P(Z,J,G,Y,W,j),u||P(J,Z,G,W,Y,j)}if(!L)break}if(L)for(var oe=[],se=0;se<E;se++){var U=p[se],X=U.source(),ue=U.target(),$=l(U),ee=_(X).dist,re=_(ue).dist;if(ee+$<re||!u&&re+$<ee)if(C||(lr("Graph contains a negative weight cycle for Bellman-Ford"),C=!0),e.findNegativeWeightCycles!==!1){var de=[];ee+$<re&&de.push(X),!u&&re+$<ee&&de.push(ue);for(var ke=de.length,ie=0;ie<ke;ie++){var he=de[ie],be=[he];be.push(_(he).edge);for(var ge=_(he).pred;be.indexOf(ge)===-1;)be.push(ge),be.push(_(ge).edge),ge=_(ge).pred;be=be.slice(be.indexOf(ge));for(var Me=be[0].id(),je=0,He=2;He<be.length;He+=2)be[He].id()<Me&&(Me=be[He].id(),je=He);be=be.slice(je).concat(be.slice(0,je)),be.push(be[0]);var Ct=be.map(function(Ze){return Ze.id()}).join(",");oe.indexOf(Ct)===-1&&(x.push(f.spawn(be)),oe.push(Ct))}}else break}return{distanceTo:R,pathTo:M,hasNegativeWeightCycle:C,negativeWeightCycles:x}}},B4=Math.sqrt(2),q4=function(e,r,n){n.length===0&&qr("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],u=i[1],s=i[2],l=r[u],f=r[s],d=n,v=d.length-1;v>=0;v--){var p=d[v],g=p[1],m=p[2];(r[g]===l&&r[m]===f||r[g]===f&&r[m]===l)&&d.splice(v,1)}for(var b=0;b<d.length;b++){var C=d[b];C[1]===f?(d[b]=C.slice(),d[b][1]=l):C[2]===f&&(d[b]=C.slice(),d[b][2]=l)}for(var x=0;x<r.length;x++)r[x]===f&&(r[x]=l);return d},zg=function(e,r,n,i){for(;n>i;){var u=Math.floor(Math.random()*r.length);r=q4(u,e,r),n--}return r},k4={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(W){return W.isLoop()});var u=n.length,s=i.length,l=Math.ceil(Math.pow(Math.log(u)/Math.LN2,2)),f=Math.floor(u/B4);if(u<2){qr("At least 2 nodes are required for Karger-Stein algorithm");return}for(var d=[],v=0;v<s;v++){var p=i[v];d.push([v,n.indexOf(p.source()),n.indexOf(p.target())])}for(var g=1/0,m=[],b=new Array(u),C=new Array(u),x=new Array(u),E=function(oe,se){for(var U=0;U<u;U++)se[U]=oe[U]},_=0;_<=l;_++){for(var A=0;A<u;A++)C[A]=A;var R=zg(C,d.slice(),u,f),M=R.slice();E(C,x);var B=zg(C,R,f,2),O=zg(x,M,f,2);B.length<=O.length&&B.length<g?(g=B.length,m=B,E(C,b)):O.length<=B.length&&O.length<g&&(g=O.length,m=O,E(x,b))}for(var N=this.spawn(m.map(function(W){return i[W[0]]})),L=this.spawn(),P=this.spawn(),I=b[0],V=0;V<b.length;V++){var G=b[V],Z=n[V];G===I?L.merge(Z):P.merge(Z)}var J=function(oe){var se=e.spawn();return oe.forEach(function(U){se.merge(U),U.connectedEdges().forEach(function(X){e.contains(X)&&!N.contains(X)&&se.merge(X)})}),se},j=[J(L),J(P)],Y={cut:N,components:j,partition1:L,partition2:P};return Y}},Ng,z4=function(e){return{x:e.x,y:e.y}},Uv=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Xq=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},Gs=function(e){return{x:e[0],y:e[1]}},N4=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,u=r;u<n;u++){var s=e[u];isFinite(s)&&(i=Math.min(s,i))}return i},L4=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,u=r;u<n;u++){var s=e[u];isFinite(s)&&(i=Math.max(s,i))}return i},P4=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,u=0,s=r;s<n;s++){var l=e[s];isFinite(l)&&(i+=l,u++)}return i/u},I4=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var l=0,f=e.length-1;f>=0;f--){var d=e[f];s?isFinite(d)||(e[f]=-1/0,l++):e.splice(f,1)}u&&e.sort(function(g,m){return g-m});var v=e.length,p=Math.floor(v/2);return v%2!==0?e[p+1+l]:(e[p-1+l]+e[p+l])/2},U4=function(e){return Math.PI*e/180},Bd=function(e,r){return Math.atan2(r,e)-Math.PI/2},eE=Math.log2||function(t){return Math.log(t)/Math.log(2)},tE=function(e){return e>0?1:e<0?-1:0},Bo=function(e,r){return Math.sqrt(So(e,r))},So=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},F4=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var u=0;u<r;u++)e[u]=e[u]/n;return e},wn=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},Ks=function(e,r,n,i){return{x:wn(e.x,r.x,n.x,i),y:wn(e.y,r.y,n.y,i)}},V4=function(e,r,n,i){var u={x:r.x-e.x,y:r.y-e.y},s=Bo(e,r),l={x:u.x/s,y:u.y/s};return n=n??0,i=i??n*s,{x:e.x+l.x*i,y:e.y+l.y*i}},Hc=function(e,r,n){return Math.max(e,Math.min(n,r))},$n=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},G4=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},j4=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},H4=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Zq=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Jd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},ev=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,u,s;if(r.length===1)n=i=u=s=r[0];else if(r.length===2)n=u=r[0],s=i=r[1];else if(r.length===4){var l=un(r,4);n=l[0],i=l[1],u=l[2],s=l[3]}return e.x1-=s,e.x2+=i,e.y1-=n,e.y2+=u,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},B_=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},rE=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Bu=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},q_=function(e,r){return Bu(e,r.x,r.y)},Qq=function(e,r){return Bu(e,r.x1,r.y1)&&Bu(e,r.x2,r.y2)},K4=(Ng=Math.hypot)!==null&&Ng!==void 0?Ng:function(t,e){return Math.sqrt(t*t+e*e)};function Y4(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var r=function(N,L){return{x:N.x+L.x,y:N.y+L.y}},n=function(N,L){return{x:N.x-L.x,y:N.y-L.y}},i=function(N,L){return{x:N.x*L,y:N.y*L}},u=function(N,L){return N.x*L.y-N.y*L.x},s=function(N){var L=K4(N.x,N.y);return L===0?{x:0,y:0}:{x:N.x/L,y:N.y/L}},l=function(N){for(var L=0,P=0;P<N.length;P++){var I=N[P],V=N[(P+1)%N.length];L+=I.x*V.y-V.x*I.y}return L/2},f=function(N,L,P,I){var V=n(L,N),G=n(I,P),Z=u(V,G);if(Math.abs(Z)<1e-9)return r(N,i(V,.5));var J=u(n(P,N),G)/Z;return r(N,i(V,J))},d=t.map(function(O){return{x:O.x,y:O.y}});l(d)<0&&d.reverse();for(var v=d.length,p=[],g=0;g<v;g++){var m=d[g],b=d[(g+1)%v],C=n(b,m),x=s({x:C.y,y:-C.x});p.push(x)}for(var E=p.map(function(O,N){var L=r(d[N],i(O,e)),P=r(d[(N+1)%v],i(O,e));return{p1:L,p2:P}}),_=[],A=0;A<v;A++){var R=E[(A-1+v)%v],M=E[A],B=f(R.p1,R.p2,M.p1,M.p2);_.push(B)}return _}function $4(t,e,r,n,i,u){var s=nP(t,e,r,n,i),l=Y4(s,u),f=$n();return l.forEach(function(d){return Zq(f,d.x,d.y)}),f}var Wq=function(e,r,n,i,u,s,l){var f=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",d=f==="auto"?Pu(u,s):f,v=u/2,p=s/2;d=Math.min(d,v,p);var g=d!==v,m=d!==p,b;if(g){var C=n-v+d-l,x=i-p-l,E=n+v-d+l,_=x;if(b=qu(e,r,n,i,C,x,E,_,!1),b.length>0)return b}if(m){var A=n+v+l,R=i-p+d-l,M=A,B=i+p-d+l;if(b=qu(e,r,n,i,A,R,M,B,!1),b.length>0)return b}if(g){var O=n-v+d-l,N=i+p+l,L=n+v-d+l,P=N;if(b=qu(e,r,n,i,O,N,L,P,!1),b.length>0)return b}if(m){var I=n-v-l,V=i-p+d-l,G=I,Z=i+p-d+l;if(b=qu(e,r,n,i,I,V,G,Z,!1),b.length>0)return b}var J;{var j=n-v+d,Y=i-p+d;if(J=Mc(e,r,n,i,j,Y,d+l),J.length>0&&J[0]<=j&&J[1]<=Y)return[J[0],J[1]]}{var W=n+v-d,oe=i-p+d;if(J=Mc(e,r,n,i,W,oe,d+l),J.length>0&&J[0]>=W&&J[1]<=oe)return[J[0],J[1]]}{var se=n+v-d,U=i+p-d;if(J=Mc(e,r,n,i,se,U,d+l),J.length>0&&J[0]>=se&&J[1]>=U)return[J[0],J[1]]}{var X=n-v+d,ue=i+p-d;if(J=Mc(e,r,n,i,X,ue,d+l),J.length>0&&J[0]<=X&&J[1]>=ue)return[J[0],J[1]]}return[]},X4=function(e,r,n,i,u,s,l){var f=l,d=Math.min(n,u),v=Math.max(n,u),p=Math.min(i,s),g=Math.max(i,s);return d-f<=e&&e<=v+f&&p-f<=r&&r<=g+f},Z4=function(e,r,n,i,u,s,l,f,d){var v={x1:Math.min(n,l,u)-d,x2:Math.max(n,l,u)+d,y1:Math.min(i,f,s)-d,y2:Math.max(i,f,s)+d};return!(e<v.x1||e>v.x2||r<v.y1||r>v.y2)},Q4=function(e,r,n,i){n-=i;var u=r*r-4*e*n;if(u<0)return[];var s=Math.sqrt(u),l=2*e,f=(-r+s)/l,d=(-r-s)/l;return[f,d]},W4=function(e,r,n,i,u){var s=1e-5;e===0&&(e=s),r/=e,n/=e,i/=e;var l,f,d,v,p,g,m,b;if(f=(3*n-r*r)/9,d=-(27*i)+r*(9*n-2*(r*r)),d/=54,l=f*f*f+d*d,u[1]=0,m=r/3,l>0){p=d+Math.sqrt(l),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),g=d-Math.sqrt(l),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),u[0]=-m+p+g,m+=(p+g)/2,u[4]=u[2]=-m,m=Math.sqrt(3)*(-g+p)/2,u[3]=m,u[5]=-m;return}if(u[5]=u[3]=0,l===0){b=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),u[0]=-m+2*b,u[4]=u[2]=-(b+m);return}f=-f,v=f*f*f,v=Math.acos(d/Math.sqrt(v)),b=2*Math.sqrt(f),u[0]=-m+b*Math.cos(v/3),u[2]=-m+b*Math.cos((v+2*Math.PI)/3),u[4]=-m+b*Math.cos((v+4*Math.PI)/3)},J4=function(e,r,n,i,u,s,l,f){var d=1*n*n-4*n*u+2*n*l+4*u*u-4*u*l+l*l+i*i-4*i*s+2*i*f+4*s*s-4*s*f+f*f,v=9*n*u-3*n*n-3*n*l-6*u*u+3*u*l+9*i*s-3*i*i-3*i*f-6*s*s+3*s*f,p=3*n*n-6*n*u+n*l-n*e+2*u*u+2*u*e-l*e+3*i*i-6*i*s+i*f-i*r+2*s*s+2*s*r-f*r,g=1*n*u-n*n+n*e-u*e+i*s-i*i+i*r-s*r,m=[];W4(d,v,p,g,m);for(var b=1e-7,C=[],x=0;x<6;x+=2)Math.abs(m[x+1])<b&&m[x]>=0&&m[x]<=1&&C.push(m[x]);C.push(1),C.push(0);for(var E=-1,_,A,R,M=0;M<C.length;M++)_=Math.pow(1-C[M],2)*n+2*(1-C[M])*C[M]*u+C[M]*C[M]*l,A=Math.pow(1-C[M],2)*i+2*(1-C[M])*C[M]*s+C[M]*C[M]*f,R=Math.pow(_-e,2)+Math.pow(A-r,2),E>=0?R<E&&(E=R):E=R;return E},eP=function(e,r,n,i,u,s){var l=[e-n,r-i],f=[u-n,s-i],d=f[0]*f[0]+f[1]*f[1],v=l[0]*l[0]+l[1]*l[1],p=l[0]*f[0]+l[1]*f[1],g=p*p/d;return p<0?v:g>d?(e-u)*(e-u)+(r-s)*(r-s):v-g},ua=function(e,r,n){for(var i,u,s,l,f,d=0,v=0;v<n.length/2;v++)if(i=n[v*2],u=n[v*2+1],v+1<n.length/2?(s=n[(v+1)*2],l=n[(v+1)*2+1]):(s=n[(v+1-n.length/2)*2],l=n[(v+1-n.length/2)*2+1]),!(i==e&&s==e))if(i>=e&&e>=s||i<=e&&e<=s)f=(e-i)/(s-i)*(l-u)+u,f>r&&d++;else continue;return d%2!==0},ji=function(e,r,n,i,u,s,l,f,d){var v=new Array(n.length),p;f[0]!=null?(p=Math.atan(f[1]/f[0]),f[0]<0?p=p+Math.PI/2:p=-p-Math.PI/2):p=f;for(var g=Math.cos(-p),m=Math.sin(-p),b=0;b<v.length/2;b++)v[b*2]=s/2*(n[b*2]*g-n[b*2+1]*m),v[b*2+1]=l/2*(n[b*2+1]*g+n[b*2]*m),v[b*2]+=i,v[b*2+1]+=u;var C;if(d>0){var x=wv(v,-d);C=bv(x)}else C=v;return ua(e,r,C)},tP=function(e,r,n,i,u,s,l,f){for(var d=new Array(n.length*2),v=0;v<f.length;v++){var p=f[v];d[v*4+0]=p.startX,d[v*4+1]=p.startY,d[v*4+2]=p.stopX,d[v*4+3]=p.stopY;var g=Math.pow(p.cx-e,2)+Math.pow(p.cy-r,2);if(g<=Math.pow(p.radius,2))return!0}return ua(e,r,d)},bv=function(e){for(var r=new Array(e.length/2),n,i,u,s,l,f,d,v,p=0;p<e.length/4;p++){n=e[p*4],i=e[p*4+1],u=e[p*4+2],s=e[p*4+3],p<e.length/4-1?(l=e[(p+1)*4],f=e[(p+1)*4+1],d=e[(p+1)*4+2],v=e[(p+1)*4+3]):(l=e[0],f=e[1],d=e[2],v=e[3]);var g=qu(n,i,u,s,l,f,d,v,!0);r[p*2]=g[0],r[p*2+1]=g[1]}return r},wv=function(e,r){for(var n=new Array(e.length*2),i,u,s,l,f=0;f<e.length/2;f++){i=e[f*2],u=e[f*2+1],f<e.length/2-1?(s=e[(f+1)*2],l=e[(f+1)*2+1]):(s=e[0],l=e[1]);var d=l-u,v=-(s-i),p=Math.sqrt(d*d+v*v),g=d/p,m=v/p;n[f*4]=i+g*r,n[f*4+1]=u+m*r,n[f*4+2]=s+g*r,n[f*4+3]=l+m*r}return n},rP=function(e,r,n,i,u,s){var l=n-e,f=i-r;l/=u,f/=s;var d=Math.sqrt(l*l+f*f),v=d-1;if(v<0)return[];var p=v/d;return[(n-e)*p+e,(i-r)*p+r]},Ro=function(e,r,n,i,u,s,l){return e-=u,r-=s,e/=n/2+l,r/=i/2+l,e*e+r*r<=1},Mc=function(e,r,n,i,u,s,l){var f=[n-e,i-r],d=[e-u,r-s],v=f[0]*f[0]+f[1]*f[1],p=2*(d[0]*f[0]+d[1]*f[1]),g=d[0]*d[0]+d[1]*d[1]-l*l,m=p*p-4*v*g;if(m<0)return[];var b=(-p+Math.sqrt(m))/(2*v),C=(-p-Math.sqrt(m))/(2*v),x=Math.min(b,C),E=Math.max(b,C),_=[];if(x>=0&&x<=1&&_.push(x),E>=0&&E<=1&&_.push(E),_.length===0)return[];var A=_[0]*f[0]+e,R=_[0]*f[1]+r;if(_.length>1){if(_[0]==_[1])return[A,R];var M=_[1]*f[0]+e,B=_[1]*f[1]+r;return[A,R,M,B]}else return[A,R]},Lg=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},qu=function(e,r,n,i,u,s,l,f,d){var v=e-u,p=n-e,g=l-u,m=r-s,b=i-r,C=f-s,x=g*m-C*v,E=p*m-b*v,_=C*p-g*b;if(_!==0){var A=x/_,R=E/_,M=.001,B=0-M,O=1+M;return B<=A&&A<=O&&B<=R&&R<=O?[e+A*p,r+A*b]:d?[e+A*p,r+A*b]:[]}else return x===0||E===0?Lg(e,n,l)===l?[l,f]:Lg(e,n,u)===u?[u,s]:Lg(u,l,n)===n?[n,i]:[]:[]},nP=function(e,r,n,i,u){var s=[],l=i/2,f=u/2,d=r,v=n;s.push({x:d+l*e[0],y:v+f*e[1]});for(var p=1;p<e.length/2;p++)s.push({x:d+l*e[p*2],y:v+f*e[p*2+1]});return s},Kc=function(e,r,n,i,u,s,l,f){var d=[],v,p=new Array(n.length),g=!0;s==null&&(g=!1);var m;if(g){for(var b=0;b<p.length/2;b++)p[b*2]=n[b*2]*s+i,p[b*2+1]=n[b*2+1]*l+u;if(f>0){var C=wv(p,-f);m=bv(C)}else m=p}else m=n;for(var x,E,_,A,R=0;R<m.length/2;R++)x=m[R*2],E=m[R*2+1],R<m.length/2-1?(_=m[(R+1)*2],A=m[(R+1)*2+1]):(_=m[0],A=m[1]),v=qu(e,r,i,u,x,E,_,A),v.length!==0&&d.push(v[0],v[1]);return d},aP=function(e,r,n,i,u,s,l,f,d){var v=[],p,g=new Array(n.length*2);d.forEach(function(_,A){A===0?(g[g.length-2]=_.startX,g[g.length-1]=_.startY):(g[A*4-2]=_.startX,g[A*4-1]=_.startY),g[A*4]=_.stopX,g[A*4+1]=_.stopY,p=Mc(e,r,i,u,_.cx,_.cy,_.radius),p.length!==0&&v.push(p[0],p[1])});for(var m=0;m<g.length/4;m++)p=qu(e,r,i,u,g[m*4],g[m*4+1],g[m*4+2],g[m*4+3],!1),p.length!==0&&v.push(p[0],p[1]);if(v.length>2){for(var b=[v[0],v[1]],C=Math.pow(b[0]-e,2)+Math.pow(b[1]-r,2),x=1;x<v.length/2;x++){var E=Math.pow(v[x*2]-e,2)+Math.pow(v[x*2+1]-r,2);E<=C&&(b[0]=v[x*2],b[1]=v[x*2+1],C=E)}return b}return v},qd=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],u=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(u-n)/u;return s<0&&(s=1e-5),[r[0]+s*i[0],r[1]+s*i[1]]},Yn=function(e,r){var n=Ex(e,r);return n=Jq(n),n},Jq=function(e){for(var r,n,i=e.length/2,u=1/0,s=1/0,l=-1/0,f=-1/0,d=0;d<i;d++)r=e[2*d],n=e[2*d+1],u=Math.min(u,r),l=Math.max(l,r),s=Math.min(s,n),f=Math.max(f,n);for(var v=2/(l-u),p=2/(f-s),g=0;g<i;g++)r=e[2*g]=e[2*g]*v,n=e[2*g+1]=e[2*g+1]*p,u=Math.min(u,r),l=Math.max(l,r),s=Math.min(s,n),f=Math.max(f,n);if(s<-1)for(var m=0;m<i;m++)n=e[2*m+1]=e[2*m+1]+(-1-s);return e},Ex=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var u=new Array(e*2),s,l=0;l<e;l++)s=l*n+i,u[2*l]=Math.cos(s),u[2*l+1]=Math.sin(-s);return u},Pu=function(e,r){return Math.min(e/4,r/4,8)},ek=function(e,r){return Math.min(e/10,r/10,8)},nE=function(){return 8},iP=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Sx=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function Pg(t,e){function r(p){for(var g=[],m=0;m<p.length;m++){var b=p[m],C=p[(m+1)%p.length],x={x:C.x-b.x,y:C.y-b.y},E={x:-x.y,y:x.x},_=Math.sqrt(E.x*E.x+E.y*E.y);g.push({x:E.x/_,y:E.y/_})}return g}function n(p,g){var m=1/0,b=-1/0,C=sa(p),x;try{for(C.s();!(x=C.n()).done;){var E=x.value,_=E.x*g.x+E.y*g.y;m=Math.min(m,_),b=Math.max(b,_)}}catch(A){C.e(A)}finally{C.f()}return{min:m,max:b}}function i(p,g){return!(p.max<g.min||g.max<p.min)}var u=[].concat(pv(r(t)),pv(r(e))),s=sa(u),l;try{for(s.s();!(l=s.n()).done;){var f=l.value,d=n(t,f),v=n(e,f);if(!i(d,v))return!1}}catch(p){s.e(p)}finally{s.f()}return!0}var uP=qn({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),oP={pageRank:function(e){for(var r=uP(e),n=r.dampingFactor,i=r.precision,u=r.iterations,s=r.weight,l=this._private.cy,f=this.byGroup(),d=f.nodes,v=f.edges,p=d.length,g=p*p,m=v.length,b=new Array(g),C=new Array(p),x=(1-n)/p,E=0;E<p;E++){for(var _=0;_<p;_++){var A=E*p+_;b[A]=0}C[E]=0}for(var R=0;R<m;R++){var M=v[R],B=M.data("source"),O=M.data("target");if(B!==O){var N=d.indexOfId(B),L=d.indexOfId(O),P=s(M),I=L*p+N;b[I]+=P,C[N]+=P}}for(var V=1/p+x,G=0;G<p;G++)if(C[G]===0)for(var Z=0;Z<p;Z++){var J=Z*p+G;b[J]=V}else for(var j=0;j<p;j++){var Y=j*p+G;b[Y]=b[Y]/C[G]+x}for(var W=new Array(p),oe=new Array(p),se,U=0;U<p;U++)W[U]=1;for(var X=0;X<u;X++){for(var ue=0;ue<p;ue++)oe[ue]=0;for(var $=0;$<p;$++)for(var ee=0;ee<p;ee++){var re=$*p+ee;oe[$]+=b[re]*W[ee]}F4(oe),se=W,W=oe,oe=se;for(var de=0,ke=0;ke<p;ke++){var ie=se[ke]-W[ke];de+=ie*ie}if(de<i)break}var he={rank:function(ge){return ge=l.collection(ge)[0],W[d.indexOf(ge)]}};return he}},k_=qn({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Ys={degreeCentralityNormalized:function(e){e=k_(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var v={},p={},g=0,m=0,b=0;b<i;b++){var C=n[b],x=C.id();e.root=C;var E=this.degreeCentrality(e);g<E.indegree&&(g=E.indegree),m<E.outdegree&&(m=E.outdegree),v[x]=E.indegree,p[x]=E.outdegree}return{indegree:function(A){return g==0?0:(yt(A)&&(A=r.filter(A)),v[A.id()]/g)},outdegree:function(A){return m===0?0:(yt(A)&&(A=r.filter(A)),p[A.id()]/m)}}}else{for(var u={},s=0,l=0;l<i;l++){var f=n[l];e.root=f;var d=this.degreeCentrality(e);s<d.degree&&(s=d.degree),u[f.id()]=d.degree}return{degree:function(A){return s===0?0:(yt(A)&&(A=r.filter(A)),u[A.id()]/s)}}}},degreeCentrality:function(e){e=k_(e);var r=this.cy(),n=this,i=e,u=i.root,s=i.weight,l=i.directed,f=i.alpha;if(u=r.collection(u)[0],l){for(var m=u.connectedEdges(),b=m.filter(function(B){return B.target().same(u)&&n.has(B)}),C=m.filter(function(B){return B.source().same(u)&&n.has(B)}),x=b.length,E=C.length,_=0,A=0,R=0;R<b.length;R++)_+=s(b[R]);for(var M=0;M<C.length;M++)A+=s(C[M]);return{indegree:Math.pow(x,1-f)*Math.pow(_,f),outdegree:Math.pow(E,1-f)*Math.pow(A,f)}}else{for(var d=u.connectedEdges().intersection(n),v=d.length,p=0,g=0;g<d.length;g++)p+=s(d[g]);return{degree:Math.pow(v,1-f)*Math.pow(p,f)}}}};Ys.dc=Ys.degreeCentrality;Ys.dcn=Ys.degreeCentralityNormalised=Ys.degreeCentralityNormalized;var z_=qn({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),$s={closenessCentralityNormalized:function(e){for(var r=z_(e),n=r.harmonic,i=r.weight,u=r.directed,s=this.cy(),l={},f=0,d=this.nodes(),v=this.floydWarshall({weight:i,directed:u}),p=0;p<d.length;p++){for(var g=0,m=d[p],b=0;b<d.length;b++)if(p!==b){var C=v.distance(m,d[b]);n?g+=1/C:g+=C}n||(g=1/g),f<g&&(f=g),l[m.id()]=g}return{closeness:function(E){return f==0?0:(yt(E)?E=s.filter(E)[0].id():E=E.id(),l[E]/f)}}},closenessCentrality:function(e){var r=z_(e),n=r.root,i=r.weight,u=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var l=this.dijkstra({root:n,weight:i,directed:u}),f=0,d=this.nodes(),v=0;v<d.length;v++){var p=d[v];if(!p.same(n)){var g=l.distanceTo(p);s?f+=1/g:f+=g}}return s?f:1/f}};$s.cc=$s.closenessCentrality;$s.ccn=$s.closenessCentralityNormalised=$s.closenessCentralityNormalized;var sP=qn({weight:null,directed:!1}),Tx={betweennessCentrality:function(e){for(var r=sP(e),n=r.directed,i=r.weight,u=i!=null,s=this.cy(),l=this.nodes(),f={},d={},v=0,p={set:function(A,R){d[A]=R,R>v&&(v=R)},get:function(A){return d[A]}},g=0;g<l.length;g++){var m=l[g],b=m.id();n?f[b]=m.outgoers().nodes():f[b]=m.openNeighborhood().nodes(),p.set(b,0)}for(var C=function(){for(var A=l[x].id(),R=[],M={},B={},O={},N=new uf(function($,ee){return O[$]-O[ee]}),L=0;L<l.length;L++){var P=l[L].id();M[P]=[],B[P]=0,O[P]=1/0}for(B[A]=1,O[A]=0,N.push(A);!N.empty();){var I=N.pop();if(R.push(I),u)for(var V=0;V<f[I].length;V++){var G=f[I][V],Z=s.getElementById(I),J=void 0;Z.edgesTo(G).length>0?J=Z.edgesTo(G)[0]:J=G.edgesTo(Z)[0];var j=i(J);G=G.id(),O[G]>O[I]+j&&(O[G]=O[I]+j,N.nodes.indexOf(G)<0?N.push(G):N.updateItem(G),B[G]=0,M[G]=[]),O[G]==O[I]+j&&(B[G]=B[G]+B[I],M[G].push(I))}else for(var Y=0;Y<f[I].length;Y++){var W=f[I][Y].id();O[W]==1/0&&(N.push(W),O[W]=O[I]+1),O[W]==O[I]+1&&(B[W]=B[W]+B[I],M[W].push(I))}}for(var oe={},se=0;se<l.length;se++)oe[l[se].id()]=0;for(;R.length>0;){for(var U=R.pop(),X=0;X<M[U].length;X++){var ue=M[U][X];oe[ue]=oe[ue]+B[ue]/B[U]*(1+oe[U])}U!=l[x].id()&&p.set(U,p.get(U)+oe[U])}},x=0;x<l.length;x++)C();var E={betweenness:function(A){var R=s.collection(A).id();return p.get(R)},betweennessNormalized:function(A){if(v==0)return 0;var R=s.collection(A).id();return p.get(R)/v}};return E.betweennessNormalised=E.betweennessNormalized,E}};Tx.bc=Tx.betweennessCentrality;var lP=qn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),cP=function(e){return lP(e)},fP=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},dP=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},tk=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var u=0;u<r;u++)n+=e[u*r+i];for(var s=0;s<r;s++)e[s*r+i]=e[s*r+i]/n}},vP=function(e,r,n){for(var i=new Array(n*n),u=0;u<n;u++){for(var s=0;s<n;s++)i[u*n+s]=0;for(var l=0;l<n;l++)for(var f=0;f<n;f++)i[u*n+f]+=e[u*n+l]*r[l*n+f]}return i},hP=function(e,r,n){for(var i=e.slice(0),u=1;u<n;u++)e=vP(e,i,r);return e},pP=function(e,r,n){for(var i=new Array(r*r),u=0;u<r*r;u++)i[u]=Math.pow(e[u],n);return tk(i,r),i},gP=function(e,r,n,i){for(var u=0;u<n;u++){var s=Math.round(e[u]*Math.pow(10,i))/Math.pow(10,i),l=Math.round(r[u]*Math.pow(10,i))/Math.pow(10,i);if(s!==l)return!1}return!0},yP=function(e,r,n,i){for(var u=[],s=0;s<r;s++){for(var l=[],f=0;f<r;f++)Math.round(e[s*r+f]*1e3)/1e3>0&&l.push(n[f]);l.length!==0&&u.push(i.collection(l))}return u},mP=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},bP=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&mP(e[r],e[n])&&e.splice(n,1);return e},N_=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),u=cP(e),s={},l=0;l<r.length;l++)s[r[l].id()]=l;for(var f=r.length,d=f*f,v=new Array(d),p,g=0;g<d;g++)v[g]=0;for(var m=0;m<n.length;m++){var b=n[m],C=s[b.source().id()],x=s[b.target().id()],E=fP(b,u.attributes);v[C*f+x]+=E,v[x*f+C]+=E}dP(v,f,u.multFactor),tk(v,f);for(var _=!0,A=0;_&&A<u.maxIterations;)_=!1,p=hP(v,f,u.expandFactor),v=pP(p,f,u.inflateFactor),gP(v,p,d,4)||(_=!0),A++;var R=yP(v,f,r,i);return R=bP(R),R},wP={markovClustering:N_,mcl:N_},xP=function(e){return e},rk=function(e,r){return Math.abs(r-e)},L_=function(e,r,n){return e+rk(r,n)},P_=function(e,r,n){return e+Math.pow(n-r,2)},EP=function(e){return Math.sqrt(e)},SP=function(e,r,n){return Math.max(e,rk(r,n))},yc=function(e,r,n,i,u){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:xP,l=i,f,d,v=0;v<e;v++)f=r(v),d=n(v),l=u(l,f,d);return s(l)},nl={euclidean:function(e,r,n){return e>=2?yc(e,r,n,0,P_,EP):yc(e,r,n,0,L_)},squaredEuclidean:function(e,r,n){return yc(e,r,n,0,P_)},manhattan:function(e,r,n){return yc(e,r,n,0,L_)},max:function(e,r,n){return yc(e,r,n,-1/0,SP)}};nl["squared-euclidean"]=nl.squaredEuclidean;nl.squaredeuclidean=nl.squaredEuclidean;function Fv(t,e,r,n,i,u){var s;return Ur(t)?s=t:s=nl[t]||nl.euclidean,e===0&&Ur(t)?s(i,u):s(e,r,n,i,u)}var TP=qn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),aE=function(e){return TP(e)},xv=function(e,r,n,i,u){var s=u!=="kMedoids",l=s?function(p){return n[p]}:function(p){return i[p](n)},f=function(g){return i[g](r)},d=n,v=r;return Fv(e,i.length,l,f,d,v)},Ig=function(e,r,n){for(var i=n.length,u=new Array(i),s=new Array(i),l=new Array(r),f=null,d=0;d<i;d++)u[d]=e.min(n[d]).value,s[d]=e.max(n[d]).value;for(var v=0;v<r;v++){f=[];for(var p=0;p<i;p++)f[p]=Math.random()*(s[p]-u[p])+u[p];l[v]=f}return l},nk=function(e,r,n,i,u){for(var s=1/0,l=0,f=0;f<r.length;f++){var d=xv(n,e,r[f],i,u);d<s&&(s=d,l=f)}return l},ak=function(e,r,n){for(var i=[],u=null,s=0;s<r.length;s++)u=r[s],n[u.id()]===e&&i.push(u);return i},_P=function(e,r,n){return Math.abs(r-e)<=n},CP=function(e,r,n){for(var i=0;i<e.length;i++)for(var u=0;u<e[i].length;u++){var s=Math.abs(e[i][u]-r[i][u]);if(s>n)return!1}return!0},AP=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},I_=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var u=e[Math.floor(Math.random()*e.length)];AP(u,n,i);)u=e[Math.floor(Math.random()*e.length)];n[i]=u}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},U_=function(e,r,n){for(var i=0,u=0;u<r.length;u++)i+=xv("manhattan",r[u],e,n,"kMedoids");return i},RP=function(e){var r=this.cy(),n=this.nodes(),i=null,u=aE(e),s=new Array(u.k),l={},f;u.testMode?typeof u.testCentroids=="number"?(u.testCentroids,f=Ig(n,u.k,u.attributes)):dn(u.testCentroids)==="object"?f=u.testCentroids:f=Ig(n,u.k,u.attributes):f=Ig(n,u.k,u.attributes);for(var d=!0,v=0;d&&v<u.maxIterations;){for(var p=0;p<n.length;p++)i=n[p],l[i.id()]=nk(i,f,u.distance,u.attributes,"kMeans");d=!1;for(var g=0;g<u.k;g++){var m=ak(g,n,l);if(m.length!==0){for(var b=u.attributes.length,C=f[g],x=new Array(b),E=new Array(b),_=0;_<b;_++){E[_]=0;for(var A=0;A<m.length;A++)i=m[A],E[_]+=u.attributes[_](i);x[_]=E[_]/m.length,_P(x[_],C[_],u.sensitivityThreshold)||(d=!0)}f[g]=x,s[g]=r.collection(m)}}v++}return s},DP=function(e){var r=this.cy(),n=this.nodes(),i=null,u=aE(e),s=new Array(u.k),l,f={},d,v=new Array(u.k);u.testMode?typeof u.testCentroids=="number"||(dn(u.testCentroids)==="object"?l=u.testCentroids:l=I_(n,u.k)):l=I_(n,u.k);for(var p=!0,g=0;p&&g<u.maxIterations;){for(var m=0;m<n.length;m++)i=n[m],f[i.id()]=nk(i,l,u.distance,u.attributes,"kMedoids");p=!1;for(var b=0;b<l.length;b++){var C=ak(b,n,f);if(C.length!==0){v[b]=U_(l[b],C,u.attributes);for(var x=0;x<C.length;x++)d=U_(C[x],C,u.attributes),d<v[b]&&(v[b]=d,l[b]=C[x],p=!0);s[b]=r.collection(C)}}g++}return s},OP=function(e,r,n,i,u){for(var s,l,f=0;f<r.length;f++)for(var d=0;d<e.length;d++)i[f][d]=Math.pow(n[f][d],u.m);for(var v=0;v<e.length;v++)for(var p=0;p<u.attributes.length;p++){s=0,l=0;for(var g=0;g<r.length;g++)s+=i[g][v]*u.attributes[p](r[g]),l+=i[g][v];e[v][p]=s/l}},MP=function(e,r,n,i,u){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var l,f,d,v=2/(u.m-1),p=0;p<n.length;p++)for(var g=0;g<i.length;g++){l=0;for(var m=0;m<n.length;m++)f=xv(u.distance,i[g],n[p],u.attributes,"cmeans"),d=xv(u.distance,i[g],n[m],u.attributes,"cmeans"),l+=Math.pow(f/d,v);e[g][p]=1/l}},BP=function(e,r,n,i){for(var u=new Array(n.k),s=0;s<u.length;s++)u[s]=[];for(var l,f,d=0;d<r.length;d++){l=-1/0,f=-1;for(var v=0;v<r[0].length;v++)r[d][v]>l&&(l=r[d][v],f=v);u[f].push(e[d])}for(var p=0;p<u.length;p++)u[p]=i.collection(u[p]);return u},F_=function(e){var r=this.cy(),n=this.nodes(),i=aE(e),u,s,l,f,d;f=new Array(n.length);for(var v=0;v<n.length;v++)f[v]=new Array(i.k);l=new Array(n.length);for(var p=0;p<n.length;p++)l[p]=new Array(i.k);for(var g=0;g<n.length;g++){for(var m=0,b=0;b<i.k;b++)l[g][b]=Math.random(),m+=l[g][b];for(var C=0;C<i.k;C++)l[g][C]=l[g][C]/m}s=new Array(i.k);for(var x=0;x<i.k;x++)s[x]=new Array(i.attributes.length);d=new Array(n.length);for(var E=0;E<n.length;E++)d[E]=new Array(i.k);for(var _=!0,A=0;_&&A<i.maxIterations;)_=!1,OP(s,n,l,d,i),MP(l,f,s,n,i),CP(l,f,i.sensitivityThreshold)||(_=!0),A++;return u=BP(n,l,i,r),{clusters:u,degreeOfMembership:l}},qP={kMeans:RP,kMedoids:DP,fuzzyCMeans:F_,fcm:F_},kP=qn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),zP={single:"min",complete:"max"},NP=function(e){var r=kP(e),n=zP[r.linkage];return n!=null&&(r.linkage=n),r},V_=function(e,r,n,i,u){for(var s=0,l=1/0,f,d=u.attributes,v=function(L,P){return Fv(u.distance,d.length,function(I){return d[I](L)},function(I){return d[I](P)},L,P)},p=0;p<e.length;p++){var g=e[p].key,m=n[g][i[g]];m<l&&(s=g,l=m)}if(u.mode==="threshold"&&l>=u.threshold||u.mode==="dendrogram"&&e.length===1)return!1;var b=r[s],C=r[i[s]],x;u.mode==="dendrogram"?x={left:b,right:C,key:b.key}:x={value:b.value.concat(C.value),key:b.key},e[b.index]=x,e.splice(C.index,1),r[b.key]=x;for(var E=0;E<e.length;E++){var _=e[E];b.key===_.key?f=1/0:u.linkage==="min"?(f=n[b.key][_.key],n[b.key][_.key]>n[C.key][_.key]&&(f=n[C.key][_.key])):u.linkage==="max"?(f=n[b.key][_.key],n[b.key][_.key]<n[C.key][_.key]&&(f=n[C.key][_.key])):u.linkage==="mean"?f=(n[b.key][_.key]*b.size+n[C.key][_.key]*C.size)/(b.size+C.size):u.mode==="dendrogram"?f=v(_.value,b.value):f=v(_.value[0],b.value[0]),n[b.key][_.key]=n[_.key][b.key]=f}for(var A=0;A<e.length;A++){var R=e[A].key;if(i[R]===b.key||i[R]===C.key){for(var M=R,B=0;B<e.length;B++){var O=e[B].key;n[R][O]<n[R][M]&&(M=O)}i[R]=M}e[A].index=A}return b.key=C.key=b.index=C.index=null,!0},js=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&js(e.left,r),e.right&&js(e.right,r)))},_x=function(e,r){if(!e)return"";if(e.left&&e.right){var n=_x(e.left,r),i=_x(e.right,r),u=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:u.id()}}),r.add({group:"edges",data:{source:i,target:u.id()}}),u.id()}else if(e.value)return e.value.id()},Cx=function(e,r,n){if(!e)return[];var i=[],u=[],s=[];return r===0?(e.left&&js(e.left,i),e.right&&js(e.right,u),s=i.concat(u),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&js(e.left,i),e.right&&js(e.right,u),[n.collection(i),n.collection(u)]):e.value?[n.collection(e.value)]:(e.left&&(i=Cx(e.left,r-1,n)),e.right&&(u=Cx(e.right,r-1,n)),i.concat(u))},G_=function(e){for(var r=this.cy(),n=this.nodes(),i=NP(e),u=i.attributes,s=function(A,R){return Fv(i.distance,u.length,function(M){return u[M](A)},function(M){return u[M](R)},A,R)},l=[],f=[],d=[],v=[],p=0;p<n.length;p++){var g={value:i.mode==="dendrogram"?n[p]:[n[p]],key:p,index:p};l[p]=g,v[p]=g,f[p]=[],d[p]=0}for(var m=0;m<l.length;m++)for(var b=0;b<=m;b++){var C=void 0;i.mode==="dendrogram"?C=m===b?1/0:s(l[m].value,l[b].value):C=m===b?1/0:s(l[m].value[0],l[b].value[0]),f[m][b]=C,f[b][m]=C,C<f[m][d[m]]&&(d[m]=b)}for(var x=V_(l,v,f,d,i);x;)x=V_(l,v,f,d,i);var E;return i.mode==="dendrogram"?(E=Cx(l[0],i.dendrogramDepth,r),i.addDendrogram&&_x(l[0],r)):(E=new Array(l.length),l.forEach(function(_,A){_.key=_.index=null,E[A]=r.collection(_.value)})),E},LP={hierarchicalClustering:G_,hca:G_},PP=qn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),IP=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||qr("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(u){return u===n})||et(n)||qr("Preference must be one of [".concat(i.map(function(u){return"'".concat(u,"'")}).join(", "),"] or a number.  Got: ").concat(n)),PP(e)},UP=function(e,r,n,i){var u=function(l,f){return i[f](l)};return-Fv(e,i.length,function(s){return u(r,s)},function(s){return u(n,s)},r,n)},FP=function(e,r){var n=null;return r==="median"?n=I4(e):r==="mean"?n=P4(e):r==="min"?n=N4(e):r==="max"?n=L4(e):n=r,n},VP=function(e,r,n){for(var i=[],u=0;u<e;u++)r[u*e+u]+n[u*e+u]>0&&i.push(u);return i},j_=function(e,r,n){for(var i=[],u=0;u<e;u++){for(var s=-1,l=-1/0,f=0;f<n.length;f++){var d=n[f];r[u*e+d]>l&&(s=d,l=r[u*e+d])}s>0&&i.push(s)}for(var v=0;v<n.length;v++)i[n[v]]=n[v];return i},GP=function(e,r,n){for(var i=j_(e,r,n),u=0;u<n.length;u++){for(var s=[],l=0;l<i.length;l++)i[l]===n[u]&&s.push(l);for(var f=-1,d=-1/0,v=0;v<s.length;v++){for(var p=0,g=0;g<s.length;g++)p+=r[s[g]*e+s[v]];p>d&&(f=v,d=p)}n[u]=s[f]}return i=j_(e,r,n),i},H_=function(e){for(var r=this.cy(),n=this.nodes(),i=IP(e),u={},s=0;s<n.length;s++)u[n[s].id()]=s;var l,f,d,v,p,g;l=n.length,f=l*l,d=new Array(f);for(var m=0;m<f;m++)d[m]=-1/0;for(var b=0;b<l;b++)for(var C=0;C<l;C++)b!==C&&(d[b*l+C]=UP(i.distance,n[b],n[C],i.attributes));v=FP(d,i.preference);for(var x=0;x<l;x++)d[x*l+x]=v;p=new Array(f);for(var E=0;E<f;E++)p[E]=0;g=new Array(f);for(var _=0;_<f;_++)g[_]=0;for(var A=new Array(l),R=new Array(l),M=new Array(l),B=0;B<l;B++)A[B]=0,R[B]=0,M[B]=0;for(var O=new Array(l*i.minIterations),N=0;N<O.length;N++)O[N]=0;var L;for(L=0;L<i.maxIterations;L++){for(var P=0;P<l;P++){for(var I=-1/0,V=-1/0,G=-1,Z=0,J=0;J<l;J++)A[J]=p[P*l+J],Z=g[P*l+J]+d[P*l+J],Z>=I?(V=I,I=Z,G=J):Z>V&&(V=Z);for(var j=0;j<l;j++)p[P*l+j]=(1-i.damping)*(d[P*l+j]-I)+i.damping*A[j];p[P*l+G]=(1-i.damping)*(d[P*l+G]-V)+i.damping*A[G]}for(var Y=0;Y<l;Y++){for(var W=0,oe=0;oe<l;oe++)A[oe]=g[oe*l+Y],R[oe]=Math.max(0,p[oe*l+Y]),W+=R[oe];W-=R[Y],R[Y]=p[Y*l+Y],W+=R[Y];for(var se=0;se<l;se++)g[se*l+Y]=(1-i.damping)*Math.min(0,W-R[se])+i.damping*A[se];g[Y*l+Y]=(1-i.damping)*(W-R[Y])+i.damping*A[Y]}for(var U=0,X=0;X<l;X++){var ue=g[X*l+X]+p[X*l+X]>0?1:0;O[L%i.minIterations*l+X]=ue,U+=ue}if(U>0&&(L>=i.minIterations-1||L==i.maxIterations-1)){for(var $=0,ee=0;ee<l;ee++){M[ee]=0;for(var re=0;re<i.minIterations;re++)M[ee]+=O[re*l+ee];(M[ee]===0||M[ee]===i.minIterations)&&$++}if($===l)break}}for(var de=VP(l,p,g),ke=GP(l,d,de),ie={},he=0;he<de.length;he++)ie[de[he]]=[];for(var be=0;be<n.length;be++){var ge=u[n[be].id()],Me=ke[ge];Me!=null&&ie[Me].push(n[be])}for(var je=new Array(de.length),He=0;He<de.length;He++)je[He]=r.collection(ie[de[He]]);return je},jP={affinityPropagation:H_,ap:H_},HP=qn({root:void 0,directed:!1}),KP={hierholzer:function(e){if(!Jt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=HP(e),i=n.root,u=n.directed,s=this,l=!1,f,d,v;i&&(v=yt(i)?this.filter(i)[0].id():i[0].id());var p={},g={};u?s.forEach(function(_){var A=_.id();if(_.isNode()){var R=_.indegree(!0),M=_.outdegree(!0),B=R-M,O=M-R;B==1?f?l=!0:f=A:O==1?d?l=!0:d=A:(O>1||B>1)&&(l=!0),p[A]=[],_.outgoers().forEach(function(N){N.isEdge()&&p[A].push(N.id())})}else g[A]=[void 0,_.target().id()]}):s.forEach(function(_){var A=_.id();if(_.isNode()){var R=_.degree(!0);R%2&&(f?d?l=!0:d=A:f=A),p[A]=[],_.connectedEdges().forEach(function(M){return p[A].push(M.id())})}else g[A]=[_.source().id(),_.target().id()]});var m={found:!1,trail:void 0};if(l)return m;if(d&&f)if(u){if(v&&d!=v)return m;v=d}else{if(v&&d!=v&&f!=v)return m;v||(v=d)}else v||(v=s[0].id());var b=function(A){for(var R=A,M=[A],B,O,N;p[R].length;)B=p[R].shift(),O=g[B][0],N=g[B][1],R!=N?(p[N]=p[N].filter(function(L){return L!=B}),R=N):!u&&R!=O&&(p[O]=p[O].filter(function(L){return L!=B}),R=O),M.unshift(B),M.unshift(R);return M},C=[],x=[];for(x=b(v);x.length!=1;)p[x[0]].length==0?(C.unshift(s.getElementById(x.shift())),C.unshift(s.getElementById(x.shift()))):x=b(x.shift()).concat(x);C.unshift(s.getElementById(x.shift()));for(var E in p)if(p[E].length)return m;return m.found=!0,m.trail=this.spawn(C,!0),m}},kd=function(){var e=this,r={},n=0,i=0,u=[],s=[],l={},f=function(g,m){for(var b=s.length-1,C=[],x=e.spawn();s[b].x!=g||s[b].y!=m;)C.push(s.pop().edge),b--;C.push(s.pop().edge),C.forEach(function(E){var _=E.connectedNodes().intersection(e);x.merge(E),_.forEach(function(A){var R=A.id(),M=A.connectedEdges().intersection(e);x.merge(A),r[R].cutVertex?x.merge(M.filter(function(B){return B.isLoop()})):x.merge(M)})}),u.push(x)},d=function(g,m,b){g===b&&(i+=1),r[m]={id:n,low:n++,cutVertex:!1};var C=e.getElementById(m).connectedEdges().intersection(e);if(C.size()===0)u.push(e.spawn(e.getElementById(m)));else{var x,E,_,A;C.forEach(function(R){x=R.source().id(),E=R.target().id(),_=x===m?E:x,_!==b&&(A=R.id(),l[A]||(l[A]=!0,s.push({x:m,y:_,edge:R})),_ in r?r[m].low=Math.min(r[m].low,r[_].id):(d(g,_,m),r[m].low=Math.min(r[m].low,r[_].low),r[m].id<=r[_].low&&(r[m].cutVertex=!0,f(m,_))))})}};e.forEach(function(p){if(p.isNode()){var g=p.id();g in r||(i=0,d(g,g),r[g].cutVertex=i>1)}});var v=Object.keys(r).filter(function(p){return r[p].cutVertex}).map(function(p){return e.getElementById(p)});return{cut:e.spawn(v),components:u}},YP={hopcroftTarjanBiconnected:kd,htbc:kd,htb:kd,hopcroftTarjanBiconnectedComponents:kd},zd=function(){var e=this,r={},n=0,i=[],u=[],s=e.spawn(e),l=function(d){u.push(d),r[d]={index:n,low:n++,explored:!1};var v=e.getElementById(d).connectedEdges().intersection(e);if(v.forEach(function(C){var x=C.target().id();x!==d&&(x in r||l(x),r[x].explored||(r[d].low=Math.min(r[d].low,r[x].low)))}),r[d].index===r[d].low){for(var p=e.spawn();;){var g=u.pop();if(p.merge(e.getElementById(g)),r[g].low=r[d].index,r[g].explored=!0,g===d)break}var m=p.edgesWith(p),b=p.merge(m);i.push(b),s=s.difference(b)}};return e.forEach(function(f){if(f.isNode()){var d=f.id();d in r||l(d)}}),{cut:s,components:i}},$P={tarjanStronglyConnected:zd,tsc:zd,tscc:zd,tarjanStronglyConnectedComponents:zd},ik={};[jc,T4,_4,A4,D4,M4,k4,oP,Ys,$s,Tx,wP,qP,LP,jP,KP,YP,$P].forEach(function(t){St(ik,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var uk=0,ok=1,sk=2,Ka=function(e){if(!(this instanceof Ka))return new Ka(e);this.id="Thenable/1.0.7",this.state=uk,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ka.prototype={fulfill:function(e){return K_(this,ok,"fulfillValue",e)},reject:function(e){return K_(this,sk,"rejectReason",e)},then:function(e,r){var n=this,i=new Ka;return n.onFulfilled.push($_(e,i,"fulfill")),n.onRejected.push($_(r,i,"reject")),lk(n),i.proxy}};var K_=function(e,r,n,i){return e.state===uk&&(e.state=r,e[n]=i,lk(e)),e},lk=function(e){e.state===ok?Y_(e,"onFulfilled",e.fulfillValue):e.state===sk&&Y_(e,"onRejected",e.rejectReason)},Y_=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var u=function(){for(var l=0;l<i.length;l++)i[l](n)};typeof setImmediate=="function"?setImmediate(u):setTimeout(u,0)}},$_=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var u;try{u=e(i)}catch(s){r.reject(s);return}ck(r,u)}}},ck=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(dn(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(u){e.reject(u);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(u){i||(i=!0,u===r?e.reject(new TypeError("circular thenable chain")):ck(e,u))},function(u){i||(i=!0,e.reject(u))})}catch(u){i||e.reject(u)}return}e.fulfill(r)};Ka.all=function(t){return new Ka(function(e,r){for(var n=new Array(t.length),i=0,u=function(f,d){n[f]=d,i++,i===t.length&&e(n)},s=0;s<t.length;s++)(function(l){var f=t[l],d=f!=null&&f.then!=null;if(d)f.then(function(p){u(l,p)},function(p){r(p)});else{var v=f;u(l,v)}})(s)})};Ka.resolve=function(t){return new Ka(function(e,r){e(t)})};Ka.reject=function(t){return new Ka(function(e,r){r(t)})};var ol=typeof Promise<"u"?Promise:Ka,Ax=function(e,r,n){var i=$x(e),u=!i,s=this._private=St({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&Ur(s.complete)&&s.completes.push(s.complete),u){var l=e.position();s.startPosition=s.startPosition||{x:l.x,y:l.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(i){var f=e.pan();s.startPan={x:f.x,y:f.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},qo=Ax.prototype;St(qo,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),ma(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(d,v){var p=e[d];p!=null&&(e[d]=e[v],e[v]=p)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var u=e.style[i],s=u.name,l=e.startStyle[s];e.startStyle[s]=u,e.style[i]=l}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new ol(function(i,u){n.push(function(){i()})})}});qo.complete=qo.completed;qo.run=qo.play;qo.running=qo.playing;var XP={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],u=this._private.cy||this;if(!u.styleEnabled())return!1;var s=i[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var s=0;s<i.length;s++){var l=i[s];l._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,u=i.length!==void 0,s=u?i:[i],l=this._private.cy||this,f=!u,d=!f;if(!l.styleEnabled())return this;var v=l.style();r=St({},r,n);var p=Object.keys(r).length===0;if(p)return new Ax(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(d&&(r.style=v.getPropsList(r.style||r.css),r.css=void 0),d&&r.renderedPosition!=null){var g=r.renderedPosition,m=l.pan(),b=l.zoom();r.position=Xq(g,b,m)}if(f&&r.panBy!=null){var C=r.panBy,x=l.pan();r.pan={x:x.x+C.x,y:x.y+C.y}}var E=r.center||r.centre;if(f&&E!=null){var _=l.getCenterPan(E.eles,r.zoom);_!=null&&(r.pan=_)}if(f&&r.fit!=null){var A=r.fit,R=l.getFitViewport(A.eles||A.boundingBox,A.padding);R!=null&&(r.pan=R.pan,r.zoom=R.zoom)}if(f&&Jt(r.zoom)){var M=l.getZoomedViewport(r.zoom);M!=null?(M.zoomed&&(r.zoom=M.zoom),M.panned&&(r.pan=M.pan)):r.zoom=null}return new Ax(s[0],r)}},animate:function(){return function(r,n){var i=this,u=i.length!==void 0,s=u?i:[i],l=this._private.cy||this;if(!l.styleEnabled())return this;n&&(r=St({},r,n));for(var f=0;f<s.length;f++){var d=s[f],v=d.animated()&&(r.queue===void 0||r.queue),p=d.animation(r,v?{queue:!0}:void 0);p.play()}return this}},stop:function(){return function(r,n){var i=this,u=i.length!==void 0,s=u?i:[i],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var f=0;f<s.length;f++){for(var d=s[f],v=d._private,p=v.animation.current,g=0;g<p.length;g++){var m=p[g],b=m._private;n&&(b.duration=0)}r&&(v.animation.queue=[]),n||(v.animation.current=[])}return l.notify("draw"),this}}},Ug,X_;function Vv(){if(X_)return Ug;X_=1;var t=Array.isArray;return Ug=t,Ug}var Fg,Z_;function ZP(){if(Z_)return Fg;Z_=1;var t=Vv(),e=nf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(u,s){if(t(u))return!1;var l=typeof u;return l=="number"||l=="symbol"||l=="boolean"||u==null||e(u)?!0:n.test(u)||!r.test(u)||s!=null&&u in Object(s)}return Fg=i,Fg}var Vg,Q_;function QP(){if(Q_)return Vg;Q_=1;var t=Uq(),e=rf(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",u="[object Proxy]";function s(l){if(!e(l))return!1;var f=t(l);return f==n||f==i||f==r||f==u}return Vg=s,Vg}var Gg,W_;function WP(){if(W_)return Gg;W_=1;var t=Pv(),e=t["__core-js_shared__"];return Gg=e,Gg}var jg,J_;function JP(){if(J_)return jg;J_=1;var t=WP(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return jg=r,jg}var Hg,eC;function eI(){if(eC)return Hg;eC=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Hg=r,Hg}var Kg,tC;function tI(){if(tC)return Kg;tC=1;var t=QP(),e=JP(),r=rf(),n=eI(),i=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,f=s.toString,d=l.hasOwnProperty,v=RegExp("^"+f.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||e(g))return!1;var m=t(g)?v:u;return m.test(n(g))}return Kg=p,Kg}var Yg,rC;function rI(){if(rC)return Yg;rC=1;function t(e,r){return e?.[r]}return Yg=t,Yg}var $g,nC;function iE(){if(nC)return $g;nC=1;var t=tI(),e=rI();function r(n,i){var u=e(n,i);return t(u)?u:void 0}return $g=r,$g}var Xg,aC;function Gv(){if(aC)return Xg;aC=1;var t=iE(),e=t(Object,"create");return Xg=e,Xg}var Zg,iC;function nI(){if(iC)return Zg;iC=1;var t=Gv();function e(){this.__data__=t?t(null):{},this.size=0}return Zg=e,Zg}var Qg,uC;function aI(){if(uC)return Qg;uC=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Qg=t,Qg}var Wg,oC;function iI(){if(oC)return Wg;oC=1;var t=Gv(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(u){var s=this.__data__;if(t){var l=s[u];return l===e?void 0:l}return n.call(s,u)?s[u]:void 0}return Wg=i,Wg}var Jg,sC;function uI(){if(sC)return Jg;sC=1;var t=Gv(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var u=this.__data__;return t?u[i]!==void 0:r.call(u,i)}return Jg=n,Jg}var ey,lC;function oI(){if(lC)return ey;lC=1;var t=Gv(),e="__lodash_hash_undefined__";function r(n,i){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=t&&i===void 0?e:i,this}return ey=r,ey}var ty,cC;function sI(){if(cC)return ty;cC=1;var t=nI(),e=aI(),r=iI(),n=uI(),i=oI();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,ty=u,ty}var ry,fC;function lI(){if(fC)return ry;fC=1;function t(){this.__data__=[],this.size=0}return ry=t,ry}var ny,dC;function fk(){if(dC)return ny;dC=1;function t(e,r){return e===r||e!==e&&r!==r}return ny=t,ny}var ay,vC;function jv(){if(vC)return ay;vC=1;var t=fk();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return ay=e,ay}var iy,hC;function cI(){if(hC)return iy;hC=1;var t=jv(),e=Array.prototype,r=e.splice;function n(i){var u=this.__data__,s=t(u,i);if(s<0)return!1;var l=u.length-1;return s==l?u.pop():r.call(u,s,1),--this.size,!0}return iy=n,iy}var uy,pC;function fI(){if(pC)return uy;pC=1;var t=jv();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return uy=e,uy}var oy,gC;function dI(){if(gC)return oy;gC=1;var t=jv();function e(r){return t(this.__data__,r)>-1}return oy=e,oy}var sy,yC;function vI(){if(yC)return sy;yC=1;var t=jv();function e(r,n){var i=this.__data__,u=t(i,r);return u<0?(++this.size,i.push([r,n])):i[u][1]=n,this}return sy=e,sy}var ly,mC;function hI(){if(mC)return ly;mC=1;var t=lI(),e=cI(),r=fI(),n=dI(),i=vI();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,ly=u,ly}var cy,bC;function pI(){if(bC)return cy;bC=1;var t=iE(),e=Pv(),r=t(e,"Map");return cy=r,cy}var fy,wC;function gI(){if(wC)return fy;wC=1;var t=sI(),e=hI(),r=pI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return fy=n,fy}var dy,xC;function yI(){if(xC)return dy;xC=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return dy=t,dy}var vy,EC;function Hv(){if(EC)return vy;EC=1;var t=yI();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return vy=e,vy}var hy,SC;function mI(){if(SC)return hy;SC=1;var t=Hv();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return hy=e,hy}var py,TC;function bI(){if(TC)return py;TC=1;var t=Hv();function e(r){return t(this,r).get(r)}return py=e,py}var gy,_C;function wI(){if(_C)return gy;_C=1;var t=Hv();function e(r){return t(this,r).has(r)}return gy=e,gy}var yy,CC;function xI(){if(CC)return yy;CC=1;var t=Hv();function e(r,n){var i=t(this,r),u=i.size;return i.set(r,n),this.size+=i.size==u?0:1,this}return yy=e,yy}var my,AC;function EI(){if(AC)return my;AC=1;var t=gI(),e=mI(),r=bI(),n=wI(),i=xI();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,my=u,my}var by,RC;function SI(){if(RC)return by;RC=1;var t=EI(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var u=function(){var s=arguments,l=i?i.apply(this,s):s[0],f=u.cache;if(f.has(l))return f.get(l);var d=n.apply(this,s);return u.cache=f.set(l,d)||f,d};return u.cache=new(r.Cache||t),u}return r.Cache=t,by=r,by}var wy,DC;function TI(){if(DC)return wy;DC=1;var t=SI(),e=500;function r(n){var i=t(n,function(s){return u.size===e&&u.clear(),s}),u=i.cache;return i}return wy=r,wy}var xy,OC;function dk(){if(OC)return xy;OC=1;var t=TI(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var u=[];return i.charCodeAt(0)===46&&u.push(""),i.replace(e,function(s,l,f,d){u.push(f?d.replace(r,"$1"):l||s)}),u});return xy=n,xy}var Ey,MC;function vk(){if(MC)return Ey;MC=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,u=Array(i);++n<i;)u[n]=r(e[n],n,e);return u}return Ey=t,Ey}var Sy,BC;function _I(){if(BC)return Sy;BC=1;var t=Zx(),e=vk(),r=Vv(),n=nf(),i=t?t.prototype:void 0,u=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return u?u.call(l):"";var f=l+"";return f=="0"&&1/l==-1/0?"-0":f}return Sy=s,Sy}var Ty,qC;function hk(){if(qC)return Ty;qC=1;var t=_I();function e(r){return r==null?"":t(r)}return Ty=e,Ty}var _y,kC;function pk(){if(kC)return _y;kC=1;var t=Vv(),e=ZP(),r=dk(),n=hk();function i(u,s){return t(u)?u:e(u,s)?[u]:r(n(u))}return _y=i,_y}var Cy,zC;function uE(){if(zC)return Cy;zC=1;var t=nf();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Cy=e,Cy}var Ay,NC;function CI(){if(NC)return Ay;NC=1;var t=pk(),e=uE();function r(n,i){i=t(i,n);for(var u=0,s=i.length;n!=null&&u<s;)n=n[e(i[u++])];return u&&u==s?n:void 0}return Ay=r,Ay}var Ry,LC;function AI(){if(LC)return Ry;LC=1;var t=CI();function e(r,n,i){var u=r==null?void 0:t(r,n);return u===void 0?i:u}return Ry=e,Ry}var RI=AI(),DI=tf(RI),Dy,PC;function OI(){if(PC)return Dy;PC=1;var t=iE(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Dy=e,Dy}var Oy,IC;function MI(){if(IC)return Oy;IC=1;var t=OI();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Oy=e,Oy}var My,UC;function BI(){if(UC)return My;UC=1;var t=MI(),e=fk(),r=Object.prototype,n=r.hasOwnProperty;function i(u,s,l){var f=u[s];(!(n.call(u,s)&&e(f,l))||l===void 0&&!(s in u))&&t(u,s,l)}return My=i,My}var By,FC;function qI(){if(FC)return By;FC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var u=typeof n;return i=i??t,!!i&&(u=="number"||u!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return By=r,By}var qy,VC;function kI(){if(VC)return qy;VC=1;var t=BI(),e=pk(),r=qI(),n=rf(),i=uE();function u(s,l,f,d){if(!n(s))return s;l=e(l,s);for(var v=-1,p=l.length,g=p-1,m=s;m!=null&&++v<p;){var b=i(l[v]),C=f;if(b==="__proto__"||b==="constructor"||b==="prototype")return s;if(v!=g){var x=m[b];C=d?d(x,b,m):void 0,C===void 0&&(C=n(x)?x:r(l[v+1])?[]:{})}t(m,b,C),m=m[b]}return s}return qy=u,qy}var ky,GC;function zI(){if(GC)return ky;GC=1;var t=kI();function e(r,n,i){return r==null?r:t(r,n,i)}return ky=e,ky}var NI=zI(),LI=tf(NI),zy,jC;function PI(){if(jC)return zy;jC=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return zy=t,zy}var Ny,HC;function II(){if(HC)return Ny;HC=1;var t=vk(),e=PI(),r=Vv(),n=nf(),i=dk(),u=uE(),s=hk();function l(f){return r(f)?t(f,u):n(f)?[f]:e(i(s(f)))}return Ny=l,Ny}var UI=II(),FI=tf(UI),VI={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,u){},onSet:function(i){},canSet:function(i){return!0}};return e=St({},r,e),function(i,u){var s=e,l=this,f=l.length!==void 0,d=f?l:[l],v=f?l[0]:l;if(yt(i)){var p=i.indexOf(".")!==-1,g=p&&FI(i);if(s.allowGetting&&u===void 0){var m;return v&&(s.beforeGet(v),g&&v._private[s.field][i]===void 0?m=DI(v._private[s.field],g):m=v._private[s.field][i]),m}else if(s.allowSetting&&u!==void 0){var b=!s.immutableKeys[i];if(b){var C=Oq({},i,u);s.beforeSet(l,C);for(var x=0,E=d.length;x<E;x++){var _=d[x];s.canSet(_)&&(g&&v._private[s.field][i]===void 0?LI(_._private[s.field],g,u):_._private[s.field][i]=u)}s.updateStyle&&l.updateStyle(),s.onSet(l),s.settingTriggersEvent&&l[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Jt(i)){var A=i,R,M,B=Object.keys(A);s.beforeSet(l,A);for(var O=0;O<B.length;O++){R=B[O],M=A[R];var N=!s.immutableKeys[R];if(N)for(var L=0;L<d.length;L++){var P=d[L];s.canSet(P)&&(P._private[s.field][R]=M)}}s.updateStyle&&l.updateStyle(),s.onSet(l),s.settingTriggersEvent&&l[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&Ur(i)){var I=i;l.on(s.bindingEvent,I)}else if(s.allowGetting&&i===void 0){var V;return v&&(s.beforeGet(v),V=v._private[s.field]),V}return l}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=St({},r,e),function(i){var u=e,s=this,l=s.length!==void 0,f=l?s:[s];if(yt(i)){for(var d=i.split(/\s+/),v=d.length,p=0;p<v;p++){var g=d[p];if(!Nu(g)){var m=!u.immutableKeys[g];if(m)for(var b=0,C=f.length;b<C;b++)f[b]._private[u.field][g]=void 0}}u.triggerEvent&&s[u.triggerFnName](u.event)}else if(i===void 0){for(var x=0,E=f.length;x<E;x++)for(var _=f[x]._private[u.field],A=Object.keys(_),R=0;R<A.length;R++){var M=A[R],B=!u.immutableKeys[M];B&&(_[M]=void 0)}u.triggerEvent&&s[u.triggerFnName](u.event)}return s}}},GI={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var u=this,s=Array.prototype.slice.call(arguments,0);return new ol(function(l,f){var d=function(m){u.off.apply(u,p),l(m)},v=s.concat([d]),p=v.concat([]);u.on.apply(u,v)})}}},sr={};[XP,VI,GI].forEach(function(t){St(sr,t)});var jI={animate:sr.animate(),animation:sr.animation(),animated:sr.animated(),clearQueue:sr.clearQueue(),delay:sr.delay(),delayAnimation:sr.delayAnimation(),stop:sr.stop()},tv={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(b){return n.push(b)}),n}else br(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],u=new ul(e),s=0;s<r.length;s++){for(var l=r[s],f=l._private,d=f.classes,v=!1,p=0;p<e.length;p++){var g=e[p],m=d.has(g);if(!m){v=!0;break}}v||(v=d.size!==e.length),v&&(f.classes=u,i.push(l))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){br(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,u=[],s=0,l=n.length;s<l;s++)for(var f=n[s],d=f._private.classes,v=!1,p=0;p<e.length;p++){var g=e[p],m=d.has(g),b=!1;r||i&&!m?(d.add(g),b=!0):(!r||i&&m)&&(d.delete(g),b=!0),!v&&b&&(u.push(f),v=!0)}return u.length>0&&this.spawn(u).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};tv.className=tv.classNames=tv.classes;var Wt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:fn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Wt.variable="(?:[\\w-.]|(?:\\\\"+Wt.metaChar+"))+";Wt.className="(?:[\\w-]|(?:\\\\"+Wt.metaChar+"))+";Wt.value=Wt.string+"|"+Wt.number;Wt.id=Wt.variable;(function(){var t,e,r;for(t=Wt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Wt.comparatorOp+="|@"+e;for(t=Wt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Wt.comparatorOp+="|\\!"+e)})();var yr=function(){return{checks:[]}},ft={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Rx=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return V3(t.selector,e.selector)}),HI=(function(){for(var t={},e,r=0;r<Rx.length;r++)e=Rx[r],t[e.selector]=e.matches;return t})(),KI=function(e,r){return HI[e](r)},YI="("+Rx.map(function(t){return t.selector}).join("|")+")",qs=function(e){return e.replace(new RegExp("\\\\("+Wt.metaChar+")","g"),function(r,n){return n})},Ru=function(e,r,n){e[e.length-1]=n},Dx=[{name:"group",query:!0,regex:"("+Wt.group+")",populate:function(e,r,n){var i=un(n,1),u=i[0];r.checks.push({type:ft.GROUP,value:u==="*"?u:u+"s"})}},{name:"state",query:!0,regex:YI,populate:function(e,r,n){var i=un(n,1),u=i[0];r.checks.push({type:ft.STATE,value:u})}},{name:"id",query:!0,regex:"\\#("+Wt.id+")",populate:function(e,r,n){var i=un(n,1),u=i[0];r.checks.push({type:ft.ID,value:qs(u)})}},{name:"className",query:!0,regex:"\\.("+Wt.className+")",populate:function(e,r,n){var i=un(n,1),u=i[0];r.checks.push({type:ft.CLASS,value:qs(u)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Wt.variable+")\\s*\\]",populate:function(e,r,n){var i=un(n,1),u=i[0];r.checks.push({type:ft.DATA_EXIST,field:qs(u)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Wt.variable+")\\s*("+Wt.comparatorOp+")\\s*("+Wt.value+")\\s*\\]",populate:function(e,r,n){var i=un(n,3),u=i[0],s=i[1],l=i[2],f=new RegExp("^"+Wt.string+"$").exec(l)!=null;f?l=l.substring(1,l.length-1):l=parseFloat(l),r.checks.push({type:ft.DATA_COMPARE,field:qs(u),operator:s,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Wt.boolOp+")\\s*("+Wt.variable+")\\s*\\]",populate:function(e,r,n){var i=un(n,2),u=i[0],s=i[1];r.checks.push({type:ft.DATA_BOOL,field:qs(s),operator:u})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Wt.meta+")\\s*("+Wt.comparatorOp+")\\s*("+Wt.number+")\\s*\\]\\]",populate:function(e,r,n){var i=un(n,3),u=i[0],s=i[1],l=i[2];r.checks.push({type:ft.META_COMPARE,field:qs(u),operator:s,value:parseFloat(l)})}},{name:"nextQuery",separator:!0,regex:Wt.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,u=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=i,s.compoundCount=u,e.edgeCount=0,e.compoundCount=0;var l=e[e.length++]=yr();return l}},{name:"directedEdge",separator:!0,regex:Wt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=yr(),i=r,u=yr();return n.checks.push({type:ft.DIRECTED_EDGE,source:i,target:u}),Ru(e,r,n),e.edgeCount++,u}else{var s=yr(),l=r,f=yr();return s.checks.push({type:ft.NODE_SOURCE,source:l,target:f}),Ru(e,r,s),e.edgeCount++,f}}},{name:"undirectedEdge",separator:!0,regex:Wt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=yr(),i=r,u=yr();return n.checks.push({type:ft.UNDIRECTED_EDGE,nodes:[i,u]}),Ru(e,r,n),e.edgeCount++,u}else{var s=yr(),l=r,f=yr();return s.checks.push({type:ft.NODE_NEIGHBOR,node:l,neighbor:f}),Ru(e,r,s),f}}},{name:"child",separator:!0,regex:Wt.child,populate:function(e,r){if(e.currentSubject==null){var n=yr(),i=yr(),u=e[e.length-1];return n.checks.push({type:ft.CHILD,parent:u,child:i}),Ru(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=yr(),l=e[e.length-1],f=yr(),d=yr(),v=yr(),p=yr();return s.checks.push({type:ft.COMPOUND_SPLIT,left:l,right:f,subject:d}),d.checks=r.checks,r.checks=[{type:ft.TRUE}],p.checks.push({type:ft.TRUE}),f.checks.push({type:ft.PARENT,parent:p,child:v}),Ru(e,l,s),e.currentSubject=d,e.compoundCount++,v}else{var g=yr(),m=yr(),b=[{type:ft.PARENT,parent:g,child:m}];return g.checks=r.checks,r.checks=b,e.compoundCount++,m}}},{name:"descendant",separator:!0,regex:Wt.descendant,populate:function(e,r){if(e.currentSubject==null){var n=yr(),i=yr(),u=e[e.length-1];return n.checks.push({type:ft.DESCENDANT,ancestor:u,descendant:i}),Ru(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=yr(),l=e[e.length-1],f=yr(),d=yr(),v=yr(),p=yr();return s.checks.push({type:ft.COMPOUND_SPLIT,left:l,right:f,subject:d}),d.checks=r.checks,r.checks=[{type:ft.TRUE}],p.checks.push({type:ft.TRUE}),f.checks.push({type:ft.ANCESTOR,ancestor:p,descendant:v}),Ru(e,l,s),e.currentSubject=d,e.compoundCount++,v}else{var g=yr(),m=yr(),b=[{type:ft.ANCESTOR,ancestor:g,descendant:m}];return g.checks=r.checks,r.checks=b,e.compoundCount++,m}}},{name:"subject",modifier:!0,regex:Wt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return lr("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],u=i==null?null:i.type;u===ft.DIRECTED_EDGE?i.type=ft.NODE_TARGET:u===ft.UNDIRECTED_EDGE&&(i.type=ft.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];Dx.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var $I=function(e){for(var r,n,i,u=0;u<Dx.length;u++){var s=Dx[u],l=s.name,f=e.match(s.regexObj);if(f!=null){n=f,r=s,i=l;var d=f[0];e=e.substring(d.length);break}}return{expr:r,match:n,name:i,remaining:e}},XI=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},ZI=function(e){var r=this,n=r.inputText=e,i=r[0]=yr();for(r.length=1,n=XI(n);;){var u=$I(n);if(u.expr==null)return lr("The selector `"+e+"`is invalid"),!1;var s=u.match.slice(1),l=u.expr.populate(r,i,s);if(l===!1)return!1;if(l!=null&&(i=l),n=u.remaining,n.match(/^\s*$/))break}var f=r[r.length-1];r.currentSubject!=null&&(f.subject=r.currentSubject),f.edgeCount=r.edgeCount,f.compoundCount=r.compoundCount;for(var d=0;d<r.length;d++){var v=r[d];if(v.compoundCount>0&&v.edgeCount>0)return lr("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return lr("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&lr("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},QI=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},r=function(v){return yt(v)?'"'+v+'"':e(v)},n=function(v){return" "+v+" "},i=function(v,p){var g=v.type,m=v.value;switch(g){case ft.GROUP:{var b=e(m);return b.substring(0,b.length-1)}case ft.DATA_COMPARE:{var C=v.field,x=v.operator;return"["+C+n(e(x))+r(m)+"]"}case ft.DATA_BOOL:{var E=v.operator,_=v.field;return"["+e(E)+_+"]"}case ft.DATA_EXIST:{var A=v.field;return"["+A+"]"}case ft.META_COMPARE:{var R=v.operator,M=v.field;return"[["+M+n(e(R))+r(m)+"]]"}case ft.STATE:return m;case ft.ID:return"#"+m;case ft.CLASS:return"."+m;case ft.PARENT:case ft.CHILD:return u(v.parent,p)+n(">")+u(v.child,p);case ft.ANCESTOR:case ft.DESCENDANT:return u(v.ancestor,p)+" "+u(v.descendant,p);case ft.COMPOUND_SPLIT:{var B=u(v.left,p),O=u(v.subject,p),N=u(v.right,p);return B+(B.length>0?" ":"")+O+N}case ft.TRUE:return""}},u=function(v,p){return v.checks.reduce(function(g,m,b){return g+(p===v&&b===0?"$":"")+i(m,p)},"")},s="",l=0;l<this.length;l++){var f=this[l];s+=u(f,f.subject),this.length>1&&l<this.length-1&&(s+=", ")}return this.toStringCache=s,s},WI={parse:ZI,toString:QI},gk=function(e,r,n){var i,u=yt(e),s=et(e),l=yt(n),f,d,v=!1,p=!1,g=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),p=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),v=!0),(u||l||v)&&(f=!u&&!s?"":""+e,d=""+n),v&&(e=f=f.toLowerCase(),n=d=d.toLowerCase()),r){case"*=":i=f.indexOf(d)>=0;break;case"$=":i=f.indexOf(d,f.length-d.length)>=0;break;case"^=":i=f.indexOf(d)===0;break;case"=":i=e===n;break;case">":g=!0,i=e>n;break;case">=":g=!0,i=e>=n;break;case"<":g=!0,i=e<n;break;case"<=":g=!0,i=e<=n;break;default:i=!1;break}return p&&(e!=null||!g)&&(i=!i),i},JI=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},e6=function(e){return e!==void 0},oE=function(e,r){return e.data(r)},t6=function(e,r){return e[r]()},Gr=[],Or=function(e,r){return e.checks.every(function(n){return Gr[n.type](n,r)})};Gr[ft.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Gr[ft.STATE]=function(t,e){var r=t.value;return KI(r,e)};Gr[ft.ID]=function(t,e){var r=t.value;return e.id()===r};Gr[ft.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Gr[ft.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return gk(t6(e,r),n,i)};Gr[ft.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return gk(oE(e,r),n,i)};Gr[ft.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return JI(oE(e,r),n)};Gr[ft.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,e6(oE(e,r))};Gr[ft.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),u=e.target();return Or(r,i)&&Or(n,u)||Or(n,i)&&Or(r,u)};Gr[ft.NODE_NEIGHBOR]=function(t,e){return Or(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Or(t.neighbor,r)})};Gr[ft.DIRECTED_EDGE]=function(t,e){return Or(t.source,e.source())&&Or(t.target,e.target())};Gr[ft.NODE_SOURCE]=function(t,e){return Or(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Or(t.target,r)})};Gr[ft.NODE_TARGET]=function(t,e){return Or(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Or(t.source,r)})};Gr[ft.CHILD]=function(t,e){return Or(t.child,e)&&Or(t.parent,e.parent())};Gr[ft.PARENT]=function(t,e){return Or(t.parent,e)&&e.children().some(function(r){return Or(t.child,r)})};Gr[ft.DESCENDANT]=function(t,e){return Or(t.descendant,e)&&e.ancestors().some(function(r){return Or(t.ancestor,r)})};Gr[ft.ANCESTOR]=function(t,e){return Or(t.ancestor,e)&&e.descendants().some(function(r){return Or(t.descendant,r)})};Gr[ft.COMPOUND_SPLIT]=function(t,e){return Or(t.subject,e)&&Or(t.left,e)&&Or(t.right,e)};Gr[ft.TRUE]=function(){return!0};Gr[ft.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Gr[ft.FILTER]=function(t,e){var r=t.value;return r(e)};var r6=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===ft.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(u){for(var s=0;s<r.length;s++){var l=r[s];if(Or(l,u))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},n6=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(Or(i,e))return!0}return!1},a6={matches:n6,filter:r6},Iu=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||yt(e)&&e.match(/^\s*$/)||(ma(e)?this.addQuery({checks:[{type:ft.COLLECTION,value:e.collection()}]}):Ur(e)?this.addQuery({checks:[{type:ft.FILTER,value:e}]}):yt(e)?this.parse(e)||(this.invalid=!0):qr("A selector must be created from a string; found "))},Uu=Iu.prototype;[WI,a6].forEach(function(t){return St(Uu,t)});Uu.text=function(){return this.inputText};Uu.size=function(){return this.length};Uu.eq=function(t){return this[t]};Uu.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Uu.addQuery=function(t){this[this.length++]=t};Uu.selector=Uu.toString;var ku={allAre:function(e){var r=new Iu(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new Iu(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};ku.allAreNeighbours=ku.allAreNeighbors;ku.has=ku.contains;ku.equal=ku.equals=ku.same;var Ba=function(e,r){return function(i,u,s,l){var f=i,d=this,v;if(f==null?v="":ma(f)&&f.length===1&&(v=f.id()),d.length===1&&v){var p=d[0]._private,g=p.traversalCache=p.traversalCache||{},m=g[r]=g[r]||[],b=Mo(v),C=m[b];return C||(m[b]=e.call(d,i,u,s,l))}else return e.call(d,i,u,s,l)}},al={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var u=this[i],s=u._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var u=n[i];r.push(u)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],u=i.parents();r=r||u,r=r.intersect(u)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Ba(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,u=0;u<i.length;u++)e.push(i[u]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var u=0;u<i.length;u++){var s=i[u];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function sE(t,e,r,n){for(var i=[],u=new ul,s=t.cy(),l=s.hasCompoundNodes(),f=0;f<t.length;f++){var d=t[f];r?i.push(d):l&&n(i,u,d)}for(;i.length>0;){var v=i.shift();e(v),u.add(v.id()),l&&n(i,u,v)}return t}function yk(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var u=n[i];e.has(u.id())||t.push(u)}}al.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return sE(this,t,e,yk)};function mk(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}al.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return sE(this,t,e,mk)};function i6(t,e,r){mk(t,e,r),yk(t,e,r)}al.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return sE(this,t,e,i6)};al.ancestors=al.parents;var Yc,bk;Yc=bk={data:sr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:sr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:sr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:sr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:sr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:sr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Yc.attr=Yc.data;Yc.removeAttr=Yc.removeData;var u6=bk,Kv={};function Ly(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],u=i._private.edges,s=0;s<u.length;s++){var l=u[s];!e&&l.isLoop()||(n+=t(i,l))}return n}else return}}St(Kv,{degree:Ly(function(t,e){return e.source().same(e.target())?2:1}),indegree:Ly(function(t,e){return e.target().same(t)?1:0}),outdegree:Ly(function(t,e){return e.source().same(t)?1:0})});function ks(t,e){return function(r){for(var n,i=this.nodes(),u=0;u<i.length;u++){var s=i[u],l=s[t](r);l!==void 0&&(n===void 0||e(l,n))&&(n=l)}return n}}St(Kv,{minDegree:ks("degree",function(t,e){return t<e}),maxDegree:ks("degree",function(t,e){return t>e}),minIndegree:ks("indegree",function(t,e){return t<e}),maxIndegree:ks("indegree",function(t,e){return t>e}),minOutdegree:ks("outdegree",function(t,e){return t<e}),maxOutdegree:ks("outdegree",function(t,e){return t>e})});St(Kv,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var Ha,wk,xk=function(e,r,n){for(var i=0;i<e.length;i++){var u=e[i];if(!u.locked()){var s=u._private.position,l={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};u.isParent()&&!(l.x===0&&l.y===0)&&u.children().shift(l,n),u.dirtyBoundingBoxCache()}}},KC={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){xk(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Ha=wk={position:sr.data(KC),silentPosition:sr.data(St({},KC,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){xk(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(Jt(e))r?this.silentPosition(e):this.position(e);else if(Ur(e)){var n=e,i=this.cy();i.startBatch();for(var u=0;u<this.length;u++){var s=this[u],l=void 0;(l=n(s,u))&&(r?s.silentPosition(l):s.position(l))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(Jt(e)?(i={x:et(e.x)?e.x:0,y:et(e.y)?e.y:0},n=r):yt(e)&&et(r)&&(i={x:0,y:0},i[e]=r),i!=null){var u=this.cy();u.startBatch();for(var s=0;s<this.length;s++){var l=this[s];if(!(u.hasCompoundNodes()&&l.isChild()&&l.ancestors().anySame(this))){var f=l.position(),d={x:f.x+i.x,y:f.y+i.y};n?l.silentPosition(d):l.position(d)}}u.endBatch()}return this},silentShift:function(e,r){return Jt(e)?this.shift(e,!0):yt(e)&&et(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),u=i.zoom(),s=i.pan(),l=Jt(e)?e:void 0,f=l!==void 0||r!==void 0&&yt(e);if(n&&n.isNode())if(f)for(var d=0;d<this.length;d++){var v=this[d];r!==void 0?v.position(e,(r-s[e])/u):l!==void 0&&v.position(Xq(l,u,s))}else{var p=n.position();return l=Uv(p,u,s),e===void 0?l:l[e]}else if(!f)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),u=Jt(e)?e:void 0,s=u!==void 0||r!==void 0&&yt(e),l=i.hasCompoundNodes();if(n&&n.isNode())if(s)for(var f=0;f<this.length;f++){var d=this[f],v=l?d.parent():null,p=v&&v.length>0,g=p;p&&(v=v[0]);var m=g?v.position():{x:0,y:0};r!==void 0?d.position(e,r+m[e]):u!==void 0&&d.position({x:u.x+m.x,y:u.y+m.y})}else{var b=n.position(),C=l?n.parent():null,x=C&&C.length>0,E=x;x&&(C=C[0]);var _=E?C.position():{x:0,y:0};return u={x:b.x-_.x,y:b.y-_.y},e===void 0?u:u[e]}else if(!s)return;return this}};Ha.modelPosition=Ha.point=Ha.position;Ha.modelPositions=Ha.points=Ha.positions;Ha.renderedPoint=Ha.renderedPosition;Ha.relativePoint=Ha.relativePosition;var o6=wk,Xs,Hu;Xs=Hu={};Hu.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),u=e.x1*n+i.x,s=e.x2*n+i.x,l=e.y1*n+i.y,f=e.y2*n+i.y;return{x1:u,x2:s,y1:l,y2:f,w:s-u,h:f-l}};Hu.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Hu.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var l=s._private,f=s.children(),d=s.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},p=f.boundingBox({includeLabels:d,includeOverlays:!1,useCache:!1}),g=l.position;(p.w===0||p.h===0)&&(p={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},p.x1=g.x-p.w/2,p.x2=g.x+p.w/2,p.y1=g.y-p.h/2,p.y2=g.y+p.h/2);function m(L,P,I){var V=0,G=0,Z=P+I;return L>0&&Z>0&&(V=P/Z*L,G=I/Z*L),{biasDiff:V,biasComplementDiff:G}}function b(L,P,I,V){if(I.units==="%")switch(V){case"width":return L>0?I.pfValue*L:0;case"height":return P>0?I.pfValue*P:0;case"average":return L>0&&P>0?I.pfValue*(L+P)/2:0;case"min":return L>0&&P>0?L>P?I.pfValue*P:I.pfValue*L:0;case"max":return L>0&&P>0?L>P?I.pfValue*L:I.pfValue*P:0;default:return 0}else return I.units==="px"?I.pfValue:0}var C=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(C=C*100/v.width.val);var x=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(x=x*100/v.width.val);var E=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(E=E*100/v.height.val);var _=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(_=_*100/v.height.val);var A=m(v.width.val-p.w,C,x),R=A.biasDiff,M=A.biasComplementDiff,B=m(v.height.val-p.h,E,_),O=B.biasDiff,N=B.biasComplementDiff;l.autoPadding=b(p.w,p.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),l.autoWidth=Math.max(p.w,v.width.val),g.x=(-R+p.x1+p.x2+M)/2,l.autoHeight=Math.max(p.h,v.height.val),g.y=(-O+p.y1+p.y2+N)/2}for(var n=0;n<this.length;n++){var i=this[n],u=i._private;(!u.compoundBoundsClean||t)&&(r(i),e.batching()||(u.compoundBoundsClean=!0))}return this};var Ma=function(e){return e===1/0||e===-1/0?0:e},Ga=function(e,r,n,i,u){i-r===0||u-n===0||r==null||n==null||i==null||u==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=u>e.y2?u:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Ou=function(e,r){return r==null?e:Ga(e,r.x1,r.y1,r.x2,r.y2)},mc=function(e,r,n){return ia(e,r,n)},Nd=function(e,r,n){if(!r.cy().headless()){var i=r._private,u=i.rstyle,s=u.arrowWidth/2,l=r.pstyle(n+"-arrow-shape").value,f,d;if(l!=="none"){n==="source"?(f=u.srcX,d=u.srcY):n==="target"?(f=u.tgtX,d=u.tgtY):(f=u.midX,d=u.midY);var v=i.arrowBounds=i.arrowBounds||{},p=v[n]=v[n]||{};p.x1=f-s,p.y1=d-s,p.x2=f+s,p.y2=d+s,p.w=p.x2-p.x1,p.h=p.y2-p.y1,Jd(p,1),Ga(e,p.x1,p.y1,p.x2,p.y2)}}},Py=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var u=r._private,s=u.rstyle,l=r.pstyle(i+"label").strValue;if(l){var f=r.pstyle("text-halign"),d=r.pstyle("text-valign"),v=mc(s,"labelWidth",n),p=mc(s,"labelHeight",n),g=mc(s,"labelX",n),m=mc(s,"labelY",n),b=r.pstyle(i+"text-margin-x").pfValue,C=r.pstyle(i+"text-margin-y").pfValue,x=r.isEdge(),E=r.pstyle(i+"text-rotation"),_=r.pstyle("text-outline-width").pfValue,A=r.pstyle("text-border-width").pfValue,R=A/2,M=r.pstyle("text-background-padding").pfValue,B=2,O=p,N=v,L=N/2,P=O/2,I,V,G,Z;if(x)I=g-L,V=g+L,G=m-P,Z=m+P;else{switch(f.value){case"left":I=g-N,V=g;break;case"center":I=g-L,V=g+L;break;case"right":I=g,V=g+N;break}switch(d.value){case"top":G=m-O,Z=m;break;case"center":G=m-P,Z=m+P;break;case"bottom":G=m,Z=m+O;break}}var J=b-Math.max(_,R)-M-B,j=b+Math.max(_,R)+M+B,Y=C-Math.max(_,R)-M-B,W=C+Math.max(_,R)+M+B;I+=J,V+=j,G+=Y,Z+=W;var oe=n||"main",se=u.labelBounds,U=se[oe]=se[oe]||{};U.x1=I,U.y1=G,U.x2=V,U.y2=Z,U.w=V-I,U.h=Z-G,U.leftPad=J,U.rightPad=j,U.topPad=Y,U.botPad=W;var X=x&&E.strValue==="autorotate",ue=E.pfValue!=null&&E.pfValue!==0;if(X||ue){var $=X?mc(u.rstyle,"labelAngle",n):E.pfValue,ee=Math.cos($),re=Math.sin($),de=(I+V)/2,ke=(G+Z)/2;if(!x){switch(f.value){case"left":de=V;break;case"right":de=I;break}switch(d.value){case"top":ke=Z;break;case"bottom":ke=G;break}}var ie=function(Ze,vt){return Ze=Ze-de,vt=vt-ke,{x:Ze*ee-vt*re+de,y:Ze*re+vt*ee+ke}},he=ie(I,G),be=ie(I,Z),ge=ie(V,G),Me=ie(V,Z);I=Math.min(he.x,be.x,ge.x,Me.x),V=Math.max(he.x,be.x,ge.x,Me.x),G=Math.min(he.y,be.y,ge.y,Me.y),Z=Math.max(he.y,be.y,ge.y,Me.y)}var je=oe+"Rot",He=se[je]=se[je]||{};He.x1=I,He.y1=G,He.x2=V,He.y2=Z,He.w=V-I,He.h=Z-G,Ga(e,I,G,V,Z),Ga(u.labelBounds.all,I,G,V,Z)}return e}},YC=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value,u=r.pstyle("outline-offset").value,s=i+u;Ek(e,r,n,s,"outside",s/2)}},Ek=function(e,r,n,i,u,s){if(!(n===0||i<=0||u==="inside")){var l=r.cy(),f=r.pstyle("shape").value,d=l.renderer().nodeShapes[f],v=r.position(),p=v.x,g=v.y,m=r.width(),b=r.height();if(d.hasMiterBounds){u==="center"&&(i/=2);var C=d.miterBounds(p,g,m,b,i);Ou(e,C)}else s!=null&&s>0&&ev(e,[s,s,s,s])}},s6=function(e,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,i=r.pstyle("border-width").pfValue,u=r.pstyle("border-position").value;Ek(e,r,n,i,u)}},l6=function(e,r){var n=e._private.cy,i=n.styleEnabled(),u=n.headless(),s=$n(),l=e._private,f=e.isNode(),d=e.isEdge(),v,p,g,m,b,C,x=l.rstyle,E=f&&i?e.pstyle("bounds-expansion").pfValue:[0],_=function(Ct){return Ct.pstyle("display").value!=="none"},A=!i||_(e)&&(!d||_(e.source())&&_(e.target()));if(A){var R=0,M=0;i&&r.includeOverlays&&(R=e.pstyle("overlay-opacity").value,R!==0&&(M=e.pstyle("overlay-padding").value));var B=0,O=0;i&&r.includeUnderlays&&(B=e.pstyle("underlay-opacity").value,B!==0&&(O=e.pstyle("underlay-padding").value));var N=Math.max(M,O),L=0,P=0;if(i&&(L=e.pstyle("width").pfValue,P=L/2),f&&r.includeNodes){var I=e.position();b=I.x,C=I.y;var V=e.outerWidth(),G=V/2,Z=e.outerHeight(),J=Z/2;v=b-G,p=b+G,g=C-J,m=C+J,Ga(s,v,g,p,m),i&&YC(s,e),i&&r.includeOutlines&&!u&&YC(s,e),i&&s6(s,e)}else if(d&&r.includeEdges)if(i&&!u){var j=e.pstyle("curve-style").strValue;if(v=Math.min(x.srcX,x.midX,x.tgtX),p=Math.max(x.srcX,x.midX,x.tgtX),g=Math.min(x.srcY,x.midY,x.tgtY),m=Math.max(x.srcY,x.midY,x.tgtY),v-=P,p+=P,g-=P,m+=P,Ga(s,v,g,p,m),j==="haystack"){var Y=x.haystackPts;if(Y&&Y.length===2){if(v=Y[0].x,g=Y[0].y,p=Y[1].x,m=Y[1].y,v>p){var W=v;v=p,p=W}if(g>m){var oe=g;g=m,m=oe}Ga(s,v-P,g-P,p+P,m+P)}}else if(j==="bezier"||j==="unbundled-bezier"||Mu(j,"segments")||Mu(j,"taxi")){var se;switch(j){case"bezier":case"unbundled-bezier":se=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":se=x.linePts;break}if(se!=null)for(var U=0;U<se.length;U++){var X=se[U];v=X.x-P,p=X.x+P,g=X.y-P,m=X.y+P,Ga(s,v,g,p,m)}}}else{var ue=e.source(),$=ue.position(),ee=e.target(),re=ee.position();if(v=$.x,p=re.x,g=$.y,m=re.y,v>p){var de=v;v=p,p=de}if(g>m){var ke=g;g=m,m=ke}v-=P,p+=P,g-=P,m+=P,Ga(s,v,g,p,m)}if(i&&r.includeEdges&&d&&(Nd(s,e,"mid-source"),Nd(s,e,"mid-target"),Nd(s,e,"source"),Nd(s,e,"target")),i){var ie=e.pstyle("ghost").value==="yes";if(ie){var he=e.pstyle("ghost-offset-x").pfValue,be=e.pstyle("ghost-offset-y").pfValue;Ga(s,s.x1+he,s.y1+be,s.x2+he,s.y2+be)}}var ge=l.bodyBounds=l.bodyBounds||{};B_(ge,s),ev(ge,E),Jd(ge,1),i&&(v=s.x1,p=s.x2,g=s.y1,m=s.y2,Ga(s,v-N,g-N,p+N,m+N));var Me=l.overlayBounds=l.overlayBounds||{};B_(Me,s),ev(Me,E),Jd(Me,1);var je=l.labelBounds=l.labelBounds||{};je.all!=null?j4(je.all):je.all=$n(),i&&r.includeLabels&&(r.includeMainLabels&&Py(s,e,null),d&&(r.includeSourceLabels&&Py(s,e,"source"),r.includeTargetLabels&&Py(s,e,"target")))}return s.x1=Ma(s.x1),s.y1=Ma(s.y1),s.x2=Ma(s.x2),s.y2=Ma(s.y2),s.w=Ma(s.x2-s.x1),s.h=Ma(s.y2-s.y1),s.w>0&&s.h>0&&A&&(ev(s,E),Jd(s,1)),s},Sk=function(e){var r=0,n=function(s){return(s?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},Tk=function(e){var r=function(l){return Math.round(l)};if(e.isEdge()){var n=e.source().position(),i=e.target().position();return C_([r(n.x),r(n.y),r(i.x),r(i.y)])}else{var u=e.position();return C_([r(u.x),r(u.y)])}},$C=function(e,r){var n=e._private,i,u=e.isEdge(),s=r==null?XC:Sk(r),l=s===XC;if(n.bbCache==null?(i=l6(e,$c),n.bbCache=i,n.bbCachePosKey=Tk(e)):i=n.bbCache,!l){var f=e.isNode();i=$n(),(r.includeNodes&&f||r.includeEdges&&!f)&&(r.includeOverlays?Ou(i,n.overlayBounds):Ou(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!u||r.includeSourceLabels&&r.includeTargetLabels)?Ou(i,n.labelBounds.all):(r.includeMainLabels&&Ou(i,n.labelBounds.mainRot),r.includeSourceLabels&&Ou(i,n.labelBounds.sourceRot),r.includeTargetLabels&&Ou(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},$c={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},XC=Sk($c),ZC=qn($c);Hu.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=rl(function(v){var p=v._private;return p.bbCache==null||p.styleDirty||p.bbCachePosKey!==Tk(v)},function(v){return v.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=$c:t=ZC(t),e=$C(this[0],t);else{e=$n(),t=t||$c;var i=ZC(t),u=this,s=u.cy(),l=s.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),l&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var f=0;f<u.length;f++){var d=u[f];n(d)&&d.dirtyBoundingBoxCache(),Ou(e,$C(d,i))}}return e.x1=Ma(e.x1),e.y1=Ma(e.y1),e.x2=Ma(e.x2),e.y2=Ma(e.y2),e.w=Ma(e.x2-e.x1),e.h=Ma(e.y2-e.y1),e};Hu.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Hu.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(d){return d.isParent()}),e=e.not(i)),Jt(t)){var u=t;t=function(){return u}}var s=function(v,p){return v._private.bbAtOldPos=t(v,p)},l=function(v){return v._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var f=G4(this.boundingBox({useCache:!1}));return e.silentPositions(l),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),f};Xs.boundingbox=Xs.bb=Xs.boundingBox;Xs.renderedBoundingbox=Xs.renderedBoundingBox;var c6=Hu,Bc,of;Bc=of={};var _k=function(e){e.uppercaseName=f_(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=f_(e.outerName),Bc[e.name]=function(){var n=this[0],i=n._private,u=i.cy,s=u._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var l=n.pstyle(e.name);switch(l.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return l.pfValue}}else return 1},Bc["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,u=i.cy,s=u._private.styleEnabled;if(n)if(s){var l=n[e.name](),f=n.pstyle("border-position").value,d;f==="center"?d=n.pstyle("border-width").pfValue:f==="outside"?d=2*n.pstyle("border-width").pfValue:d=0;var v=2*n.padding();return l+d+v}else return 1},Bc["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},Bc["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};_k({name:"width"});_k({name:"height"});of.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};of.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};of.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var f6=of,d6=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},v6=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return Uv(r(e),n.zoom(),n.pan())}},h6=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),i=n.pan(),u=n.zoom();return r(e).map(function(s){return Uv(s,u,i)})}},p6=function(e){return e.renderer().getControlPoints(e)},g6=function(e){return e.renderer().getSegmentPoints(e)},y6=function(e){return e.renderer().getSourceEndpoint(e)},m6=function(e){return e.renderer().getTargetEndpoint(e)},b6=function(e){return e.renderer().getEdgeMidpoint(e)},QC={controlPoints:{get:p6,mult:!0},segmentPoints:{get:g6,mult:!0},sourceEndpoint:{get:y6},targetEndpoint:{get:m6},midpoint:{get:b6}},w6=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},x6=Object.keys(QC).reduce(function(t,e){var r=QC[e],n=w6(e);return t[e]=function(){return d6(this,r.get)},r.mult?t[n]=function(){return h6(this,r.get)}:t[n]=function(){return v6(this,r.get)},t},{}),E6=St({},o6,c6,f6,x6);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Ck=function(e,r){this.recycle(e,r)};function bc(){return!1}function Ld(){return!0}Ck.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=bc,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Ld:bc):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),u=this.cy.pan();this.renderedPosition={x:n.x*i+u.x,y:n.y*i+u.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ld;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ld;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ld,this.stopPropagation()},isDefaultPrevented:bc,isPropagationStopped:bc,isImmediatePropagationStopped:bc};var Ak=/^([^.]+)(\.(?:[^.]+))?$/,S6=".*",Rk={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},WC=Object.keys(Rk),T6={};function Yv(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T6,e=arguments.length>1?arguments[1]:void 0,r=0;r<WC.length;r++){var n=WC[r];this[n]=t[n]||Rk[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Fu=Yv.prototype,Dk=function(e,r,n,i,u,s,l){Ur(i)&&(u=i,i=null),l&&(s==null?s=l:s=St({},s,l));for(var f=br(n)?n:n.split(/\s+/),d=0;d<f.length;d++){var v=f[d];if(!Nu(v)){var p=v.match(Ak);if(p){var g=p[1],m=p[2]?p[2]:null,b=r(e,v,g,m,i,u,s);if(b===!1)break}}}},JC=function(e,r){return e.addEventFields(e.context,r),new Ck(r.type,r)},_6=function(e,r,n){if(M3(n)){r(e,n);return}else if(Jt(n)){r(e,JC(e,n));return}for(var i=br(n)?n:n.split(/\s+/),u=0;u<i.length;u++){var s=i[u];if(!Nu(s)){var l=s.match(Ak);if(l){var f=l[1],d=l[2]?l[2]:null,v=JC(e,{type:f,namespace:d,target:e.context});r(e,v)}}}};Fu.on=Fu.addListener=function(t,e,r,n,i){return Dk(this,function(u,s,l,f,d,v,p){Ur(v)&&u.listeners.push({event:s,callback:v,type:l,namespace:f,qualifier:d,conf:p})},t,e,r,n,i),this};Fu.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};Fu.removeListener=Fu.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=v4(this.listeners));for(var u=this.listeners,s=function(d){var v=u[d];Dk(i,function(p,g,m,b,C,x){if((v.type===m||t==="*")&&(!b&&v.namespace!==".*"||v.namespace===b)&&(!C||p.qualifierCompare(v.qualifier,C))&&(!x||v.callback===x))return u.splice(d,1),!1},t,e,r,n)},l=u.length-1;l>=0;l--)s(l);return this};Fu.removeAllListeners=function(){return this.removeListener("*")};Fu.emit=Fu.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,br(e)||(e=[e]),_6(this,function(u,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],i=n.length);for(var l=function(){var v=n[f];if(v.type===s.type&&(!v.namespace||v.namespace===s.namespace||v.namespace===S6)&&u.eventMatches(u.context,v,s)){var p=[s];e!=null&&p4(p,e),u.beforeEmit(u.context,v,s),v.conf&&v.conf.one&&(u.listeners=u.listeners.filter(function(b){return b!==v}));var g=u.callbackContext(u.context,v,s),m=v.callback.apply(g,p);u.afterEmit(u.context,v,s),m===!1&&(s.stopPropagation(),s.preventDefault())}},f=0;f<i;f++)l();u.bubble(u.context)&&!s.isPropagationStopped()&&u.parent(u.context).emit(s,e)},t),this.emitting--,this};var C6={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&ef(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Pd=function(e){return yt(e)?new Iu(e):e},Ok={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Yv(C6,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=Pd(r),u=0;u<this.length;u++){var s=this[u];s.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=Pd(r),u=0;u<this.length;u++){var s=this[u];s.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=Pd(r),u=0;u<this.length;u++){var s=this[u];s.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=Pd(r),u=0;u<this.length;u++){var s=this[u];s.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};sr.eventAliasesOn(Ok);var Mk={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(yt(e)||ma(e))return new Iu(e).filter(this);if(Ur(e)){for(var n=this.spawn(),i=this,u=0;u<i.length;u++){var s=i[u],l=r?e.apply(r,[s,u,i]):e(s,u,i);l&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){yt(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],u=e.has(i);u||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(yt(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,u=e,s=this.length<e.length,l=s?i:u,f=s?u:i,d=0;d<l.length;d++){var v=l[d];f.has(v)&&n.push(v)}return n},xor:function(e){var r=this._private.cy;yt(e)&&(e=r.$(e));var n=this.spawn(),i=this,u=e,s=function(f,d){for(var v=0;v<f.length;v++){var p=f[v],g=p._private.data.id,m=d.hasElementWithId(g);m||n.push(p)}};return s(i,u),s(u,i),n},diff:function(e){var r=this._private.cy;yt(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),u=this.spawn(),s=this,l=e,f=function(v,p,g){for(var m=0;m<v.length;m++){var b=v[m],C=b._private.data.id,x=p.hasElementWithId(C);x?u.merge(b):g.push(b)}};return f(s,l,n),f(l,s,i),{left:n,right:i,both:u}},add:function(e){var r=this._private.cy;if(!e)return this;if(yt(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),u=0;u<e.length;u++){var s=e[u],l=!this.has(s);l&&i.push(s)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&yt(e)){var i=e;e=n.mutableElements().filter(i)}for(var u=r.map,s=0;s<e.length;s++){var l=e[s],f=l._private.data.id,d=!u.has(f);if(d){var v=this.length++;this[v]=l,u.set(f,{ele:l,index:v})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,u=i.map;this[e]=void 0,u.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var l=this.length-1,f=this[l],d=f._private.data.id;this[l]=void 0,this[e]=f,u.set(d,{ele:f,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,u=i.get(n);if(!u)return this;var s=u.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&yt(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,u=0;u<i.length;u++){var s=i[u],l=r?e.apply(r,[s,u,i]):e(s,u,i);n.push(l)}return n},reduce:function(e,r){for(var n=r,i=this,u=0;u<i.length;u++)n=e(n,i[u],u,i);return n},max:function(e,r){for(var n=-1/0,i,u=this,s=0;s<u.length;s++){var l=u[s],f=r?e.apply(r,[l,s,u]):e(l,s,u);f>n&&(n=f,i=l)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,u=this,s=0;s<u.length;s++){var l=u[s],f=r?e.apply(r,[l,s,u]):e(l,s,u);f<n&&(n=f,i=l)}return{value:n,ele:i}}},rr=Mk;rr.u=rr["|"]=rr["+"]=rr.union=rr.or=rr.add;rr["\\"]=rr["!"]=rr["-"]=rr.difference=rr.relativeComplement=rr.subtract=rr.not;rr.n=rr["&"]=rr["."]=rr.and=rr.intersection=rr.intersect;rr["^"]=rr["(+)"]=rr["(-)"]=rr.symmetricDifference=rr.symdiff=rr.xor;rr.fnFilter=rr.filterFn=rr.stdFilter=rr.filter;rr.complement=rr.abscomp=rr.absoluteComplement;var A6={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Bk=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function u(v){var p=v.pstyle("z-compound-depth");return p.value==="auto"?i?v.zDepth():0:p.value==="bottom"?-1:p.value==="top"?Qx:0}var s=u(e)-u(r);if(s!==0)return s;function l(v){var p=v.pstyle("z-index-compare");return p.value==="auto"&&v.isNode()?1:0}var f=l(e)-l(r);if(f!==0)return f;var d=e.pstyle("z-index").value-r.pstyle("z-index").value;return d!==0?d:e.poolIndex()-r.poolIndex()},Ev={forEach:function(e,r){if(Ur(e))for(var n=this.length,i=0;i<n;i++){var u=this[i],s=r?e.apply(r,[u,i,this]):e(u,i,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var u=e;u>=0&&u<r&&u<i;u++)n.push(this[u]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Ur(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(Bk)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:Qx-1}else{var u=r.source,s=r.target,l=u.zDepth(),f=s.zDepth();return Math.max(l,f,0)}}}};Ev.each=Ev.forEach;var R6=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":dn(Symbol))!=e&&dn(Symbol.iterator)!=e;r&&(Ev[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},u=0,s=this.length;return Oq({next:function(){return u<s?i.value=n[u++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};R6();var D6=qn({nodeDimensionsIncludeLabels:!1}),rv={layoutDimensions:function(e){e=D6(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(M){return!M.isParent()}),u=this.cy(),s=r.eles,l=function(B){return B.id()},f=rl(n,l);e.emit({type:"layoutstart",layout:e}),e.animations=[];var d=function(B,O,N){var L={x:O.x1+O.w/2,y:O.y1+O.h/2},P={x:(N.x-L.x)*B,y:(N.y-L.y)*B};return{x:L.x+P.x,y:L.y+P.y}},v=r.spacingFactor&&r.spacingFactor!==1,p=function(){if(!v)return null;for(var B=$n(),O=0;O<i.length;O++){var N=i[O],L=f(N,O);Zq(B,L.x,L.y)}return B},g=p(),m=rl(function(M,B){var O=f(M,B);if(v){var N=Math.abs(r.spacingFactor);O=d(N,g,O)}return r.transform!=null&&(O=r.transform(M,O)),O},l);if(r.animate){for(var b=0;b<i.length;b++){var C=i[b],x=m(C,b),E=r.animateFilter==null||r.animateFilter(C,b);if(E){var _=C.animation({position:x,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(_)}else C.position(x)}if(r.fit){var A=u.animation({fit:{boundingBox:s.boundingBoxAt(m),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(A)}else if(r.zoom!==void 0&&r.pan!==void 0){var R=u.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(R)}e.animations.forEach(function(M){return M.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),ol.all(e.animations.map(function(M){return M.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(m),r.fit&&u.fit(r.eles,r.padding),r.zoom!=null&&u.zoom(r.zoom),r.pan&&u.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(St({},e,{eles:this}))}};rv.createLayout=rv.makeLayout=rv.layout;function qk(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],u;return(u=i[t])!=null||(u=i[t]=e(r)),u}function $v(t,e){return t=Mo(t),function(n){return qk(t,e,n)}}function Xv(t,e){t=Mo(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return qk(t,r,i)}}var Mn={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(u){return u._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),u=this;e=!!(e||e===void 0),i&&(u=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=u;return e?s.emitAndNotify("style"):s.emit("style"),u.forEach(function(l){return l._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var u=n._private.style[e];return u??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,u=n.style();if(Jt(e)){var s=e;u.applyBypass(this,s,i),this.emitAndNotify("style")}else if(yt(e))if(r===void 0){var l=this[0];return l?u.getStylePropertyValue(l,e):void 0}else u.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var f=this[0];return f?u.getRawStyle(f):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),u=this;if(e===void 0)for(var s=0;s<u.length;s++){var l=u[s];i.removeAllBypasses(l,n)}else{e=e.split(/\s+/);for(var f=0;f<u.length;f++){var d=u[f];i.removeBypasses(d,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,u=n.pstyle("opacity").value;if(!r)return u;var s=i.data.parent?n.parents():null;if(s)for(var l=0;l<s.length;l++){var f=s[l],d=f.pstyle("opacity").value;u=d*u}return u}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function Iy(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var u=n[i];if(!e(u))return!1}return!0}function lE(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var u=this[0],s=i.hasCompoundNodes();if(u){var l=u._private;if(!e(u))return!1;if(u.isNode())return!s||Iy(u,n);var f=l.source,d=l.target;return r(f)&&(!s||Iy(f,r))&&(f===d||r(d)&&(!s||Iy(d,r)))}}}var sl=$v("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Mn.takesUpSpace=Xv("takesUpSpace",lE({ok:sl}));var O6=$v("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&sl(t)}),M6=$v("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&sl(t)});Mn.interactive=Xv("interactive",lE({ok:O6,parentOk:M6,edgeOkViaNode:sl}));Mn.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var B6=$v("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&sl(t)}),q6=sl;Mn.visible=Xv("visible",lE({ok:B6,edgeOkViaNode:q6}));Mn.hidden=function(){var t=this[0];if(t)return!t.visible()};Mn.isBundledBezier=Xv("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Mn.bypass=Mn.css=Mn.style;Mn.renderedCss=Mn.renderedStyle;Mn.removeBypass=Mn.removeCss=Mn.removeStyle;Mn.pstyle=Mn.parsedStyle;var zu={};function eA(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&Ur(e[0])){var u=e[0];this.on(t.event,u)}else if(e.length===0||e.length===1&&br(e[0])){for(var s=e.length===1?e[0]:null,l=0;l<this.length;l++){var f=this[l],d=!t.ableField||f._private[t.ableField],v=f._private[t.field]!=t.value;if(t.overrideAble){var p=t.overrideAble(f);if(p!==void 0&&(d=p,!p))return this}d&&(f._private[t.field]=t.value,v&&r.push(f))}var g=this.spawn(r);g.updateStyle(),g.emit(t.event),s&&g.emit(s)}return this}}function ll(t){zu[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},zu[t.on]=eA({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),zu[t.off]=eA({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}ll({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});ll({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});ll({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});ll({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});zu.deselect=zu.unselect;zu.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};ll({field:"active",on:"activate",off:"unactivate"});ll({field:"pannable",on:"panify",off:"unpanify"});zu.inactive=function(){var t=this[0];if(t)return!t._private.active};var In={},tA=function(e){return function(n){for(var i=this,u=[],s=0;s<i.length;s++){var l=i[s];if(l.isNode()){for(var f=!1,d=l.connectedEdges(),v=0;v<d.length;v++){var p=d[v],g=p.source(),m=p.target();if(e.noIncomingEdges&&m===l&&g!==l||e.noOutgoingEdges&&g===l&&m!==l){f=!0;break}}f||u.push(l)}}return this.spawn(u,!0).filter(n)}},rA=function(e){return function(r){for(var n=this,i=[],u=0;u<n.length;u++){var s=n[u];if(s.isNode())for(var l=s.connectedEdges(),f=0;f<l.length;f++){var d=l[f],v=d.source(),p=d.target();e.outgoing&&v===s?(i.push(d),i.push(p)):e.incoming&&p===s&&(i.push(d),i.push(v))}}return this.spawn(i,!0).filter(r)}},nA=function(e){return function(r){for(var n=this,i=[],u={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var l=!1,f=0;f<s.length;f++){var d=s[f],v=d.id();u[v]||(u[v]=!0,i.push(d),l=!0)}if(!l)break;n=s}return this.spawn(i,!0).filter(r)}};In.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};St(In,{roots:tA({noIncomingEdges:!0}),leaves:tA({noOutgoingEdges:!0}),outgoers:Ba(rA({outgoing:!0}),"outgoers"),successors:nA({outgoing:!0}),incomers:Ba(rA({incoming:!0}),"incomers"),predecessors:nA({})});St(In,{neighborhood:Ba(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],u=i.connectedEdges(),s=0;s<u.length;s++){var l=u[s],f=l.source(),d=l.target(),v=i===f?d:f;v.length>0&&e.push(v[0]),e.push(l[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});In.neighbourhood=In.neighborhood;In.closedNeighbourhood=In.closedNeighborhood;In.openNeighbourhood=In.openNeighborhood;St(In,{source:Ba(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Ba(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:aA({attr:"source"}),targets:aA({attr:"target"})});function aA(t){return function(r){for(var n=[],i=0;i<this.length;i++){var u=this[i],s=u._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}St(In,{edgesWith:Ba(iA(),"edgesWith"),edgesTo:Ba(iA({thisIsSrc:!0}),"edgesTo")});function iA(t){return function(r){var n=[],i=this._private.cy,u=t||{};yt(r)&&(r=i.$(r));for(var s=0;s<r.length;s++)for(var l=r[s]._private.edges,f=0;f<l.length;f++){var d=l[f],v=d._private.data,p=this.hasElementWithId(v.source)&&r.hasElementWithId(v.target),g=r.hasElementWithId(v.source)&&this.hasElementWithId(v.target),m=p||g;m&&((u.thisIsSrc||u.thisIsTgt)&&(u.thisIsSrc&&!p||u.thisIsTgt&&!g)||n.push(d))}return this.spawn(n,!0)}}St(In,{connectedEdges:Ba(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var u=i._private.edges,s=0;s<u.length;s++){var l=u[s];e.push(l)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Ba(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Ba(uA(),"parallelEdges"),codirectedEdges:Ba(uA({codirected:!0}),"codirectedEdges")});function uA(t){var e={codirected:!1};return t=St({},e,t),function(n){for(var i=[],u=this.edges(),s=t,l=0;l<u.length;l++)for(var f=u[l],d=f._private,v=d.source,p=v._private.data.id,g=d.data.target,m=v._private.edges,b=0;b<m.length;b++){var C=m[b],x=C._private.data,E=x.target,_=x.source,A=E===g&&_===p,R=p===E&&g===_;(s.codirected&&A||!s.codirected&&(A||R))&&i.push(C)}return this.spawn(i,!0).filter(n)}}St(In,{components:function(e){var r=this,n=r.cy(),i=n.collection(),u=e==null?r.nodes():e.nodes(),s=[];e!=null&&u.empty()&&(u=e.sources());var l=function(v,p){i.merge(v),u.unmerge(v),p.merge(v)};if(u.empty())return r.spawn();var f=function(){var v=n.collection();s.push(v);var p=u[0];l(p,v),r.bfs({directed:!1,roots:p,visit:function(m){return l(m,v)}}),v.forEach(function(g){g.connectedEdges().forEach(function(m){r.has(m)&&v.has(m.source())&&v.has(m.target())&&v.merge(m)})})};do f();while(u.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});In.componentsOf=In.components;var Bn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){qr("A collection must have a reference to the core");return}var u=new Vi,s=!1;if(!r)r=[];else if(r.length>0&&Jt(r[0])&&!ef(r[0])){s=!0;for(var l=[],f=new ul,d=0,v=r.length;d<v;d++){var p=r[d];p.data==null&&(p.data={});var g=p.data;if(g.id==null)g.id=Yq();else if(e.hasElementWithId(g.id)||f.has(g.id))continue;var m=new Iv(e,p,!1);l.push(m),f.add(g.id)}r=l}this.length=0;for(var b=0,C=r.length;b<C;b++){var x=r[b][0];if(x!=null){var E=x._private.data.id;(!n||!u.has(E))&&(n&&u.set(E,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(_){this.lazyMap=_},rebuildMap:function(){for(var A=this.lazyMap=new Vi,R=this.eles,M=0;M<R.length;M++){var B=R[M];A.set(B.id(),{index:M,ele:B})}}},n&&(this._private.map=u),s&&!i&&this.restore()},Sr=Iv.prototype=Bn.prototype=Object.create(Array.prototype);Sr.instanceString=function(){return"collection"};Sr.spawn=function(t,e){return new Bn(this.cy(),t,e)};Sr.spawnSelf=function(){return this.spawn(this)};Sr.cy=function(){return this._private.cy};Sr.renderer=function(){return this._private.cy.renderer()};Sr.element=function(){return this[0]};Sr.collection=function(){return qq(this)?this:new Bn(this._private.cy,[this])};Sr.unique=function(){return new Bn(this._private.cy,this,!0)};Sr.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Sr.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Bn(e)};Sr.$id=Sr.getElementById;Sr.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};Sr.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Sr.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Sr.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(Jt(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var u=!1,s={},l=t.data.source,f=t.data.target;l!=null&&l!=i.source&&(s.source=""+l,u=!0),f!=null&&f!=i.target&&(s.target=""+f,u=!0),u&&(e=e.move(s))}else{var d="parent"in t.data,v=t.data.parent;d&&(v!=null||i.parent!=null)&&v!=i.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}t.position&&e.position(t.position);var p=function(C,x,E){var _=t[C];_!=null&&_!==n[C]&&(_?e[x]():e[E]())};return p("removed","remove","restore"),p("selected","select","unselect"),p("selectable","selectify","unselectify"),p("locked","lock","unlock"),p("grabbable","grabify","ungrabify"),p("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var g={data:si(n.data),position:si(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};g.classes="";var m=0;return n.classes.forEach(function(b){return g.classes+=m++===0?b:" "+b}),g}}};Sr.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};Sr.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),u=new Iv(t,i,!1);e.push(u)}return new Bn(t,e)};Sr.copy=Sr.clone;Sr.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,u=[],s=[],l,f=0,d=r.length;f<d;f++){var v=r[f];e&&!v.removed()||(v.isNode()?u.push(v):s.push(v))}l=u.concat(s);var p,g=function(){l.splice(p,1),p--};for(p=0;p<l.length;p++){var m=l[p],b=m._private,C=b.data;if(m.clearTraversalCache(),!(!e&&!b.removed)){if(C.id===void 0)C.id=Yq();else if(et(C.id))C.id=""+C.id;else if(Nu(C.id)||!yt(C.id)){qr("Can not create element with invalid string ID `"+C.id+"`"),g();continue}else if(n.hasElementWithId(C.id)){qr("Can not create second element with ID `"+C.id+"`"),g();continue}}var x=C.id;if(m.isNode()){var E=b.position;E.x==null&&(E.x=0),E.y==null&&(E.y=0)}if(m.isEdge()){for(var _=m,A=["source","target"],R=A.length,M=!1,B=0;B<R;B++){var O=A[B],N=C[O];et(N)&&(N=C[O]=""+C[O]),N==null||N===""?(qr("Can not create edge `"+x+"` with unspecified "+O),M=!0):n.hasElementWithId(N)||(qr("Can not create edge `"+x+"` with nonexistant "+O+" `"+N+"`"),M=!0)}if(M){g();continue}var L=n.getElementById(C.source),P=n.getElementById(C.target);L.same(P)?L._private.edges.push(_):(L._private.edges.push(_),P._private.edges.push(_)),_._private.source=L,_._private.target=P}b.map=new Vi,b.map.set(x,{ele:m,index:0}),b.removed=!1,e&&n.addToPool(m)}for(var I=0;I<u.length;I++){var V=u[I],G=V._private.data;et(G.parent)&&(G.parent=""+G.parent);var Z=G.parent,J=Z!=null;if(J||V._private.parent){var j=V._private.parent?n.collection().merge(V._private.parent):n.getElementById(Z);if(j.empty())G.parent=void 0;else if(j[0].removed())lr("Node added with missing parent, reference to parent removed"),G.parent=void 0,V._private.parent=null;else{for(var Y=!1,W=j;!W.empty();){if(V.same(W)){Y=!0,G.parent=void 0;break}W=W.parent()}Y||(j[0]._private.children.push(V),V._private.parent=j[0],i.hasCompoundNodes=!0)}}}if(l.length>0){for(var oe=l.length===r.length?r:new Bn(n,l),se=0;se<oe.length;se++){var U=oe[se];U.isNode()||(U.parallelEdges().clearTraversalCache(),U.source().clearTraversalCache(),U.target().clearTraversalCache())}var X;i.hasCompoundNodes?X=n.collection().merge(oe).merge(oe.connectedNodes()).merge(oe.parent()):X=oe,X.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?oe.emitAndNotify("add"):e&&oe.emit("add")}return r};Sr.removed=function(){var t=this[0];return t&&t._private.removed};Sr.inside=function(){var t=this[0];return t&&!t._private.removed};Sr.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},u=r._private.cy;function s(Z){for(var J=Z._private.edges,j=0;j<J.length;j++)f(J[j])}function l(Z){for(var J=Z._private.children,j=0;j<J.length;j++)f(J[j])}function f(Z){var J=i[Z.id()];e&&Z.removed()||J||(i[Z.id()]=!0,Z.isNode()?(n.push(Z),s(Z),l(Z)):n.unshift(Z))}for(var d=0,v=r.length;d<v;d++){var p=r[d];f(p)}function g(Z,J){var j=Z._private.edges;Lu(j,J),Z.clearTraversalCache()}function m(Z){Z.clearTraversalCache()}var b=[];b.ids={};function C(Z,J){J=J[0],Z=Z[0];var j=Z._private.children,Y=Z.id();Lu(j,J),J._private.parent=null,b.ids[Y]||(b.ids[Y]=!0,b.push(Z))}r.dirtyCompoundBoundsCache(),e&&u.removeFromPool(n);for(var x=0;x<n.length;x++){var E=n[x];if(E.isEdge()){var _=E.source()[0],A=E.target()[0];g(_,E),g(A,E);for(var R=E.parallelEdges(),M=0;M<R.length;M++){var B=R[M];m(B),B.isBundledBezier()&&B.dirtyBoundingBoxCache()}}else{var O=E.parent();O.length!==0&&C(O,E)}e&&(E._private.removed=!0)}var N=u._private.elements;u._private.hasCompoundNodes=!1;for(var L=0;L<N.length;L++){var P=N[L];if(P.isParent()){u._private.hasCompoundNodes=!0;break}}var I=new Bn(this.cy(),n);I.size()>0&&(t?I.emitAndNotify("remove"):e&&I.emit("remove"));for(var V=0;V<b.length;V++){var G=b[V];(!e||!G.removed())&&G.updateStyle()}return I};Sr.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,u=function(b){return b==null?b:""+b};if(t.source!==void 0||t.target!==void 0){var s=u(t.source),l=u(t.target),f=s!=null&&e.hasElementWithId(s),d=l!=null&&e.hasElementWithId(l);(f||d)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var b=r[m],C=b._private.data;b.isEdge()&&(f&&(C.source=s),d&&(C.target=l))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var v=u(t.parent),p=v===null||e.hasElementWithId(v);if(p){var g=v===null?void 0:v;e.batch(function(){var m=r.remove(n,i);m.emitAndNotify("moveout");for(var b=0;b<r.length;b++){var C=r[b],x=C._private.data;C.isNode()&&(x.parent=g)}m.restore(n,i)}),r.emitAndNotify("move")}}return this};[ik,jI,tv,ku,al,u6,Kv,E6,Ok,Mk,A6,Ev,rv,Mn,zu,In].forEach(function(t){St(Sr,t)});var k6={add:function(e){var r,n=this;if(ma(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var u=[],s=0;s<i.length;s++){var l=i[s];u.push(l.json())}r=new Bn(n,u)}}else if(br(e)){var f=e;r=new Bn(n,f)}else if(Jt(e)&&(br(e.nodes)||br(e.edges))){for(var d=e,v=[],p=["nodes","edges"],g=0,m=p.length;g<m;g++){var b=p[g],C=d[b];if(br(C))for(var x=0,E=C.length;x<E;x++){var _=St({group:b},C[x]);v.push(_)}}r=new Bn(n,v)}else{var A=e;r=new Iv(n,A).collection()}return r},remove:function(e){if(!ma(e)){if(yt(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function z6(t,e,r,n){var i=4,u=.001,s=1e-7,l=10,f=11,d=1/(f-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var p=0;p<4;++p)if(typeof arguments[p]!="number"||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var g=v?new Float32Array(f):new Array(f);function m(P,I){return 1-3*I+3*P}function b(P,I){return 3*I-6*P}function C(P){return 3*P}function x(P,I,V){return((m(I,V)*P+b(I,V))*P+C(I))*P}function E(P,I,V){return 3*m(I,V)*P*P+2*b(I,V)*P+C(I)}function _(P,I){for(var V=0;V<i;++V){var G=E(I,t,r);if(G===0)return I;var Z=x(I,t,r)-P;I-=Z/G}return I}function A(){for(var P=0;P<f;++P)g[P]=x(P*d,t,r)}function R(P,I,V){var G,Z,J=0;do Z=I+(V-I)/2,G=x(Z,t,r)-P,G>0?V=Z:I=Z;while(Math.abs(G)>s&&++J<l);return Z}function M(P){for(var I=0,V=1,G=f-1;V!==G&&g[V]<=P;++V)I+=d;--V;var Z=(P-g[V])/(g[V+1]-g[V]),J=I+Z*d,j=E(J,t,r);return j>=u?_(P,J):j===0?J:R(P,I,I+d)}var B=!1;function O(){B=!0,(t!==e||r!==n)&&A()}var N=function(I){return B||O(),t===e&&r===n?I:I===0?0:I===1?1:x(M(I),e,n)};N.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var L="generateBezier("+[t,e,r,n]+")";return N.toString=function(){return L},N}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var N6=(function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,u){var s={x:n.x+u.dx*i,v:n.v+u.dv*i,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,i){var u={dx:n.v,dv:t(n)},s=e(n,i*.5,u),l=e(n,i*.5,s),f=e(n,i,l),d=1/6*(u.dx+2*(s.dx+l.dx)+f.dx),v=1/6*(u.dv+2*(s.dv+l.dv)+f.dv);return n.x=n.x+d*i,n.v=n.v+v*i,n}return function n(i,u,s){var l={x:-1,v:0,tension:null,friction:null},f=[0],d=0,v=1/1e4,p=16/1e3,g,m,b;for(i=parseFloat(i)||500,u=parseFloat(u)||20,s=s||null,l.tension=i,l.friction=u,g=s!==null,g?(d=n(i,u),m=d/s*p):m=p;b=r(b||l,m),f.push(1+b.x),d+=16,Math.abs(b.x)>v&&Math.abs(b.v)>v;);return g?function(C){return f[C*(f.length-1)|0]}:d}})(),Er=function(e,r,n,i){var u=z6(e,r,n,i);return function(s,l,f){return s+(l-s)*u(f)}},nv={linear:function(e,r,n){return e+(r-e)*n},ease:Er(.25,.1,.25,1),"ease-in":Er(.42,0,1,1),"ease-out":Er(0,0,.58,1),"ease-in-out":Er(.42,0,.58,1),"ease-in-sine":Er(.47,0,.745,.715),"ease-out-sine":Er(.39,.575,.565,1),"ease-in-out-sine":Er(.445,.05,.55,.95),"ease-in-quad":Er(.55,.085,.68,.53),"ease-out-quad":Er(.25,.46,.45,.94),"ease-in-out-quad":Er(.455,.03,.515,.955),"ease-in-cubic":Er(.55,.055,.675,.19),"ease-out-cubic":Er(.215,.61,.355,1),"ease-in-out-cubic":Er(.645,.045,.355,1),"ease-in-quart":Er(.895,.03,.685,.22),"ease-out-quart":Er(.165,.84,.44,1),"ease-in-out-quart":Er(.77,0,.175,1),"ease-in-quint":Er(.755,.05,.855,.06),"ease-out-quint":Er(.23,1,.32,1),"ease-in-out-quint":Er(.86,0,.07,1),"ease-in-expo":Er(.95,.05,.795,.035),"ease-out-expo":Er(.19,1,.22,1),"ease-in-out-expo":Er(1,0,0,1),"ease-in-circ":Er(.6,.04,.98,.335),"ease-out-circ":Er(.075,.82,.165,1),"ease-in-out-circ":Er(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return nv.linear;var i=N6(e,r,n);return function(u,s,l){return u+(s-u)*i(l)}},"cubic-bezier":Er};function oA(t,e,r,n,i){if(n===1||e===r)return r;var u=i(e,r,n);return t==null||((t.roundValue||t.color)&&(u=Math.round(u)),t.min!==void 0&&(u=Math.max(u,t.min)),t.max!==void 0&&(u=Math.min(u,t.max))),u}function sA(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function zs(t,e,r,n,i){var u=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var s=sA(t,i),l=sA(e,i);if(et(s)&&et(l))return oA(u,s,l,r,n);if(br(s)&&br(l)){for(var f=[],d=0;d<l.length;d++){var v=s[d],p=l[d];if(v!=null&&p!=null){var g=oA(u,v,p,r,n);f.push(g)}else f.push(p)}return f}}function L6(t,e,r,n){var i=!n,u=t._private,s=e._private,l=s.easing,f=s.startTime,d=n?t:t.cy(),v=d.style();if(!s.easingImpl)if(l==null)s.easingImpl=nv.linear;else{var p;if(yt(l)){var g=v.parse("transition-timing-function",l);p=g.value}else p=l;var m,b;yt(p)?(m=p,b=[]):(m=p[1],b=p.slice(2).map(function(oe){return+oe})),b.length>0?(m==="spring"&&b.push(s.duration),s.easingImpl=nv[m].apply(null,b)):s.easingImpl=nv[m]}var C=s.easingImpl,x;if(s.duration===0?x=1:x=(r-f)/s.duration,s.applying&&(x=s.progress),x<0?x=0:x>1&&(x=1),s.delay==null){var E=s.startPosition,_=s.position;if(_&&i&&!t.locked()){var A={};wc(E.x,_.x)&&(A.x=zs(E.x,_.x,x,C)),wc(E.y,_.y)&&(A.y=zs(E.y,_.y,x,C)),t.position(A)}var R=s.startPan,M=s.pan,B=u.pan,O=M!=null&&n;O&&(wc(R.x,M.x)&&(B.x=zs(R.x,M.x,x,C)),wc(R.y,M.y)&&(B.y=zs(R.y,M.y,x,C)),t.emit("pan"));var N=s.startZoom,L=s.zoom,P=L!=null&&n;P&&(wc(N,L)&&(u.zoom=Hc(u.minZoom,zs(N,L,x,C),u.maxZoom)),t.emit("zoom")),(O||P)&&t.emit("viewport");var I=s.style;if(I&&I.length>0&&i){for(var V=0;V<I.length;V++){var G=I[V],Z=G.name,J=G,j=s.startStyle[Z],Y=v.properties[j.name],W=zs(j,J,x,C,Y);v.overrideBypass(t,Z,W)}t.emit("style")}}return s.progress=x,x}function wc(t,e){return t==null||e==null?!1:et(t)&&et(e)?!0:!!(t&&e)}function P6(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function lA(t,e){var r=e._private.aniEles,n=[];function i(v,p){var g=v._private,m=g.animation.current,b=g.animation.queue,C=!1;if(m.length===0){var x=b.shift();x&&m.push(x)}for(var E=function(B){for(var O=B.length-1;O>=0;O--){var N=B[O];N()}B.splice(0,B.length)},_=m.length-1;_>=0;_--){var A=m[_],R=A._private;if(R.stopped){m.splice(_,1),R.hooked=!1,R.playing=!1,R.started=!1,E(R.frames);continue}!R.playing&&!R.applying||(R.playing&&R.applying&&(R.applying=!1),R.started||P6(v,A,t),L6(v,A,t,p),R.applying&&(R.applying=!1),E(R.frames),R.step!=null&&R.step(t),A.completed()&&(m.splice(_,1),R.hooked=!1,R.playing=!1,R.started=!1,E(R.completes)),C=!0)}return!p&&m.length===0&&b.length===0&&n.push(v),C}for(var u=!1,s=0;s<r.length;s++){var l=r[s],f=i(l);u=u||f}var d=i(e,!0);(u||d)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var I6={animate:sr.animate(),animation:sr.animation(),animated:sr.animated(),clearQueue:sr.clearQueue(),delay:sr.delay(),delayAnimation:sr.delayAnimation(),stop:sr.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&yv(function(u){lA(u,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(u,s){lA(s,e)},n.beforeRenderPriorities.animations):r()}},U6={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&ef(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Id=function(e){return yt(e)?new Iu(e):e},kk={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Yv(U6,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Id(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Id(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Id(r),n),this},once:function(e,r,n){return this.emitter().one(e,Id(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};sr.eventAliasesOn(kk);var Ox={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Ox.jpeg=Ox.jpg;var av={layout:function(e){var r=this;if(e==null){qr("Layout options must be specified to make a layout");return}if(e.name==null){qr("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){qr("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var u;yt(e.eles)?u=r.$(e.eles):u=e.eles!=null?e.eles:r.$();var s=new i(St({},e,{cy:r,eles:u}));return s}};av.createLayout=av.makeLayout=av.layout;var F6={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var u=this.renderer();this.destroyed()||!u||u.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var u=n[i],s=e[u],l=r.getElementById(u);l.data(s)}})}},V6=qn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Mx={renderTo:function(e,r,n,i){var u=this._private.renderer;return u.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){qr("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&lr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=V6(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Mx.invalidateDimensions=Mx.resize;var iv={collection:function(e,r){return yt(e)?this.$(e):ma(e)?e.collection():br(e)?(r||(r={}),new Bn(this,e,r.unique,r.removed)):new Bn(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};iv.elements=iv.filter=iv.$;var Sn={},Pc="t",G6="f";Sn.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),u=0;u<t.length;u++){var s=t[u],l=e.getContextMeta(s);if(!l.empty){var f=e.getContextStyle(l),d=e.applyContextStyle(l,f,s);s._private.appliedInitStyle?e.updateTransitions(s,d.diffProps):s._private.appliedInitStyle=!0;var v=e.updateStyleHints(s);v&&i.push(s)}}return i};Sn.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,u=n[i];if(u)return u;for(var s=[],l={},f=0;f<r.length;f++){var d=r[f],v=t[f]===Pc,p=e[f]===Pc,g=v!==p,m=d.mappedProperties.length>0;if(g||p&&m){var b=void 0;g&&m||g?b=d.properties:m&&(b=d.mappedProperties);for(var C=0;C<b.length;C++){for(var x=b[C],E=x.name,_=!1,A=f+1;A<r.length;A++){var R=r[A],M=e[A]===Pc;if(M&&(_=R.properties[x.name]!=null,_))break}!l[E]&&!_&&(l[E]=!0,s.push(E))}}}return n[i]=s,s};Sn.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",u=0;u<e.length;u++){var s=e[u],l=s.selector&&s.selector.matches(t);l?r+=Pc:r+=G6}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Sn.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},u=0;u<r.length;u++){var s=r[u],l=e[u]===Pc;if(l)for(var f=0;f<s.properties.length;f++){var d=s.properties[f];i[d.name]=d}}return n[e]=i,i};Sn.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,u={},s=n.types,l=0;l<i.length;l++){var f=i[l],d=e[f],v=r.pstyle(f);if(!d)if(v)v.bypass?d={name:f,deleteBypassed:!0}:d={name:f,delete:!0};else continue;if(v!==d){if(d.mapped===s.fn&&v!=null&&v.mapping!=null&&v.mapping.value===d.value){var p=v.mapping,g=p.fnValue=d.value(r);if(g===p.prevFnValue)continue}var m=u[f]={prev:v};n.applyParsedProperty(r,d),m.next=r.pstyle(f),m.next&&m.next.bypass&&(m.next=m.next.bypassed)}}return{diffProps:u}};Sn.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,u=function(ge,Me,je){return r.getPropertiesHash(ge,Me,je)},s=e.styleKey;if(t.removed())return!1;var l=e.group==="nodes",f=t._private.style;n=Object.keys(f);for(var d=0;d<i.length;d++){var v=i[d];e.styleKeys[v]=[_o,Fs]}for(var p=function(ge,Me){return e.styleKeys[Me][0]=Vc(ge,e.styleKeys[Me][0])},g=function(ge,Me){return e.styleKeys[Me][1]=Gc(ge,e.styleKeys[Me][1])},m=function(ge,Me){p(ge,Me),g(ge,Me)},b=function(ge,Me){for(var je=0;je<ge.length;je++){var He=ge.charCodeAt(je);p(He,Me),g(He,Me)}},C=2e9,x=function(ge){return-128<ge&&ge<128&&Math.floor(ge)!==ge?C-(ge*1024|0):ge},E=0;E<n.length;E++){var _=n[E],A=f[_];if(A!=null){var R=this.properties[_],M=R.type,B=R.groupKey,O=void 0;R.hashOverride!=null?O=R.hashOverride(t,A):A.pfValue!=null&&(O=A.pfValue);var N=R.enums==null?A.value:null,L=O!=null,P=N!=null,I=L||P,V=A.units;if(M.number&&I&&!M.multiple){var G=L?O:N;m(x(G),B),!L&&V!=null&&b(V,B)}else b(A.strValue,B)}}for(var Z=[_o,Fs],J=0;J<i.length;J++){var j=i[J],Y=e.styleKeys[j];Z[0]=Vc(Y[0],Z[0]),Z[1]=Gc(Y[1],Z[1])}e.styleKey=i4(Z[0],Z[1]);var W=e.styleKeys;e.labelDimsKey=Au(W.labelDimensions);var oe=u(t,["label"],W.labelDimensions);if(e.labelKey=Au(oe),e.labelStyleKey=Au(Md(W.commonLabel,oe)),!l){var se=u(t,["source-label"],W.labelDimensions);e.sourceLabelKey=Au(se),e.sourceLabelStyleKey=Au(Md(W.commonLabel,se));var U=u(t,["target-label"],W.labelDimensions);e.targetLabelKey=Au(U),e.targetLabelStyleKey=Au(Md(W.commonLabel,U))}if(l){var X=e.styleKeys,ue=X.nodeBody,$=X.nodeBorder,ee=X.nodeOutline,re=X.backgroundImage,de=X.compound,ke=X.pie,ie=X.stripe,he=[ue,$,ee,re,de,ke,ie].filter(function(be){return be!=null}).reduce(Md,[_o,Fs]);e.nodeKey=Au(he),e.hasPie=ke!=null&&ke[0]!==_o&&ke[1]!==Fs,e.hasStripe=ie!=null&&ie[0]!==_o&&ie[1]!==Fs}return s!==e.styleKey};Sn.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};Sn.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,u,s=r.types,l=r.properties[n.name].type,f=n.bypass,d=i[n.name],v=d&&d.bypass,p=t._private,g="mapping",m=function(ue){return ue==null?null:ue.pfValue!=null?ue.pfValue:ue.value},b=function(){var ue=m(d),$=m(n);r.checkTriggers(t,n.name,ue,$)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",f)),n.delete)return i[n.name]=void 0,b(),!0;if(n.deleteBypassed)return d?d.bypass?(d.bypassed=void 0,b(),!0):!1:(b(),!0);if(n.deleteBypass)return d?d.bypass?(i[n.name]=d.bypassed,b(),!0):!1:(b(),!0);var C=function(){lr("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var x=n.field.split("."),E=p.data,_=0;_<x.length&&E;_++){var A=x[_];E=E[A]}if(E==null)return C(),!1;var R;if(et(E)){var M=n.fieldMax-n.fieldMin;M===0?R=0:R=(E-n.fieldMin)/M}else return lr("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+E+"` for `"+t.id()+"` is non-numeric)"),!1;if(R<0?R=0:R>1&&(R=1),l.color){var B=n.valueMin[0],O=n.valueMax[0],N=n.valueMin[1],L=n.valueMax[1],P=n.valueMin[2],I=n.valueMax[2],V=n.valueMin[3]==null?1:n.valueMin[3],G=n.valueMax[3]==null?1:n.valueMax[3],Z=[Math.round(B+(O-B)*R),Math.round(N+(L-N)*R),Math.round(P+(I-P)*R),Math.round(V+(G-V)*R)];u={bypass:n.bypass,name:n.name,value:Z,strValue:"rgb("+Z[0]+", "+Z[1]+", "+Z[2]+")"}}else if(l.number){var J=n.valueMin+(n.valueMax-n.valueMin)*R;u=this.parse(n.name,J,n.bypass,g)}else return!1;if(!u)return C(),!1;u.mapping=n,n=u;break}case s.data:{for(var j=n.field.split("."),Y=p.data,W=0;W<j.length&&Y;W++){var oe=j[W];Y=Y[oe]}if(Y!=null&&(u=this.parse(n.name,Y,n.bypass,g)),!u)return C(),!1;u.mapping=n,n=u;break}case s.fn:{var se=n.value,U=n.fnValue!=null?n.fnValue:se(t);if(n.prevFnValue=U,U==null)return lr("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(u=this.parse(n.name,U,n.bypass,g),!u)return lr("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;u.mapping=si(n),n=u;break}case void 0:break;default:return!1}return f?(v?n.bypassed=d.bypassed:n.bypassed=d,i[n.name]=n):v?d.bypassed=n:i[n.name]=n,b(),!0};Sn.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,u=Object.keys(i),s=0;s<u.length;s++){var l=u[s],f=i[l];f!=null&&(f.bypass?f.bypassed=null:i[l]=null)}}};Sn.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Sn.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,u=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(i.length>0&&u>0){for(var l={},f=!1,d=0;d<i.length;d++){var v=i[d],p=t.pstyle(v),g=e[v];if(g){var m=g.prev,b=m,C=g.next!=null?g.next:p,x=!1,E=void 0,_=1e-6;b&&(et(b.pfValue)&&et(C.pfValue)?(x=C.pfValue-b.pfValue,E=b.pfValue+_*x):et(b.value)&&et(C.value)?(x=C.value-b.value,E=b.value+_*x):br(b.value)&&br(C.value)&&(x=b.value[0]!==C.value[0]||b.value[1]!==C.value[1]||b.value[2]!==C.value[2],E=b.strValue),x&&(l[v]=C.strValue,this.applyBypass(t,v,E),f=!0))}}if(!f)return;n.transitioning=!0,new ol(function(A){s>0?t.delayAnimation(s).play().promise().then(A):A()}).then(function(){return t.animation({style:l,duration:u,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};Sn.checkTrigger=function(t,e,r,n,i,u){var s=this.properties[e],l=i(s);t.removed()||l!=null&&l(r,n,t)&&u(s)};Sn.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(u){return u.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};Sn.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};Sn.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){t.connectedEdges().forEach(function(u){u.dirtyBoundingBoxCache()})})};Sn.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){t.parallelEdges().forEach(function(u){u.dirtyBoundingBoxCache()})})};Sn.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var sf={};sf.applyBypass=function(t,e,r,n){var i=this,u=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var l=0;l<i.properties.length;l++){var f=i.properties[l],d=f.name,v=this.parse(d,r,!0);v&&u.push(v)}}else if(yt(e)){var p=this.parse(e,r,!0);p&&u.push(p)}else if(Jt(e)){var g=e;n=r;for(var m=Object.keys(g),b=0;b<m.length;b++){var C=m[b],x=g[C];if(x===void 0&&(x=g[Lv(C)]),x!==void 0){var E=this.parse(C,x,!0);E&&u.push(E)}}}else return!1;if(u.length===0)return!1;for(var _=!1,A=0;A<t.length;A++){for(var R=t[A],M={},B=void 0,O=0;O<u.length;O++){var N=u[O];if(n){var L=R.pstyle(N.name);B=M[N.name]={prev:L}}_=this.applyParsedProperty(R,si(N))||_,n&&(B.next=R.pstyle(N.name))}_&&this.updateStyleHints(R),n&&this.updateTransitions(R,M,s)}return _};sf.overrideBypass=function(t,e,r){e=Xx(e);for(var n=0;n<t.length;n++){var i=t[n],u=i._private.style[e],s=this.properties[e].type,l=s.color,f=s.mutiple,d=u?u.pfValue!=null?u.pfValue:u.value:null;!u||!u.bypass?this.applyBypass(i,e,r):(u.value=r,u.pfValue!=null&&(u.pfValue=r),l?u.strValue="rgb("+r.join(",")+")":f?u.strValue=r.join(" "):u.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,d,r)}};sf.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};sf.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var u=t[i],s={},l=0;l<e.length;l++){var f=e[l],d=this.properties[f],v=u.pstyle(d.name);if(!(!v||!v.bypass)){var p="",g=this.parse(f,p,!0),m=s[d.name]={prev:v};this.applyParsedProperty(u,g),m.next=u.pstyle(d.name)}}this.updateStyleHints(u),r&&this.updateTransitions(u,s,n)}};var cE={};cE.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};cE.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var li={};li.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};li.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var u=r.properties[i],s=r.getStylePropertyValue(t,u.name,e);s!=null&&(n[u.name]=s,n[Lv(u.name)]=s)}return n}};li.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};li.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var u=i.type,s=t.pstyle(i.name);if(s){var l=s.value,f=s.units,d=s.strValue;if(r&&u.number&&l!=null&&et(l)){var v=t.cy().zoom(),p=function(x){return x*v},g=function(x,E){return p(x)+E},m=br(l),b=m?f.every(function(C){return C!=null}):f!=null;return b?m?l.map(function(C,x){return g(C,f[x])}).join(" "):g(l,f):m?l.map(function(C){return yt(C)?C:""+p(C)}).join(" "):""+p(l)}else if(d!=null)return d}return null}};li.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],u=i.name,s=t.pstyle(u);s!==void 0&&(Jt(s)?s=this.parse(u,s.strValue):s=this.parse(u,s)),s&&(r[u]=s)}return r};li.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var u=Object.keys(n),s=0;s<u.length;s++){var l=u[s],f=n[l],d=i[l]||i[Xx(l)],v=this.parse(d.name,f);v&&r.push(v)}return r};li.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,u,s,l,f,d;for(f=0;f<e.length;f++)if(i=e[f],u=t.pstyle(i,!1),u!=null)if(u.pfValue!=null)n[0]=Vc(l,n[0]),n[1]=Gc(l,n[1]);else for(s=u.strValue,d=0;d<s.length;d++)l=s.charCodeAt(d),n[0]=Vc(l,n[0]),n[1]=Gc(l,n[1]);return n};li.getPropertiesHash=li.getNonDefaultPropertiesHash;var Zv={};Zv.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,u=n.style||n.css,s=Object.keys(u);e.selector(i);for(var l=0;l<s.length;l++){var f=s[l],d=u[f];e.css(f,d)}}return e};Zv.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Zv.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,u={},s=0;s<i.length;s++){var l=i[s];u[l.name]=l.strValue}t.push({selector:n?n.toString():"core",style:u})}return t};var fE={};fE.appendFromString=function(t){var e=this,r=this,n=""+t,i,u,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function l(){n.length>i.length?n=n.substr(i.length):n=""}function f(){u.length>s.length?u=u.substr(s.length):u=""}for(;;){var d=n.match(/^\s*$/);if(d)break;var v=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){lr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=v[0];var p=v[1];if(p!=="core"){var g=new Iu(p);if(g.invalid){lr("Skipping parsing of block: Invalid selector found in string stylesheet: "+p),l();continue}}var m=v[2],b=!1;u=m;for(var C=[];;){var x=u.match(/^\s*$/);if(x)break;var E=u.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!E){lr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+m),b=!0;break}s=E[0];var _=E[1],A=E[2],R=e.properties[_];if(!R){lr("Skipping property: Invalid property name in: "+s),f();continue}var M=r.parse(_,A);if(!M){lr("Skipping property: Invalid property definition in: "+s),f();continue}C.push({name:_,val:A}),f()}if(b){l();break}r.selector(p);for(var B=0;B<C.length;B++){var O=C[B];r.css(O.name,O.val)}l()}return r};fE.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var nn={};(function(){var t=fn,e=L3,r=I3,n=U3,i=F3,u=function(be){return"^"+be+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(be){var ge=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+be+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+ge+")\\s*\\,\\s*("+ge+")\\)$"},l=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];nn.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:u("data")},layoutData:{mapping:!0,regex:u("layoutData")},scratch:{mapping:!0,regex:u("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:l,singleRegexMatchValue:!0},urls:{regexes:l,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(be,ge){switch(be.length){case 2:return ge[0]!=="deg"&&ge[0]!=="rad"&&ge[1]!=="deg"&&ge[1]!=="rad";case 1:return yt(be[0])||ge[0]==="deg"||ge[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(be){var ge=be.length;return ge===1||ge===2||ge===4}}};var f={zeroNonZero:function(be,ge){return(be==null||ge==null)&&be!==ge||be==0&&ge!=0?!0:be!=0&&ge==0},any:function(be,ge){return be!=ge},emptyNonEmpty:function(be,ge){var Me=Nu(be),je=Nu(ge);return Me&&!je||!Me&&je}},d=nn.types,v=[{name:"label",type:d.text,triggersBounds:f.any,triggersZOrder:f.emptyNonEmpty},{name:"text-rotation",type:d.textRotation,triggersBounds:f.any},{name:"text-margin-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"text-margin-y",type:d.bidirectionalSize,triggersBounds:f.any}],p=[{name:"source-label",type:d.text,triggersBounds:f.any},{name:"source-text-rotation",type:d.textRotation,triggersBounds:f.any},{name:"source-text-margin-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"source-text-margin-y",type:d.bidirectionalSize,triggersBounds:f.any},{name:"source-text-offset",type:d.size,triggersBounds:f.any}],g=[{name:"target-label",type:d.text,triggersBounds:f.any},{name:"target-text-rotation",type:d.textRotation,triggersBounds:f.any},{name:"target-text-margin-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"target-text-margin-y",type:d.bidirectionalSize,triggersBounds:f.any},{name:"target-text-offset",type:d.size,triggersBounds:f.any}],m=[{name:"font-family",type:d.fontFamily,triggersBounds:f.any},{name:"font-style",type:d.fontStyle,triggersBounds:f.any},{name:"font-weight",type:d.fontWeight,triggersBounds:f.any},{name:"font-size",type:d.size,triggersBounds:f.any},{name:"text-transform",type:d.textTransform,triggersBounds:f.any},{name:"text-wrap",type:d.textWrap,triggersBounds:f.any},{name:"text-overflow-wrap",type:d.textOverflowWrap,triggersBounds:f.any},{name:"text-max-width",type:d.size,triggersBounds:f.any},{name:"text-outline-width",type:d.size,triggersBounds:f.any},{name:"line-height",type:d.positiveNumber,triggersBounds:f.any}],b=[{name:"text-valign",type:d.valign,triggersBounds:f.any},{name:"text-halign",type:d.halign,triggersBounds:f.any},{name:"color",type:d.color},{name:"text-outline-color",type:d.color},{name:"text-outline-opacity",type:d.zeroOneNumber},{name:"text-background-color",type:d.color},{name:"text-background-opacity",type:d.zeroOneNumber},{name:"text-background-padding",type:d.size,triggersBounds:f.any},{name:"text-border-opacity",type:d.zeroOneNumber},{name:"text-border-color",type:d.color},{name:"text-border-width",type:d.size,triggersBounds:f.any},{name:"text-border-style",type:d.borderStyle,triggersBounds:f.any},{name:"text-background-shape",type:d.textBackgroundShape,triggersBounds:f.any},{name:"text-justification",type:d.justification},{name:"box-select-labels",type:d.bool,triggersBounds:f.any}],C=[{name:"events",type:d.bool,triggersZOrder:f.any},{name:"text-events",type:d.bool,triggersZOrder:f.any},{name:"box-selection",type:d.boxSelection,triggersZOrder:f.any}],x=[{name:"display",type:d.display,triggersZOrder:f.any,triggersBounds:f.any,triggersBoundsOfConnectedEdges:f.any,triggersBoundsOfParallelEdges:function(be,ge,Me){return be===ge?!1:Me.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:d.visibility,triggersZOrder:f.any},{name:"opacity",type:d.zeroOneNumber,triggersZOrder:f.zeroNonZero},{name:"text-opacity",type:d.zeroOneNumber},{name:"min-zoomed-font-size",type:d.size},{name:"z-compound-depth",type:d.zCompoundDepth,triggersZOrder:f.any},{name:"z-index-compare",type:d.zIndexCompare,triggersZOrder:f.any},{name:"z-index",type:d.number,triggersZOrder:f.any}],E=[{name:"overlay-padding",type:d.size,triggersBounds:f.any},{name:"overlay-color",type:d.color},{name:"overlay-opacity",type:d.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"overlay-shape",type:d.overlayShape,triggersBounds:f.any},{name:"overlay-corner-radius",type:d.cornerRadius}],_=[{name:"underlay-padding",type:d.size,triggersBounds:f.any},{name:"underlay-color",type:d.color},{name:"underlay-opacity",type:d.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"underlay-shape",type:d.overlayShape,triggersBounds:f.any},{name:"underlay-corner-radius",type:d.cornerRadius}],A=[{name:"transition-property",type:d.propList},{name:"transition-duration",type:d.time},{name:"transition-delay",type:d.time},{name:"transition-timing-function",type:d.easing}],R=function(be,ge){return ge.value==="label"?-be.poolIndex():ge.pfValue},M=[{name:"height",type:d.nodeSize,triggersBounds:f.any,hashOverride:R},{name:"width",type:d.nodeSize,triggersBounds:f.any,hashOverride:R},{name:"shape",type:d.nodeShape,triggersBounds:f.any},{name:"shape-polygon-points",type:d.polygonPointList,triggersBounds:f.any},{name:"corner-radius",type:d.cornerRadius},{name:"background-color",type:d.color},{name:"background-fill",type:d.fill},{name:"background-opacity",type:d.zeroOneNumber},{name:"background-blacken",type:d.nOneOneNumber},{name:"background-gradient-stop-colors",type:d.colors},{name:"background-gradient-stop-positions",type:d.percentages},{name:"background-gradient-direction",type:d.gradientDirection},{name:"padding",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"padding-relative-to",type:d.paddingRelativeTo,triggersBounds:f.any},{name:"bounds-expansion",type:d.boundsExpansion,triggersBounds:f.any}],B=[{name:"border-color",type:d.color},{name:"border-opacity",type:d.zeroOneNumber},{name:"border-width",type:d.size,triggersBounds:f.any},{name:"border-style",type:d.borderStyle},{name:"border-cap",type:d.lineCap},{name:"border-join",type:d.lineJoin},{name:"border-dash-pattern",type:d.numbers},{name:"border-dash-offset",type:d.number},{name:"border-position",type:d.linePosition}],O=[{name:"outline-color",type:d.color},{name:"outline-opacity",type:d.zeroOneNumber},{name:"outline-width",type:d.size,triggersBounds:f.any},{name:"outline-style",type:d.borderStyle},{name:"outline-offset",type:d.size,triggersBounds:f.any}],N=[{name:"background-image",type:d.urls},{name:"background-image-crossorigin",type:d.bgCrossOrigin},{name:"background-image-opacity",type:d.zeroOneNumbers},{name:"background-image-containment",type:d.bgContainment},{name:"background-image-smoothing",type:d.bools},{name:"background-position-x",type:d.bgPos},{name:"background-position-y",type:d.bgPos},{name:"background-width-relative-to",type:d.bgRelativeTo},{name:"background-height-relative-to",type:d.bgRelativeTo},{name:"background-repeat",type:d.bgRepeat},{name:"background-fit",type:d.bgFit},{name:"background-clip",type:d.bgClip},{name:"background-width",type:d.bgWH},{name:"background-height",type:d.bgWH},{name:"background-offset-x",type:d.bgPos},{name:"background-offset-y",type:d.bgPos}],L=[{name:"position",type:d.position,triggersBounds:f.any},{name:"compound-sizing-wrt-labels",type:d.compoundIncludeLabels,triggersBounds:f.any},{name:"min-width",type:d.size,triggersBounds:f.any},{name:"min-width-bias-left",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"min-width-bias-right",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"min-height",type:d.size,triggersBounds:f.any},{name:"min-height-bias-top",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"min-height-bias-bottom",type:d.sizeMaybePercent,triggersBounds:f.any}],P=[{name:"line-style",type:d.lineStyle},{name:"line-color",type:d.color},{name:"line-fill",type:d.fill},{name:"line-cap",type:d.lineCap},{name:"line-opacity",type:d.zeroOneNumber},{name:"line-dash-pattern",type:d.numbers},{name:"line-dash-offset",type:d.number},{name:"line-outline-width",type:d.size},{name:"line-outline-color",type:d.color},{name:"line-gradient-stop-colors",type:d.colors},{name:"line-gradient-stop-positions",type:d.percentages},{name:"curve-style",type:d.curveStyle,triggersBounds:f.any,triggersBoundsOfParallelEdges:function(be,ge){return be===ge?!1:be==="bezier"||ge==="bezier"}},{name:"haystack-radius",type:d.zeroOneNumber,triggersBounds:f.any},{name:"source-endpoint",type:d.edgeEndpoint,triggersBounds:f.any},{name:"target-endpoint",type:d.edgeEndpoint,triggersBounds:f.any},{name:"control-point-step-size",type:d.size,triggersBounds:f.any},{name:"control-point-distances",type:d.bidirectionalSizes,triggersBounds:f.any},{name:"control-point-weights",type:d.numbers,triggersBounds:f.any},{name:"segment-distances",type:d.bidirectionalSizes,triggersBounds:f.any},{name:"segment-weights",type:d.numbers,triggersBounds:f.any},{name:"segment-radii",type:d.numbers,triggersBounds:f.any},{name:"radius-type",type:d.radiusType,triggersBounds:f.any},{name:"taxi-turn",type:d.bidirectionalSizeMaybePercent,triggersBounds:f.any},{name:"taxi-turn-min-distance",type:d.size,triggersBounds:f.any},{name:"taxi-direction",type:d.axisDirection,triggersBounds:f.any},{name:"taxi-radius",type:d.number,triggersBounds:f.any},{name:"edge-distances",type:d.edgeDistances,triggersBounds:f.any},{name:"arrow-scale",type:d.positiveNumber,triggersBounds:f.any},{name:"loop-direction",type:d.angle,triggersBounds:f.any},{name:"loop-sweep",type:d.angle,triggersBounds:f.any},{name:"source-distance-from-node",type:d.size,triggersBounds:f.any},{name:"target-distance-from-node",type:d.size,triggersBounds:f.any}],I=[{name:"ghost",type:d.bool,triggersBounds:f.any},{name:"ghost-offset-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"ghost-offset-y",type:d.bidirectionalSize,triggersBounds:f.any},{name:"ghost-opacity",type:d.zeroOneNumber}],V=[{name:"selection-box-color",type:d.color},{name:"selection-box-opacity",type:d.zeroOneNumber},{name:"selection-box-border-color",type:d.color},{name:"selection-box-border-width",type:d.size},{name:"active-bg-color",type:d.color},{name:"active-bg-opacity",type:d.zeroOneNumber},{name:"active-bg-size",type:d.size},{name:"outside-texture-bg-color",type:d.color},{name:"outside-texture-bg-opacity",type:d.zeroOneNumber}],G=[];nn.pieBackgroundN=16,G.push({name:"pie-size",type:d.sizeMaybePercent}),G.push({name:"pie-hole",type:d.sizeMaybePercent}),G.push({name:"pie-start-angle",type:d.angle});for(var Z=1;Z<=nn.pieBackgroundN;Z++)G.push({name:"pie-"+Z+"-background-color",type:d.color}),G.push({name:"pie-"+Z+"-background-size",type:d.percent}),G.push({name:"pie-"+Z+"-background-opacity",type:d.zeroOneNumber});var J=[];nn.stripeBackgroundN=16,J.push({name:"stripe-size",type:d.sizeMaybePercent}),J.push({name:"stripe-direction",type:d.axisDirectionPrimary});for(var j=1;j<=nn.stripeBackgroundN;j++)J.push({name:"stripe-"+j+"-background-color",type:d.color}),J.push({name:"stripe-"+j+"-background-size",type:d.percent}),J.push({name:"stripe-"+j+"-background-opacity",type:d.zeroOneNumber});var Y=[],W=nn.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:d.arrowShape,triggersBounds:f.any},{name:"arrow-color",type:d.color},{name:"arrow-fill",type:d.arrowFill},{name:"arrow-width",type:d.arrowWidth}].forEach(function(he){W.forEach(function(be){var ge=be+"-"+he.name,Me=he.type,je=he.triggersBounds;Y.push({name:ge,type:Me,triggersBounds:je})})},{});var oe=nn.properties=[].concat(C,A,x,E,_,I,b,m,v,p,g,M,B,O,N,G,J,L,P,Y,V),se=nn.propertyGroups={behavior:C,transition:A,visibility:x,overlay:E,underlay:_,ghost:I,commonLabel:b,labelDimensions:m,mainLabel:v,sourceLabel:p,targetLabel:g,nodeBody:M,nodeBorder:B,nodeOutline:O,backgroundImage:N,pie:G,stripe:J,compound:L,edgeLine:P,edgeArrow:Y,core:V},U=nn.propertyGroupNames={},X=nn.propertyGroupKeys=Object.keys(se);X.forEach(function(he){U[he]=se[he].map(function(be){return be.name}),se[he].forEach(function(be){return be.groupKey=he})});var ue=nn.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];nn.propertyNames=oe.map(function(he){return he.name});for(var $=0;$<oe.length;$++){var ee=oe[$];oe[ee.name]=ee}for(var re=0;re<ue.length;re++){var de=ue[re],ke=oe[de.pointsTo],ie={name:de.name,alias:!0,pointsTo:ke};oe.push(ie),oe[de.name]=ie}})();nn.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};nn.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=St({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(f,d){for(var v=1;v<=nn.pieBackgroundN;v++){var p=d.name.replace("{{i}}",v),g=d.value;f[p]=g}return f},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(f,d){for(var v=1;v<=nn.stripeBackgroundN;v++){var p=d.name.replace("{{i}}",v),g=d.value;f[p]=g}return f},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(f,d){return nn.arrowPrefixes.forEach(function(v){var p=v+"-"+d.name,g=d.value;f[p]=g}),f},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var u=i.name,s=e[u],l=this.parse(u,s);r[u]=l}}return t.defaultProperties=r,t.defaultProperties};nn.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Qv={};Qv.parse=function(t,e,r,n){var i=this;if(Ur(e))return i.parseImplWarn(t,e,r,n);var u=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",l=""+e,f=jq(t,l,s,u),d=i.propCache=i.propCache||[],v;return(v=d[f])||(v=d[f]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(v=si(v),v&&(v.value=si(v.value))),v};Qv.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&lr("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&lr("The style value of `label` is deprecated for `"+i.name+"`"),i};Qv.parseImpl=function(t,e,r,n){var i=this;t=Xx(t);var u=i.properties[t],s=e,l=i.types;if(!u||e===void 0)return null;u.alias&&(u=u.pointsTo,t=u.name);var f=yt(e);f&&(e=e.trim());var d=u.type;if(!d)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Ur(e))return{name:t,value:e,strValue:"fn",mapped:l.fn,bypass:r};var v,p;if(!(!f||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(l.data.regex).exec(e))){if(r)return!1;var g=l.data;return{name:t,value:v,strValue:""+e,mapped:g,field:v[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(p=new RegExp(l.mapData.regex).exec(e))){if(r||d.multiple)return!1;var m=l.mapData;if(!(d.color||d.number))return!1;var b=this.parse(t,p[4]);if(!b||b.mapped)return!1;var C=this.parse(t,p[5]);if(!C||C.mapped)return!1;if(b.pfValue===C.pfValue||b.strValue===C.strValue)return lr("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+b.strValue+"`"),this.parse(t,b.strValue);if(d.color){var x=b.value,E=C.value,_=x[0]===E[0]&&x[1]===E[1]&&x[2]===E[2]&&(x[3]===E[3]||(x[3]==null||x[3]===1)&&(E[3]==null||E[3]===1));if(_)return!1}return{name:t,value:p,strValue:""+e,mapped:m,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:b.value,valueMax:C.value,bypass:r}}}if(d.multiple&&n!=="multiple"){var A;if(f?A=e.split(/\s+/):br(e)?A=e:A=[e],d.evenMultiple&&A.length%2!==0)return null;for(var R=[],M=[],B=[],O="",N=!1,L=0;L<A.length;L++){var P=i.parse(t,A[L],r,"multiple");N=N||yt(P.value),R.push(P.value),B.push(P.pfValue!=null?P.pfValue:P.value),M.push(P.units),O+=(L>0?" ":"")+P.strValue}return d.validate&&!d.validate(R,M)?null:d.singleEnum&&N?R.length===1&&yt(R[0])?{name:t,value:R[0],strValue:R[0],bypass:r}:null:{name:t,value:R,pfValue:B,strValue:O,bypass:r,units:M}}var I=function(){for(var ie=0;ie<d.enums.length;ie++){var he=d.enums[ie];if(he===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(d.number){var V,G="px";if(d.units&&(V=d.units),d.implicitUnits&&(G=d.implicitUnits),!d.unitless)if(f){var Z="px|em"+(d.allowPercent?"|\\%":"");V&&(Z=V);var J=e.match("^("+fn+")("+Z+")?$");J&&(e=J[1],V=J[2]||G)}else(!V||d.implicitUnits)&&(V=G);if(e=parseFloat(e),isNaN(e)&&d.enums===void 0)return null;if(isNaN(e)&&d.enums!==void 0)return e=s,I();if(d.integer&&!O3(e)||d.min!==void 0&&(e<d.min||d.strictMin&&e===d.min)||d.max!==void 0&&(e>d.max||d.strictMax&&e===d.max))return null;var j={name:t,value:e,strValue:""+e+(V||""),units:V,bypass:r};return d.unitless||V!=="px"&&V!=="em"?j.pfValue=e:j.pfValue=V==="px"||!V?e:this.getEmSizeInPixels()*e,(V==="ms"||V==="s")&&(j.pfValue=V==="ms"?e:1e3*e),(V==="deg"||V==="rad")&&(j.pfValue=V==="rad"?e:U4(e)),V==="%"&&(j.pfValue=e/100),j}else if(d.propList){var Y=[],W=""+e;if(W!=="none"){for(var oe=W.split(/\s*,\s*|\s+/),se=0;se<oe.length;se++){var U=oe[se].trim();i.properties[U]?Y.push(U):lr("`"+U+"` is not a valid property name")}if(Y.length===0)return null}return{name:t,value:Y,strValue:Y.length===0?"none":Y.join(" "),bypass:r}}else if(d.color){var X=Lq(e);return X?{name:t,value:X,pfValue:X,strValue:"rgb("+X[0]+","+X[1]+","+X[2]+")",bypass:r}:null}else if(d.regex||d.regexes){if(d.enums){var ue=I();if(ue)return ue}for(var $=d.regexes?d.regexes:[d.regex],ee=0;ee<$.length;ee++){var re=new RegExp($[ee]),de=re.exec(e);if(de)return{name:t,value:d.singleRegexMatchValue?de[1]:de,strValue:""+e,bypass:r}}return null}else return d.string?{name:t,value:""+e,strValue:""+e,bypass:r}:d.enums?I():null};var En=function(e){if(!(this instanceof En))return new En(e);if(!$x(e)){qr("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Un=En.prototype;Un.instanceString=function(){return"style"};Un.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var u=i[0]._private;u.styleDirty=!0,u.appliedInitStyle=!1}),this};Un.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Un.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Un.selector=function(t){var e=t==="core"?null:new Iu(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Un.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],u=r[i.name];u===void 0&&(u=r[Lv(i.name)]),u!==void 0&&this.cssRule(i.name,u)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Un.style=Un.css;Un.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};Un.append=function(t){return kq(t)?t.appendToStyle(this):br(t)?this.appendFromJson(t):yt(t)&&this.appendFromString(t),this};En.fromJson=function(t,e){var r=new En(t);return r.fromJson(e),r};En.fromString=function(t,e){return new En(t).fromString(e)};[Sn,sf,cE,li,Zv,fE,nn,Qv].forEach(function(t){St(Un,t)});En.types=Un.types;En.properties=Un.properties;En.propertyGroups=Un.propertyGroups;En.propertyGroupNames=Un.propertyGroupNames;En.propertyGroupKeys=Un.propertyGroupKeys;var j6={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return kq(e)?r.style=e.generateStyle(this):br(e)?r.style=En.fromJson(this,e):yt(e)?r.style=En.fromString(this,e):r.style=En(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},H6="single",ko={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=H6),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,u,s,l;switch(e.length){case 0:return r;case 1:if(yt(e[0]))return n=e[0],r[n];if(Jt(e[0])){if(!this._private.panningEnabled)return this;u=e[0],s=u.x,l=u.y,et(s)&&(r.x=s),et(l)&&(r.y=l),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&et(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,u,s,l,f,d;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Jt(e)&&(l=n[0],f=l.x,d=l.y,et(f)&&(i.x+=f),et(d)&&(i.y+=d),this.emit("pan viewport"));break;case 2:u=e,s=r,(u==="x"||u==="y")&&et(s)&&(i[u]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(et(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(yt(e)){var i=e;e=this.$(i)}else if(q3(e)){var u=e;n={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else ma(e)||(e=this.mutableElements());if(!(ma(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),l=this.height(),f;if(r=et(r)?r:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){f=Math.min((s-2*r)/n.w,(l-2*r)/n.h),f=f>this._private.maxZoom?this._private.maxZoom:f,f=f<this._private.minZoom?this._private.minZoom:f;var d={x:(s-f*(n.x1+n.x2))/2,y:(l-f*(n.y1+n.y2))/2};return{zoom:f,pan:d}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return et(e)&&et(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):et(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:et(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,u,s,l=!1;if(r.zoomingEnabled||(l=!0),et(e)?s=e:Jt(e)&&(s=e.level,e.position!=null?u=Uv(e.position,i,n):e.renderedPosition!=null&&(u=e.renderedPosition),u!=null&&!r.panningEnabled&&(l=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,l||!et(s)||s===i||u!=null&&(!et(u.x)||!et(u.y)))return null;if(u!=null){var f=n,d=i,v=s,p={x:-v/d*(u.x-f.x)+u.x,y:-v/d*(u.y-f.y)+u.y};return{zoomed:!0,panned:!0,zoom:v,pan:p}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,u=[],s=!1,l=!1;if(!e)return this;if(et(e.zoom)||(n=!1),Jt(e.pan)||(i=!1),!n&&!i)return this;if(n){var f=e.zoom;f<r.minZoom||f>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=f,u.push("zoom"))}if(i&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var d=e.pan;et(d.x)&&(r.pan.x=d.x,l=!1),et(d.y)&&(r.pan.y=d.y,l=!1),l||u.push("pan")}return u.length>0&&(u.push("viewport"),this.emit(u.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(yt(e)){var n=e;e=this.mutableElements().filter(n)}else ma(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),u=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var l={x:(u-r*(i.x1+i.x2))/2,y:(s-r*(i.y1+i.y2))/2};return l}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?(function(){var i=n.window().getComputedStyle(r),u=function(l){return parseFloat(i.getPropertyValue(l))};return{width:r.clientWidth-u("padding-left")-u("padding-right"),height:r.clientHeight-u("padding-top")-u("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};ko.centre=ko.center;ko.autolockNodes=ko.autolock;ko.autoungrabifyNodes=ko.autoungrabify;var Xc={data:sr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:sr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:sr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:sr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Xc.attr=Xc.data;Xc.removeAttr=Xc.removeData;var Zc=function(e){var r=this;e=St({},e);var n=e.container;n&&!gv(n)&&gv(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var u=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var s=cn!==void 0&&n!==void 0&&!e.headless,l=e;l.layout=St({name:s?"grid":"null"},l.layout),l.renderer=St({name:s?"canvas":"null"},l.renderer);var f=function(b,C,x){return C!==void 0?C:x!==void 0?x:b},d=this._private={container:n,ready:!1,options:l,elements:new Bn(this),listeners:[],aniEles:new Bn(this),data:l.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:f(!0,l.zoomingEnabled),userZoomingEnabled:f(!0,l.userZoomingEnabled),panningEnabled:f(!0,l.panningEnabled),userPanningEnabled:f(!0,l.userPanningEnabled),boxSelectionEnabled:f(!0,l.boxSelectionEnabled),autolock:f(!1,l.autolock,l.autolockNodes),autoungrabify:f(!1,l.autoungrabify,l.autoungrabifyNodes),autounselectify:f(!1,l.autounselectify),styleEnabled:l.styleEnabled===void 0?s:l.styleEnabled,zoom:et(l.zoom)?l.zoom:1,pan:{x:Jt(l.pan)&&et(l.pan.x)?l.pan.x:0,y:Jt(l.pan)&&et(l.pan.y)?l.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:f(250,l.multiClickDebounceTime)};this.createEmitter(),this.selectionType(l.selectionType),this.zoomRange({min:l.minZoom,max:l.maxZoom});var v=function(b,C){var x=b.some(k3);if(x)return ol.all(b).then(C);C(b)};d.styleEnabled&&r.setStyle([]);var p=St({},l,l.renderer);r.initRenderer(p);var g=function(b,C,x){r.notifications(!1);var E=r.mutableElements();E.length>0&&E.remove(),b!=null&&(Jt(b)||br(b))&&r.add(b),r.one("layoutready",function(A){r.notifications(!0),r.emit(A),r.one("load",C),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",x),r.emit("done")});var _=St({},r._private.options.layout);_.eles=r.elements(),r.layout(_).run()};v([l.style,l.elements],function(m){var b=m[0],C=m[1];d.styleEnabled&&r.style().append(b),g(C,function(){r.startAnimationLoop(),d.ready=!0,Ur(l.ready)&&r.on("ready",l.ready);for(var x=0;x<u.length;x++){var E=u[x];r.on("ready",E)}i&&(i.readies=[]),r.emit("ready")},l.done)})},Sv=Zc.prototype;St(Sv,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return cn;var r=this._private.container.ownerDocument;return r===void 0||r==null?cn:r.defaultView||cn},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!gv(e)&&gv(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(St({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return si(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),u=function(R){return r.getElementById(R.id())};if(Jt(e)){if(r.startBatch(),e.elements){var s={},l=function(R,M){for(var B=[],O=[],N=0;N<R.length;N++){var L=R[N];if(!L.data.id){lr("cy.json() cannot handle elements without an ID attribute");continue}var P=""+L.data.id,I=r.getElementById(P);s[P]=!0,I.length!==0?O.push({ele:I,json:L}):(M&&(L.group=M),B.push(L))}r.add(B);for(var V=0;V<O.length;V++){var G=O[V],Z=G.ele,J=G.json;Z.json(J)}};if(br(e.elements))l(e.elements);else for(var f=["nodes","edges"],d=0;d<f.length;d++){var v=f[d],p=e.elements[v];br(p)&&l(p,v)}var g=r.collection();i.filter(function(A){return!s[A.id()]}).forEach(function(A){A.isParent()?g.merge(A):A.remove()}),g.forEach(function(A){return A.children().move({parent:null})}),g.forEach(function(A){return u(A).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],b=0;b<m.length;b++){var C=m[b];e[C]!=null&&r[C](e[C])}return r.endBatch(),this}else{var x=!!e,E={};x?E.elements=this.elements().map(function(A){return A.json()}):(E.elements={},i.forEach(function(A){var R=A.group();E.elements[R]||(E.elements[R]=[]),E.elements[R].push(A.json())})),this._private.styleEnabled&&(E.style=r.style().json()),E.data=si(r.data());var _=n.options;return E.zoomingEnabled=n.zoomingEnabled,E.userZoomingEnabled=n.userZoomingEnabled,E.zoom=n.zoom,E.minZoom=n.minZoom,E.maxZoom=n.maxZoom,E.panningEnabled=n.panningEnabled,E.userPanningEnabled=n.userPanningEnabled,E.pan=si(n.pan),E.boxSelectionEnabled=n.boxSelectionEnabled,E.renderer=si(_.renderer),E.hideEdgesOnViewport=_.hideEdgesOnViewport,E.textureOnViewport=_.textureOnViewport,E.wheelSensitivity=_.wheelSensitivity,E.motionBlur=_.motionBlur,E.multiClickDebounceTime=_.multiClickDebounceTime,E}}});Sv.$id=Sv.getElementById;[k6,I6,kk,Ox,av,F6,Mx,iv,j6,ko,Xc].forEach(function(t){St(Sv,t)});var K6={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},Y6={maximal:!1,acyclic:!1},Ns=function(e){return e.scratch("breadthfirst")},cA=function(e,r){return e.scratch("breadthfirst",r)};function zk(t){this.options=St({},K6,Y6,t)}zk.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(ct){return ct.isChildless()}),i=r,u=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,l=!!t.boundingBox,f=$n(l?t.boundingBox:structuredClone(e.extent())),d;if(ma(t.roots))d=t.roots;else if(br(t.roots)){for(var v=[],p=0;p<t.roots.length;p++){var g=t.roots[p],m=e.getElementById(g);v.push(m)}d=e.collection(v)}else if(yt(t.roots))d=e.$(t.roots);else if(u)d=n.roots();else{var b=r.components();d=e.collection();for(var C=function(){var Qe=b[x],tt=Qe.maxDegree(!1),ot=Qe.filter(function(st){return st.degree(!1)===tt});d=d.add(ot)},x=0;x<b.length;x++)C()}var E=[],_={},A=function(Qe,tt){E[tt]==null&&(E[tt]=[]);var ot=E[tt].length;E[tt].push(Qe),cA(Qe,{index:ot,depth:tt})},R=function(Qe,tt){var ot=Ns(Qe),st=ot.depth,rt=ot.index;E[st][rt]=null,Qe.isChildless()&&A(Qe,tt)};i.bfs({roots:d,directed:t.directed,visit:function(Qe,tt,ot,st,rt){var xt=Qe[0],Dt=xt.id();xt.isChildless()&&A(xt,rt),_[Dt]=!0}});for(var M=[],B=0;B<n.length;B++){var O=n[B];_[O.id()]||M.push(O)}var N=function(Qe){for(var tt=E[Qe],ot=0;ot<tt.length;ot++){var st=tt[ot];if(st==null){tt.splice(ot,1),ot--;continue}cA(st,{depth:Qe,index:ot})}},L=function(Qe,tt){for(var ot=Ns(Qe),st=Qe.incomers().filter(function(gt){return gt.isNode()&&r.has(gt)}),rt=-1,xt=Qe.id(),Dt=0;Dt<st.length;Dt++){var qt=st[Dt],Mt=Ns(qt);rt=Math.max(rt,Mt.depth)}if(ot.depth<=rt){if(!t.acyclic&&tt[xt])return null;var Pt=rt+1;return R(Qe,Pt),tt[xt]=Pt,!0}return!1};if(u&&s){var P=[],I={},V=function(Qe){return P.push(Qe)},G=function(){return P.shift()};for(n.forEach(function(ct){return P.push(ct)});P.length>0;){var Z=G(),J=L(Z,I);if(J)Z.outgoers().filter(function(ct){return ct.isNode()&&r.has(ct)}).forEach(V);else if(J===null){lr("Detected double maximal shift for node `"+Z.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var j=0;if(t.avoidOverlap)for(var Y=0;Y<n.length;Y++){var W=n[Y],oe=W.layoutDimensions(t),se=oe.w,U=oe.h;j=Math.max(j,se,U)}var X={},ue=function(Qe){if(X[Qe.id()])return X[Qe.id()];for(var tt=Ns(Qe).depth,ot=Qe.neighborhood(),st=0,rt=0,xt=0;xt<ot.length;xt++){var Dt=ot[xt];if(!(Dt.isEdge()||Dt.isParent()||!n.has(Dt))){var qt=Ns(Dt);if(qt!=null){var Mt=qt.index,Pt=qt.depth;if(!(Mt==null||Pt==null)){var gt=E[Pt].length;Pt<tt&&(st+=Mt/gt,rt++)}}}}return rt=Math.max(1,rt),st=st/rt,rt===0&&(st=0),X[Qe.id()]=st,st},$=function(Qe,tt){var ot=ue(Qe),st=ue(tt),rt=ot-st;return rt===0?Nq(Qe.id(),tt.id()):rt};t.depthSort!==void 0&&($=t.depthSort);for(var ee=E.length,re=0;re<ee;re++)E[re].sort($),N(re);for(var de=[],ke=0;ke<M.length;ke++)de.push(M[ke]);var ie=function(){for(var Qe=0;Qe<ee;Qe++)N(Qe)};de.length&&(E.unshift(de),ee=E.length,ie());for(var he=0,be=0;be<ee;be++)he=Math.max(E[be].length,he);var ge={x:f.x1+f.w/2,y:f.y1+f.h/2},Me=n.reduce(function(ct,Qe){return(function(tt){return{w:ct.w===-1?tt.w:(ct.w+tt.w)/2,h:ct.h===-1?tt.h:(ct.h+tt.h)/2}})(Qe.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),je=Math.max(ee===1?0:l?(f.h-t.padding*2-Me.h)/(ee-1):(f.h-t.padding*2-Me.h)/(ee+1),j),He=E.reduce(function(ct,Qe){return Math.max(ct,Qe.length)},0),Ct=function(Qe){var tt=Ns(Qe),ot=tt.depth,st=tt.index;if(t.circle){var rt=Math.min(f.w/2/ee,f.h/2/ee);rt=Math.max(rt,j);var xt=rt*ot+rt-(ee>0&&E[0].length<=3?rt/2:0),Dt=2*Math.PI/E[ot].length*st;return ot===0&&E[0].length===1&&(xt=1),{x:ge.x+xt*Math.cos(Dt),y:ge.y+xt*Math.sin(Dt)}}else{var qt=E[ot].length,Mt=Math.max(qt===1?0:l?(f.w-t.padding*2-Me.w)/((t.grid?He:qt)-1):(f.w-t.padding*2-Me.w)/((t.grid?He:qt)+1),j),Pt={x:ge.x+(st+1-(qt+1)/2)*Mt,y:ge.y+(ot+1-(ee+1)/2)*je};return Pt}},Ze={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Ze).indexOf(t.direction)===-1&&qr("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Ze).join(", ")));var vt=function(Qe){return l4(Ct(Qe),f,Ze[t.direction])};return r.nodes().layoutPositions(this,t,vt),this};var $6={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Nk(t){this.options=St({},$6,t)}Nk.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,u=n.nodes().not(":parent");e.sort&&(u=u.sort(e.sort));for(var s=$n(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},f=e.sweep===void 0?2*Math.PI-2*Math.PI/u.length:e.sweep,d=f/Math.max(1,u.length-1),v,p=0,g=0;g<u.length;g++){var m=u[g],b=m.layoutDimensions(e),C=b.w,x=b.h;p=Math.max(p,C,x)}if(et(e.radius)?v=e.radius:u.length<=1?v=0:v=Math.min(s.h,s.w)/2-p,u.length>1&&e.avoidOverlap){p*=1.75;var E=Math.cos(d)-Math.cos(0),_=Math.sin(d)-Math.sin(0),A=Math.sqrt(p*p/(E*E+_*_));v=Math.max(A,v)}var R=function(B,O){var N=e.startAngle+O*d*(i?1:-1),L=v*Math.cos(N),P=v*Math.sin(N),I={x:l.x+L,y:l.y+P};return I};return n.nodes().layoutPositions(this,e,R),this};var X6={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Lk(t){this.options=St({},X6,t)}Lk.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,u=i.nodes().not(":parent"),s=$n(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},f=[],d=0,v=0;v<u.length;v++){var p=u[v],g=void 0;g=e.concentric(p),f.push({value:g,node:p}),p._private.scratch.concentric=g}u.updateStyle();for(var m=0;m<u.length;m++){var b=u[m],C=b.layoutDimensions(e);d=Math.max(d,C.w,C.h)}f.sort(function(je,He){return He.value-je.value});for(var x=e.levelWidth(u),E=[[]],_=E[0],A=0;A<f.length;A++){var R=f[A];if(_.length>0){var M=Math.abs(_[0].value-R.value);M>=x&&(_=[],E.push(_))}_.push(R)}var B=d+e.minNodeSpacing;if(!e.avoidOverlap){var O=E.length>0&&E[0].length>1,N=Math.min(s.w,s.h)/2-B,L=N/(E.length+O?1:0);B=Math.min(B,L)}for(var P=0,I=0;I<E.length;I++){var V=E[I],G=e.sweep===void 0?2*Math.PI-2*Math.PI/V.length:e.sweep,Z=V.dTheta=G/Math.max(1,V.length-1);if(V.length>1&&e.avoidOverlap){var J=Math.cos(Z)-Math.cos(0),j=Math.sin(Z)-Math.sin(0),Y=Math.sqrt(B*B/(J*J+j*j));P=Math.max(Y,P)}V.r=P,P+=B}if(e.equidistant){for(var W=0,oe=0,se=0;se<E.length;se++){var U=E[se],X=U.r-oe;W=Math.max(W,X)}oe=0;for(var ue=0;ue<E.length;ue++){var $=E[ue];ue===0&&(oe=$.r),$.r=oe,oe+=W}}for(var ee={},re=0;re<E.length;re++)for(var de=E[re],ke=de.dTheta,ie=de.r,he=0;he<de.length;he++){var be=de[he],ge=e.startAngle+(r?1:-1)*ke*he,Me={x:l.x+ie*Math.cos(ge),y:l.y+ie*Math.sin(ge)};ee[be.node.id()]=Me}return i.nodes().layoutPositions(this,e,function(je){var He=je.id();return ee[He]}),this};var Uy,Z6={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Wv(t){this.options=St({},Z6,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var u=i.source().data("id"),s=i.target().data("id"),l=e.some(function(d){return d.data("id")===u}),f=e.some(function(d){return d.data("id")===s});return!l||!f});this.options.eles=this.options.eles.not(n)}Wv.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Uy=!0:Uy=!1;var n=Q6(e,r,t);Uy&&J6(n),t.randomize&&eU(n);var i=Gi(),u=function(){tU(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(g){return!(r.stopped||g>=t.numIter||(rU(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},l=function(){if(t.animate===!0||t.animate===!1)u(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var g=t.eles.nodes(),m=Ik(n,t,g);g.layoutPositions(r,t,m)}},f=0,d=!0;if(t.animate===!0){var v=function(){for(var g=0;d&&g<t.refresh;)d=s(f),f++,g++;if(!d)dA(n,t),l();else{var m=Gi();m-i>=t.animationThreshold&&u(),yv(v)}};v()}else{for(;d;)d=s(f),f++;dA(n,t),l()}return this};Wv.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Wv.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Q6=function(e,r,n){for(var i=n.eles.edges(),u=n.eles.nodes(),s=$n(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),l={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:u.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},f=n.eles.components(),d={},v=0;v<f.length;v++)for(var p=f[v],g=0;g<p.length;g++){var m=p[g];d[m.id()]=v}for(var v=0;v<l.nodeSize;v++){var b=u[v],C=b.layoutDimensions(n),x={};x.isLocked=b.locked(),x.id=b.data("id"),x.parentId=b.data("parent"),x.cmptId=d[b.id()],x.children=[],x.positionX=b.position("x"),x.positionY=b.position("y"),x.offsetX=0,x.offsetY=0,x.height=C.w,x.width=C.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(b.style("padding")),x.padRight=parseFloat(b.style("padding")),x.padTop=parseFloat(b.style("padding")),x.padBottom=parseFloat(b.style("padding")),x.nodeRepulsion=Ur(n.nodeRepulsion)?n.nodeRepulsion(b):n.nodeRepulsion,l.layoutNodes.push(x),l.idToIndex[x.id]=v}for(var E=[],_=0,A=-1,R=[],v=0;v<l.nodeSize;v++){var b=l.layoutNodes[v],M=b.parentId;M!=null?l.layoutNodes[l.idToIndex[M]].children.push(b.id):(E[++A]=b.id,R.push(b.id))}for(l.graphSet.push(R);_<=A;){var B=E[_++],O=l.idToIndex[B],m=l.layoutNodes[O],N=m.children;if(N.length>0){l.graphSet.push(N);for(var v=0;v<N.length;v++)E[++A]=N[v]}}for(var v=0;v<l.graphSet.length;v++)for(var L=l.graphSet[v],g=0;g<L.length;g++){var P=l.idToIndex[L[g]];l.indexToGraph[P]=v}for(var v=0;v<l.edgeSize;v++){var I=i[v],V={};V.id=I.data("id"),V.sourceId=I.data("source"),V.targetId=I.data("target");var G=Ur(n.idealEdgeLength)?n.idealEdgeLength(I):n.idealEdgeLength,Z=Ur(n.edgeElasticity)?n.edgeElasticity(I):n.edgeElasticity,J=l.idToIndex[V.sourceId],j=l.idToIndex[V.targetId],Y=l.indexToGraph[J],W=l.indexToGraph[j];if(Y!=W){for(var oe=W6(V.sourceId,V.targetId,l),se=l.graphSet[oe],U=0,x=l.layoutNodes[J];se.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],U++;for(x=l.layoutNodes[j];se.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],U++;G*=U*n.nestingFactor}V.idealLength=G,V.elasticity=Z,l.layoutEdges.push(V)}return l},W6=function(e,r,n){var i=Pk(e,r,0,n);return 2>i.count?0:i.graph},Pk=function(e,r,n,i){var u=i.graphSet[n];if(-1<u.indexOf(e)&&-1<u.indexOf(r))return{count:2,graph:n};for(var s=0,l=0;l<u.length;l++){var f=u[l],d=i.idToIndex[f],v=i.layoutNodes[d].children;if(v.length!==0){var p=i.indexToGraph[i.idToIndex[v[0]]],g=Pk(e,r,p,i);if(g.count!==0)if(g.count===1){if(s++,s===2)break}else return g}}return{count:s,graph:n}},J6,eU=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,u=0;u<e.nodeSize;u++){var s=e.layoutNodes[u];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*i)}},Ik=function(e,r,n){var i=e.boundingBox,u={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var l=e.layoutNodes[e.idToIndex[s.data("id")]];u.x1=Math.min(u.x1,l.positionX),u.x2=Math.max(u.x2,l.positionX),u.y1=Math.min(u.y1,l.positionY),u.y2=Math.max(u.y2,l.positionY)}),u.w=u.x2-u.x1,u.h=u.y2-u.y1),function(s,l){var f=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var d=u.w===0?.5:(f.positionX-u.x1)/u.w,v=u.h===0?.5:(f.positionY-u.y1)/u.h;return{x:i.x1+d*i.w,y:i.y1+v*i.h}}else return{x:f.positionX,y:f.positionY}}},tU=function(e,r,n){var i=n.layout,u=n.eles.nodes(),s=Ik(e,n,u);u.positions(s),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},rU=function(e,r,n){nU(e,r),uU(e),oU(e,r),sU(e),lU(e)},nU=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],u=i.length,s=0;s<u;s++)for(var l=e.layoutNodes[e.idToIndex[i[s]]],f=s+1;f<u;f++){var d=e.layoutNodes[e.idToIndex[i[f]]];aU(l,d,e,r)}},fA=function(e){return-1+2*e*Math.random()},aU=function(e,r,n,i){var u=e.cmptId,s=r.cmptId;if(!(u!==s&&!n.isCompound)){var l=r.positionX-e.positionX,f=r.positionY-e.positionY,d=1;l===0&&f===0&&(l=fA(d),f=fA(d));var v=iU(e,r,l,f);if(v>0)var p=i.nodeOverlap*v,g=Math.sqrt(l*l+f*f),m=p*l/g,b=p*f/g;else var C=Tv(e,l,f),x=Tv(r,-1*l,-1*f),E=x.x-C.x,_=x.y-C.y,A=E*E+_*_,g=Math.sqrt(A),p=(e.nodeRepulsion+r.nodeRepulsion)/A,m=p*E/g,b=p*_/g;e.isLocked||(e.offsetX-=m,e.offsetY-=b),r.isLocked||(r.offsetX+=m,r.offsetY+=b)}},iU=function(e,r,n,i){if(n>0)var u=e.maxX-r.minX;else var u=r.maxX-e.minX;if(i>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return u>=0&&s>=0?Math.sqrt(u*u+s*s):0},Tv=function(e,r,n){var i=e.positionX,u=e.positionY,s=e.height||1,l=e.width||1,f=n/r,d=s/l,v={};return r===0&&0<n||r===0&&0>n?(v.x=i,v.y=u+s/2,v):0<r&&-1*d<=f&&f<=d?(v.x=i+l/2,v.y=u+l*n/2/r,v):0>r&&-1*d<=f&&f<=d?(v.x=i-l/2,v.y=u-l*n/2/r,v):0<n&&(f<=-1*d||f>=d)?(v.x=i+s*r/2/n,v.y=u+s/2,v):(0>n&&(f<=-1*d||f>=d)&&(v.x=i-s*r/2/n,v.y=u-s/2),v)},uU=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],u=e.idToIndex[i.sourceId],s=e.layoutNodes[u],l=e.idToIndex[i.targetId],f=e.layoutNodes[l],d=f.positionX-s.positionX,v=f.positionY-s.positionY;if(!(d===0&&v===0)){var p=Tv(s,d,v),g=Tv(f,-1*d,-1*v),m=g.x-p.x,b=g.y-p.y,C=Math.sqrt(m*m+b*b),x=Math.pow(i.idealLength-C,2)/i.elasticity;if(C!==0)var E=x*m/C,_=x*b/C;else var E=0,_=0;s.isLocked||(s.offsetX+=E,s.offsetY+=_),f.isLocked||(f.offsetX-=E,f.offsetY-=_)}}},oU=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var u=e.graphSet[i],s=u.length;if(i===0)var l=e.clientHeight/2,f=e.clientWidth/2;else var d=e.layoutNodes[e.idToIndex[u[0]]],v=e.layoutNodes[e.idToIndex[d.parentId]],l=v.positionX,f=v.positionY;for(var p=0;p<s;p++){var g=e.layoutNodes[e.idToIndex[u[p]]];if(!g.isLocked){var m=l-g.positionX,b=f-g.positionY,C=Math.sqrt(m*m+b*b);if(C>n){var x=r.gravity*m/C,E=r.gravity*b/C;g.offsetX+=x,g.offsetY+=E}}}}},sU=function(e,r){var n=[],i=0,u=-1;for(n.push.apply(n,e.graphSet[0]),u+=e.graphSet[0].length;i<=u;){var s=n[i++],l=e.idToIndex[s],f=e.layoutNodes[l],d=f.children;if(0<d.length&&!f.isLocked){for(var v=f.offsetX,p=f.offsetY,g=0;g<d.length;g++){var m=e.layoutNodes[e.idToIndex[d[g]]];m.offsetX+=v,m.offsetY+=p,n[++u]=d[g]}f.offsetX=0,f.offsetY=0}}},lU=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var u=cU(i.offsetX,i.offsetY,e.temperature);i.positionX+=u.x,i.positionY+=u.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Uk(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},cU=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var u={x:n*e/i,y:n*r/i};else var u={x:e,y:r};return u},Uk=function(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],u=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,u=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,u=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,u=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,u=!0),u)return Uk(i,r)}},dA=function(e,r){for(var n=e.layoutNodes,i=[],u=0;u<n.length;u++){var s=n[u],l=s.cmptId,f=i[l]=i[l]||[];f.push(s)}for(var d=0,u=0;u<i.length;u++){var v=i[u];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var p=0;p<v.length;p++){var g=v[p];v.x1=Math.min(v.x1,g.positionX-g.width/2),v.x2=Math.max(v.x2,g.positionX+g.width/2),v.y1=Math.min(v.y1,g.positionY-g.height/2),v.y2=Math.max(v.y2,g.positionY+g.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,d+=v.w*v.h}}i.sort(function(_,A){return A.w*A.h-_.w*_.h});for(var m=0,b=0,C=0,x=0,E=Math.sqrt(d)*e.clientWidth/e.clientHeight,u=0;u<i.length;u++){var v=i[u];if(v){for(var p=0;p<v.length;p++){var g=v[p];g.isLocked||(g.positionX+=m-v.x1,g.positionY+=b-v.y1)}m+=v.w+r.componentSpacing,C+=v.w+r.componentSpacing,x=Math.max(x,v.h),C>E&&(b+=x+r.componentSpacing,m=0,C=0,x=0)}}},fU={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Fk(t){this.options=St({},fU,t)}Fk.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var u=$n(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(u.h===0||u.w===0)n.nodes().layoutPositions(this,e,function(ue){return{x:u.x1,y:u.y1}});else{var s=i.size(),l=Math.sqrt(s*u.h/u.w),f=Math.round(l),d=Math.round(u.w/u.h*l),v=function($){if($==null)return Math.min(f,d);var ee=Math.min(f,d);ee==f?f=$:d=$},p=function($){if($==null)return Math.max(f,d);var ee=Math.max(f,d);ee==f?f=$:d=$},g=e.rows,m=e.cols!=null?e.cols:e.columns;if(g!=null&&m!=null)f=g,d=m;else if(g!=null&&m==null)f=g,d=Math.ceil(s/f);else if(g==null&&m!=null)d=m,f=Math.ceil(s/d);else if(d*f>s){var b=v(),C=p();(b-1)*C>=s?v(b-1):(C-1)*b>=s&&p(C-1)}else for(;d*f<s;){var x=v(),E=p();(E+1)*x>=s?p(E+1):v(x+1)}var _=u.w/d,A=u.h/f;if(e.condense&&(_=0,A=0),e.avoidOverlap)for(var R=0;R<i.length;R++){var M=i[R],B=M._private.position;(B.x==null||B.y==null)&&(B.x=0,B.y=0);var O=M.layoutDimensions(e),N=e.avoidOverlapPadding,L=O.w+N,P=O.h+N;_=Math.max(_,L),A=Math.max(A,P)}for(var I={},V=function($,ee){return!!I["c-"+$+"-"+ee]},G=function($,ee){I["c-"+$+"-"+ee]=!0},Z=0,J=0,j=function(){J++,J>=d&&(J=0,Z++)},Y={},W=0;W<i.length;W++){var oe=i[W],se=e.position(oe);if(se&&(se.row!==void 0||se.col!==void 0)){var U={row:se.row,col:se.col};if(U.col===void 0)for(U.col=0;V(U.row,U.col);)U.col++;else if(U.row===void 0)for(U.row=0;V(U.row,U.col);)U.row++;Y[oe.id()]=U,G(U.row,U.col)}}var X=function($,ee){var re,de;if($.locked()||$.isParent())return!1;var ke=Y[$.id()];if(ke)re=ke.col*_+_/2+u.x1,de=ke.row*A+A/2+u.y1;else{for(;V(Z,J);)j();re=J*_+_/2+u.x1,de=Z*A+A/2+u.y1,G(Z,J),j()}return{x:re,y:de}};i.layoutPositions(this,e,X)}return this};var dU={ready:function(){},stop:function(){}};function dE(t){this.options=St({},dU,t)}dE.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};dE.prototype.stop=function(){return this};var vU={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Vk(t){this.options=St({},vU,t)}Vk.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Ur(t.positions);function i(u){if(t.positions==null)return z4(u.position());if(n)return t.positions(u);var s=t.positions[u._private.data.id];return s??null}return r.layoutPositions(this,t,function(u,s){var l=i(u);return u.locked()||l==null?!1:l}),this};var hU={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Gk(t){this.options=St({},hU,t)}Gk.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=$n(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(s,l){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var pU=[{name:"breadthfirst",impl:zk},{name:"circle",impl:Nk},{name:"concentric",impl:Lk},{name:"cose",impl:Wv},{name:"grid",impl:Fk},{name:"null",impl:dE},{name:"preset",impl:Vk},{name:"random",impl:Gk}];function jk(t){this.options=t,this.notifications=0}var vA=function(){},hA=function(){throw new Error("A headless instance can not render images")};jk.prototype={recalculateRenderedStyle:vA,notify:function(){this.notifications++},init:vA,isHeadless:function(){return!0},png:hA,jpg:hA};var vE={};vE.arrowShapeWidth=.3;vE.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(d,v,p,g,m,b,C){var x=m.x-p/2-C,E=m.x+p/2+C,_=m.y-p/2-C,A=m.y+p/2+C,R=x<=d&&d<=E&&_<=v&&v<=A;return R},n=function(d,v,p,g,m){var b=d*Math.cos(g)-v*Math.sin(g),C=d*Math.sin(g)+v*Math.cos(g),x=b*p,E=C*p,_=x+m.x,A=E+m.y;return{x:_,y:A}},i=function(d,v,p,g){for(var m=[],b=0;b<d.length;b+=2){var C=d[b],x=d[b+1];m.push(n(C,x,v,p,g))}return m},u=function(d){for(var v=[],p=0;p<d.length;p++){var g=d[p];v.push(g.x,g.y)}return v},s=function(d){return d.pstyle("width").pfValue*d.pstyle("arrow-scale").pfValue*2},l=function(d,v){yt(v)&&(v=t[v]),t[d]=St({name:d,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(g,m,b,C,x,E){var _=u(i(this.points,b+2*E,C,x)),A=ua(g,m,_);return A},roughCollide:r,draw:function(g,m,b,C){var x=i(this.points,m,b,C);e.arrowShapeImpl("polygon")(g,x)},spacing:function(g){return 0},gap:s},v)};l("none",{collide:mv,roughCollide:mv,draw:Wx,spacing:R_,gap:R_}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(d,v,p,g,m){var b=i(this.points,v,p,g),C=this.controlPoint,x=n(C[0],C[1],v,p,g);e.arrowShapeImpl(this.name)(d,b,x)},gap:function(d){return s(d)*.8}}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(d,v,p,g,m,b,C){var x=u(i(this.points,p+2*C,g,m)),E=u(i(this.pointsTee,p+2*C,g,m)),_=ua(d,v,x)||ua(d,v,E);return _},draw:function(d,v,p,g,m){var b=i(this.points,v,p,g),C=i(this.pointsTee,v,p,g);e.arrowShapeImpl(this.name)(d,b,C)}}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(d,v,p,g,m,b,C){var x=m,E=Math.pow(x.x-d,2)+Math.pow(x.y-v,2)<=Math.pow((p+2*C)*this.radius,2),_=u(i(this.points,p+2*C,g,m));return ua(d,v,_)||E},draw:function(d,v,p,g,m){var b=i(this.pointsTr,v,p,g);e.arrowShapeImpl(this.name)(d,b,g.x,g.y,this.radius*v)},spacing:function(d){return e.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.radius}}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(d,v){var p=this.baseCrossLinePts.slice(),g=v/d,m=3,b=5;return p[m]=p[m]-g,p[b]=p[b]-g,p},collide:function(d,v,p,g,m,b,C){var x=u(i(this.points,p+2*C,g,m)),E=u(i(this.crossLinePts(p,b),p+2*C,g,m)),_=ua(d,v,x)||ua(d,v,E);return _},draw:function(d,v,p,g,m){var b=i(this.points,v,p,g),C=i(this.crossLinePts(v,m),v,p,g);e.arrowShapeImpl(this.name)(d,b,C)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(d){return s(d)*.525}}),l("circle",{radius:.15,collide:function(d,v,p,g,m,b,C){var x=m,E=Math.pow(x.x-d,2)+Math.pow(x.y-v,2)<=Math.pow((p+2*C)*this.radius,2);return E},draw:function(d,v,p,g,m){e.arrowShapeImpl(this.name)(d,g.x,g.y,this.radius*v)},spacing:function(d){return e.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.radius}}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(d){return 1},gap:function(d){return 1}}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(d){return d.pstyle("width").pfValue*d.pstyle("arrow-scale").value}}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(d){return .95*d.pstyle("width").pfValue*d.pstyle("arrow-scale").value}})};var No={};No.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],u=n[1],s=n[4],l=r.pan(),f=r.zoom(),d=((t-i)/s-l.x)/f,v=((e-u)/s-l.y)/f;return[d,v]};No.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(E){return parseFloat(r.getPropertyValue(E))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},u={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,l=t.clientHeight,f=i.left+i.right,d=i.top+i.bottom,v=u.left+u.right,p=e.width/(s+v),g=s-f,m=l-d,b=e.left+i.left+u.left,C=e.top+i.top+u.top;return this.containerBB=[b,C,g,m,p]};No.invalidateContainerClientCoordsCache=function(){this.containerBB=null};No.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};No.findNearestElements=function(t,e,r,n){var i=this,u=this,s=u.getCachedZSortedEles(),l=[],f=u.cy.zoom(),d=u.cy.hasCompoundNodes(),v=(n?24:8)/f,p=(n?8:2)/f,g=(n?8:2)/f,m=1/0,b,C;r&&(s=s.interactive);function x(O,N){if(O.isNode()){if(C)return;C=O,l.push(O)}if(O.isEdge()&&(N==null||N<m))if(b){if(b.pstyle("z-compound-depth").value===O.pstyle("z-compound-depth").value&&b.pstyle("z-compound-depth").value===O.pstyle("z-compound-depth").value){for(var L=0;L<l.length;L++)if(l[L].isEdge()){l[L]=O,b=O,m=N??m;break}}}else l.push(O),b=O,m=N??m}function E(O){var N=O.outerWidth()+2*p,L=O.outerHeight()+2*p,P=N/2,I=L/2,V=O.position(),G=O.pstyle("corner-radius").value==="auto"?"auto":O.pstyle("corner-radius").pfValue,Z=O._private.rscratch;if(V.x-P<=t&&t<=V.x+P&&V.y-I<=e&&e<=V.y+I){var J=u.nodeShapes[i.getNodeShape(O)];if(J.checkPoint(t,e,0,N,L,V.x,V.y,G,Z))return x(O,0),!0}}function _(O){var N=O._private,L=N.rscratch,P=O.pstyle("width").pfValue,I=O.pstyle("arrow-scale").value,V=P/2+v,G=V*V,Z=V*2,W=N.source,oe=N.target,J;if(L.edgeType==="segments"||L.edgeType==="straight"||L.edgeType==="haystack"){for(var j=L.allpts,Y=0;Y+3<j.length;Y+=2)if(X4(t,e,j[Y],j[Y+1],j[Y+2],j[Y+3],Z)&&G>(J=eP(t,e,j[Y],j[Y+1],j[Y+2],j[Y+3])))return x(O,J),!0}else if(L.edgeType==="bezier"||L.edgeType==="multibezier"||L.edgeType==="self"||L.edgeType==="compound"){for(var j=L.allpts,Y=0;Y+5<L.allpts.length;Y+=4)if(Z4(t,e,j[Y],j[Y+1],j[Y+2],j[Y+3],j[Y+4],j[Y+5],Z)&&G>(J=J4(t,e,j[Y],j[Y+1],j[Y+2],j[Y+3],j[Y+4],j[Y+5])))return x(O,J),!0}for(var W=W||N.source,oe=oe||N.target,se=i.getArrowWidth(P,I),U=[{name:"source",x:L.arrowStartX,y:L.arrowStartY,angle:L.srcArrowAngle},{name:"target",x:L.arrowEndX,y:L.arrowEndY,angle:L.tgtArrowAngle},{name:"mid-source",x:L.midX,y:L.midY,angle:L.midsrcArrowAngle},{name:"mid-target",x:L.midX,y:L.midY,angle:L.midtgtArrowAngle}],Y=0;Y<U.length;Y++){var X=U[Y],ue=u.arrowShapes[O.pstyle(X.name+"-arrow-shape").value],$=O.pstyle("width").pfValue;if(ue.roughCollide(t,e,se,X.angle,{x:X.x,y:X.y},$,v)&&ue.collide(t,e,se,X.angle,{x:X.x,y:X.y},$,v))return x(O),!0}d&&l.length>0&&(E(W),E(oe))}function A(O,N,L){return ia(O,N,L)}function R(O,N){var L=O._private,P=g,I;N?I=N+"-":I="",O.boundingBox();var V=L.labelBounds[N||"main"],G=O.pstyle(I+"label").value,Z=O.pstyle("text-events").strValue==="yes";if(!(!Z||!G)){var J=A(L.rscratch,"labelX",N),j=A(L.rscratch,"labelY",N),Y=A(L.rscratch,"labelAngle",N),W=O.pstyle(I+"text-margin-x").pfValue,oe=O.pstyle(I+"text-margin-y").pfValue,se=V.x1-P-W,U=V.x2+P-W,X=V.y1-P-oe,ue=V.y2+P-oe;if(Y){var $=Math.cos(Y),ee=Math.sin(Y),re=function(Me,je){return Me=Me-J,je=je-j,{x:Me*$-je*ee+J,y:Me*ee+je*$+j}},de=re(se,X),ke=re(se,ue),ie=re(U,X),he=re(U,ue),be=[de.x+W,de.y+oe,ie.x+W,ie.y+oe,he.x+W,he.y+oe,ke.x+W,ke.y+oe];if(ua(t,e,be))return x(O),!0}else if(Bu(V,t,e))return x(O),!0}}for(var M=s.length-1;M>=0;M--){var B=s[M];B.isNode()?E(B)||R(B):_(B)||R(B)||R(B,"source")||R(B,"target")}return l};No.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,u=this.cy.zoom(),s=2/u,l=[],f=Math.min(t,r),d=Math.max(t,r),v=Math.min(e,n),p=Math.max(e,n);t=f,r=d,e=v,n=p;var g=$n({x1:t,y1:e,x2:r,y2:n}),m=[{x:g.x1,y:g.y1},{x:g.x2,y:g.y1},{x:g.x2,y:g.y2},{x:g.x1,y:g.y2}],b=[[m[0],m[1]],[m[1],m[2]],[m[2],m[3]],[m[3],m[0]]];function C(Me,je,He){return ia(Me,je,He)}function x(Me,je){var He=Me._private,Ct=s,Ze="";Me.boundingBox();var vt=He.labelBounds.main;if(!vt)return null;var ct=C(He.rscratch,"labelX",je),Qe=C(He.rscratch,"labelY",je),tt=C(He.rscratch,"labelAngle",je),ot=Me.pstyle(Ze+"text-margin-x").pfValue,st=Me.pstyle(Ze+"text-margin-y").pfValue,rt=vt.x1-Ct-ot,xt=vt.x2+Ct-ot,Dt=vt.y1-Ct-st,qt=vt.y2+Ct-st;if(tt){var Mt=Math.cos(tt),Pt=Math.sin(tt),gt=function(Ne,K){return Ne=Ne-ct,K=K-Qe,{x:Ne*Mt-K*Pt+ct,y:Ne*Pt+K*Mt+Qe}};return[gt(rt,Dt),gt(xt,Dt),gt(xt,qt),gt(rt,qt)]}else return[{x:rt,y:Dt},{x:xt,y:Dt},{x:xt,y:qt},{x:rt,y:qt}]}function E(Me,je,He,Ct){function Ze(vt,ct,Qe){return(Qe.y-vt.y)*(ct.x-vt.x)>(ct.y-vt.y)*(Qe.x-vt.x)}return Ze(Me,He,Ct)!==Ze(je,He,Ct)&&Ze(Me,je,He)!==Ze(Me,je,Ct)}for(var _=0;_<i.length;_++){var A=i[_];if(A.isNode()){var R=A,M=R.pstyle("text-events").strValue==="yes",B=R.pstyle("box-selection").strValue,O=R.pstyle("box-select-labels").strValue==="yes";if(B==="none")continue;var N=(B==="overlap"||O)&&M,L=R.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:N});if(B==="contain"){var P=!1;if(O&&M){var I=x(R);I&&Pg(I,m)&&(l.push(R),P=!0)}!P&&Qq(g,L)&&l.push(R)}else if(B==="overlap"&&rE(g,L)){var V=R.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),G=[{x:V.x1,y:V.y1},{x:V.x2,y:V.y1},{x:V.x2,y:V.y2},{x:V.x1,y:V.y2}];if(Pg(G,m))l.push(R);else{var Z=x(R);Z&&Pg(Z,m)&&l.push(R)}}}else{var J=A,j=J._private,Y=j.rscratch,W=J.pstyle("box-selection").strValue;if(W==="none")continue;if(W==="contain"){if(Y.startX!=null&&Y.startY!=null&&!Bu(g,Y.startX,Y.startY)||Y.endX!=null&&Y.endY!=null&&!Bu(g,Y.endX,Y.endY))continue;if(Y.edgeType==="bezier"||Y.edgeType==="multibezier"||Y.edgeType==="self"||Y.edgeType==="compound"||Y.edgeType==="segments"||Y.edgeType==="haystack"){for(var oe=j.rstyle.bezierPts||j.rstyle.linePts||j.rstyle.haystackPts,se=!0,U=0;U<oe.length;U++)if(!q_(g,oe[U])){se=!1;break}se&&l.push(J)}else Y.edgeType==="straight"&&l.push(J)}else if(W==="overlap"){var X=!1;if(Y.startX!=null&&Y.startY!=null&&Y.endX!=null&&Y.endY!=null&&(Bu(g,Y.startX,Y.startY)||Bu(g,Y.endX,Y.endY)))l.push(J),X=!0;else if(!X&&Y.edgeType==="haystack"){for(var ue=j.rstyle.haystackPts,$=0;$<ue.length;$++)if(q_(g,ue[$])){l.push(J),X=!0;break}}if(!X){var ee=j.rstyle.bezierPts||j.rstyle.linePts||j.rstyle.haystackPts;if((!ee||ee.length<2)&&Y.edgeType==="straight"&&Y.startX!=null&&Y.startY!=null&&Y.endX!=null&&Y.endY!=null&&(ee=[{x:Y.startX,y:Y.startY},{x:Y.endX,y:Y.endY}]),!ee||ee.length<2)continue;for(var re=0;re<ee.length-1;re++){for(var de=ee[re],ke=ee[re+1],ie=0;ie<b.length;ie++){var he=un(b[ie],2),be=he[0],ge=he[1];if(E(de,ke,be,ge)){l.push(J),X=!0;break}}if(X)break}}}}}return l};var _v={};_v.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",u=e.edgeType==="segments",s=e.edgeType==="compound",l=e.edgeType==="self",f,d,v,p,g,m,E,_;if(r?(v=e.haystackPts[0],p=e.haystackPts[1],g=e.haystackPts[2],m=e.haystackPts[3]):(v=e.arrowStartX,p=e.arrowStartY,g=e.arrowEndX,m=e.arrowEndY),E=e.midX,_=e.midY,u)f=v-e.segpts[0],d=p-e.segpts[1];else if(i||s||l||n){var b=e.allpts,C=wn(b[0],b[2],b[4],.1),x=wn(b[1],b[3],b[5],.1);f=v-C,d=p-x}else f=v-E,d=p-_;e.srcArrowAngle=Bd(f,d);var E=e.midX,_=e.midY;if(r&&(E=(v+g)/2,_=(p+m)/2),f=g-v,d=m-p,u){var b=e.allpts;if(b.length/2%2===0){var A=b.length/2,R=A-2;f=b[A]-b[R],d=b[A+1]-b[R+1]}else if(e.isRound)f=e.midVector[1],d=-e.midVector[0];else{var A=b.length/2-1,R=A-2;f=b[A]-b[R],d=b[A+1]-b[R+1]}}else if(i||s||l){var b=e.allpts,M=e.ctrlpts,B,O,N,L;if(M.length/2%2===0){var P=b.length/2-1,I=P+2,V=I+2;B=wn(b[P],b[I],b[V],0),O=wn(b[P+1],b[I+1],b[V+1],0),N=wn(b[P],b[I],b[V],1e-4),L=wn(b[P+1],b[I+1],b[V+1],1e-4)}else{var I=b.length/2-1,P=I-2,V=I+2;B=wn(b[P],b[I],b[V],.4999),O=wn(b[P+1],b[I+1],b[V+1],.4999),N=wn(b[P],b[I],b[V],.5),L=wn(b[P+1],b[I+1],b[V+1],.5)}f=N-B,d=L-O}if(e.midtgtArrowAngle=Bd(f,d),e.midDispX=f,e.midDispY=d,f*=-1,d*=-1,u){var b=e.allpts;if(b.length/2%2!==0){if(!e.isRound){var A=b.length/2-1,G=A+2;f=-(b[G]-b[A]),d=-(b[G+1]-b[A+1])}}}if(e.midsrcArrowAngle=Bd(f,d),u)f=g-e.segpts[e.segpts.length-2],d=m-e.segpts[e.segpts.length-1];else if(i||s||l||n){var b=e.allpts,Z=b.length,C=wn(b[Z-6],b[Z-4],b[Z-2],.9),x=wn(b[Z-5],b[Z-3],b[Z-1],.9);f=g-C,d=m-x}else f=g-E,d=m-_;e.tgtArrowAngle=Bd(f,d)};_v.getArrowWidth=_v.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Bx,qx,ui={},Oa={},pA,gA,Co,uv,Ii,xo,To,ai,Ls,Ud,Hk,Kk,kx,zx,yA,mA=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},gU=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},yU=function(e,r,n,i,u){if(e!==yA?mA(r,e,ui):gU(Oa,ui),mA(r,n,Oa),pA=ui.nx*Oa.ny-ui.ny*Oa.nx,gA=ui.nx*Oa.nx-ui.ny*-Oa.ny,Ii=Math.asin(Math.max(-1,Math.min(1,pA))),Math.abs(Ii)<1e-6){Bx=r.x,qx=r.y,To=Ls=0;return}Co=1,uv=!1,gA<0?Ii<0?Ii=Math.PI+Ii:(Ii=Math.PI-Ii,Co=-1,uv=!0):Ii>0&&(Co=-1,uv=!0),r.radius!==void 0?Ls=r.radius:Ls=i,xo=Ii/2,Ud=Math.min(ui.len/2,Oa.len/2),u?(ai=Math.abs(Math.cos(xo)*Ls/Math.sin(xo)),ai>Ud?(ai=Ud,To=Math.abs(ai*Math.sin(xo)/Math.cos(xo))):To=Ls):(ai=Math.min(Ud,Ls),To=Math.abs(ai*Math.sin(xo)/Math.cos(xo))),kx=r.x+Oa.nx*ai,zx=r.y+Oa.ny*ai,Bx=kx-Oa.ny*To*Co,qx=zx+Oa.nx*To*Co,Hk=r.x+ui.nx*ai,Kk=r.y+ui.ny*ai,yA=r};function Yk(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function hE(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(yU(t,e,r,n,i),{cx:Bx,cy:qx,radius:To,startX:Hk,startY:Kk,stopX:kx,stopY:zx,startAngle:ui.ang+Math.PI/2*Co,endAngle:Oa.ang-Math.PI/2*Co,counterClockwise:uv})}var Qc=.01,mU=Math.sqrt(2*Qc),Fn={};Fn.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,u,s=t.pstyle("source-endpoint"),l=t.pstyle("target-endpoint"),f=s.units!=null&&l.units!=null,d=function(M,B,O,N){var L=N-B,P=O-M,I=Math.sqrt(P*P+L*L);return{x:-L/I,y:P/I}},v=t.pstyle("edge-distances").value;switch(v){case"node-position":u=r;break;case"intersection":u=n;break;case"endpoints":{if(f){var p=this.manualEndptToPx(t.source()[0],s),g=un(p,2),m=g[0],b=g[1],C=this.manualEndptToPx(t.target()[0],l),x=un(C,2),E=x[0],_=x[1],A={x1:m,y1:b,x2:E,y2:_};i=d(m,b,E,_),u=A}else lr("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),u=n;break}}return{midptPts:u,vectorNormInverse:i}};Fn.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var u=Math.random()*2*Math.PI;i.source={x:Math.cos(u),y:Math.sin(u)},u=Math.random()*2*Math.PI,i.target={x:Math.cos(u),y:Math.sin(u)}}var s=n.source,l=n.target,f=s.position(),d=l.position(),v=s.width(),p=l.width(),g=s.height(),m=l.height(),b=r.pstyle("haystack-radius").value,C=b/2;i.haystackPts=i.allpts=[i.source.x*v*C+f.x,i.source.y*g*C+f.y,i.target.x*p*C+d.x,i.target.y*m*C+d.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Fn.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),u=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),l=Math.min(n.pfValue.length,i.pfValue.length),f=u.pfValue[u.pfValue.length-1],d=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var v=0;v<l;v++){var p=n.pfValue[v],g=i.pfValue[v],m=1-p,b=p,C=this.findMidptPtsEtc(t,e),x=C.midptPts,E=C.vectorNormInverse,_={x:x.x1*m+x.x2*b,y:x.y1*m+x.y2*b};r.segpts.push(_.x+E.x*g,_.y+E.y*g),r.radii.push(u.pfValue[v]!==void 0?u.pfValue[v]:f),r.isArcRadius.push((s.pfValue[v]!==void 0?s.pfValue[v]:d)==="arc-radius")}};Fn.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,u=e.dirCounts,s=e.srcPos,l=t.pstyle("control-point-distances"),f=l?l.pfValue[0]:void 0,d=t.pstyle("loop-direction").pfValue,v=t.pstyle("loop-sweep").pfValue,p=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var g=r,m=p;n&&(g=0,m=f);var b=d-Math.PI/2,C=b-v/2,x=b+v/2,E=d+"_"+v;g=u[E]===void 0?u[E]=0:++u[E],i.ctrlpts=[s.x+Math.cos(C)*1.4*m*(g/3+1),s.y+Math.sin(C)*1.4*m*(g/3+1),s.x+Math.cos(x)*1.4*m*(g/3+1),s.y+Math.sin(x)*1.4*m*(g/3+1)]};Fn.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var u=e.srcPos,s=e.tgtPos,l=e.srcW,f=e.srcH,d=e.tgtW,v=e.tgtH,p=t.pstyle("control-point-step-size").pfValue,g=t.pstyle("control-point-distances"),m=g?g.pfValue[0]:void 0,b=r,C=p;n&&(b=0,C=m);var x=50,E={x:u.x-l/2,y:u.y-f/2},_={x:s.x-d/2,y:s.y-v/2},A={x:Math.min(E.x,_.x),y:Math.min(E.y,_.y)},R=.5,M=Math.max(R,Math.log(l*Qc)),B=Math.max(R,Math.log(d*Qc));i.ctrlpts=[A.x,A.y-(1+Math.pow(x,1.12)/100)*C*(b/3+1)*M,A.x-(1+Math.pow(x,1.12)/100)*C*(b/3+1)*B,A.y]};Fn.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Fn.findBezierPoints=function(t,e,r,n,i){var u=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,l=t.pstyle("control-point-distances"),f=t.pstyle("control-point-weights"),d=l&&f?Math.min(l.value.length,f.value.length):1,v=l?l.pfValue[0]:void 0,p=f.value[0],g=n;u.edgeType=g?"multibezier":"bezier",u.ctrlpts=[];for(var m=0;m<d;m++){var b=(.5-e.eles.length/2+r)*s*(i?-1:1),C=void 0,x=tE(b);g&&(v=l?l.pfValue[m]:s,p=f.value[m]),n?C=v:C=v!==void 0?x*v:void 0;var E=C!==void 0?C:b,_=1-p,A=p,R=this.findMidptPtsEtc(t,e),M=R.midptPts,B=R.vectorNormInverse,O={x:M.x1*_+M.x2*A,y:M.y1*_+M.y2*A};u.ctrlpts.push(O.x+B.x*E,O.y+B.y*E)}};Fn.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",u="leftward",s="rightward",l="downward",f="upward",d="auto",v=e.posPts,p=e.srcW,g=e.srcH,m=e.tgtW,b=e.tgtH,C=t.pstyle("edge-distances").value,x=C!=="node-position",E=t.pstyle("taxi-direction").value,_=E,A=t.pstyle("taxi-turn"),R=A.units==="%",M=A.pfValue,B=M<0,O=t.pstyle("taxi-turn-min-distance").pfValue,N=x?(p+m)/2:0,L=x?(g+b)/2:0,P=v.x2-v.x1,I=v.y2-v.y1,V=function(K,we){return K>0?Math.max(K-we,0):Math.min(K+we,0)},G=V(P,N),Z=V(I,L),J=!1;_===d?E=Math.abs(G)>Math.abs(Z)?i:n:_===f||_===l?(E=n,J=!0):(_===u||_===s)&&(E=i,J=!0);var j=E===n,Y=j?Z:G,W=j?I:P,oe=tE(W),se=!1;!(J&&(R||B))&&(_===l&&W<0||_===f&&W>0||_===u&&W>0||_===s&&W<0)&&(oe*=-1,Y=oe*Math.abs(Y),se=!0);var U;if(R){var X=M<0?1+M:M;U=X*Y}else{var ue=M<0?Y:0;U=ue+M*oe}var $=function(K){return Math.abs(K)<O||Math.abs(K)>=Math.abs(Y)},ee=$(U),re=$(Math.abs(Y)-Math.abs(U)),de=ee||re;if(de&&!se)if(j){var ke=Math.abs(W)<=g/2,ie=Math.abs(P)<=m/2;if(ke){var he=(v.x1+v.x2)/2,be=v.y1,ge=v.y2;r.segpts=[he,be,he,ge]}else if(ie){var Me=(v.y1+v.y2)/2,je=v.x1,He=v.x2;r.segpts=[je,Me,He,Me]}else r.segpts=[v.x1,v.y2]}else{var Ct=Math.abs(W)<=p/2,Ze=Math.abs(I)<=b/2;if(Ct){var vt=(v.y1+v.y2)/2,ct=v.x1,Qe=v.x2;r.segpts=[ct,vt,Qe,vt]}else if(Ze){var tt=(v.x1+v.x2)/2,ot=v.y1,st=v.y2;r.segpts=[tt,ot,tt,st]}else r.segpts=[v.x2,v.y1]}else if(j){var rt=v.y1+U+(x?g/2*oe:0),xt=v.x1,Dt=v.x2;r.segpts=[xt,rt,Dt,rt]}else{var qt=v.x1+U+(x?p/2*oe:0),Mt=v.y1,Pt=v.y2;r.segpts=[qt,Mt,qt,Pt]}if(r.isRound){var gt=t.pstyle("taxi-radius").value,at=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(gt),r.isArcRadius=new Array(r.segpts.length/2).fill(at)}};Fn.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,u=e.srcW,s=e.srcH,l=e.tgtW,f=e.tgtH,d=e.srcShape,v=e.tgtShape,p=e.srcCornerRadius,g=e.tgtCornerRadius,m=e.srcRs,b=e.tgtRs,C=!et(r.startX)||!et(r.startY),x=!et(r.arrowStartX)||!et(r.arrowStartY),E=!et(r.endX)||!et(r.endY),_=!et(r.arrowEndX)||!et(r.arrowEndY),A=3,R=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,M=A*R,B=Bo({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),O=B<M,N=Bo({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),L=N<M,P=!1;if(C||x||O){P=!0;var I={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},V=Math.sqrt(I.x*I.x+I.y*I.y),G={x:I.x/V,y:I.y/V},Z=Math.max(u,s),J={x:r.ctrlpts[0]+G.x*2*Z,y:r.ctrlpts[1]+G.y*2*Z},j=d.intersectLine(n.x,n.y,u,s,J.x,J.y,0,p,m);O?(r.ctrlpts[0]=r.ctrlpts[0]+G.x*(M-B),r.ctrlpts[1]=r.ctrlpts[1]+G.y*(M-B)):(r.ctrlpts[0]=j[0]+G.x*M,r.ctrlpts[1]=j[1]+G.y*M)}if(E||_||L){P=!0;var Y={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},W=Math.sqrt(Y.x*Y.x+Y.y*Y.y),oe={x:Y.x/W,y:Y.y/W},se=Math.max(u,s),U={x:r.ctrlpts[0]+oe.x*2*se,y:r.ctrlpts[1]+oe.y*2*se},X=v.intersectLine(i.x,i.y,l,f,U.x,U.y,0,g,b);L?(r.ctrlpts[0]=r.ctrlpts[0]+oe.x*(M-N),r.ctrlpts[1]=r.ctrlpts[1]+oe.y*(M-N)):(r.ctrlpts[0]=X[0]+oe.x*M,r.ctrlpts[1]=X[1]+oe.y*M)}P&&this.findEndpoints(t)}};Fn.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=wn(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=wn(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var u=2;u+3<e.allpts.length;u+=2){var s=e.radii[u/2-1],l=e.isArcRadius[u/2-1];e.roundCorners.push(hE({x:e.allpts[u-2],y:e.allpts[u-1]},{x:e.allpts[u],y:e.allpts[u+1],radius:s},{x:e.allpts[u+2],y:e.allpts[u+3]},s,l))}}if(e.segpts.length%4===0){var f=e.segpts.length/2,d=f-2;e.midX=(e.segpts[d]+e.segpts[f])/2,e.midY=(e.segpts[d+1]+e.segpts[f+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var p={x:e.segpts[v],y:e.segpts[v+1]},g=e.roundCorners[v/2];if(g.radius===0){var m={x:e.segpts[v+2],y:e.segpts[v+3]};e.midX=p.x,e.midY=p.y,e.midVector=[p.y-m.y,m.x-p.x]}else{var b=[p.x-g.cx,p.y-g.cy],C=g.radius/Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2));b=b.map(function(x){return x*C}),e.midX=g.cx+b[0],e.midY=g.cy+b[1],e.midVector=b}}}}};Fn.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||et(e.startX)&&et(e.startY)&&et(e.endX)&&et(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,lr("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Fn.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),u=new Vi,s=function(L,P){return[].concat(pv(L),[P?1:0]).join("-")},l=[],f=[],d=0;d<t.length;d++){var v=t[d],p=v._private,g=v.pstyle("curve-style").value;if(!(v.removed()||!v.takesUpSpace())){if(g==="haystack"){f.push(v);continue}var m=g==="unbundled-bezier"||Mu(g,"segments")||g==="straight"||g==="straight-triangle"||Mu(g,"taxi"),b=g==="unbundled-bezier"||g==="bezier",C=p.source,x=p.target,E=C.poolIndex(),_=x.poolIndex(),A=[E,_].sort(),R=s(A,m),M=u.get(R);M==null&&(M={eles:[]},l.push({pairId:A,edgeIsUnbundled:m}),u.set(R,M)),M.eles.push(v),m&&(M.hasUnbundled=!0),b&&(M.hasBezier=!0)}}for(var B=function(){var L=l[O],P=L.pairId,I=L.edgeIsUnbundled,V=s(P,I),G=u.get(V),Z;if(!G.hasUnbundled){var J=G.eles[0].parallelEdges().filter(function(at){return at.isBundledBezier()});Jx(G.eles),J.forEach(function(at){return G.eles.push(at)}),G.eles.sort(function(at,Ne){return at.poolIndex()-Ne.poolIndex()})}var j=G.eles[0],Y=j.source(),W=j.target();if(Y.poolIndex()>W.poolIndex()){var oe=Y;Y=W,W=oe}var se=G.srcPos=Y.position(),U=G.tgtPos=W.position(),X=G.srcW=Y.outerWidth(),ue=G.srcH=Y.outerHeight(),$=G.tgtW=W.outerWidth(),ee=G.tgtH=W.outerHeight(),re=G.srcShape=r.nodeShapes[e.getNodeShape(Y)],de=G.tgtShape=r.nodeShapes[e.getNodeShape(W)],ke=G.srcCornerRadius=Y.pstyle("corner-radius").value==="auto"?"auto":Y.pstyle("corner-radius").pfValue,ie=G.tgtCornerRadius=W.pstyle("corner-radius").value==="auto"?"auto":W.pstyle("corner-radius").pfValue,he=G.tgtRs=W._private.rscratch,be=G.srcRs=Y._private.rscratch;G.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ge=0;ge<G.eles.length;ge++){var Me=G.eles[ge],je=Me[0]._private.rscratch,He=Me.pstyle("curve-style").value,Ct=He==="unbundled-bezier"||Mu(He,"segments")||Mu(He,"taxi"),Ze=!Y.same(Me.source());if(!G.calculatedIntersection&&Y!==W&&(G.hasBezier||G.hasUnbundled)){G.calculatedIntersection=!0;var vt=re.intersectLine(se.x,se.y,X,ue,U.x,U.y,0,ke,be),ct=G.srcIntn=vt,Qe=de.intersectLine(U.x,U.y,$,ee,se.x,se.y,0,ie,he),tt=G.tgtIntn=Qe,ot=G.intersectionPts={x1:vt[0],x2:Qe[0],y1:vt[1],y2:Qe[1]},st=G.posPts={x1:se.x,x2:U.x,y1:se.y,y2:U.y},rt=Qe[1]-vt[1],xt=Qe[0]-vt[0],Dt=Math.sqrt(xt*xt+rt*rt);et(Dt)&&Dt>=mU||(Dt=Math.sqrt(Math.max(xt*xt,Qc)+Math.max(rt*rt,Qc)));var qt=G.vector={x:xt,y:rt},Mt=G.vectorNorm={x:qt.x/Dt,y:qt.y/Dt},Pt={x:-Mt.y,y:Mt.x};G.nodesOverlap=!et(Dt)||de.checkPoint(vt[0],vt[1],0,$,ee,U.x,U.y,ie,he)||re.checkPoint(Qe[0],Qe[1],0,X,ue,se.x,se.y,ke,be),G.vectorNormInverse=Pt,Z={nodesOverlap:G.nodesOverlap,dirCounts:G.dirCounts,calculatedIntersection:!0,hasBezier:G.hasBezier,hasUnbundled:G.hasUnbundled,eles:G.eles,srcPos:U,srcRs:he,tgtPos:se,tgtRs:be,srcW:$,srcH:ee,tgtW:X,tgtH:ue,srcIntn:tt,tgtIntn:ct,srcShape:de,tgtShape:re,posPts:{x1:st.x2,y1:st.y2,x2:st.x1,y2:st.y1},intersectionPts:{x1:ot.x2,y1:ot.y2,x2:ot.x1,y2:ot.y1},vector:{x:-qt.x,y:-qt.y},vectorNorm:{x:-Mt.x,y:-Mt.y},vectorNormInverse:{x:-Pt.x,y:-Pt.y}}}var gt=Ze?Z:G;je.nodesOverlap=gt.nodesOverlap,je.srcIntn=gt.srcIntn,je.tgtIntn=gt.tgtIntn,je.isRound=He.startsWith("round"),i&&(Y.isParent()||Y.isChild()||W.isParent()||W.isChild())&&(Y.parents().anySame(W)||W.parents().anySame(Y)||Y.same(W)&&Y.isParent())?e.findCompoundLoopPoints(Me,gt,ge,Ct):Y===W?e.findLoopPoints(Me,gt,ge,Ct):He.endsWith("segments")?e.findSegmentsPoints(Me,gt):He.endsWith("taxi")?e.findTaxiPoints(Me,gt):He==="straight"||!Ct&&G.eles.length%2===1&&ge===Math.floor(G.eles.length/2)?e.findStraightEdgePoints(Me):e.findBezierPoints(Me,gt,ge,Ct,Ze),e.findEndpoints(Me),e.tryToCorrectInvalidPoints(Me,gt),e.checkForInvalidEdgeWarning(Me),e.storeAllpts(Me),e.storeEdgeProjections(Me),e.calculateArrowAngles(Me),e.recalculateEdgeLabelProjections(Me),e.calculateLabelAngles(Me)}},O=0;O<l.length;O++)B();this.findHaystackPoints(f)}};function $k(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}Fn.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return $k(e.segpts)};Fn.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return $k(e.ctrlpts)};Fn.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var lf={};lf.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),u=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var l=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(l[0]=l[0]*i),e.units[1]==="%"&&(l[1]=l[1]*u),l[0]+=n.x,l[1]+=n.y,l}else{var f=e.pfValue[0];f=-Math.PI/2+f;var d=2*Math.max(i,u),v=[n.x+Math.cos(f)*d,n.y+Math.sin(f)*d];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,u,v[0],v[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};lf.findEndpoints=function(t){var e,r,n,i,u=this,s,l=t.source()[0],f=t.target()[0],d=l.position(),v=f.position(),p=t.pstyle("target-arrow-shape").value,g=t.pstyle("source-arrow-shape").value,m=t.pstyle("target-distance-from-node").pfValue,b=t.pstyle("source-distance-from-node").pfValue,C=l._private.rscratch,x=f._private.rscratch,E=t.pstyle("curve-style").value,_=t._private.rscratch,A=_.edgeType,R=Mu(E,"taxi"),M=A==="self"||A==="compound",B=A==="bezier"||A==="multibezier"||M,O=A!=="bezier",N=A==="straight"||A==="segments",L=A==="segments",P=B||O||N,I=M||R,V=t.pstyle("source-endpoint"),G=I?"outside-to-node":V.value,Z=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue,J=t.pstyle("target-endpoint"),j=I?"outside-to-node":J.value,Y=f.pstyle("corner-radius").value==="auto"?"auto":f.pstyle("corner-radius").pfValue;_.srcManEndpt=V,_.tgtManEndpt=J;var W,oe,se,U,X=(e=(J==null||(r=J.pfValue)===null||r===void 0?void 0:r.length)===2?J.pfValue:null)!==null&&e!==void 0?e:[0,0],ue=(n=(V==null||(i=V.pfValue)===null||i===void 0?void 0:i.length)===2?V.pfValue:null)!==null&&n!==void 0?n:[0,0];if(B){var $=[_.ctrlpts[0],_.ctrlpts[1]],ee=O?[_.ctrlpts[_.ctrlpts.length-2],_.ctrlpts[_.ctrlpts.length-1]]:$;W=ee,oe=$}else if(N){var re=L?_.segpts.slice(0,2):[v.x+X[0],v.y+X[1]],de=L?_.segpts.slice(_.segpts.length-2):[d.x+ue[0],d.y+ue[1]];W=de,oe=re}if(j==="inside-to-node")s=[v.x,v.y];else if(J.units)s=this.manualEndptToPx(f,J);else if(j==="outside-to-line")s=_.tgtIntn;else if(j==="outside-to-node"||j==="outside-to-node-or-label"?se=W:(j==="outside-to-line"||j==="outside-to-line-or-label")&&(se=[d.x,d.y]),s=u.nodeShapes[this.getNodeShape(f)].intersectLine(v.x,v.y,f.outerWidth(),f.outerHeight(),se[0],se[1],0,Y,x),j==="outside-to-node-or-label"||j==="outside-to-line-or-label"){var ke=f._private.rscratch,ie=ke.labelWidth,he=ke.labelHeight,be=ke.labelX,ge=ke.labelY,Me=ie/2,je=he/2,He=f.pstyle("text-valign").value;He==="top"?ge-=je:He==="bottom"&&(ge+=je);var Ct=f.pstyle("text-halign").value;Ct==="left"?be-=Me:Ct==="right"&&(be+=Me);var Ze=Kc(se[0],se[1],[be-Me,ge-je,be+Me,ge-je,be+Me,ge+je,be-Me,ge+je],v.x,v.y);if(Ze.length>0){var vt=d,ct=So(vt,Gs(s)),Qe=So(vt,Gs(Ze)),tt=ct;if(Qe<ct&&(s=Ze,tt=Qe),Ze.length>2){var ot=So(vt,{x:Ze[2],y:Ze[3]});ot<tt&&(s=[Ze[2],Ze[3]])}}}var st=qd(s,W,u.arrowShapes[p].spacing(t)+m),rt=qd(s,W,u.arrowShapes[p].gap(t)+m);if(_.endX=rt[0],_.endY=rt[1],_.arrowEndX=st[0],_.arrowEndY=st[1],G==="inside-to-node")s=[d.x,d.y];else if(V.units)s=this.manualEndptToPx(l,V);else if(G==="outside-to-line")s=_.srcIntn;else if(G==="outside-to-node"||G==="outside-to-node-or-label"?U=oe:(G==="outside-to-line"||G==="outside-to-line-or-label")&&(U=[v.x,v.y]),s=u.nodeShapes[this.getNodeShape(l)].intersectLine(d.x,d.y,l.outerWidth(),l.outerHeight(),U[0],U[1],0,Z,C),G==="outside-to-node-or-label"||G==="outside-to-line-or-label"){var xt=l._private.rscratch,Dt=xt.labelWidth,qt=xt.labelHeight,Mt=xt.labelX,Pt=xt.labelY,gt=Dt/2,at=qt/2,Ne=l.pstyle("text-valign").value;Ne==="top"?Pt-=at:Ne==="bottom"&&(Pt+=at);var K=l.pstyle("text-halign").value;K==="left"?Mt-=gt:K==="right"&&(Mt+=gt);var we=Kc(U[0],U[1],[Mt-gt,Pt-at,Mt+gt,Pt-at,Mt+gt,Pt+at,Mt-gt,Pt+at],d.x,d.y);if(we.length>0){var Oe=v,pe=So(Oe,Gs(s)),Pe=So(Oe,Gs(we)),nt=pe;if(Pe<pe&&(s=[we[0],we[1]],nt=Pe),we.length>2){var Ge=So(Oe,{x:we[2],y:we[3]});Ge<nt&&(s=[we[2],we[3]])}}}var qe=qd(s,oe,u.arrowShapes[g].spacing(t)+b),it=qd(s,oe,u.arrowShapes[g].gap(t)+b);_.startX=it[0],_.startY=it[1],_.arrowStartX=qe[0],_.arrowStartY=qe[1],P&&(!et(_.startX)||!et(_.startY)||!et(_.endX)||!et(_.endY)?_.badLine=!0:_.badLine=!1)};lf.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};lf.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var pE={};function bU(t,e,r){for(var n=function(d,v,p,g){return wn(d,v,p,g)},i=e._private,u=i.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var l=t.bezierProjPcts[s];u.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}pE.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)bU(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var u=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)u.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};pE.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var ci={};ci.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Nu(e)){var r,n,i=t._private,u=t.width(),s=t.height(),l=t.padding(),f=t.position(),d=t.pstyle("text-halign").strValue,v=t.pstyle("text-valign").strValue,p=i.rscratch,g=i.rstyle;switch(d){case"left":r=f.x-u/2-l;break;case"right":r=f.x+u/2+l;break;default:r=f.x}switch(v){case"top":n=f.y-s/2-l;break;case"bottom":n=f.y+s/2+l;break;default:n=f.y}p.labelX=r,p.labelY=n,g.labelX=r,g.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var Xk=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},Zk=function(e,r){var n=r.x-e.x,i=r.y-e.y;return Xk(n,i)},wU=function(e,r,n,i){var u=Hc(0,i-.001,1),s=Hc(0,i+.001,1),l=Ks(e,r,n,u),f=Ks(e,r,n,s);return Zk(l,f)};ci.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,u={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(u.mid||u.source||u.target){e={x:n.midX,y:n.midY};var s=function(p,g,m){Fi(r.rscratch,p,g,m),Fi(r.rstyle,p,g,m)};s("labelX",null,e.x),s("labelY",null,e.y);var l=Xk(n.midDispX,n.midDispY);s("labelAutoAngle",null,l);var f=function(){if(f.cache)return f.cache;for(var p=[],g=0;g+5<n.allpts.length;g+=4){var m={x:n.allpts[g],y:n.allpts[g+1]},b={x:n.allpts[g+2],y:n.allpts[g+3]},C={x:n.allpts[g+4],y:n.allpts[g+5]};p.push({p0:m,p1:b,p2:C,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,E=i.bezierProjPcts.length;function _(O,N,L,P,I){var V=Bo(N,L),G=O.segments[O.segments.length-1],Z={p0:N,p1:L,t0:P,t1:I,startDist:G?G.startDist+G.length:0,length:V};O.segments.push(Z),O.length+=V}for(var A=0;A<p.length;A++){var R=p[A],M=p[A-1];M&&(R.startDist=M.startDist+M.length),_(R,R.p0,x[A*E],0,i.bezierProjPcts[0]);for(var B=0;B<E-1;B++)_(R,x[A*E+B],x[A*E+B+1],i.bezierProjPcts[B],i.bezierProjPcts[B+1]);_(R,x[A*E+E-1],R.p2,i.bezierProjPcts[E-1],1)}return f.cache=p},d=function(p){var g,m=p==="source";if(u[p]){var b=t.pstyle(p+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var C=f(),x,E=0,_=0,A=0;A<C.length;A++){for(var R=C[m?A:C.length-1-A],M=0;M<R.segments.length;M++){var B=R.segments[m?M:R.segments.length-1-M],O=A===C.length-1&&M===R.segments.length-1;if(E=_,_+=B.length,_>=b||O){x={cp:R,segment:B};break}}if(x)break}var N=x.cp,L=x.segment,P=(b-E)/L.length,I=L.t1-L.t0,V=m?L.t0+I*P:L.t1-I*P;V=Hc(0,V,1),e=Ks(N.p0,N.p1,N.p2,V),g=wU(N.p0,N.p1,N.p2,V);break}case"straight":case"segments":case"haystack":{for(var G=0,Z,J,j,Y,W=n.allpts.length,oe=0;oe+3<W&&(m?(j={x:n.allpts[oe],y:n.allpts[oe+1]},Y={x:n.allpts[oe+2],y:n.allpts[oe+3]}):(j={x:n.allpts[W-2-oe],y:n.allpts[W-1-oe]},Y={x:n.allpts[W-4-oe],y:n.allpts[W-3-oe]}),Z=Bo(j,Y),J=G,G+=Z,!(G>=b));oe+=2);var se=b-J,U=se/Z;U=Hc(0,U,1),e=V4(j,Y,U),g=Zk(j,Y);break}}s("labelX",p,e.x),s("labelY",p,e.y),s("labelAutoAngle",p,g)}};d("source"),d("target"),this.applyLabelDimensions(t)}};ci.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};ci.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=Mo(n,t._private.labelDimsKey);if(ia(r.rscratch,"prefixedLabelDimsKey",e)!==i){Fi(r.rscratch,"prefixedLabelDimsKey",e,i);var u=this.calculateLabelDimensions(t,n),s=t.pstyle("line-height").pfValue,l=t.pstyle("text-wrap").strValue,f=ia(r.rscratch,"labelWrapCachedLines",e)||[],d=l!=="wrap"?1:Math.max(f.length,1),v=u.height/d,p=v*s,g=u.width,m=u.height+(d-1)*(s-1)*v;Fi(r.rstyle,"labelWidth",e,g),Fi(r.rscratch,"labelWidth",e,g),Fi(r.rstyle,"labelHeight",e,m),Fi(r.rscratch,"labelHeight",e,m),Fi(r.rscratch,"labelLineHeight",e,p)}};ci.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,u=t.pstyle("text-transform").value,s=function(ue,$){return $?(Fi(r.rscratch,ue,e,$),$):ia(r.rscratch,ue,e)};if(!i)return"";u=="none"||(u=="uppercase"?i=i.toUpperCase():u=="lowercase"&&(i=i.toLowerCase()));var l=t.pstyle("text-wrap").value;if(l==="wrap"){var f=s("labelKey");if(f!=null&&s("labelWrapKey")===f)return s("labelWrapCachedText");for(var d="",v=i.split(`
`),p=t.pstyle("text-max-width").pfValue,g=t.pstyle("text-overflow-wrap").value,m=g==="anywhere",b=[],C=/[\s\u200b]+|$/g,x=0;x<v.length;x++){var E=v[x],_=this.calculateLabelDimensions(t,E),A=_.width;if(m){var R=E.split("").join(d);E=R}if(A>p){var M=E.matchAll(C),B="",O=0,N=sa(M),L;try{for(N.s();!(L=N.n()).done;){var P=L.value,I=P[0],V=E.substring(O,P.index);O=P.index+I.length;var G=B.length===0?V:B+V+I,Z=this.calculateLabelDimensions(t,G),J=Z.width;J<=p?B+=V+I:(B&&b.push(B),B=V+I)}}catch(X){N.e(X)}finally{N.f()}B.match(/^[\s\u200b]+$/)||b.push(B)}else b.push(E)}s("labelWrapCachedLines",b),i=s("labelWrapCachedText",b.join(`
`)),s("labelWrapKey",f)}else if(l==="ellipsis"){var j=t.pstyle("text-max-width").pfValue,Y="",W="",oe=!1;if(this.calculateLabelDimensions(t,i).width<j)return i;for(var se=0;se<i.length;se++){var U=this.calculateLabelDimensions(t,Y+i[se]+W).width;if(U>j)break;Y+=i[se],se===i.length-1&&(oe=!0)}return oe||(Y+=W),Y}return i};ci.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};ci.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),i=n.document,u=0,s=t.pstyle("font-style").strValue,l=t.pstyle("font-size").pfValue,f=t.pstyle("font-family").strValue,d=t.pstyle("font-weight").strValue,v=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!v){v=this.labelCalcCanvas=i.createElement("canvas"),p=this.labelCalcCanvasContext=v.getContext("2d");var g=v.style;g.position="absolute",g.left="-9999px",g.top="-9999px",g.zIndex="-1",g.visibility="hidden",g.pointerEvents="none"}p.font="".concat(s," ").concat(d," ").concat(l,"px ").concat(f);for(var m=0,b=0,C=e.split(`
`),x=0;x<C.length;x++){var E=C[x],_=p.measureText(E),A=Math.ceil(_.width),R=l;m=Math.max(A,m),b+=R}return m+=u,b+=u,{width:m,height:b}};ci.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),u=e?e+"-":"",s=t.pstyle(u+"text-rotation"),l=s.strValue;return l==="none"?0:i&&l==="autorotate"?n.labelAutoAngle:l==="autorotate"?0:s.pfValue};ci.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Qk={},bA=28,wA=!1;Qk.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<bA||t.height()<bA))return wA||(lr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),wA=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Jv={};Jv.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),l)for(var f=0;f<s.length;f++){var d=s[f],v=d._private,p=v.rstyle;p.clean=!1,p.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var l=s.target;n(l)}).on("style.* background.*",function(s){var l=s.target;n(l,!1)});var i=function(s){if(s){var l=r.onUpdateEleCalcsFns;e.cleanStyle();for(var f=0;f<e.length;f++){var d=e[f],v=d._private.rstyle;d.isNode()&&!v.cleanConnected&&(n(d.connectedEdges()),v.cleanConnected=!0)}if(l)for(var p=0;p<l.length;p++){var g=l[p];g(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};Jv.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Jv.recalculateRenderedStyle=function(t,e){var r=function(R){return R._private.rstyle.cleanConnected};if(t.length!==0){var n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var u=0;u<t.length;u++){var s=t[u],l=s._private,f=l.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(f.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(A){return!A._private.rstyle.clean&&A.isBundledBezier()})&&(f.clean=!1),!(e&&f.clean||s.removed())&&s.pstyle("display").value!=="none"&&(l.group==="nodes"?i.push(s):n.push(s),f.clean=!0)}for(var d=0;d<i.length;d++){var v=i[d],p=v._private,g=p.rstyle,m=v.position();this.recalculateNodeLabelProjection(v),g.nodeX=m.x,g.nodeY=m.y,g.nodeW=v.pstyle("width").pfValue,g.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var b=0;b<n.length;b++){var C=n[b],x=C._private,E=x.rstyle,_=x.rscratch;E.srcX=_.arrowStartX,E.srcY=_.arrowStartY,E.tgtX=_.arrowEndX,E.tgtY=_.arrowEndY,E.midX=_.midX,E.midY=_.midY,E.labelAngle=_.labelAngle,E.sourceLabelAngle=_.sourceLabelAngle,E.targetLabelAngle=_.targetLabelAngle}}}};var eh={};eh.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};eh.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};eh.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Bk),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Wk={};[No,_v,Fn,lf,pE,ci,Qk,Jv,eh].forEach(function(t){St(Wk,t)});var Jk={};Jk.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},u=i[t];if(u)return u.image.complete||u.image.addEventListener("load",r),u.image;u=i[t]=i[t]||{};var s=u.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var l="data:",f=t.substring(0,l.length).toLowerCase()===l;return f||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var cl={};cl.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var u=[],s=0;s<t.length;s++){var l=t[s];if(l!==void 0){var f=this.binder(l);u.push(f.on.apply(f,i))}}return u}var f=this.binder(t);return f.on.apply(f,i)};cl.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||B3(t);if(e.supportsPassiveEvents==null){var i=!1;try{var u=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,u)}catch{}e.supportsPassiveEvents=i}var s=function(f,d,v){var p=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(p[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:p}),(t.addEventListener||t.on).apply(t,p),this};return{on:s,addEventListener:s,addListener:s,bind:s}};cl.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};cl.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};cl.load=function(){var t=this,e=t.cy.window(),r=function(K){return K.selected()},n=function(K){var we=K.getRootNode();if(we&&we.nodeType===11&&we.host!==void 0)return we},i=function(K,we,Oe,pe){K==null&&(K=t.cy);for(var Pe=0;Pe<we.length;Pe++){var nt=we[Pe];K.emit({originalEvent:Oe,type:nt,position:pe})}},u=function(K){return K.shiftKey||K.metaKey||K.ctrlKey},s=function(K,we){var Oe=!0;if(t.cy.hasCompoundNodes()&&K&&K.pannable())for(var pe=0;we&&pe<we.length;pe++){var K=we[pe];if(K.isNode()&&K.isParent()&&!K.pannable()){Oe=!1;break}}else Oe=!0;return Oe},l=function(K){K[0]._private.grabbed=!0},f=function(K){K[0]._private.grabbed=!1},d=function(K){K[0]._private.rscratch.inDragLayer=!0},v=function(K){K[0]._private.rscratch.inDragLayer=!1},p=function(K){K[0]._private.rscratch.isGrabTarget=!0},g=function(K){K[0]._private.rscratch.isGrabTarget=!1},m=function(K,we){var Oe=we.addToList,pe=Oe.has(K);!pe&&K.grabbable()&&!K.locked()&&(Oe.merge(K),l(K))},b=function(K,we){if(K.cy().hasCompoundNodes()&&!(we.inDragLayer==null&&we.addToList==null)){var Oe=K.descendants();we.inDragLayer&&(Oe.forEach(d),Oe.connectedEdges().forEach(d)),we.addToList&&m(Oe,we)}},C=function(K,we){we=we||{};var Oe=K.cy().hasCompoundNodes();we.inDragLayer&&(K.forEach(d),K.neighborhood().stdFilter(function(pe){return!Oe||pe.isEdge()}).forEach(d)),we.addToList&&K.forEach(function(pe){m(pe,we)}),b(K,we),_(K,{inDragLayer:we.inDragLayer}),t.updateCachedGrabbedEles()},x=C,E=function(K){K&&(t.getCachedZSortedEles().forEach(function(we){f(we),v(we),g(we)}),t.updateCachedGrabbedEles())},_=function(K,we){if(!(we.inDragLayer==null&&we.addToList==null)&&K.cy().hasCompoundNodes()){var Oe=K.ancestors().orphans();if(!Oe.same(K)){var pe=Oe.descendants().spawnSelf().merge(Oe).unmerge(K).unmerge(K.descendants()),Pe=pe.connectedEdges();we.inDragLayer&&(Pe.forEach(d),pe.forEach(d)),we.addToList&&pe.forEach(function(nt){m(nt,we)})}}},A=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},R=typeof MutationObserver<"u",M=typeof ResizeObserver<"u";R?(t.removeObserver=new MutationObserver(function(Ne){for(var K=0;K<Ne.length;K++){var we=Ne[K],Oe=we.removedNodes;if(Oe)for(var pe=0;pe<Oe.length;pe++){var Pe=Oe[pe];if(Pe===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Ne){t.destroy()});var B=af(function(){t.cy.resize()},100);R&&(t.styleObserver=new MutationObserver(B),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",B),M&&(t.resizeObserver=new ResizeObserver(B),t.resizeObserver.observe(t.container));var O=function(K,we){for(;K!=null;)we(K),K=K.parentNode},N=function(){t.invalidateContainerClientCoordsCache()};O(t.container,function(Ne){t.registerBinding(Ne,"transitionend",N),t.registerBinding(Ne,"animationend",N),t.registerBinding(Ne,"scroll",N)}),t.registerBinding(t.container,"contextmenu",function(Ne){Ne.preventDefault()});var L=function(){return t.selection[4]!==0},P=function(K){for(var we=t.findContainerClientCoords(),Oe=we[0],pe=we[1],Pe=we[2],nt=we[3],Ge=K.touches?K.touches:[K],qe=!1,it=0;it<Ge.length;it++){var pt=Ge[it];if(Oe<=pt.clientX&&pt.clientX<=Oe+Pe&&pe<=pt.clientY&&pt.clientY<=pe+nt){qe=!0;break}}if(!qe)return!1;for(var _t=t.container,At=K.target,lt=At.parentNode,It=!1;lt;){if(lt===_t){It=!0;break}lt=lt.parentNode}return!!It};t.registerBinding(t.container,"mousedown",function(K){if(P(K)&&!(t.hoverData.which===1&&K.which!==1)){K.preventDefault(),A(),t.hoverData.capture=!0,t.hoverData.which=K.which;var we=t.cy,Oe=[K.clientX,K.clientY],pe=t.projectIntoViewport(Oe[0],Oe[1]),Pe=t.selection,nt=t.findNearestElements(pe[0],pe[1],!0,!1),Ge=nt[0],qe=t.dragData.possibleDragElements;t.hoverData.mdownPos=pe,t.hoverData.mdownGPos=Oe;var it=function(zt){return{originalEvent:K,type:zt,position:{x:pe[0],y:pe[1]}}},pt=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var zt=t.hoverData.down;zt?zt.emit(it("taphold")):we.emit(it("taphold"))}},t.tapholdDuration)};if(K.which==3){t.hoverData.cxtStarted=!0;var _t={originalEvent:K,type:"cxttapstart",position:{x:pe[0],y:pe[1]}};Ge?(Ge.activate(),Ge.emit(_t),t.hoverData.down=Ge):we.emit(_t),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(K.which==1){Ge&&Ge.activate();{if(Ge!=null&&t.nodeIsGrabbable(Ge)){var At=function(zt){zt.emit(it("grab"))};if(p(Ge),!Ge.selected())qe=t.dragData.possibleDragElements=we.collection(),x(Ge,{addToList:qe}),Ge.emit(it("grabon")).emit(it("grab"));else{qe=t.dragData.possibleDragElements=we.collection();var lt=we.$(function(It){return It.isNode()&&It.selected()&&t.nodeIsGrabbable(It)});C(lt,{addToList:qe}),Ge.emit(it("grabon")),lt.forEach(At)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Ge,t.hoverData.downs=nt,t.hoverData.downTime=new Date().getTime()}i(Ge,["mousedown","tapstart","vmousedown"],K,{x:pe[0],y:pe[1]}),Ge==null?(Pe[4]=1,t.data.bgActivePosistion={x:pe[0],y:pe[1]},t.redrawHint("select",!0),t.redraw()):Ge.pannable()&&(Pe[4]=1),pt()}Pe[0]=Pe[2]=pe[0],Pe[1]=Pe[3]=pe[1]}},!1);var I=n(t.container);t.registerBinding([e,I],"mousemove",function(K){var we=t.hoverData.capture;if(!(!we&&!P(K))){var Oe=!1,pe=t.cy,Pe=pe.zoom(),nt=[K.clientX,K.clientY],Ge=t.projectIntoViewport(nt[0],nt[1]),qe=t.hoverData.mdownPos,it=t.hoverData.mdownGPos,pt=t.selection,_t=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(_t=t.findNearestElement(Ge[0],Ge[1],!0,!1));var At=t.hoverData.last,lt=t.hoverData.down,It=[Ge[0]-pt[2],Ge[1]-pt[3]],zt=t.dragData.possibleDragElements,ir;if(it){var $t=nt[0]-it[0],jr=$t*$t,dr=nt[1]-it[1],Bt=dr*dr,Ut=jr+Bt;t.hoverData.isOverThresholdDrag=ir=Ut>=t.desktopTapThreshold2}var zr=u(K);ir&&(t.hoverData.tapholdCancelled=!0);var Tn=function(){var xr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];xr.length===0?(xr.push(It[0]),xr.push(It[1])):(xr[0]+=It[0],xr[1]+=It[1])};Oe=!0,i(_t,["mousemove","vmousemove","tapdrag"],K,{x:Ge[0],y:Ge[1]});var vr=function(xr){return{originalEvent:K,type:xr,position:{x:Ge[0],y:Ge[1]}}},_n=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||pe.emit(vr("boxstart")),pt[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(ir){var Yr=vr("cxtdrag");lt?lt.emit(Yr):pe.emit(Yr),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||_t!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(vr("cxtdragout")),t.hoverData.cxtOver=_t,_t&&_t.emit(vr("cxtdragover")))}}else if(t.hoverData.dragging){if(Oe=!0,pe.panningEnabled()&&pe.userPanningEnabled()){var Qt;if(t.hoverData.justStartedPan){var wr=t.hoverData.mdownPos;Qt={x:(Ge[0]-wr[0])*Pe,y:(Ge[1]-wr[1])*Pe},t.hoverData.justStartedPan=!1}else Qt={x:It[0]*Pe,y:It[1]*Pe};pe.panBy(Qt),pe.emit(vr("dragpan")),t.hoverData.dragged=!0}Ge=t.projectIntoViewport(K.clientX,K.clientY)}else if(pt[4]==1&&(lt==null||lt.pannable())){if(ir){if(!t.hoverData.dragging&&pe.boxSelectionEnabled()&&(zr||!pe.panningEnabled()||!pe.userPanningEnabled()))_n();else if(!t.hoverData.selecting&&pe.panningEnabled()&&pe.userPanningEnabled()){var Nr=s(lt,t.hoverData.downs);Nr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,pt[4]=0,t.data.bgActivePosistion=Gs(qe),t.redrawHint("select",!0),t.redraw())}lt&&lt.pannable()&&lt.active()&&lt.unactivate()}}else{if(lt&&lt.pannable()&&lt.active()&&lt.unactivate(),(!lt||!lt.grabbed())&&_t!=At&&(At&&i(At,["mouseout","tapdragout"],K,{x:Ge[0],y:Ge[1]}),_t&&i(_t,["mouseover","tapdragover"],K,{x:Ge[0],y:Ge[1]}),t.hoverData.last=_t),lt)if(ir){if(pe.boxSelectionEnabled()&&zr)lt&&lt.grabbed()&&(E(zt),lt.emit(vr("freeon")),zt.emit(vr("free")),t.dragData.didDrag&&(lt.emit(vr("dragfreeon")),zt.emit(vr("dragfree")))),_n();else if(lt&&lt.grabbed()&&t.nodeIsDraggable(lt)){var Lr=!t.dragData.didDrag;Lr&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||C(zt,{inDragLayer:!0});var $r={x:0,y:0};if(et(It[0])&&et(It[1])&&($r.x+=It[0],$r.y+=It[1],Lr)){var Tr=t.hoverData.dragDelta;Tr&&et(Tr[0])&&et(Tr[1])&&($r.x+=Tr[0],$r.y+=Tr[1])}t.hoverData.draggingEles=!0,zt.silentShift($r).emit(vr("position")).emit(vr("drag")),t.redrawHint("drag",!0),t.redraw()}}else Tn();Oe=!0}if(pt[2]=Ge[0],pt[3]=Ge[1],Oe)return K.stopPropagation&&K.stopPropagation(),K.preventDefault&&K.preventDefault(),!1}},!1);var V,G,Z;t.registerBinding(e,"mouseup",function(K){if(!(t.hoverData.which===1&&K.which!==1&&t.hoverData.capture)){var we=t.hoverData.capture;if(we){t.hoverData.capture=!1;var Oe=t.cy,pe=t.projectIntoViewport(K.clientX,K.clientY),Pe=t.selection,nt=t.findNearestElement(pe[0],pe[1],!0,!1),Ge=t.dragData.possibleDragElements,qe=t.hoverData.down,it=u(K);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,qe&&qe.unactivate();var pt=function($t){return{originalEvent:K,type:$t,position:{x:pe[0],y:pe[1]}}};if(t.hoverData.which===3){var _t=pt("cxttapend");if(qe?qe.emit(_t):Oe.emit(_t),!t.hoverData.cxtDragged){var At=pt("cxttap");qe?qe.emit(At):Oe.emit(At)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(nt,["mouseup","tapend","vmouseup"],K,{x:pe[0],y:pe[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(qe,["click","tap","vclick"],K,{x:pe[0],y:pe[1]}),G=!1,K.timeStamp-Z<=Oe.multiClickDebounceTime()?(V&&clearTimeout(V),G=!0,Z=null,i(qe,["dblclick","dbltap","vdblclick"],K,{x:pe[0],y:pe[1]})):(V=setTimeout(function(){G||i(qe,["oneclick","onetap","voneclick"],K,{x:pe[0],y:pe[1]})},Oe.multiClickDebounceTime()),Z=K.timeStamp)),qe==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!u(K)&&(Oe.$(r).unselect(["tapunselect"]),Ge.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Ge=Oe.collection()),nt==qe&&!t.dragData.didDrag&&!t.hoverData.selecting&&nt!=null&&nt._private.selectable&&(t.hoverData.dragging||(Oe.selectionType()==="additive"||it?nt.selected()?nt.unselect(["tapunselect"]):nt.select(["tapselect"]):it||(Oe.$(r).unmerge(nt).unselect(["tapunselect"]),nt.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var lt=Oe.collection(t.getAllInBox(Pe[0],Pe[1],Pe[2],Pe[3]));t.redrawHint("select",!0),lt.length>0&&t.redrawHint("eles",!0),Oe.emit(pt("boxend"));var It=function($t){return $t.selectable()&&!$t.selected()};Oe.selectionType()==="additive"||it||Oe.$(r).unmerge(lt).unselect(),lt.emit(pt("box")).stdFilter(It).select().emit(pt("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!Pe[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var zt=qe&&qe.grabbed();E(Ge),zt&&(qe.emit(pt("freeon")),Ge.emit(pt("free")),t.dragData.didDrag&&(qe.emit(pt("dragfreeon")),Ge.emit(pt("dragfree"))))}}Pe[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var J=[],j=4,Y,W=1e5,oe=function(K,we){for(var Oe=0;Oe<K.length;Oe++)if(K[Oe]%we!==0)return!1;return!0},se=function(K){for(var we=Math.abs(K[0]),Oe=1;Oe<K.length;Oe++)if(Math.abs(K[Oe])!==we)return!1;return!0},U=function(K){var we=!1,Oe=K.deltaY;if(Oe==null&&(K.wheelDeltaY!=null?Oe=K.wheelDeltaY/4:K.wheelDelta!=null&&(Oe=K.wheelDelta/4)),Oe!==0){if(Y==null)if(J.length>=j){var pe=J;if(Y=oe(pe,5),!Y){var Pe=Math.abs(pe[0]);Y=se(pe)&&Pe>5}if(Y)for(var nt=0;nt<pe.length;nt++)W=Math.min(Math.abs(pe[nt]),W)}else J.push(Oe),we=!0;else Y&&(W=Math.min(Math.abs(Oe),W));if(!t.scrollingPage){var Ge=t.cy,qe=Ge.zoom(),it=Ge.pan(),pt=t.projectIntoViewport(K.clientX,K.clientY),_t=[pt[0]*qe+it.x,pt[1]*qe+it.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||L()){K.preventDefault();return}if(Ge.panningEnabled()&&Ge.userPanningEnabled()&&Ge.zoomingEnabled()&&Ge.userZoomingEnabled()){K.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var At;we&&Math.abs(Oe)>5&&(Oe=tE(Oe)*5),At=Oe/-250,Y&&(At/=W,At*=3),At=At*t.wheelSensitivity;var lt=K.deltaMode===1;lt&&(At*=33);var It=Ge.zoom()*Math.pow(10,At);K.type==="gesturechange"&&(It=t.gestureStartZoom*K.scale),Ge.zoom({level:It,renderedPosition:{x:_t[0],y:_t[1]}}),Ge.emit({type:K.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:K,position:{x:pt[0],y:pt[1]}})}}}};t.registerBinding(t.container,"wheel",U,!0),t.registerBinding(e,"scroll",function(K){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(K){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||K.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Ne){t.hasTouchStarted||U(Ne)},!0),t.registerBinding(t.container,"mouseout",function(K){var we=t.projectIntoViewport(K.clientX,K.clientY);t.cy.emit({originalEvent:K,type:"mouseout",position:{x:we[0],y:we[1]}})},!1),t.registerBinding(t.container,"mouseover",function(K){var we=t.projectIntoViewport(K.clientX,K.clientY);t.cy.emit({originalEvent:K,type:"mouseover",position:{x:we[0],y:we[1]}})},!1);var X,ue,$,ee,re,de,ke,ie,he,be,ge,Me,je,He=function(K,we,Oe,pe){return Math.sqrt((Oe-K)*(Oe-K)+(pe-we)*(pe-we))},Ct=function(K,we,Oe,pe){return(Oe-K)*(Oe-K)+(pe-we)*(pe-we)},Ze;t.registerBinding(t.container,"touchstart",Ze=function(K){if(t.hasTouchStarted=!0,!!P(K)){A(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var we=t.cy,Oe=t.touchData.now,pe=t.touchData.earlier;if(K.touches[0]){var Pe=t.projectIntoViewport(K.touches[0].clientX,K.touches[0].clientY);Oe[0]=Pe[0],Oe[1]=Pe[1]}if(K.touches[1]){var Pe=t.projectIntoViewport(K.touches[1].clientX,K.touches[1].clientY);Oe[2]=Pe[0],Oe[3]=Pe[1]}if(K.touches[2]){var Pe=t.projectIntoViewport(K.touches[2].clientX,K.touches[2].clientY);Oe[4]=Pe[0],Oe[5]=Pe[1]}var nt=function(zr){return{originalEvent:K,type:zr,position:{x:Oe[0],y:Oe[1]}}};if(K.touches[1]){t.touchData.singleTouchMoved=!0,E(t.dragData.touchDragEles);var Ge=t.findContainerClientCoords();he=Ge[0],be=Ge[1],ge=Ge[2],Me=Ge[3],X=K.touches[0].clientX-he,ue=K.touches[0].clientY-be,$=K.touches[1].clientX-he,ee=K.touches[1].clientY-be,je=0<=X&&X<=ge&&0<=$&&$<=ge&&0<=ue&&ue<=Me&&0<=ee&&ee<=Me;var qe=we.pan(),it=we.zoom();re=He(X,ue,$,ee),de=Ct(X,ue,$,ee),ke=[(X+$)/2,(ue+ee)/2],ie=[(ke[0]-qe.x)/it,(ke[1]-qe.y)/it];var pt=200,_t=pt*pt;if(de<_t&&!K.touches[2]){var At=t.findNearestElement(Oe[0],Oe[1],!0,!0),lt=t.findNearestElement(Oe[2],Oe[3],!0,!0);At&&At.isNode()?(At.activate().emit(nt("cxttapstart")),t.touchData.start=At):lt&&lt.isNode()?(lt.activate().emit(nt("cxttapstart")),t.touchData.start=lt):we.emit(nt("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(K.touches[2])we.boxSelectionEnabled()&&K.preventDefault();else if(!K.touches[1]){if(K.touches[0]){var It=t.findNearestElements(Oe[0],Oe[1],!0,!0),zt=It[0];if(zt!=null&&(zt.activate(),t.touchData.start=zt,t.touchData.starts=It,t.nodeIsGrabbable(zt))){var ir=t.dragData.touchDragEles=we.collection(),$t=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),zt.selected()?($t=we.$(function(Ut){return Ut.selected()&&t.nodeIsGrabbable(Ut)}),C($t,{addToList:ir})):x(zt,{addToList:ir}),p(zt),zt.emit(nt("grabon")),$t?$t.forEach(function(Ut){Ut.emit(nt("grab"))}):zt.emit(nt("grab"))}i(zt,["touchstart","tapstart","vmousedown"],K,{x:Oe[0],y:Oe[1]}),zt==null&&(t.data.bgActivePosistion={x:Pe[0],y:Pe[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],K,{x:Oe[0],y:Oe[1]})},t.tapholdDuration)}}if(K.touches.length>=1){for(var jr=t.touchData.startPosition=[null,null,null,null,null,null],dr=0;dr<Oe.length;dr++)jr[dr]=pe[dr]=Oe[dr];var Bt=K.touches[0];t.touchData.startGPosition=[Bt.clientX,Bt.clientY]}}},!1);var vt;t.registerBinding(e,"touchmove",vt=function(K){var we=t.touchData.capture;if(!(!we&&!P(K))){var Oe=t.selection,pe=t.cy,Pe=t.touchData.now,nt=t.touchData.earlier,Ge=pe.zoom();if(K.touches[0]){var qe=t.projectIntoViewport(K.touches[0].clientX,K.touches[0].clientY);Pe[0]=qe[0],Pe[1]=qe[1]}if(K.touches[1]){var qe=t.projectIntoViewport(K.touches[1].clientX,K.touches[1].clientY);Pe[2]=qe[0],Pe[3]=qe[1]}if(K.touches[2]){var qe=t.projectIntoViewport(K.touches[2].clientX,K.touches[2].clientY);Pe[4]=qe[0],Pe[5]=qe[1]}var it=function(Zu){return{originalEvent:K,type:Zu,position:{x:Pe[0],y:Pe[1]}}},pt=t.touchData.startGPosition,_t;if(we&&K.touches[0]&&pt){for(var At=[],lt=0;lt<Pe.length;lt++)At[lt]=Pe[lt]-nt[lt];var It=K.touches[0].clientX-pt[0],zt=It*It,ir=K.touches[0].clientY-pt[1],$t=ir*ir,jr=zt+$t;_t=jr>=t.touchTapThreshold2}if(we&&t.touchData.cxt){K.preventDefault();var dr=K.touches[0].clientX-he,Bt=K.touches[0].clientY-be,Ut=K.touches[1].clientX-he,zr=K.touches[1].clientY-be,Tn=Ct(dr,Bt,Ut,zr),vr=Tn/de,_n=150,Yr=_n*_n,Qt=1.5,wr=Qt*Qt;if(vr>=wr||Tn>=Yr){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Nr=it("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(Nr),t.touchData.start=null):pe.emit(Nr)}}if(we&&t.touchData.cxt){var Nr=it("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Nr):pe.emit(Nr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Lr=t.findNearestElement(Pe[0],Pe[1],!0,!0);(!t.touchData.cxtOver||Lr!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(it("cxtdragout")),t.touchData.cxtOver=Lr,Lr&&Lr.emit(it("cxtdragover")))}else if(we&&K.touches[2]&&pe.boxSelectionEnabled())K.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||pe.emit(it("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,Oe[4]=1,!Oe||Oe.length===0||Oe[0]===void 0?(Oe[0]=(Pe[0]+Pe[2]+Pe[4])/3,Oe[1]=(Pe[1]+Pe[3]+Pe[5])/3,Oe[2]=(Pe[0]+Pe[2]+Pe[4])/3+1,Oe[3]=(Pe[1]+Pe[3]+Pe[5])/3+1):(Oe[2]=(Pe[0]+Pe[2]+Pe[4])/3,Oe[3]=(Pe[1]+Pe[3]+Pe[5])/3),t.redrawHint("select",!0),t.redraw();else if(we&&K.touches[1]&&!t.touchData.didSelect&&pe.zoomingEnabled()&&pe.panningEnabled()&&pe.userZoomingEnabled()&&pe.userPanningEnabled()){K.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var $r=t.dragData.touchDragEles;if($r){t.redrawHint("drag",!0);for(var Tr=0;Tr<$r.length;Tr++){var Na=$r[Tr]._private;Na.grabbed=!1,Na.rscratch.inDragLayer=!1}}var xr=t.touchData.start,dr=K.touches[0].clientX-he,Bt=K.touches[0].clientY-be,Ut=K.touches[1].clientX-he,zr=K.touches[1].clientY-be,vi=He(dr,Bt,Ut,zr),ba=vi/re;if(je){var ur=dr-X,Vn=Bt-ue,hn=Ut-$,Pr=zr-ee,La=(ur+hn)/2,hi=(Vn+Pr)/2,Cn=pe.zoom(),Zn=Cn*ba,Qn=pe.pan(),Xi=ie[0]*Cn+Qn.x,Xa=ie[1]*Cn+Qn.y,Vo={x:-Zn/Cn*(Xi-Qn.x-La)+Xi,y:-Zn/Cn*(Xa-Qn.y-hi)+Xa};if(xr&&xr.active()){var $r=t.dragData.touchDragEles;E($r),t.redrawHint("drag",!0),t.redrawHint("eles",!0),xr.unactivate().emit(it("freeon")),$r.emit(it("free")),t.dragData.didDrag&&(xr.emit(it("dragfreeon")),$r.emit(it("dragfree")))}pe.viewport({zoom:Zn,pan:Vo,cancelOnFailedZoom:!0}),pe.emit(it("pinchzoom")),re=vi,X=dr,ue=Bt,$=Ut,ee=zr,t.pinching=!0}if(K.touches[0]){var qe=t.projectIntoViewport(K.touches[0].clientX,K.touches[0].clientY);Pe[0]=qe[0],Pe[1]=qe[1]}if(K.touches[1]){var qe=t.projectIntoViewport(K.touches[1].clientX,K.touches[1].clientY);Pe[2]=qe[0],Pe[3]=qe[1]}if(K.touches[2]){var qe=t.projectIntoViewport(K.touches[2].clientX,K.touches[2].clientY);Pe[4]=qe[0],Pe[5]=qe[1]}}else if(K.touches[0]&&!t.touchData.didSelect){var Et=t.touchData.start,Pa=t.touchData.last,Lr;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Lr=t.findNearestElement(Pe[0],Pe[1],!0,!0)),we&&Et!=null&&K.preventDefault(),we&&Et!=null&&t.nodeIsDraggable(Et))if(_t){var $r=t.dragData.touchDragEles,Gn=!t.dragData.didDrag;Gn&&C($r,{inDragLayer:!0}),t.dragData.didDrag=!0;var Ir={x:0,y:0};if(et(At[0])&&et(At[1])&&(Ir.x+=At[0],Ir.y+=At[1],Gn)){t.redrawHint("eles",!0);var Xr=t.touchData.dragDelta;Xr&&et(Xr[0])&&et(Xr[1])&&(Ir.x+=Xr[0],Ir.y+=Xr[1])}t.hoverData.draggingEles=!0,$r.silentShift(Ir).emit(it("position")).emit(it("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==nt[0]&&t.touchData.startPosition[1]==nt[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Xr=t.touchData.dragDelta=t.touchData.dragDelta||[];Xr.length===0?(Xr.push(At[0]),Xr.push(At[1])):(Xr[0]+=At[0],Xr[1]+=At[1])}if(i(Et||Lr,["touchmove","tapdrag","vmousemove"],K,{x:Pe[0],y:Pe[1]}),(!Et||!Et.grabbed())&&Lr!=Pa&&(Pa&&Pa.emit(it("tapdragout")),Lr&&Lr.emit(it("tapdragover"))),t.touchData.last=Lr,we)for(var Tr=0;Tr<Pe.length;Tr++)Pe[Tr]&&t.touchData.startPosition[Tr]&&_t&&(t.touchData.singleTouchMoved=!0);if(we&&(Et==null||Et.pannable())&&pe.panningEnabled()&&pe.userPanningEnabled()){var Go=s(Et,t.touchData.starts);Go&&(K.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Gs(t.touchData.startPosition)),t.swipePanning?(pe.panBy({x:At[0]*Ge,y:At[1]*Ge}),pe.emit(it("dragpan"))):_t&&(t.swipePanning=!0,pe.panBy({x:It*Ge,y:ir*Ge}),pe.emit(it("dragpan")),Et&&(Et.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var qe=t.projectIntoViewport(K.touches[0].clientX,K.touches[0].clientY);Pe[0]=qe[0],Pe[1]=qe[1]}}for(var lt=0;lt<Pe.length;lt++)nt[lt]=Pe[lt];we&&K.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var ct;t.registerBinding(e,"touchcancel",ct=function(K){var we=t.touchData.start;t.touchData.capture=!1,we&&we.unactivate()});var Qe,tt,ot,st;if(t.registerBinding(e,"touchend",Qe=function(K){var we=t.touchData.start,Oe=t.touchData.capture;if(Oe)K.touches.length===0&&(t.touchData.capture=!1),K.preventDefault();else return;var pe=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var Pe=t.cy,nt=Pe.zoom(),Ge=t.touchData.now,qe=t.touchData.earlier;if(K.touches[0]){var it=t.projectIntoViewport(K.touches[0].clientX,K.touches[0].clientY);Ge[0]=it[0],Ge[1]=it[1]}if(K.touches[1]){var it=t.projectIntoViewport(K.touches[1].clientX,K.touches[1].clientY);Ge[2]=it[0],Ge[3]=it[1]}if(K.touches[2]){var it=t.projectIntoViewport(K.touches[2].clientX,K.touches[2].clientY);Ge[4]=it[0],Ge[5]=it[1]}var pt=function(Yr){return{originalEvent:K,type:Yr,position:{x:Ge[0],y:Ge[1]}}};we&&we.unactivate();var _t;if(t.touchData.cxt){if(_t=pt("cxttapend"),we?we.emit(_t):Pe.emit(_t),!t.touchData.cxtDragged){var At=pt("cxttap");we?we.emit(At):Pe.emit(At)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!K.touches[2]&&Pe.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var lt=Pe.collection(t.getAllInBox(pe[0],pe[1],pe[2],pe[3]));pe[0]=void 0,pe[1]=void 0,pe[2]=void 0,pe[3]=void 0,pe[4]=0,t.redrawHint("select",!0),Pe.emit(pt("boxend"));var It=function(Yr){return Yr.selectable()&&!Yr.selected()};lt.emit(pt("box")).stdFilter(It).select().emit(pt("boxselect")),lt.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(we?.unactivate(),K.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!K.touches[1]){if(!K.touches[0]){if(!K.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var zt=t.dragData.touchDragEles;if(we!=null){var ir=we._private.grabbed;E(zt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),ir&&(we.emit(pt("freeon")),zt.emit(pt("free")),t.dragData.didDrag&&(we.emit(pt("dragfreeon")),zt.emit(pt("dragfree")))),i(we,["touchend","tapend","vmouseup","tapdragout"],K,{x:Ge[0],y:Ge[1]}),we.unactivate(),t.touchData.start=null}else{var $t=t.findNearestElement(Ge[0],Ge[1],!0,!0);i($t,["touchend","tapend","vmouseup","tapdragout"],K,{x:Ge[0],y:Ge[1]})}var jr=t.touchData.startPosition[0]-Ge[0],dr=jr*jr,Bt=t.touchData.startPosition[1]-Ge[1],Ut=Bt*Bt,zr=dr+Ut,Tn=zr*nt*nt;t.touchData.singleTouchMoved||(we||Pe.$(":selected").unselect(["tapunselect"]),i(we,["tap","vclick"],K,{x:Ge[0],y:Ge[1]}),tt=!1,K.timeStamp-st<=Pe.multiClickDebounceTime()?(ot&&clearTimeout(ot),tt=!0,st=null,i(we,["dbltap","vdblclick"],K,{x:Ge[0],y:Ge[1]})):(ot=setTimeout(function(){tt||i(we,["onetap","voneclick"],K,{x:Ge[0],y:Ge[1]})},Pe.multiClickDebounceTime()),st=K.timeStamp)),we!=null&&!t.dragData.didDrag&&we._private.selectable&&Tn<t.touchTapThreshold2&&!t.pinching&&(Pe.selectionType()==="single"?(Pe.$(r).unmerge(we).unselect(["tapunselect"]),we.select(["tapselect"])):we.selected()?we.unselect(["tapunselect"]):we.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var vr=0;vr<Ge.length;vr++)qe[vr]=Ge[vr];t.dragData.didDrag=!1,K.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),K.touches.length<2&&(K.touches.length===1&&(t.touchData.startGPosition=[K.touches[0].clientX,K.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var rt=[],xt=function(K){return{clientX:K.clientX,clientY:K.clientY,force:1,identifier:K.pointerId,pageX:K.pageX,pageY:K.pageY,radiusX:K.width/2,radiusY:K.height/2,screenX:K.screenX,screenY:K.screenY,target:K.target}},Dt=function(K){return{event:K,touch:xt(K)}},qt=function(K){rt.push(Dt(K))},Mt=function(K){for(var we=0;we<rt.length;we++){var Oe=rt[we];if(Oe.event.pointerId===K.pointerId){rt.splice(we,1);return}}},Pt=function(K){var we=rt.filter(function(Oe){return Oe.event.pointerId===K.pointerId})[0];we.event=K,we.touch=xt(K)},gt=function(K){K.touches=rt.map(function(we){return we.touch})},at=function(K){return K.pointerType==="mouse"||K.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Ne){at(Ne)||(Ne.preventDefault(),qt(Ne),gt(Ne),Ze(Ne))}),t.registerBinding(t.container,"pointerup",function(Ne){at(Ne)||(Mt(Ne),gt(Ne),Qe(Ne))}),t.registerBinding(t.container,"pointercancel",function(Ne){at(Ne)||(Mt(Ne),gt(Ne),ct(Ne))}),t.registerBinding(t.container,"pointermove",function(Ne){at(Ne)||(Ne.preventDefault(),Pt(Ne),gt(Ne),vt(Ne))})}};var Hi={};Hi.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,u,s,l,f){this.renderer.nodeShapeImpl("polygon",n,i,u,s,l,this.points)},intersectLine:function(n,i,u,s,l,f,d,v){return Kc(l,f,this.points,n,i,u/2,s/2,d)},checkPoint:function(n,i,u,s,l,f,d,v){return ji(n,i,this.points,f,d,s,l,[0,-1],u)},hasMiterBounds:t!=="rectangle",miterBounds:function(n,i,u,s,l,f){return $4(this.points,n,i,u,s,l)}}};Hi.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,u)},intersectLine:function(e,r,n,i,u,s,l,f){return rP(u,s,e,r,n/2+l,i/2+l)},checkPoint:function(e,r,n,i,u,s,l,f){return Ro(e,r,i,u,s,l,n)}}};Hi.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,i,u,s,l,f,d){if(f[d]!==void 0&&f[d+"-cx"]===n&&f[d+"-cy"]===i)return f[d];f[d]=new Array(e.length/2),f[d+"-cx"]=n,f[d+"-cy"]=i;var v=u/2,p=s/2;l=l==="auto"?ek(u,s):l;for(var g=new Array(e.length/2),m=0;m<e.length/2;m++)g[m]={x:n+v*e[m*2],y:i+p*e[m*2+1]};var b,C,x,E,_=g.length;for(C=g[_-1],b=0;b<_;b++)x=g[b%_],E=g[(b+1)%_],f[d][b]=hE(C,x,E,l),C=x,x=E;return f[d]},draw:function(n,i,u,s,l,f,d){this.renderer.nodeShapeImpl("round-polygon",n,i,u,s,l,this.points,this.getOrCreateCorners(i,u,s,l,f,d,"drawCorners"))},intersectLine:function(n,i,u,s,l,f,d,v,p){return aP(l,f,this.points,n,i,u,s,d,this.getOrCreateCorners(n,i,u,s,v,p,"corners"))},checkPoint:function(n,i,u,s,l,f,d,v,p){return tP(n,i,this.points,f,d,s,l,this.getOrCreateCorners(f,d,s,l,v,p,"corners"))}}};Hi.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Yn(4,0),draw:function(e,r,n,i,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,u,this.points,s)},intersectLine:function(e,r,n,i,u,s,l,f){return Wq(u,s,e,r,n,i,l,f)},checkPoint:function(e,r,n,i,u,s,l,f){var d=i/2,v=u/2;f=f==="auto"?Pu(i,u):f,f=Math.min(d,v,f);var p=f*2;return!!(ji(e,r,this.points,s,l,i,u-p,[0,-1],n)||ji(e,r,this.points,s,l,i-p,u,[0,-1],n)||Ro(e,r,p,p,s-d+f,l-v+f,n)||Ro(e,r,p,p,s+d-f,l-v+f,n)||Ro(e,r,p,p,s+d-f,l+v-f,n)||Ro(e,r,p,p,s-d+f,l+v-f,n))}}};Hi.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:nE(),points:Yn(4,0),draw:function(e,r,n,i,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,u,null,s)},generateCutTrianglePts:function(e,r,n,i,u){var s=u==="auto"?this.cornerLength:u,l=r/2,f=e/2,d=n-f,v=n+f,p=i-l,g=i+l;return{topLeft:[d,p+s,d+s,p,d+s,p+s],topRight:[v-s,p,v,p+s,v-s,p+s],bottomRight:[v,g-s,v-s,g,v-s,g-s],bottomLeft:[d+s,g,d,g-s,d+s,g-s]}},intersectLine:function(e,r,n,i,u,s,l,f){var d=this.generateCutTrianglePts(n+2*l,i+2*l,e,r,f),v=[].concat.apply([],[d.topLeft.splice(0,4),d.topRight.splice(0,4),d.bottomRight.splice(0,4),d.bottomLeft.splice(0,4)]);return Kc(u,s,v,e,r)},checkPoint:function(e,r,n,i,u,s,l,f){var d=f==="auto"?this.cornerLength:f;if(ji(e,r,this.points,s,l,i,u-2*d,[0,-1],n)||ji(e,r,this.points,s,l,i-2*d,u,[0,-1],n))return!0;var v=this.generateCutTrianglePts(i,u,s,l);return ua(e,r,v.topLeft)||ua(e,r,v.topRight)||ua(e,r,v.bottomRight)||ua(e,r,v.bottomLeft)}}};Hi.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Yn(4,0),draw:function(e,r,n,i,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,u)},intersectLine:function(e,r,n,i,u,s,l,f){var d=.15,v=.5,p=.85,g=this.generateBarrelBezierPts(n+2*l,i+2*l,e,r),m=function(x){var E=Ks({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},d),_=Ks({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},v),A=Ks({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},p);return[x[0],x[1],E.x,E.y,_.x,_.y,A.x,A.y,x[4],x[5]]},b=[].concat(m(g.topLeft),m(g.topRight),m(g.bottomRight),m(g.bottomLeft));return Kc(u,s,b,e,r)},generateBarrelBezierPts:function(e,r,n,i){var u=r/2,s=e/2,l=n-s,f=n+s,d=i-u,v=i+u,p=Sx(e,r),g=p.heightOffset,m=p.widthOffset,b=p.ctrlPtOffsetPct*e,C={topLeft:[l,d+g,l+b,d,l+m,d],topRight:[f-m,d,f-b,d,f,d+g],bottomRight:[f,v-g,f-b,v,f-m,v],bottomLeft:[l+m,v,l+b,v,l,v-g]};return C.topLeft.isTop=!0,C.topRight.isTop=!0,C.bottomLeft.isBottom=!0,C.bottomRight.isBottom=!0,C},checkPoint:function(e,r,n,i,u,s,l,f){var d=Sx(i,u),v=d.heightOffset,p=d.widthOffset;if(ji(e,r,this.points,s,l,i,u-2*v,[0,-1],n)||ji(e,r,this.points,s,l,i-2*p,u,[0,-1],n))return!0;for(var g=this.generateBarrelBezierPts(i,u,s,l),m=function(N,L,P){var I=P[4],V=P[2],G=P[0],Z=P[5],J=P[1],j=Math.min(I,G),Y=Math.max(I,G),W=Math.min(Z,J),oe=Math.max(Z,J);if(j<=N&&N<=Y&&W<=L&&L<=oe){var se=iP(I,V,G),U=Q4(se[0],se[1],se[2],N),X=U.filter(function(ue){return 0<=ue&&ue<=1});if(X.length>0)return X[0]}return null},b=Object.keys(g),C=0;C<b.length;C++){var x=b[C],E=g[x],_=m(e,r,E);if(_!=null){var A=E[5],R=E[3],M=E[1],B=wn(A,R,M,_);if(E.isTop&&B<=r||E.isBottom&&r<=B)return!0}}return!1}}};Hi.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Yn(4,0),draw:function(e,r,n,i,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,u,this.points,s)},intersectLine:function(e,r,n,i,u,s,l,f){var d=e-(n/2+l),v=r-(i/2+l),p=v,g=e+(n/2+l),m=qu(u,s,e,r,d,v,g,p,!1);return m.length>0?m:Wq(u,s,e,r,n,i,l,f)},checkPoint:function(e,r,n,i,u,s,l,f){f=f==="auto"?Pu(i,u):f;var d=2*f;if(ji(e,r,this.points,s,l,i,u-d,[0,-1],n)||ji(e,r,this.points,s,l,i-d,u,[0,-1],n))return!0;var v=i/2+2*n,p=u/2+2*n,g=[s-v,l-p,s-v,l,s+v,l,s+v,l-p];return!!(ua(e,r,g)||Ro(e,r,d,d,s+i/2-f,l+u/2-f,n)||Ro(e,r,d,d,s-i/2+f,l+u/2-f,n))}}};Hi.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Yn(3,0)),this.generateRoundPolygon("round-triangle",Yn(3,0)),this.generatePolygon("rectangle",Yn(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Yn(5,0)),this.generateRoundPolygon("round-pentagon",Yn(5,0)),this.generatePolygon("hexagon",Yn(6,0)),this.generateRoundPolygon("round-hexagon",Yn(6,0)),this.generatePolygon("heptagon",Yn(7,0)),this.generateRoundPolygon("round-heptagon",Yn(7,0)),this.generatePolygon("octagon",Yn(8,0)),this.generateRoundPolygon("round-octagon",Yn(8,0));var n=new Array(20);{var i=Ex(5,0),u=Ex(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var l=0;l<u.length/2;l++)u[l*2]*=s,u[l*2+1]*=s;for(var l=0;l<20/4;l++)n[l*4]=i[l*2],n[l*4+1]=i[l*2+1],n[l*4+2]=u[l*2],n[l*4+3]=u[l*2+1]}n=Jq(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var f=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",f),this.generateRoundPolygon("round-tag",f)}t.makePolygon=function(d){var v=d.join("$"),p="polygon-"+v,g;return(g=this[p])?g:e.generatePolygon(p,d)}};var cf={};cf.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};cf.redraw=function(t){t=t||$q();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};cf.beforeRender=function(t,e){if(!this.destroyed){e==null&&qr("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var xA=function(e,r,n){for(var i=e.beforeRenderCallbacks,u=0;u<i.length;u++)i[u].fn(r,n)};cf.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){xA(t,!0,i);var u=Gi();t.render(t.renderOptions);var s=t.lastDrawTime=Gi();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-u),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var l=s-u;t.redrawTotalTime+=l,t.lastRedrawTime=l,t.averageRedrawTime=t.averageRedrawTime/2+l/2,t.requestedFrame=!1}else xA(t,!1,i);t.skipFrame=!1,yv(r)}};yv(r)}};var xU=function(e){this.init(e)},e5=xU,fl=e5.prototype;fl.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];fl.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,u=i.head,s="__________cytoscape_stylesheet",l="__________cytoscape_container",f=i.getElementById(s)!=null;if(r.className.indexOf(l)<0&&(r.className=(r.className||"")+" "+l),!f){var d=i.createElement("style");d.id=s,d.textContent="."+l+" { position: relative; }",u.insertBefore(d,u.children[0])}var v=n.getComputedStyle(r),p=v.getPropertyValue("position");p==="static"&&lr("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=et(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};fl.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};fl.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};fl.isHeadless=function(){return!1};[vE,Wk,Jk,cl,Hi,cf].forEach(function(t){St(fl,t)});var Fy=1e3/60,t5={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var u=af(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),s=function(d,v){var p=Gi(),g=i.averageRedrawTime,m=i.lastRedrawTime,b=[],C=i.cy.extent(),x=i.getPixelRatio();for(d||i.flushRenderedStyleQueue();;){var E=Gi(),_=E-p,A=E-v;if(m<Fy){var R=Fy-(d?g:0);if(A>=e.deqFastCost*R)break}else if(d){if(_>=e.deqCost*m||_>=e.deqAvgCost*g)break}else if(A>=e.deqNoDrawCost*Fy)break;var M=e.deq(n,x,C);if(M.length>0)for(var B=0;B<M.length;B++)b.push(M[B]);else break}b.length>0&&(e.onDeqd(n,b),!d&&e.shouldRedraw(n,b,x,C)&&u())},l=e.priority||Wx;i.beforeRender(s,l(n))}}}},EU=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mv;Gu(this,t),this.idsByKey=new Vi,this.keyForId=new Vi,this.cachesByLvl=new Vi,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return ju(t,[{key:"getIdsFor",value:function(r){r==null&&qr("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new ul,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),u=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(u,n),this.keyForId.set(n,u)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),u=this.getKey(r);return i!==u}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,u=n.get(r);return u||(u=new Vi,n.set(r,u),i.push(r)),u}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),u=this.getCache(i,n);return u!=null&&this.updateKeyMappingFor(r),u}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),u=this.getCache(i,n);return u}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var u=this.getKey(r);this.setCache(u,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var u=this.doesEleInvalidateKey(r);return u&&this.invalidateKey(i),u||this.getNumberOfIdsForKey(i)===0}}])})(),EA=25,Fd=50,ov=-4,Nx=3,r5=7.99,SU=8,TU=1024,_U=1024,CU=1024,AU=.2,RU=.8,DU=10,OU=.15,MU=.1,BU=.9,qU=.9,kU=100,zU=1,Hs={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},NU=qn({getKey:null,doesEleInvalidateKey:mv,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Hq,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),qc=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=NU(r);St(n,i),n.lookup=new EU(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},vn=qc.prototype;vn.reasons=Hs;vn.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};vn.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};vn.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new uf(function(r,n){return n.reqs-r.reqs});return e};vn.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};vn.getElement=function(t,e,r,n,i){var u=this,s=this.renderer,l=s.cy.zoom(),f=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!u.allowEdgeTxrCaching&&t.isEdge()||!u.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(eE(l*r))),n<ov)n=ov;else if(l>=r5||n>Nx)return null;var d=Math.pow(2,n),v=e.h*d,p=e.w*d,g=s.eleTextBiggerThanMin(t,d);if(!this.isVisible(t,g))return null;var m=f.get(t,n);if(m&&m.invalidated&&(m.invalidated=!1,m.texture.invalidatedWidth-=m.width),m)return m;var b;if(v<=EA?b=EA:v<=Fd?b=Fd:b=Math.ceil(v/Fd)*Fd,v>CU||p>_U)return null;var C=u.getTextureQueue(b),x=C[C.length-2],E=function(){return u.recycleTexture(b,p)||u.addTexture(b,p)};x||(x=C[C.length-1]),x||(x=E()),x.width-x.usedWidth<p&&(x=E());for(var _=function(j){return j&&j.scaledLabelShown===g},A=i&&i===Hs.dequeue,R=i&&i===Hs.highQuality,M=i&&i===Hs.downscale,B,O=n+1;O<=Nx;O++){var N=f.get(t,O);if(N){B=N;break}}var L=B&&B.level===n+1?B:null,P=function(){x.context.drawImage(L.texture.canvas,L.x,0,L.width,L.height,x.usedWidth,0,p,v)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,p,b),_(L))P();else if(_(B))if(R){for(var I=B.level;I>n;I--)L=u.getElement(t,e,r,I,Hs.downscale);P()}else return u.queueElement(t,B.level-1),B;else{var V;if(!A&&!R&&!M)for(var G=n-1;G>=ov;G--){var Z=f.get(t,G);if(Z){V=Z;break}}if(_(V))return u.queueElement(t,n),V;x.context.translate(x.usedWidth,0),x.context.scale(d,d),this.drawElement(x.context,t,e,g,!1),x.context.scale(1/d,1/d),x.context.translate(-x.usedWidth,0)}return m={x:x.usedWidth,texture:x,level:n,scale:d,width:p,height:v,scaledLabelShown:g},x.usedWidth+=Math.ceil(p+SU),x.eleCaches.push(m),f.set(t,n,m),u.checkTextureFullness(x),m};vn.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};vn.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var u=ov;u<=Nx;u++){var s=r.getForCachedKey(t,u);s&&n.push(s)}var l=r.invalidate(t);if(l)for(var f=0;f<n.length;f++){var d=n[f],v=d.texture;v.invalidatedWidth+=d.width,d.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(t)}};vn.checkTextureUtility=function(t){t.invalidatedWidth>=AU*t.width&&this.retireTexture(t)};vn.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>RU&&t.fullnessChecks>=DU?Lu(r,t):t.fullnessChecks++};vn.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;Lu(n,t),t.retired=!0;for(var u=t.eleCaches,s=0;s<u.length;s++){var l=u[s];i.deleteCache(l.key,l.level)}Jx(u);var f=e.getRetiredTextureQueue(r);f.push(t)};vn.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(TU,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};vn.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),u=0;u<i.length;u++){var s=i[u];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,Jx(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Lu(i,s),n.push(s),s}};vn.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),u=this.getKey(t),s=i[u];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var l={eles:t.spawn().merge(t),level:e,reqs:1,key:u};n.push(l),i[u]=l}};vn.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],u=e.lookup,s=0;s<zU&&r.size()>0;s++){var l=r.pop(),f=l.key,d=l.eles[0],v=u.hasCache(d,l.level);if(n[f]=null,v)continue;i.push(l);var p=e.getBoundingBox(d);e.getElement(d,p,t,l.level,Hs.dequeue)}return i};vn.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),u=n[i];u!=null&&(u.eles.length===1?(u.reqs=Qx,r.updateItem(u),r.pop(),n[i]=null):u.eles.unmerge(t))};vn.onDequeue=function(t){this.onDequeues.push(t)};vn.offDequeue=function(t){Lu(this.onDequeues,t)};vn.setupDequeueing=t5.setupDequeueing({deqRedrawThreshold:kU,deqCost:OU,deqAvgCost:MU,deqNoDrawCost:BU,deqFastCost:qU,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var u=0;u<r.length;u++)for(var s=r[u].eles,l=0;l<s.length;l++){var f=s[l].boundingBox();if(rE(f,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var LU=1,Ic=-4,Cv=2,PU=3.99,IU=50,UU=50,FU=.15,VU=.1,GU=.9,jU=.9,HU=1,SA=250,KU=4e3*4e3,TA=32767,YU=!0,n5=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Gi()-2*SA,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=af(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},UU),n.beforeRender(function(s,l){l-r.lastInvalidationTime<=SA?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var u=function(l,f){return f.reqs-l.reqs};r.layersQueue=new uf(u),r.setupDequeueing()},kn=n5.prototype,_A=0,$U=Math.pow(2,53)-1;kn.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),u=this.renderer.makeOffscreenCanvas(n,i),s={id:_A=++_A%$U,bb:t,level:e,width:n,height:i,canvas:u,context:u.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=s.context,f=-s.bb.x1,d=-s.bb.y1;return l.scale(r,r),l.translate(f,d),s};kn.getLayers=function(t,e,r){var n=this,i=n.renderer,u=i.cy,s=u.zoom(),l=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(eE(s*e)),r<Ic)r=Ic;else if(s>=PU||r>Cv)return null}n.validateLayersElesOrdering(r,t);var f=n.layersByLevel,d=Math.pow(2,r),v=f[r]=f[r]||[],p,g=n.levelIsComplete(r,t),m,b=function(){var P=function(J){if(n.validateLayersElesOrdering(J,t),n.levelIsComplete(J,t))return m=f[J],!0},I=function(J){if(!m)for(var j=r+J;Ic<=j&&j<=Cv&&!P(j);j+=J);};I(1),I(-1);for(var V=v.length-1;V>=0;V--){var G=v[V];G.invalid&&Lu(v,G)}};if(!g)b();else return v;var C=function(){if(!p){p=$n();for(var P=0;P<t.length;P++)H4(p,t[P].boundingBox())}return p},x=function(P){P=P||{};var I=P.after;C();var V=Math.ceil(p.w*d),G=Math.ceil(p.h*d);if(V>TA||G>TA)return null;var Z=V*G;if(Z>KU)return null;var J=n.makeLayer(p,r);if(I!=null){var j=v.indexOf(I)+1;v.splice(j,0,J)}else(P.insert===void 0||P.insert)&&v.unshift(J);return J};if(n.skipping&&!l)return null;for(var E=null,_=t.length/LU,A=!l,R=0;R<t.length;R++){var M=t[R],B=M._private.rscratch,O=B.imgLayerCaches=B.imgLayerCaches||{},N=O[r];if(N){E=N;continue}if((!E||E.eles.length>=_||!Qq(E.bb,M.boundingBox()))&&(E=x({insert:!0,after:E}),!E))return null;m||A?n.queueLayer(E,M):n.drawEleInLayer(E,M,r,e),E.eles.push(M),O[r]=E}return m||(A?null:v)};kn.getEleLevelForLayerLevel=function(t,e){return t};kn.drawEleInLayer=function(t,e,r,n){var i=this,u=this.renderer,s=t.context,l=e.boundingBox();l.w===0||l.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),u.setImgSmoothing(s,!1),u.drawCachedElement(s,e,null,null,r,YU),u.setImgSmoothing(s,!0))};kn.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,u=0;u<n.length;u++){var s=n[u];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===e.length};kn.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],u=-1,s=0;s<e.length;s++)if(i.eles[0]===e[s]){u=s;break}if(u<0){this.invalidateLayer(i);continue}for(var l=u,s=0;s<i.eles.length;s++)if(i.eles[s]!==e[l+s]){this.invalidateLayer(i);break}}};kn.updateElementsInLayers=function(t,e){for(var r=this,n=ef(t[0]),i=0;i<t.length;i++)for(var u=n?null:t[i],s=n?t[i]:t[i].ele,l=s._private.rscratch,f=l.imgLayerCaches=l.imgLayerCaches||{},d=Ic;d<=Cv;d++){var v=f[d];v&&(u&&r.getEleLevelForLayerLevel(v.level)!==u.level||e(v,s,u))}};kn.haveLayers=function(){for(var t=this,e=!1,r=Ic;r<=Cv;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};kn.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Gi(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,u){e.invalidateLayer(n)}))};kn.invalidateLayer=function(t){if(this.lastInvalidationTime=Gi(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];Lu(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var u=r[i]._private.rscratch.imgLayerCaches;u&&(u[e]=null)}}};kn.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,u){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var l=0;l<s.eles.length;l++)e.queueLayer(s,s.eles[l])})};kn.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};kn.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,u=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(u[e.id()])return;i.push(e),u[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};kn.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<HU&&r.size()!==0;){var u=r.peek();if(u.replacement){r.pop();continue}if(u.replaces&&u!==u.replaces.replacement){r.pop();continue}if(u.invalid){r.pop();continue}var s=u.elesQueue.shift();s&&(e.drawEleInLayer(u,s,u.level,t),i++),n.length===0&&n.push(!0),u.elesQueue.length===0&&(r.pop(),u.reqs=0,u.replaces&&e.applyLayerReplacement(u),e.requestRedraw())}return n};kn.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var u=0;u<t.eles.length;u++){var s=t.eles[u]._private,l=s.imgLayerCaches=s.imgLayerCaches||{};l&&(l[t.level]=t)}e.requestRedraw()}};kn.requestRedraw=af(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);kn.setupDequeueing=t5.setupDequeueing({deqRedrawThreshold:IU,deqCost:FU,deqAvgCost:VU,deqNoDrawCost:GU,deqFastCost:jU,deq:function(e,r){return e.dequeue(r)},onDeqd:Wx,shouldRedraw:Hq,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var a5={},CA;function XU(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function ZU(t,e,r){for(var n,i=0;i<e.length;i++){var u=e[i];i===0&&(n=u),t.lineTo(u.x,u.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function AA(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var u=n[i];t.lineTo(u.x,u.y)}var s=r,l=r[0];t.moveTo(l.x,l.y);for(var i=1;i<s.length;i++){var u=s[i];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function QU(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var u=e,s=u[0];t.moveTo(s.x,s.y);for(var l=0;l<u.length;l++){var f=u[l];t.lineTo(f.x,f.y)}t.closePath&&t.closePath()}function WU(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}a5.arrowShapeImpl=function(t){return(CA||(CA={polygon:XU,"triangle-backcurve":ZU,"triangle-tee":AA,"circle-triangle":QU,"triangle-cross":AA,circle:WU}))[t]};var fi={};fi.drawElement=function(t,e,r,n,i,u){var s=this;e.isNode()?s.drawNode(t,e,r,n,i,u):s.drawEdge(t,e,r,n,i,u)};fi.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};fi.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};fi.drawCachedElementPortion=function(t,e,r,n,i,u,s,l){var f=this,d=r.getBoundingBox(e);if(!(d.w===0||d.h===0)){var v=r.getElement(e,d,n,i,u);if(v!=null){var p=l(f,e);if(p===0)return;var g=s(f,e),m=d.x1,b=d.y1,C=d.w,x=d.h,E,_,A,R,M;if(g!==0){var B=r.getRotationPoint(e);A=B.x,R=B.y,t.translate(A,R),t.rotate(g),M=f.getImgSmoothing(t),M||f.setImgSmoothing(t,!0);var O=r.getRotationOffset(e);E=O.x,_=O.y}else E=m,_=b;var N;p!==1&&(N=t.globalAlpha,t.globalAlpha=N*p),t.drawImage(v.texture.canvas,v.x,0,v.width,v.height,E,_,C,x),p!==1&&(t.globalAlpha=N),g!==0&&(t.rotate(-g),t.translate(-A,-R),M||f.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var JU=function(){return 0},eF=function(e,r){return e.getTextAngle(r,null)},tF=function(e,r){return e.getTextAngle(r,"source")},rF=function(e,r){return e.getTextAngle(r,"target")},nF=function(e,r){return r.effectiveOpacity()},Vy=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};fi.drawCachedElement=function(t,e,r,n,i,u){var s=this,l=s.data,f=l.eleTxrCache,d=l.lblTxrCache,v=l.slbTxrCache,p=l.tlbTxrCache,g=e.boundingBox(),m=u===!0?f.reasons.highQuality:null;if(!(g.w===0||g.h===0||!e.visible())&&(!n||rE(g,n))){var b=e.isEdge(),C=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,f,r,i,m,JU,nF),(!b||!C)&&s.drawCachedElementPortion(t,e,d,r,i,m,eF,Vy),b&&!C&&(s.drawCachedElementPortion(t,e,v,r,i,m,tF,Vy),s.drawCachedElementPortion(t,e,p,r,i,m,rF,Vy)),s.drawElementOverlay(t,e)}};fi.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};fi.drawCachedElements=function(t,e,r,n){for(var i=this,u=0;u<e.length;u++){var s=e[u];i.drawCachedElement(t,s,r,n)}};fi.drawCachedNodes=function(t,e,r,n){for(var i=this,u=0;u<e.length;u++){var s=e[u];s.isNode()&&i.drawCachedElement(t,s,r,n)}};fi.drawLayeredElements=function(t,e,r,n){var i=this,u=i.data.lyrTxrCache.getLayers(e,r);if(u)for(var s=0;s<u.length;s++){var l=u[s],f=l.bb;f.w===0||f.h===0||t.drawImage(l.canvas,f.x1,f.y1,f.w,f.h)}else i.drawCachedElements(t,e,r,n)};var Ki={};Ki.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,l=e._private.rscratch;if(!(u&&!e.visible())&&!(l.badLine||l.allpts==null||isNaN(l.allpts[0]))){var f;r&&(f=r,t.translate(-f.x1,-f.y1));var d=u?e.pstyle("opacity").value:1,v=u?e.pstyle("line-opacity").value:1,p=e.pstyle("curve-style").value,g=e.pstyle("line-style").value,m=e.pstyle("width").pfValue,b=e.pstyle("line-cap").value,C=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,E=d*v,_=d*v,A=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;p==="straight-triangle"?(s.eleStrokeStyle(t,e,J),s.drawEdgeTrianglePath(e,t,l.allpts)):(t.lineWidth=m,t.lineCap=b,s.eleStrokeStyle(t,e,J),s.drawEdgePath(e,t,l.allpts,g),t.lineCap="butt")},R=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(t.lineWidth=m+C,t.lineCap=b,C>0)s.colorStrokeStyle(t,x[0],x[1],x[2],J);else{t.lineCap="butt";return}p==="straight-triangle"?s.drawEdgeTrianglePath(e,t,l.allpts):(s.drawEdgePath(e,t,l.allpts,g),t.lineCap="butt")},M=function(){i&&s.drawEdgeOverlay(t,e)},B=function(){i&&s.drawEdgeUnderlay(t,e)},O=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_;s.drawArrowheads(t,e,J)},N=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var L=e.pstyle("ghost").value==="yes";if(L){var P=e.pstyle("ghost-offset-x").pfValue,I=e.pstyle("ghost-offset-y").pfValue,V=e.pstyle("ghost-opacity").value,G=E*V;t.translate(P,I),A(G),O(G),t.translate(-P,-I)}else R();B(),A(),O(),M(),N(),r&&t.translate(f.x1,f.y1)}};var i5=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var u=this,s=u.usePaths(),l=n._private.rscratch,f=n.pstyle("".concat(e,"-padding")).pfValue,d=2*f,v=n.pstyle("".concat(e,"-color")).value;r.lineWidth=d,l.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",u.colorStrokeStyle(r,v[0],v[1],v[2],i),u.drawEdgePath(n,r,l.allpts,"solid")}}}};Ki.drawEdgeOverlay=i5("overlay");Ki.drawEdgeUnderlay=i5("underlay");Ki.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,u=e,s,l=!1,f=this.usePaths(),d=t.pstyle("line-dash-pattern").pfValue,v=t.pstyle("line-dash-offset").pfValue;if(f){var p=r.join("$"),g=i.pathCacheKey&&i.pathCacheKey===p;g?(s=e=i.pathCache,l=!0):(s=e=new Path2D,i.pathCacheKey=p,i.pathCache=s)}if(u.setLineDash)switch(n){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash(d),u.lineDashOffset=v;break;case"solid":u.setLineDash([]);break}if(!l&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var m=2;m+3<r.length;m+=4)e.quadraticCurveTo(r[m],r[m+1],r[m+2],r[m+3]);break;case"straight":case"haystack":for(var b=2;b+1<r.length;b+=2)e.lineTo(r[b],r[b+1]);break;case"segments":if(i.isRound){var C=sa(i.roundCorners),x;try{for(C.s();!(x=C.n()).done;){var E=x.value;Yk(e,E)}}catch(A){C.e(A)}finally{C.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var _=2;_+1<r.length;_+=2)e.lineTo(r[_],r[_+1]);break}e=u,f?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};Ki.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var u=[r[i+2]-r[i],r[i+3]-r[i+1]],s=Math.sqrt(u[0]*u[0]+u[1]*u[1]),l=[u[1]/s,-u[0]/s],f=[l[0]*n/2,l[1]*n/2];e.beginPath(),e.moveTo(r[i]-f[0],r[i+1]-f[1]),e.lineTo(r[i]+f[0],r[i+1]+f[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};Ki.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Ki.drawArrowhead=function(t,e,r,n,i,u,s){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(u)||u==null)){var l=this,f=e.pstyle(r+"-arrow-shape").value;if(f!=="none"){var d=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(r+"-arrow-fill").value,p=e.pstyle("width").pfValue,g=e.pstyle(r+"-arrow-width"),m=g.value==="match-line"?p:g.pfValue;g.units==="%"&&(m*=p);var b=e.pstyle("opacity").value;s===void 0&&(s=b);var C=t.globalCompositeOperation;(s!==1||v==="hollow")&&(t.globalCompositeOperation="destination-out",l.colorFillStyle(t,255,255,255,1),l.colorStrokeStyle(t,255,255,255,1),l.drawArrowShape(e,t,d,p,f,m,n,i,u),t.globalCompositeOperation=C);var x=e.pstyle(r+"-arrow-color").value;l.colorFillStyle(t,x[0],x[1],x[2],s),l.colorStrokeStyle(t,x[0],x[1],x[2],s),l.drawArrowShape(e,t,v,p,f,m,n,i,u)}}};Ki.drawArrowShape=function(t,e,r,n,i,u,s,l,f){var d=this,v=this.usePaths()&&i!=="triangle-cross",p=!1,g,m=e,b={x:s,y:l},C=t.pstyle("arrow-scale").value,x=this.getArrowWidth(n,C),E=d.arrowShapes[i];if(v){var _=d.arrowPathCache=d.arrowPathCache||[],A=Mo(i),R=_[A];R!=null?(g=e=R,p=!0):(g=e=new Path2D,_[A]=g)}p||(e.beginPath&&e.beginPath(),v?E.draw(e,1,0,{x:0,y:0},1):E.draw(e,x,f,b,n),e.closePath&&e.closePath()),e=m,v&&(e.translate(s,l),e.rotate(f),e.scale(x,x)),(r==="filled"||r==="both")&&(v?e.fill(g):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=u/(v?x:1),e.lineJoin="miter",v?e.stroke(g):e.stroke()),v&&(e.scale(1/x,1/x),e.rotate(-f),e.translate(-s,-l))};var gE={};gE.safeDrawImage=function(t,e,r,n,i,u,s,l,f,d){if(!(i<=0||u<=0||f<=0||d<=0))try{t.drawImage(e,r,n,i,u,s,l,f,d)}catch(v){lr(v)}};gE.drawInscribedImage=function(t,e,r,n,i){var u=this,s=r.position(),l=s.x,f=s.y,d=r.cy().style(),v=d.getIndexedStyle.bind(d),p=v(r,"background-fit","value",n),g=v(r,"background-repeat","value",n),m=r.width(),b=r.height(),C=r.padding()*2,x=m+(v(r,"background-width-relative-to","value",n)==="inner"?0:C),E=b+(v(r,"background-height-relative-to","value",n)==="inner"?0:C),_=r._private.rscratch,A=v(r,"background-clip","value",n),R=A==="node",M=v(r,"background-image-opacity","value",n)*i,B=v(r,"background-image-smoothing","value",n),O=r.pstyle("corner-radius").value;O!=="auto"&&(O=r.pstyle("corner-radius").pfValue);var N=e.width||e.cachedW,L=e.height||e.cachedH;(N==null||L==null)&&(document.body.appendChild(e),N=e.cachedW=e.width||e.offsetWidth,L=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var P=N,I=L;if(v(r,"background-width","value",n)!=="auto"&&(v(r,"background-width","units",n)==="%"?P=v(r,"background-width","pfValue",n)*x:P=v(r,"background-width","pfValue",n)),v(r,"background-height","value",n)!=="auto"&&(v(r,"background-height","units",n)==="%"?I=v(r,"background-height","pfValue",n)*E:I=v(r,"background-height","pfValue",n)),!(P===0||I===0)){if(p==="contain"){var V=Math.min(x/P,E/I);P*=V,I*=V}else if(p==="cover"){var V=Math.max(x/P,E/I);P*=V,I*=V}var G=l-x/2,Z=v(r,"background-position-x","units",n),J=v(r,"background-position-x","pfValue",n);Z==="%"?G+=(x-P)*J:G+=J;var j=v(r,"background-offset-x","units",n),Y=v(r,"background-offset-x","pfValue",n);j==="%"?G+=(x-P)*Y:G+=Y;var W=f-E/2,oe=v(r,"background-position-y","units",n),se=v(r,"background-position-y","pfValue",n);oe==="%"?W+=(E-I)*se:W+=se;var U=v(r,"background-offset-y","units",n),X=v(r,"background-offset-y","pfValue",n);U==="%"?W+=(E-I)*X:W+=X,_.pathCache&&(G-=l,W-=f,l=0,f=0);var ue=t.globalAlpha;t.globalAlpha=M;var $=u.getImgSmoothing(t),ee=!1;if(B==="no"&&$?(u.setImgSmoothing(t,!1),ee=!0):B==="yes"&&!$&&(u.setImgSmoothing(t,!0),ee=!0),g==="no-repeat")R&&(t.save(),_.pathCache?t.clip(_.pathCache):(u.nodeShapes[u.getNodeShape(r)].draw(t,l,f,x,E,O,_),t.clip())),u.safeDrawImage(t,e,0,0,N,L,G,W,P,I),R&&t.restore();else{var re=t.createPattern(e,g);t.fillStyle=re,u.nodeShapes[u.getNodeShape(r)].draw(t,l,f,x,E,O,_),t.translate(G,W),t.fill(),t.translate(-G,-W)}t.globalAlpha=ue,ee&&u.setImgSmoothing(t,$)}};var Lo={};Lo.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(eE(r*n));e=Math.pow(2,i)}var u=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(u<s)};Lo.drawElementText=function(t,e,r,n,i){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(u&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var l=e.pstyle("label");if(!l||!l.value)return;var f=s.getLabelJustification(e);t.textAlign=f,t.textBaseline="bottom"}else{var d=e.element()._private.rscratch.badLine,v=e.pstyle("label"),p=e.pstyle("source-label"),g=e.pstyle("target-label");if(d||(!v||!v.value)&&(!p||!p.value)&&(!g||!g.value))return;t.textAlign="center",t.textBaseline="bottom"}var m=!r,b;r&&(b=r,t.translate(-b.x1,-b.y1)),i==null?(s.drawText(t,e,null,m,u),e.isEdge()&&(s.drawText(t,e,"source",m,u),s.drawText(t,e,"target",m,u))):s.drawText(t,e,i,m,u),r&&t.translate(b.x1,b.y1)};Lo.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Lo.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",u=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,l=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,f=e.pstyle("text-outline-opacity").value*l,d=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+i+" "+u,t.lineJoin="round",this.colorFillStyle(t,d[0],d[1],d[2],l),this.colorStrokeStyle(t,v[0],v[1],v[2],f)};function aF(t,e,r,n,i){var u=Math.min(n,i),s=u/2,l=e+n/2,f=r+i/2;t.beginPath(),t.arc(l,f,s,0,Math.PI*2),t.closePath()}function RA(t,e,r,n,i){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=Math.min(u,n/2,i/2);t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.quadraticCurveTo(e+n,r,e+n,r+s),t.lineTo(e+n,r+i-s),t.quadraticCurveTo(e+n,r+i,e+n-s,r+i),t.lineTo(e+s,r+i),t.quadraticCurveTo(e,r+i,e,r+i-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath()}Lo.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,u=e?e+"-":"",s=t.pstyle(u+"text-rotation");if(s.strValue==="autorotate"){var l=ia(i,"labelAngle",e);r=t.isEdge()?l:0}else s.strValue==="none"?r=0:r=s.pfValue;return r};Lo.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=e._private,s=u.rscratch,l=i?e.effectiveOpacity():1;if(!(i&&(l===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var f=ia(s,"labelX",r),d=ia(s,"labelY",r),v,p,g=this.getLabelText(e,r);if(g!=null&&g!==""&&!isNaN(f)&&!isNaN(d)){this.setupTextStyle(t,e,i);var m=r?r+"-":"",b=ia(s,"labelWidth",r),C=ia(s,"labelHeight",r),x=e.pstyle(m+"text-margin-x").pfValue,E=e.pstyle(m+"text-margin-y").pfValue,_=e.isEdge(),A=e.pstyle("text-halign").value,R=e.pstyle("text-valign").value;_&&(A="center",R="center"),f+=x,d+=E;var M;switch(n?M=this.getTextAngle(e,r):M=0,M!==0&&(v=f,p=d,t.translate(v,p),t.rotate(M),f=0,d=0),R){case"top":break;case"center":d+=C/2;break;case"bottom":d+=C;break}var B=e.pstyle("text-background-opacity").value,O=e.pstyle("text-border-opacity").value,N=e.pstyle("text-border-width").pfValue,L=e.pstyle("text-background-padding").pfValue,P=e.pstyle("text-background-shape").strValue,I=P==="round-rectangle"||P==="roundrectangle",V=P==="circle",G=2;if(B>0||N>0&&O>0){var Z=t.fillStyle,J=t.strokeStyle,j=t.lineWidth,Y=e.pstyle("text-background-color").value,W=e.pstyle("text-border-color").value,oe=e.pstyle("text-border-style").value,se=B>0,U=N>0&&O>0,X=f-L;switch(A){case"left":X-=b;break;case"center":X-=b/2;break}var ue=d-C-L,$=b+2*L,ee=C+2*L;if(se&&(t.fillStyle="rgba(".concat(Y[0],",").concat(Y[1],",").concat(Y[2],",").concat(B*l,")")),U&&(t.strokeStyle="rgba(".concat(W[0],",").concat(W[1],",").concat(W[2],",").concat(O*l,")"),t.lineWidth=N,t.setLineDash))switch(oe){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=N/4,t.setLineDash([]);break;case"solid":default:t.setLineDash([]);break}if(I?(t.beginPath(),RA(t,X,ue,$,ee,G)):V?(t.beginPath(),aF(t,X,ue,$,ee)):(t.beginPath(),t.rect(X,ue,$,ee)),se&&t.fill(),U&&t.stroke(),U&&oe==="double"){var re=N/2;t.beginPath(),I?RA(t,X+re,ue+re,$-2*re,ee-2*re,G):t.rect(X+re,ue+re,$-2*re,ee-2*re),t.stroke()}t.fillStyle=Z,t.strokeStyle=J,t.lineWidth=j,t.setLineDash&&t.setLineDash([])}var de=2*e.pstyle("text-outline-width").pfValue;if(de>0&&(t.lineWidth=de),e.pstyle("text-wrap").value==="wrap"){var ke=ia(s,"labelWrapCachedLines",r),ie=ia(s,"labelLineHeight",r),he=b/2,be=this.getLabelJustification(e);switch(be==="auto"||(A==="left"?be==="left"?f+=-b:be==="center"&&(f+=-he):A==="center"?be==="left"?f+=-he:be==="right"&&(f+=he):A==="right"&&(be==="center"?f+=he:be==="right"&&(f+=b))),R){case"top":d-=(ke.length-1)*ie;break;case"center":case"bottom":d-=(ke.length-1)*ie;break}for(var ge=0;ge<ke.length;ge++)de>0&&t.strokeText(ke[ge],f,d),t.fillText(ke[ge],f,d),d+=ie}else de>0&&t.strokeText(g,f,d),t.fillText(g,f,d);M!==0&&(t.rotate(-M),t.translate(-v,-p))}}};var Ku={};Ku.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,l,f,d=e._private,v=d.rscratch,p=e.position();if(!(!et(p.x)||!et(p.y))&&!(u&&!e.visible())){var g=u?e.effectiveOpacity():1,m=s.usePaths(),b,C=!1,x=e.padding();l=e.width()+2*x,f=e.height()+2*x;var E;r&&(E=r,t.translate(-E.x1,-E.y1));for(var _=e.pstyle("background-image"),A=_.value,R=new Array(A.length),M=new Array(A.length),B=0,O=0;O<A.length;O++){var N=A[O],L=R[O]=N!=null&&N!=="none";if(L){var P=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",O);B++,M[O]=s.getCachedImage(N,P,function(){d.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var I=e.pstyle("background-blacken").value,V=e.pstyle("border-width").pfValue,G=e.pstyle("background-opacity").value*g,Z=e.pstyle("border-color").value,J=e.pstyle("border-style").value,j=e.pstyle("border-join").value,Y=e.pstyle("border-cap").value,W=e.pstyle("border-position").value,oe=e.pstyle("border-dash-pattern").pfValue,se=e.pstyle("border-dash-offset").pfValue,U=e.pstyle("border-opacity").value*g,X=e.pstyle("outline-width").pfValue,ue=e.pstyle("outline-color").value,$=e.pstyle("outline-style").value,ee=e.pstyle("outline-opacity").value*g,re=e.pstyle("outline-offset").value,de=e.pstyle("corner-radius").value;de!=="auto"&&(de=e.pstyle("corner-radius").pfValue);var ke=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G;s.eleFillStyle(t,e,at)},ie=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U;s.colorStrokeStyle(t,Z[0],Z[1],Z[2],at)},he=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ee;s.colorStrokeStyle(t,ue[0],ue[1],ue[2],at)},be=function(at,Ne,K,we){var Oe=s.nodePathCache=s.nodePathCache||[],pe=jq(K==="polygon"?K+","+we.join(","):K,""+Ne,""+at,""+de),Pe=Oe[pe],nt,Ge=!1;return Pe!=null?(nt=Pe,Ge=!0,v.pathCache=nt):(nt=new Path2D,Oe[pe]=v.pathCache=nt),{path:nt,cacheHit:Ge}},ge=e.pstyle("shape").strValue,Me=e.pstyle("shape-polygon-points").pfValue;if(m){t.translate(p.x,p.y);var je=be(l,f,ge,Me);b=je.path,C=je.cacheHit}var He=function(){if(!C){var at=p;m&&(at={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(b||t,at.x,at.y,l,f,de,v)}m?t.fill(b):t.fill()},Ct=function(){for(var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,K=d.backgrounding,we=0,Oe=0;Oe<M.length;Oe++){var pe=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Oe);if(Ne&&pe==="over"||!Ne&&pe==="inside"){we++;continue}R[Oe]&&M[Oe].complete&&!M[Oe].error&&(we++,s.drawInscribedImage(t,M[Oe],e,Oe,at))}d.backgrounding=we!==B,K!==d.backgrounding&&e.updateStyle(!1)},Ze=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;s.hasPie(e)&&(s.drawPie(t,e,Ne),at&&(m||s.nodeShapes[s.getNodeShape(e)].draw(t,p.x,p.y,l,f,de,v)))},vt=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;s.hasStripe(e)&&(t.save(),m?t.clip(v.pathCache):(s.nodeShapes[s.getNodeShape(e)].draw(t,p.x,p.y,l,f,de,v),t.clip()),s.drawStripe(t,e,Ne),t.restore(),at&&(m||s.nodeShapes[s.getNodeShape(e)].draw(t,p.x,p.y,l,f,de,v)))},ct=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,Ne=(I>0?I:-I)*at,K=I>0?0:255;I!==0&&(s.colorFillStyle(t,K,K,K,Ne),m?t.fill(b):t.fill())},Qe=function(){if(V>0){if(t.lineWidth=V,t.lineCap=Y,t.lineJoin=j,t.setLineDash)switch(J){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(oe),t.lineDashOffset=se;break;case"solid":case"double":t.setLineDash([]);break}if(W!=="center"){if(t.save(),t.lineWidth*=2,W==="inside")m?t.clip(b):t.clip();else{var at=new Path2D;at.rect(-l/2-V,-f/2-V,l+2*V,f+2*V),at.addPath(b),t.clip(at,"evenodd")}m?t.stroke(b):t.stroke(),t.restore()}else m?t.stroke(b):t.stroke();if(J==="double"){t.lineWidth=V/3;var Ne=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(b):t.stroke(),t.globalCompositeOperation=Ne}t.setLineDash&&t.setLineDash([])}},tt=function(){if(X>0){if(t.lineWidth=X,t.lineCap="butt",t.setLineDash)switch($){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var at=p;m&&(at={x:0,y:0});var Ne=s.getNodeShape(e),K=V;W==="inside"&&(K=0),W==="outside"&&(K*=2);var we=(l+K+(X+re))/l,Oe=(f+K+(X+re))/f,pe=l*we,Pe=f*Oe,nt=s.nodeShapes[Ne].points,Ge;if(m){var qe=be(pe,Pe,Ne,nt);Ge=qe.path}if(Ne==="ellipse")s.drawEllipsePath(Ge||t,at.x,at.y,pe,Pe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Ne)){var it=0,pt=0,_t=0;Ne==="round-diamond"?it=(K+re+X)*1.4:Ne==="round-heptagon"?(it=(K+re+X)*1.075,_t=-(K/2+re+X)/35):Ne==="round-hexagon"?it=(K+re+X)*1.12:Ne==="round-pentagon"?(it=(K+re+X)*1.13,_t=-(K/2+re+X)/15):Ne==="round-tag"?(it=(K+re+X)*1.12,pt=(K/2+X+re)*.07):Ne==="round-triangle"&&(it=(K+re+X)*(Math.PI/2),_t=-(K+re/2+X)/Math.PI),it!==0&&(we=(l+it)/l,pe=l*we,["round-hexagon","round-tag"].includes(Ne)||(Oe=(f+it)/f,Pe=f*Oe)),de=de==="auto"?ek(pe,Pe):de;for(var At=pe/2,lt=Pe/2,It=de+(K+X+re)/2,zt=new Array(nt.length/2),ir=new Array(nt.length/2),$t=0;$t<nt.length/2;$t++)zt[$t]={x:at.x+pt+At*nt[$t*2],y:at.y+_t+lt*nt[$t*2+1]};var jr,dr,Bt,Ut,zr=zt.length;for(dr=zt[zr-1],jr=0;jr<zr;jr++)Bt=zt[jr%zr],Ut=zt[(jr+1)%zr],ir[jr]=hE(dr,Bt,Ut,It),dr=Bt,Bt=Ut;s.drawRoundPolygonPath(Ge||t,at.x+pt,at.y+_t,l*we,f*Oe,nt,ir)}else if(["roundrectangle","round-rectangle"].includes(Ne))de=de==="auto"?Pu(pe,Pe):de,s.drawRoundRectanglePath(Ge||t,at.x,at.y,pe,Pe,de+(K+X+re)/2);else if(["cutrectangle","cut-rectangle"].includes(Ne))de=de==="auto"?nE():de,s.drawCutRectanglePath(Ge||t,at.x,at.y,pe,Pe,null,de+(K+X+re)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Ne))de=de==="auto"?Pu(pe,Pe):de,s.drawBottomRoundRectanglePath(Ge||t,at.x,at.y,pe,Pe,de+(K+X+re)/2);else if(Ne==="barrel")s.drawBarrelPath(Ge||t,at.x,at.y,pe,Pe);else if(Ne.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Ne)){var Tn=(K+X+re)/l;nt=bv(wv(nt,Tn)),s.drawPolygonPath(Ge||t,at.x,at.y,l,f,nt)}else{var vr=(K+X+re)/l;nt=bv(wv(nt,-vr)),s.drawPolygonPath(Ge||t,at.x,at.y,l,f,nt)}if(m?t.stroke(Ge):t.stroke(),$==="double"){t.lineWidth=K/3;var _n=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(Ge):t.stroke(),t.globalCompositeOperation=_n}t.setLineDash&&t.setLineDash([])}},ot=function(){i&&s.drawNodeOverlay(t,e,p,l,f)},st=function(){i&&s.drawNodeUnderlay(t,e,p,l,f)},rt=function(){s.drawElementText(t,e,null,n)},xt=e.pstyle("ghost").value==="yes";if(xt){var Dt=e.pstyle("ghost-offset-x").pfValue,qt=e.pstyle("ghost-offset-y").pfValue,Mt=e.pstyle("ghost-opacity").value,Pt=Mt*g;t.translate(Dt,qt),he(),tt(),ke(Mt*G),He(),Ct(Pt,!0),ie(Mt*U),Qe(),Ze(I!==0||V!==0),vt(I!==0||V!==0),Ct(Pt,!1),ct(Pt),t.translate(-Dt,-qt)}m&&t.translate(-p.x,-p.y),st(),m&&t.translate(p.x,p.y),he(),tt(),ke(),He(),Ct(g,!0),ie(),Qe(),Ze(I!==0||V!==0),vt(I!==0||V!==0),Ct(g,!1),ct(),m&&t.translate(-p.x,-p.y),rt(),ot(),r&&t.translate(E.x1,E.y1)}};var u5=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,u,s){var l=this;if(n.visible()){var f=n.pstyle("".concat(e,"-padding")).pfValue,d=n.pstyle("".concat(e,"-opacity")).value,v=n.pstyle("".concat(e,"-color")).value,p=n.pstyle("".concat(e,"-shape")).value,g=n.pstyle("".concat(e,"-corner-radius")).value;if(d>0){if(i=i||n.position(),u==null||s==null){var m=n.padding();u=n.width()+2*m,s=n.height()+2*m}l.colorFillStyle(r,v[0],v[1],v[2],d),l.nodeShapes[p].draw(r,i.x,i.y,u+f*2,s+f*2,g),r.fill()}}}};Ku.drawNodeOverlay=u5("overlay");Ku.drawNodeUnderlay=u5("underlay");Ku.hasPie=function(t){return t=t[0],t._private.hasPie};Ku.hasStripe=function(t){return t=t[0],t._private.hasStripe};Ku.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),u=e.pstyle("pie-size"),s=e.pstyle("pie-hole"),l=e.pstyle("pie-start-angle").pfValue,f=n.x,d=n.y,v=e.width(),p=e.height(),g=Math.min(v,p)/2,m,b=0,C=this.usePaths();if(C&&(f=0,d=0),u.units==="%"?g=g*u.pfValue:u.pfValue!==void 0&&(g=u.pfValue/2),s.units==="%"?m=g*s.pfValue:s.pfValue!==void 0&&(m=s.pfValue/2),!(m>=g))for(var x=1;x<=i.pieBackgroundN;x++){var E=e.pstyle("pie-"+x+"-background-size").value,_=e.pstyle("pie-"+x+"-background-color").value,A=e.pstyle("pie-"+x+"-background-opacity").value*r,R=E/100;R+b>1&&(R=1-b);var M=1.5*Math.PI+2*Math.PI*b;M+=l;var B=2*Math.PI*R,O=M+B;E===0||b>=1||b+R>1||(m===0?(t.beginPath(),t.moveTo(f,d),t.arc(f,d,g,M,O),t.closePath()):(t.beginPath(),t.arc(f,d,g,M,O),t.arc(f,d,m,O,M,!0),t.closePath()),this.colorFillStyle(t,_[0],_[1],_[2],A),t.fill(),b+=R)}};Ku.drawStripe=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),u=n.x,s=n.y,l=e.width(),f=e.height(),d=0,v=this.usePaths();t.save();var p=e.pstyle("stripe-direction").value,g=e.pstyle("stripe-size");switch(p){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var m=l,b=f;g.units==="%"?(m=m*g.pfValue,b=b*g.pfValue):g.pfValue!==void 0&&(m=g.pfValue,b=g.pfValue),v&&(u=0,s=0),s-=m/2,u-=b/2;for(var C=1;C<=i.stripeBackgroundN;C++){var x=e.pstyle("stripe-"+C+"-background-size").value,E=e.pstyle("stripe-"+C+"-background-color").value,_=e.pstyle("stripe-"+C+"-background-opacity").value*r,A=x/100;A+d>1&&(A=1-d),!(x===0||d>=1||d+A>1)&&(t.beginPath(),t.rect(u,s+b*d,m,b*A),t.closePath(),this.colorFillStyle(t,E[0],E[1],E[2],_),t.fill(),d+=A)}t.restore()};var Xn={},iF=100;Xn.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Xn.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Xn.createGradientStyleFor=function(t,e,r,n,i){var u,s=this.usePaths(),l=r.pstyle(e+"-gradient-stop-colors").value,f=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var d=r.sourceEndpoint(),v=r.targetEndpoint(),p=r.midpoint(),g=Bo(d,p),m=Bo(v,p);u=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,m))}else{var b=s?{x:0,y:0}:r.position(),C=r.paddedWidth(),x=r.paddedHeight();u=t.createRadialGradient(b.x,b.y,0,b.x,b.y,Math.max(C,x))}else if(r.isEdge()){var E=r.sourceEndpoint(),_=r.targetEndpoint();u=t.createLinearGradient(E.x,E.y,_.x,_.y)}else{var A=s?{x:0,y:0}:r.position(),R=r.paddedWidth(),M=r.paddedHeight(),B=R/2,O=M/2,N=r.pstyle("background-gradient-direction").value;switch(N){case"to-bottom":u=t.createLinearGradient(A.x,A.y-O,A.x,A.y+O);break;case"to-top":u=t.createLinearGradient(A.x,A.y+O,A.x,A.y-O);break;case"to-left":u=t.createLinearGradient(A.x+B,A.y,A.x-B,A.y);break;case"to-right":u=t.createLinearGradient(A.x-B,A.y,A.x+B,A.y);break;case"to-bottom-right":case"to-right-bottom":u=t.createLinearGradient(A.x-B,A.y-O,A.x+B,A.y+O);break;case"to-top-right":case"to-right-top":u=t.createLinearGradient(A.x-B,A.y+O,A.x+B,A.y-O);break;case"to-bottom-left":case"to-left-bottom":u=t.createLinearGradient(A.x+B,A.y-O,A.x-B,A.y+O);break;case"to-top-left":case"to-left-top":u=t.createLinearGradient(A.x+B,A.y+O,A.x-B,A.y-O);break}}if(!u)return null;for(var L=f.length===l.length,P=l.length,I=0;I<P;I++)u.addColorStop(L?f[I]:I/(P-1),"rgba("+l[I][0]+","+l[I][1]+","+l[I][2]+","+i+")");return u};Xn.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};Xn.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};Xn.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};Xn.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};Xn.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};Xn.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};Xn.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],u=n[3],s=e.getPixelRatio(),l=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=l);var f=i*s,d=u*s,v;if(!(f===e.canvasWidth&&d===e.canvasHeight)){e.fontCaches=null;var p=r.canvasContainer;p.style.width=i+"px",p.style.height=u+"px";for(var g=0;g<e.CANVAS_LAYERS;g++)v=r.canvases[g],v.width=f,v.height=d,v.style.width=i+"px",v.style.height=u+"px";for(var g=0;g<e.BUFFER_COUNT;g++)v=r.bufferCanvases[g],v.width=f,v.height=d,v.style.width=i+"px",v.style.height=u+"px";e.textureMult=1,s<=1&&(v=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=f*e.textureMult,v.height=d*e.textureMult),e.canvasWidth=f,e.canvasHeight=d,e.pixelRatio=s}};Xn.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Xn.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};Xn.render=function(t){var e=this;t=t||$q();var r=e.cy,n=t.forcedContext,i=t.drawAllLayers,u=t.drawOnlyNodeLayer,s=t.forcedZoom,l=t.forcedPan,f=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,d=e.data,v=d.canvasNeedsRedraw,p=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),g=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,m=e.motionBlurPxRatio,b=r.hasCompoundNodes(),C=e.hoverData.draggingEles,x=!!(e.hoverData.selecting||e.touchData.selecting);g=g&&!n&&e.motionBlurEnabled&&!x;var E=g;n||(e.prevPxRatio!==f&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=f),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),g&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(E=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!p&&(v[e.NODE]=!0,v[e.SELECT_BOX]=!0);var _=r.style(),A=r.zoom(),R=s!==void 0?s:A,M=r.pan(),B={x:M.x,y:M.y},O={zoom:A,pan:{x:M.x,y:M.y}},N=e.prevViewport,L=N===void 0||O.zoom!==N.zoom||O.pan.x!==N.pan.x||O.pan.y!==N.pan.y;!L&&!(C&&!b)&&(e.motionBlurPxRatio=1),l&&(B=l),R*=f,B.x*=f,B.y*=f;var P=e.getCachedZSortedEles();function I(ie,he,be,ge,Me){var je=ie.globalCompositeOperation;ie.globalCompositeOperation="destination-out",e.colorFillStyle(ie,255,255,255,e.motionBlurTransparency),ie.fillRect(he,be,ge,Me),ie.globalCompositeOperation=je}function V(ie,he){var be,ge,Me,je;!e.clearingMotionBlur&&(ie===d.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ie===d.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(be={x:M.x*m,y:M.y*m},ge=A*m,Me=e.canvasWidth*m,je=e.canvasHeight*m):(be=B,ge=R,Me=e.canvasWidth,je=e.canvasHeight),ie.setTransform(1,0,0,1,0,0),he==="motionBlur"?I(ie,0,0,Me,je):!n&&(he===void 0||he)&&ie.clearRect(0,0,Me,je),i||(ie.translate(be.x,be.y),ie.scale(ge,ge)),l&&ie.translate(l.x,l.y),s&&ie.scale(s,s)}if(p||(e.textureDrawLastFrame=!1),p){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var G=e.data.bufferContexts[e.TEXTURE_BUFFER];G.setTransform(1,0,0,1,0,0),G.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:G,drawOnlyNodeLayer:!0,forcedPxRatio:f*e.textureMult});var O=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};O.mpan={x:(0-O.pan.x)/O.zoom,y:(0-O.pan.y)/O.zoom}}v[e.DRAG]=!1,v[e.NODE]=!1;var Z=d.contexts[e.NODE],J=e.textureCache.texture,O=e.textureCache.viewport;Z.setTransform(1,0,0,1,0,0),g?I(Z,0,0,O.width,O.height):Z.clearRect(0,0,O.width,O.height);var j=_.core("outside-texture-bg-color").value,Y=_.core("outside-texture-bg-opacity").value;e.colorFillStyle(Z,j[0],j[1],j[2],Y),Z.fillRect(0,0,O.width,O.height);var A=r.zoom();V(Z,!1),Z.clearRect(O.mpan.x,O.mpan.y,O.width/O.zoom/f,O.height/O.zoom/f),Z.drawImage(J,O.mpan.x,O.mpan.y,O.width/O.zoom/f,O.height/O.zoom/f)}else e.textureOnViewport&&!n&&(e.textureCache=null);var W=r.extent(),oe=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),se=e.hideEdgesOnViewport&&oe,U=[];if(U[e.NODE]=!v[e.NODE]&&g&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,U[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),U[e.DRAG]=!v[e.DRAG]&&g&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,U[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),v[e.NODE]||i||u||U[e.NODE]){var X=g&&!U[e.NODE]&&m!==1,Z=n||(X?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:d.contexts[e.NODE]),ue=g&&!X?"motionBlur":void 0;V(Z,ue),se?e.drawCachedNodes(Z,P.nondrag,f,W):e.drawLayeredElements(Z,P.nondrag,f,W),e.debug&&e.drawDebugPoints(Z,P.nondrag),!i&&!g&&(v[e.NODE]=!1)}if(!u&&(v[e.DRAG]||i||U[e.DRAG])){var X=g&&!U[e.DRAG]&&m!==1,Z=n||(X?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:d.contexts[e.DRAG]);V(Z,g&&!X?"motionBlur":void 0),se?e.drawCachedNodes(Z,P.drag,f,W):e.drawCachedElements(Z,P.drag,f,W),e.debug&&e.drawDebugPoints(Z,P.drag),!i&&!g&&(v[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,V),g&&m!==1){var $=d.contexts[e.NODE],ee=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],re=d.contexts[e.DRAG],de=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],ke=function(he,be,ge){he.setTransform(1,0,0,1,0,0),ge||!E?he.clearRect(0,0,e.canvasWidth,e.canvasHeight):I(he,0,0,e.canvasWidth,e.canvasHeight);var Me=m;he.drawImage(be,0,0,e.canvasWidth*Me,e.canvasHeight*Me,0,0,e.canvasWidth,e.canvasHeight)};(v[e.NODE]||U[e.NODE])&&(ke($,ee,U[e.NODE]),v[e.NODE]=!1),(v[e.DRAG]||U[e.DRAG])&&(ke(re,de,U[e.DRAG]),v[e.DRAG]=!1)}e.prevViewport=O,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),g&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!p,e.mbFrames=0,v[e.NODE]=!0,v[e.DRAG]=!0,e.redraw()},iF)),n||r.emit("render")};var xc;Xn.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,i=r.data,u=n.style(),s=t.drawOnlyNodeLayer,l=t.drawAllLayers,f=i.canvasNeedsRedraw,d=t.forcedContext;if(r.showFps||!s&&f[r.SELECT_BOX]&&!l){var v=d||i.contexts[r.SELECT_BOX];if(e(v),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var p=r.cy.zoom(),g=u.core("selection-box-border-width").value/p;v.lineWidth=g,v.fillStyle="rgba("+u.core("selection-box-color").value[0]+","+u.core("selection-box-color").value[1]+","+u.core("selection-box-color").value[2]+","+u.core("selection-box-opacity").value+")",v.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),g>0&&(v.strokeStyle="rgba("+u.core("selection-box-border-color").value[0]+","+u.core("selection-box-border-color").value[1]+","+u.core("selection-box-border-color").value[2]+","+u.core("selection-box-opacity").value+")",v.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){var p=r.cy.zoom(),m=i.bgActivePosistion;v.fillStyle="rgba("+u.core("active-bg-color").value[0]+","+u.core("active-bg-color").value[1]+","+u.core("active-bg-color").value[2]+","+u.core("active-bg-opacity").value+")",v.beginPath(),v.arc(m.x,m.y,u.core("active-bg-size").pfValue/p,0,2*Math.PI),v.fill()}var b=r.lastRedrawTime;if(r.showFps&&b){b=Math.round(b);var C=Math.round(1e3/b),x="1 frame = "+b+" ms = "+C+" fps";if(v.setTransform(1,0,0,1,0,0),v.fillStyle="rgba(255, 0, 0, 0.75)",v.strokeStyle="rgba(255, 0, 0, 0.75)",v.font="30px Arial",!xc){var E=v.measureText(x);xc=E.actualBoundingBoxAscent}v.fillText(x,0,xc);var _=60;v.strokeRect(0,xc+10,250,20),v.fillRect(0,xc+10,250*Math.min(C/_,1),20)}l||(f[r.SELECT_BOX]=!1)}};function DA(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function uF(t,e,r){var n=DA(t,t.VERTEX_SHADER,e),i=DA(t,t.FRAGMENT_SHADER,r),u=t.createProgram();if(t.attachShader(u,n),t.attachShader(u,i),t.linkProgram(u),!t.getProgramParameter(u,t.LINK_STATUS))throw new Error("Could not initialize shaders");return u}function oF(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function yE(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function sF(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function lF(t,e,r,n,i){var u=n*r+e.x,s=i*r+e.y;return s=Math.round(t.canvasHeight-s),[u,s]}function cF(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function fF(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Eo(t,e,r){var n=t[0]/255,i=t[1]/255,u=t[2]/255,s=e,l=r||new Array(4);return l[0]=n*s,l[1]=i*s,l[2]=u*s,l[3]=s,l}function Ps(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function dF(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function vF(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function o5(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function s5(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function hF(t,e,r,n,i,u){switch(e){case t.FLOAT:return new Float32Array(r.buffer,u*n,i);case t.INT:return new Int32Array(r.buffer,u*n,i)}}function pF(t,e,r,n){var i=o5(t,e),u=un(i,2),s=u[0],l=u[1],f=s5(t,l,n),d=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,f,t.STATIC_DRAW),l===t.FLOAT?t.vertexAttribPointer(r,s,l,!1,0,0):l===t.INT&&t.vertexAttribIPointer(r,s,l,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),d}function ii(t,e,r,n){var i=o5(t,r),u=un(i,3),s=u[0],l=u[1],f=u[2],d=s5(t,l,e*s),v=s*f,p=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,p),t.bufferData(t.ARRAY_BUFFER,e*v,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),l===t.FLOAT?t.vertexAttribPointer(n,s,l,!1,v,0):l===t.INT&&t.vertexAttribIPointer(n,s,l,v,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var g=new Array(e),m=0;m<e;m++)g[m]=hF(t,l,d,v,s,m);return p.dataArray=d,p.stride=v,p.size=s,p.getView=function(b){return g[b]},p.setPoint=function(b,C,x){var E=g[b];E[0]=C,E[1]=x},p.bufferSubData=function(b){t.bindBuffer(t.ARRAY_BUFFER,p),b?t.bufferSubData(t.ARRAY_BUFFER,0,d,0,b*s):t.bufferSubData(t.ARRAY_BUFFER,0,d)},p}function gF(t,e,r){for(var n=9,i=new Float32Array(e*n),u=new Array(e),s=0;s<e;s++){var l=s*n*4;u[s]=new Float32Array(i.buffer,l,n)}var f=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,i.byteLength,t.DYNAMIC_DRAW);for(var d=0;d<3;d++){var v=r+d;t.enableVertexAttribArray(v),t.vertexAttribPointer(v,3,t.FLOAT,!1,36,d*12),t.vertexAttribDivisor(v,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),f.getMatrixView=function(p){return u[p]},f.setData=function(p,g){u[g].set(p,0)},f.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferSubData(t.ARRAY_BUFFER,0,i)},f}function yF(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,i){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,i,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var OA=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Gy(){var t=new OA(9);return OA!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function MA(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function mF(t,e,r){var n=e[0],i=e[1],u=e[2],s=e[3],l=e[4],f=e[5],d=e[6],v=e[7],p=e[8],g=r[0],m=r[1],b=r[2],C=r[3],x=r[4],E=r[5],_=r[6],A=r[7],R=r[8];return t[0]=g*n+m*s+b*d,t[1]=g*i+m*l+b*v,t[2]=g*u+m*f+b*p,t[3]=C*n+x*s+E*d,t[4]=C*i+x*l+E*v,t[5]=C*u+x*f+E*p,t[6]=_*n+A*s+R*d,t[7]=_*i+A*l+R*v,t[8]=_*u+A*f+R*p,t}function sv(t,e,r){var n=e[0],i=e[1],u=e[2],s=e[3],l=e[4],f=e[5],d=e[6],v=e[7],p=e[8],g=r[0],m=r[1];return t[0]=n,t[1]=i,t[2]=u,t[3]=s,t[4]=l,t[5]=f,t[6]=g*n+m*s+d,t[7]=g*i+m*l+v,t[8]=g*u+m*f+p,t}function BA(t,e,r){var n=e[0],i=e[1],u=e[2],s=e[3],l=e[4],f=e[5],d=e[6],v=e[7],p=e[8],g=Math.sin(r),m=Math.cos(r);return t[0]=m*n+g*s,t[1]=m*i+g*l,t[2]=m*u+g*f,t[3]=m*s-g*n,t[4]=m*l-g*i,t[5]=m*f-g*u,t[6]=d,t[7]=v,t[8]=p,t}function Lx(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function bF(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var wF=(function(){function t(e,r,n,i){Gu(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(e,r,r),this.scratch=i(e,r,this.texHeight,"scratch")}return ju(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,i=r.h,u=this.texHeight,s=this.texSize,l=u/i,f=n*l,d=i*l;return f>s&&(l=s/n,f=n*l,d=i*l),{scale:l,texW:f,texH:d}}},{key:"draw",value:function(r,n,i){var u=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,l=this.texRows,f=this.texHeight,d=this.getScale(n),v=d.scale,p=d.texW,g=d.texH,m=function(A,R){if(i&&R){var M=R.context,B=A.x,O=A.row,N=B,L=f*O;M.save(),M.translate(N,L),M.scale(v,v),i(M,n),M.restore()}},b=[null,null],C=function(){m(u.freePointer,u.canvas),b[0]={x:u.freePointer.x,y:u.freePointer.row*f,w:p,h:g},b[1]={x:u.freePointer.x+p,y:u.freePointer.row*f,w:0,h:g},u.freePointer.x+=p,u.freePointer.x==s&&(u.freePointer.x=0,u.freePointer.row++)},x=function(){var A=u.scratch,R=u.canvas;A.clear(),m({x:0,row:0},A);var M=s-u.freePointer.x,B=p-M,O=f;{var N=u.freePointer.x,L=u.freePointer.row*f,P=M;R.context.drawImage(A,0,0,P,O,N,L,P,O),b[0]={x:N,y:L,w:P,h:g}}{var I=M,V=(u.freePointer.row+1)*f,G=B;R&&R.context.drawImage(A,I,0,G,O,0,V,G,O),b[1]={x:0,y:V,w:G,h:g}}u.freePointer.x=B,u.freePointer.row++},E=function(){u.freePointer.x=0,u.freePointer.row++};if(this.freePointer.x+p<=s)C();else{if(this.freePointer.row>=l-1)return!1;this.freePointer.x===s?(E(),C()):this.enableWrapping?x():(E(),C())}return this.keyToLocation.set(r,b),this.needsBuffer=!0,b}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,i=this.texRows,u=this.getScale(r),s=u.texW;return this.freePointer.x+s>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=vF(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),xF=(function(){function t(e,r,n,i){Gu(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return ju(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,i=this.texRows,u=this.createTextureCanvas;return new wF(r,n,i,u)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,i=this.texRows,u=this.createTextureCanvas,s=Math.floor(n/i);this.scratch=u(r,n,s,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,i){var u=this.styleKeyToAtlas.get(r);return u||(u=this.atlases[this.atlases.length-1],(!u||!u.canFit(n))&&(u&&u.lock(),u=this._createAtlas(),this.atlases.push(u)),u.draw(r,n,i),this.styleKeyToAtlas.set(r,u)),u}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var i=[],u=new Map,s=null,l=sa(this.atlases),f;try{var d=function(){var p=f.value,g=p.getKeys(),m=EF(n,g);if(m.size===0)return i.push(p),g.forEach(function(M){return u.set(M,p)}),1;s||(s=r._createAtlas(),i.push(s));var b=sa(g),C;try{for(b.s();!(C=b.n()).done;){var x=C.value;if(!m.has(x)){var E=p.getOffsets(x),_=un(E,2),A=_[0],R=_[1];s.canFit({w:A.w+R.w,h:A.h})||(s.lock(),s=r._createAtlas(),i.push(s)),p.canvas&&(r._copyTextureToNewAtlas(x,p,s),u.set(x,s))}}}catch(M){b.e(M)}finally{b.f()}p.dispose()};for(l.s();!(f=l.n()).done;)d()}catch(v){l.e(v)}finally{l.f()}this.atlases=i,this.styleKeyToAtlas=u,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,i){var u=n.getOffsets(r),s=un(u,2),l=s[0],f=s[1];if(f.w===0)i.draw(r,l,function(g){g.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h)});else{var d=this._getScratchCanvas();d.clear(),d.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h),d.context.drawImage(n.canvas,f.x,f.y,f.w,f.h,l.w,0,f.w,f.h);var v=l.w+f.w,p=l.h;i.draw(r,{w:v,h:p},function(g){g.drawImage(d,0,0,v,p,0,0,v,p)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function EF(t,e){return t.intersection?t.intersection(e):new Set(pv(t).filter(function(r){return e.has(r)}))}var SF=(function(){function t(e,r){Gu(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return ju(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var i=this.globalOptions,u=i.webglTexSize,s=i.createTextureCanvas,l=n.texRows,f=this._cacheScratchCanvas(s),d=new xF(this.r,u,l,f);this.collections.set(r,d)}},{key:"addRenderType",value:function(r,n){var i=n.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var u=this.collections.get(i),s=St({type:r,atlasCollection:u},n);this.renderTypes.set(r,s)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,i=-1,u=null;return function(s,l,f,d){return d?((!u||l!=n||f!=i)&&(n=l,i=f,u=r(s,l,f)),u):r(s,l,f)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=i.forceRedraw,s=u===void 0?!1:u,l=i.filterEle,f=l===void 0?function(){return!0}:l,d=i.filterType,v=d===void 0?function(){return!0}:d,p=!1,g=!1,m=sa(r),b;try{for(m.s();!(b=m.n()).done;){var C=b.value;if(f(C)){var x=sa(this.renderTypes.values()),E;try{var _=function(){var R=E.value,M=R.type;if(v(M)){var B=n.collections.get(R.collection),O=R.getKey(C),N=Array.isArray(O)?O:[O];if(s)N.forEach(function(V){return B.markKeyForGC(V)}),g=!0;else{var L=R.getID?R.getID(C):C.id(),P=n._key(M,L),I=n.typeAndIdToKey.get(P);I!==void 0&&!fF(N,I)&&(p=!0,n.typeAndIdToKey.delete(P),I.forEach(function(V){return B.markKeyForGC(V)}))}}};for(x.s();!(E=x.n()).done;)_()}catch(A){x.e(A)}finally{x.f()}}}}catch(A){m.e(A)}finally{m.f()}return g&&(this.gc(),p=!1),p}},{key:"gc",value:function(){var r=sa(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.gc()}}catch(u){r.e(u)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,i,u){var s=this.renderTypes.get(n),l=this.collections.get(s.collection),f=!1,d=l.draw(u,i,function(g){s.drawClipped?(g.save(),g.beginPath(),g.rect(0,0,i.w,i.h),g.clip(),s.drawElement(g,r,i,!0,!0),g.restore()):s.drawElement(g,r,i,!0,!0),f=!0});if(f){var v=s.getID?s.getID(r):r.id(),p=this._key(n,v);this.typeAndIdToKey.has(p)?this.typeAndIdToKey.get(p).push(u):this.typeAndIdToKey.set(p,[u])}return d}},{key:"getAtlasInfo",value:function(r,n){var i=this,u=this.renderTypes.get(n),s=u.getKey(r),l=Array.isArray(s)?s:[s];return l.map(function(f){var d=u.getBoundingBox(r,f),v=i.getOrCreateAtlas(r,n,d,f),p=v.getOffsets(f),g=un(p,2),m=g[0],b=g[1];return{atlas:v,tex:m,tex1:m,tex2:b,bb:d}})}},{key:"getDebugInfo",value:function(){var r=[],n=sa(this.collections),i;try{for(n.s();!(i=n.n()).done;){var u=un(i.value,2),s=u[0],l=u[1],f=l.getCounts(),d=f.keyCount,v=f.atlasCount;r.push({type:s,keyCount:d,atlasCount:v})}}catch(p){n.e(p)}finally{n.f()}return r}}])})(),TF=(function(){function t(e){Gu(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return ju(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])})(),_F=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,CF=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,AF=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,RF=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,Uc={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Av={IGNORE:1,USE_BB:2},jy=0,qA=1,kA=2,Hy=3,Is=4,Vd=5,Ec=6,Sc=7,DF=(function(){function t(e,r,n){Gu(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=oF,this.atlasManager=new SF(e,n),this.batchManager=new TF(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Uc.SCREEN),this.pickingProgram=this._createShaderProgram(Uc.PICKING),this.vao=this._createVAO()}return ju(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,u=this.atlasManager;return i?u.invalidate(r,{filterType:function(l){return l===i},forceRedraw:!0}):u.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(jy,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Is," || aVertType == ").concat(Sc,` 
             || aVertType == `).concat(Vd," || aVertType == ").concat(Ec,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(qA,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(kA,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Hy,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),u=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(u.map(function(d){return"uniform sampler2D uTexture".concat(d,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(_F,`
      `).concat(CF,`
      `).concat(AF,`
      `).concat(RF,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(jy,`) {
          // look up the texel from the texture unit
          `).concat(u.map(function(d){return"if(vAtlasId == ".concat(d,") outColor = texture(uTexture").concat(d,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Hy,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(Is,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(Is," || vVertType == ").concat(Sc,` 
          || vVertType == `).concat(Vd," || vVertType == ").concat(Ec,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(Is,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Sc,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Sc,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),l=uF(n,i,s);l.aPosition=n.getAttribLocation(l,"aPosition"),l.aIndex=n.getAttribLocation(l,"aIndex"),l.aVertType=n.getAttribLocation(l,"aVertType"),l.aTransform=n.getAttribLocation(l,"aTransform"),l.aAtlasId=n.getAttribLocation(l,"aAtlasId"),l.aTex=n.getAttribLocation(l,"aTex"),l.aPointAPointB=n.getAttribLocation(l,"aPointAPointB"),l.aPointCPointD=n.getAttribLocation(l,"aPointCPointD"),l.aLineWidth=n.getAttribLocation(l,"aLineWidth"),l.aColor=n.getAttribLocation(l,"aColor"),l.aCornerRadius=n.getAttribLocation(l,"aCornerRadius"),l.aBorderColor=n.getAttribLocation(l,"aBorderColor"),l.uPanZoomMatrix=n.getUniformLocation(l,"uPanZoomMatrix"),l.uAtlasSize=n.getUniformLocation(l,"uAtlasSize"),l.uBGColor=n.getUniformLocation(l,"uBGColor"),l.uZoom=n.getUniformLocation(l,"uZoom"),l.uTextures=[];for(var f=0;f<this.batchManager.getMaxAtlasesPerBatch();f++)l.uTextures.push(n.getUniformLocation(l,"uTexture".concat(f)));return l}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,i=this.gl,u=this.program,s=i.createVertexArray();return i.bindVertexArray(s),pF(i,"vec2",u.aPosition,r),this.transformBuffer=gF(i,n,u.aTransform),this.indexBuffer=ii(i,n,"vec4",u.aIndex),this.vertTypeBuffer=ii(i,n,"int",u.aVertType),this.atlasIdBuffer=ii(i,n,"int",u.aAtlasId),this.texBuffer=ii(i,n,"vec4",u.aTex),this.pointAPointBBuffer=ii(i,n,"vec4",u.aPointAPointB),this.pointCPointDBuffer=ii(i,n,"vec4",u.aPointCPointD),this.lineWidthBuffer=ii(i,n,"vec2",u.aLineWidth),this.colorBuffer=ii(i,n,"vec4",u.aColor),this.cornerRadiusBuffer=ii(i,n,"vec4",u.aCornerRadius),this.borderColorBuffer=ii(i,n,"vec4",u.aBorderColor),i.bindVertexArray(null),s}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return Mu(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uc.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,i){var u=this.atlasManager,s=this.batchManager,l=u.getRenderTypeOpts(i);if(this._isVisible(r,l)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&l.getTexPickingMode){var f=l.getTexPickingMode(r);if(f===Av.IGNORE)return;if(f==Av.USE_BB){this.drawPickingRectangle(r,n,i);return}}var d=u.getAtlasInfo(r,i),v=sa(d),p;try{for(v.s();!(p=v.n()).done;){var g=p.value,m=g.atlas,b=g.tex1,C=g.tex2;s.canAddToCurrentBatch(m)||this.endBatch();for(var x=s.getAtlasIndexForBatch(m),E=0,_=[[b,!0],[C,!1]];E<_.length;E++){var A=un(_[E],2),R=A[0],M=A[1];if(R.w!=0){var B=this.instanceCount;this.vertTypeBuffer.getView(B)[0]=jy;var O=this.indexBuffer.getView(B);Ps(n,O);var N=this.atlasIdBuffer.getView(B);N[0]=x;var L=this.texBuffer.getView(B);L[0]=R.x,L[1]=R.y,L[2]=R.w,L[3]=R.h;var P=this.transformBuffer.getMatrixView(B);this.setTransformMatrix(r,P,l,g,M),this.instanceCount++,M||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(I){v.e(I)}finally{v.f()}}}},{key:"setTransformMatrix",value:function(r,n,i,u){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=0;if(i.shapeProps&&i.shapeProps.padding&&(l=r.pstyle(i.shapeProps.padding).pfValue),u){var f=u.bb,d=u.tex1,v=u.tex2,p=d.w/(d.w+v.w);s||(p=1-p);var g=this._getAdjustedBB(f,l,s,p);this._applyTransformMatrix(n,g,i,r)}else{var m=i.getBoundingBox(r),b=this._getAdjustedBB(m,l,!0,1);this._applyTransformMatrix(n,b,i,r)}}},{key:"_applyTransformMatrix",value:function(r,n,i,u){var s,l;MA(r);var f=i.getRotation?i.getRotation(u):0;if(f!==0){var d=i.getRotationPoint(u),v=d.x,p=d.y;sv(r,r,[v,p]),BA(r,r,f);var g=i.getRotationOffset(u);s=g.x+(n.xOffset||0),l=g.y+(n.yOffset||0)}else s=n.x1,l=n.y1;sv(r,r,[s,l]),Lx(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,i,u){var s=r.x1,l=r.y1,f=r.w,d=r.h,v=r.yOffset;n&&(s-=n,l-=n,f+=2*n,d+=2*n);var p=0,g=f*u;return i&&u<1?f=g:!i&&u<1&&(p=f-g,s+=p,f=g),{x1:s,y1:l,w:f,h:d,xOffset:p,yOffset:v}}},{key:"drawPickingRectangle",value:function(r,n,i){var u=this.atlasManager.getRenderTypeOpts(i),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=Is;var l=this.indexBuffer.getView(s);Ps(n,l);var f=this.colorBuffer.getView(s);Eo([0,0,0],1,f);var d=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(r,d,u),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,i){var u=this.simpleShapeOptions.get(i);if(this._isVisible(r,u)){var s=u.shapeProps,l=this._getVertTypeForShape(r,s.shape);if(l===void 0||u.isSimple&&!u.isSimple(r)){this.drawTexture(r,n,i);return}var f=this.instanceCount;if(this.vertTypeBuffer.getView(f)[0]=l,l===Vd||l===Ec){var d=u.getBoundingBox(r),v=this._getCornerRadius(r,s.radius,d),p=this.cornerRadiusBuffer.getView(f);p[0]=v,p[1]=v,p[2]=v,p[3]=v,l===Ec&&(p[0]=0,p[2]=0)}var g=this.indexBuffer.getView(f);Ps(n,g);var m=r.pstyle(s.color).value,b=r.pstyle(s.opacity).value,C=this.colorBuffer.getView(f);Eo(m,b,C);var x=this.lineWidthBuffer.getView(f);if(x[0]=0,x[1]=0,s.border){var E=r.pstyle("border-width").value;if(E>0){var _=r.pstyle("border-color").value,A=r.pstyle("border-opacity").value,R=this.borderColorBuffer.getView(f);Eo(_,A,R);var M=r.pstyle("border-position").value;if(M==="inside")x[0]=0,x[1]=-E;else if(M==="outside")x[0]=E,x[1]=0;else{var B=E/2;x[0]=B,x[1]=-B}}}var O=this.transformBuffer.getMatrixView(f);this.setTransformMatrix(r,O,u),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var i=r.pstyle(n).value;switch(i){case"rectangle":return Is;case"ellipse":return Sc;case"roundrectangle":case"round-rectangle":return Vd;case"bottom-round-rectangle":return Ec;default:return}}},{key:"_getCornerRadius",value:function(r,n,i){var u=i.w,s=i.h;if(r.pstyle(n).value==="auto")return Pu(u,s);var l=r.pstyle(n).pfValue,f=u/2,d=s/2;return Math.min(l,d,f)}},{key:"drawEdgeArrow",value:function(r,n,i){if(r.visible()){var u=r._private.rscratch,s,l,f;if(i==="source"?(s=u.arrowStartX,l=u.arrowStartY,f=u.srcArrowAngle):(s=u.arrowEndX,l=u.arrowEndY,f=u.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(l)||l==null||isNaN(f)||f==null)){var d=r.pstyle(i+"-arrow-shape").value;if(d!=="none"){var v=r.pstyle(i+"-arrow-color").value,p=r.pstyle("opacity").value,g=r.pstyle("line-opacity").value,m=p*g,b=r.pstyle("width").pfValue,C=r.pstyle("arrow-scale").value,x=this.r.getArrowWidth(b,C),E=this.instanceCount,_=this.transformBuffer.getMatrixView(E);MA(_),sv(_,_,[s,l]),Lx(_,_,[x,x]),BA(_,_,f),this.vertTypeBuffer.getView(E)[0]=Hy;var A=this.indexBuffer.getView(E);Ps(n,A);var R=this.colorBuffer.getView(E);Eo(v,m,R),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var i=this._getEdgePoints(r);if(i){var u=r.pstyle("opacity").value,s=r.pstyle("line-opacity").value,l=r.pstyle("width").pfValue,f=r.pstyle("line-color").value,d=u*s;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var v=this.instanceCount;this.vertTypeBuffer.getView(v)[0]=qA;var p=this.indexBuffer.getView(v);Ps(n,p);var g=this.colorBuffer.getView(v);Eo(f,d,g);var m=this.lineWidthBuffer.getView(v);m[0]=l;var b=this.pointAPointBBuffer.getView(v);b[0]=i[0],b[1]=i[1],b[2]=i[2],b[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var C=0;C<i.length-2;C+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=kA;var E=this.indexBuffer.getView(x);Ps(n,E);var _=this.colorBuffer.getView(x);Eo(f,d,_);var A=this.lineWidthBuffer.getView(x);A[0]=l;var R=i[C-2],M=i[C-1],B=i[C],O=i[C+1],N=i[C+2],L=i[C+3],P=i[C+4],I=i[C+5];C==0&&(R=2*B-N+.001,M=2*O-L+.001),C==i.length-4&&(P=2*N-B+.001,I=2*L-O+.001);var V=this.pointAPointBBuffer.getView(x);V[0]=R,V[1]=M,V[2]=B,V[3]=O;var G=this.pointCPointDBuffer.getView(x);G[0]=N,G[1]=L,G[2]=P,G[3]=I,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var i=n.allpts;if(i.length==4)return i;var u=this._getNumSegments(r);return this._getCurveSegmentPoints(i,u)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var i=Array((n+1)*2),u=0;u<=n;u++)if(u==0)i[0]=r[0],i[1]=r[1];else if(u==n)i[u*2]=r[r.length-2],i[u*2+1]=r[r.length-1];else{var s=u/n;this._setCurvePoint(r,s,i,u*2)}return i}},{key:"_setCurvePoint",value:function(r,n,i,u){if(r.length<=2)i[u]=r[0],i[u+1]=r[1];else{for(var s=Array(r.length-2),l=0;l<s.length;l+=2){var f=(1-n)*r[l]+n*r[l+2],d=(1-n)*r[l+1]+n*r[l+3];s[l]=f,s[l+1]=d}return this._setCurvePoint(s,n,i,u)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,i=this.vertexCount,u=this.instanceCount;if(u!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(s),r.bindVertexArray(n);var l=sa(this.buffers),f;try{for(l.s();!(f=l.n()).done;){var d=f.value;d.bufferSubData(u)}}catch(b){l.e(b)}finally{l.f()}for(var v=this.batchManager.getAtlases(),p=0;p<v.length;p++)v[p].bufferIfNeeded(r);for(var g=0;g<v.length;g++)r.activeTexture(r.TEXTURE0+g),r.bindTexture(r.TEXTURE_2D,v[g].texture),r.uniform1i(s.uTextures[g],g);r.uniform1f(s.uZoom,sF(this.r)),r.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var m=Eo(this.bgColor,1);r.uniform4fv(s.uBGColor,m),r.drawArraysInstanced(r.TRIANGLES,0,i,u),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:u,atlasCount:v.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(s,l){return s+l.atlasCount},0),i=this.batchDebugInfo,u=i.reduce(function(s,l){return s+l.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:u}}}])})(),l5={};l5.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=OF(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=yF(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new DF(r,n,t);var i=function(p){return function(g){return r.getTextAngle(g,p)}},u=function(p){return function(g){var m=g.pstyle(p);return m&&m.value}},s=function(p){return function(g){return g.pstyle("".concat(p,"-opacity")).value>0}},l=function(p){var g=p.pstyle("text-events").strValue==="yes";return g?Av.USE_BB:Av.IGNORE},f=function(p){var g=p.position(),m=g.x,b=g.y,C=p.outerWidth(),x=p.outerHeight();return{w:C,h:x,x1:m-C/2,y1:b-x/2}};r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:f,isSimple:cF,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:f,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:f,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:l,getKey:Ky(e.getLabelKey,null),getBoundingBox:Yy(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:i(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:u("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:l,getKey:Ky(e.getSourceLabelKey,"source"),getBoundingBox:Yy(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:i("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:u("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:l,getKey:Ky(e.getTargetLabelKey,"target"),getBoundingBox:Yy(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:i("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:u("target-label")});var d=af(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(v,p){var g=!1;p&&p.length>0&&(g|=r.drawing.invalidate(p)),g&&d()}),MF(r)};function OF(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return Lq(r)}function c5(t,e){var r=t._private.rscratch;return ia(r,"labelWrapCachedLines",e)||[]}var Ky=function(e,r){return function(n){var i=e(n),u=c5(n,r);return u.length>1?u.map(function(s,l){return"".concat(i,"_").concat(l)}):i}},Yy=function(e,r){return function(n,i){var u=e(n);if(typeof i=="string"){var s=i.indexOf("_");if(s>0){var l=Number(i.substring(s+1)),f=c5(n,r),d=u.h/f.length,v=d*l,p=u.y1+v;return{x1:u.x1,w:u.w,y1:p,h:d,yOffset:v}}}return u}};function MF(t){{var e=t.render;t.render=function(u){u=u||{};var s=t.cy;t.webgl&&(s.zoom()>r5?(BF(t),e.call(t,u)):(qF(t),d5(t,u,Uc.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(u){r.call(t,u),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(u,s,l,f){return IF(t,u,s)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var i=t.notify;t.notify=function(u,s){i.call(t,u,s),u==="viewport"||u==="bounds"?t.pickingFrameBuffer.needsDraw=!0:u==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function BF(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function qF(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function kF(t){var e=t.canvasWidth,r=t.canvasHeight,n=yE(t),i=n.pan,u=n.zoom,s=Gy();sv(s,s,[i.x,i.y]),Lx(s,s,[u,u]);var l=Gy();bF(l,e,r);var f=Gy();return mF(f,l,s),f}function f5(t,e){var r=t.canvasWidth,n=t.canvasHeight,i=yE(t),u=i.pan,s=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(u.x,u.y),e.scale(s,s)}function zF(t,e){t.drawSelectionRectangle(e,function(r){return f5(t,r)})}function NF(t){var e=t.data.contexts[t.NODE];e.save(),f5(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function LF(t){var e=function(i,u,s){for(var l=i.atlasManager.getAtlasCollection(u),f=t.data.contexts[t.NODE],d=l.atlases,v=0;v<d.length;v++){var p=d[v],g=p.canvas;if(g){var m=g.width,b=g.height,C=m*v,x=g.height*s,E=.4;f.save(),f.scale(E,E),f.drawImage(g,C,x),f.strokeStyle="black",f.rect(C,x,m,b),f.stroke(),f.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function PF(t,e,r,n,i){var u,s,l,f,d=yE(t),v=d.pan,p=d.zoom;{var g=lF(t,v,p,e,r),m=un(g,2),b=m[0],C=m[1],x=6;u=b-x/2,s=C-x/2,l=x,f=x}if(l===0||f===0)return[];var E=t.data.contexts[t.WEBGL];E.bindFramebuffer(E.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(E.viewport(0,0,E.canvas.width,E.canvas.height),d5(t,null,Uc.PICKING),t.pickingFrameBuffer.needsDraw=!1);var _=l*f,A=new Uint8Array(_*4);E.readPixels(u,s,l,f,E.RGBA,E.UNSIGNED_BYTE,A),E.bindFramebuffer(E.FRAMEBUFFER,null);for(var R=new Set,M=0;M<_;M++){var B=A.slice(M*4,M*4+4),O=dF(B)-1;O>=0&&R.add(O)}return R}function IF(t,e,r){var n=PF(t,e,r),i=t.getCachedZSortedEles(),u,s,l=sa(n),f;try{for(l.s();!(f=l.n()).done;){var d=f.value,v=i[d];if(!u&&v.isNode()&&(u=v),!s&&v.isEdge()&&(s=v),u&&s)break}}catch(p){l.e(p)}finally{l.f()}return[u,s].filter(Boolean)}function $y(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawNode(r,e,"node-underlay"),n.drawNode(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawNode(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function d5(t,e,r){var n;t.webglDebug&&(n=performance.now());var i=t.drawing,u=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&zF(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=t.data.contexts[t.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var l=kF(t),f=t.getCachedZSortedEles();if(u=f.length,i.startFrame(l,r),r.screen){for(var d=0;d<f.nondrag.length;d++)$y(t,d,f.nondrag[d]);for(var v=0;v<f.drag.length;v++)$y(t,v,f.drag[v])}else if(r.picking)for(var p=0;p<f.length;p++)$y(t,p,f[p]);i.endFrame(),r.screen&&t.webglDebugShowAtlases&&(NF(t),LF(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var g=performance.now(),m=!1,b=Math.ceil(g-n),C=i.getDebugInfo(),x=["".concat(u," elements"),"".concat(C.totalInstances," instances"),"".concat(C.batchCount," batches"),"".concat(C.totalAtlases," atlases"),"".concat(C.wrappedCount," wrapped textures"),"".concat(C.simpleCount," simple shapes")].join(", ");if(m)console.log("WebGL (".concat(r.name,") - time ").concat(b,"ms, ").concat(x));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(b,"ms")),console.log("Totals:"),console.log("  ".concat(x)),console.log("Texture Atlases Used:");var E=C.atlasInfo,_=sa(E),A;try{for(_.s();!(A=_.n()).done;){var R=A.value;console.log("  ".concat(R.type,": ").concat(R.keyCount," keys, ").concat(R.atlasCount," atlases"))}}catch(M){_.e(M)}finally{_.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,i.gc())}var Yu={};Yu.drawPolygonPath=function(t,e,r,n,i,u){var s=n/2,l=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*u[0],r+l*u[1]);for(var f=1;f<u.length/2;f++)t.lineTo(e+s*u[f*2],r+l*u[f*2+1]);t.closePath()};Yu.drawRoundPolygonPath=function(t,e,r,n,i,u,s){s.forEach(function(l){return Yk(t,l)}),t.closePath()};Yu.drawRoundRectanglePath=function(t,e,r,n,i,u){var s=n/2,l=i/2,f=u==="auto"?Pu(n,i):Math.min(u,l,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-l),t.arcTo(e+s,r-l,e+s,r,f),t.arcTo(e+s,r+l,e,r+l,f),t.arcTo(e-s,r+l,e-s,r,f),t.arcTo(e-s,r-l,e,r-l,f),t.lineTo(e,r-l),t.closePath()};Yu.drawBottomRoundRectanglePath=function(t,e,r,n,i,u){var s=n/2,l=i/2,f=u==="auto"?Pu(n,i):u;t.beginPath&&t.beginPath(),t.moveTo(e,r-l),t.lineTo(e+s,r-l),t.lineTo(e+s,r),t.arcTo(e+s,r+l,e,r+l,f),t.arcTo(e-s,r+l,e-s,r,f),t.lineTo(e-s,r-l),t.lineTo(e,r-l),t.closePath()};Yu.drawCutRectanglePath=function(t,e,r,n,i,u,s){var l=n/2,f=i/2,d=s==="auto"?nE():s;t.beginPath&&t.beginPath(),t.moveTo(e-l+d,r-f),t.lineTo(e+l-d,r-f),t.lineTo(e+l,r-f+d),t.lineTo(e+l,r+f-d),t.lineTo(e+l-d,r+f),t.lineTo(e-l+d,r+f),t.lineTo(e-l,r+f-d),t.lineTo(e-l,r-f+d),t.closePath()};Yu.drawBarrelPath=function(t,e,r,n,i){var u=n/2,s=i/2,l=e-u,f=e+u,d=r-s,v=r+s,p=Sx(n,i),g=p.widthOffset,m=p.heightOffset,b=p.ctrlPtOffsetPct*g;t.beginPath&&t.beginPath(),t.moveTo(l,d+m),t.lineTo(l,v-m),t.quadraticCurveTo(l+b,v,l+g,v),t.lineTo(f-g,v),t.quadraticCurveTo(f-b,v,f,v-m),t.lineTo(f,d+m),t.quadraticCurveTo(f-b,d,f-g,d),t.lineTo(l+g,d),t.quadraticCurveTo(l+b,d,l,d+m),t.closePath()};var zA=Math.sin(0),NA=Math.cos(0),Px={},Ix={},v5=Math.PI/40;for(var Us=0*Math.PI;Us<2*Math.PI;Us+=v5)Px[Us]=Math.sin(Us),Ix[Us]=Math.cos(Us);Yu.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var u,s,l=n/2,f=i/2,d=0*Math.PI;d<2*Math.PI;d+=v5)u=e-l*Px[d]*zA+l*Ix[d]*NA,s=r+f*Ix[d]*zA+f*Px[d]*NA,d===0?t.moveTo(u,s):t.lineTo(u,s);t.closePath()};var ff={};ff.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};ff.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),u=t.full?Math.ceil(n.w):i[2],s=t.full?Math.ceil(n.h):i[3],l=et(t.maxWidth)||et(t.maxHeight),f=this.getPixelRatio(),d=1;if(t.scale!==void 0)u*=t.scale,s*=t.scale,d=t.scale;else if(l){var v=1/0,p=1/0;et(t.maxWidth)&&(v=d*t.maxWidth/u),et(t.maxHeight)&&(p=d*t.maxHeight/s),d=Math.min(v,p),u*=d,s*=d}l||(u*=f,s*=f,d*=f);var g=document.createElement("canvas");g.width=u,g.height=s,g.style.width=u+"px",g.style.height=s+"px";var m=g.getContext("2d");if(u>0&&s>0){m.clearRect(0,0,u,s),m.globalCompositeOperation="source-over";var b=this.getCachedZSortedEles();if(t.full)m.translate(-n.x1*d,-n.y1*d),m.scale(d,d),this.drawElements(m,b),m.scale(1/d,1/d),m.translate(n.x1*d,n.y1*d);else{var C=e.pan(),x={x:C.x*d,y:C.y*d};d*=e.zoom(),m.translate(x.x,x.y),m.scale(d,d),this.drawElements(m,b),m.scale(1/d,1/d),m.translate(-x.x,-x.y)}t.bg&&(m.globalCompositeOperation="destination-over",m.fillStyle=t.bg,m.rect(0,0,u,s),m.fill())}return g};function UF(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),u=0;u<r.length;u++)i[u]=r.charCodeAt(u);return new Blob([n],{type:e})}function LA(t){var e=t.indexOf(",");return t.substr(e+1)}function h5(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new ol(function(i,u){try{e.toBlob(function(s){s!=null?i(s):u(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){u(s)}});case"blob":return UF(LA(n()),r);case"base64":return LA(n());case"base64uri":default:return n()}}ff.png=function(t){return h5(t,this.bufferCanvasImage(t),"image/png")};ff.jpg=function(t){return h5(t,this.bufferCanvasImage(t),"image/jpeg")};var p5={};p5.nodeShapeImpl=function(t,e,r,n,i,u,s,l){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,u);case"polygon":return this.drawPolygonPath(e,r,n,i,u,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,u,s,l);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,u,l);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,u,s,l);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,u,l);case"barrel":return this.drawBarrelPath(e,r,n,i,u)}};var FF=g5,Gt=g5.prototype;Gt.CANVAS_LAYERS=3;Gt.SELECT_BOX=0;Gt.DRAG=1;Gt.NODE=2;Gt.WEBGL=3;Gt.CANVAS_TYPES=["2d","2d","2d","webgl2"];Gt.BUFFER_COUNT=3;Gt.TEXTURE_BUFFER=0;Gt.MOTIONBLUR_BUFFER_NODE=1;Gt.MOTIONBLUR_BUFFER_DRAG=2;function g5(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(Gt.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Gt.CANVAS_LAYERS),contexts:new Array(Gt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Gt.CANVAS_LAYERS),bufferCanvases:new Array(Gt.BUFFER_COUNT),bufferContexts:new Array(Gt.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",u="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=u,s.position="relative",s.zIndex="0",s.overflow="hidden";var l=t.cy.container();l.appendChild(e.data.canvasContainer),l.style[i]=u;var f={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};z3()&&(f["-ms-touch-action"]="none",f["touch-action"]="none");for(var d=0;d<Gt.CANVAS_LAYERS;d++){var v=e.data.canvases[d]=n.createElement("canvas"),p=Gt.CANVAS_TYPES[d];e.data.contexts[d]=v.getContext(p),e.data.contexts[d]||qr("Could not create canvas of type "+p),Object.keys(f).forEach(function(ie){v.style[ie]=f[ie]}),v.style.position="absolute",v.setAttribute("data-id","layer"+d),v.style.zIndex=String(Gt.CANVAS_LAYERS-d),e.data.canvasContainer.appendChild(v),e.data.canvasNeedsRedraw[d]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Gt.NODE].setAttribute("data-id","layer"+Gt.NODE+"-node"),e.data.canvases[Gt.SELECT_BOX].setAttribute("data-id","layer"+Gt.SELECT_BOX+"-selectbox"),e.data.canvases[Gt.DRAG].setAttribute("data-id","layer"+Gt.DRAG+"-drag"),e.data.canvases[Gt.WEBGL]&&e.data.canvases[Gt.WEBGL].setAttribute("data-id","layer"+Gt.WEBGL+"-webgl");for(var d=0;d<Gt.BUFFER_COUNT;d++)e.data.bufferCanvases[d]=n.createElement("canvas"),e.data.bufferContexts[d]=e.data.bufferCanvases[d].getContext("2d"),e.data.bufferCanvases[d].style.position="absolute",e.data.bufferCanvases[d].setAttribute("data-id","buffer"+d),e.data.bufferCanvases[d].style.zIndex=String(-d-1),e.data.bufferCanvases[d].style.visibility="hidden";e.pathsEnabled=!0;var g=$n(),m=function(he){return{x:(he.x1+he.x2)/2,y:(he.y1+he.y2)/2}},b=function(he){return{x:-he.w/2,y:-he.h/2}},C=function(he){var be=he[0]._private,ge=be.oldBackgroundTimestamp===be.backgroundTimestamp;return!ge},x=function(he){return he[0]._private.nodeKey},E=function(he){return he[0]._private.labelStyleKey},_=function(he){return he[0]._private.sourceLabelStyleKey},A=function(he){return he[0]._private.targetLabelStyleKey},R=function(he,be,ge,Me,je){return e.drawElement(he,be,ge,!1,!1,je)},M=function(he,be,ge,Me,je){return e.drawElementText(he,be,ge,Me,"main",je)},B=function(he,be,ge,Me,je){return e.drawElementText(he,be,ge,Me,"source",je)},O=function(he,be,ge,Me,je){return e.drawElementText(he,be,ge,Me,"target",je)},N=function(he){return he.boundingBox(),he[0]._private.bodyBounds},L=function(he){return he.boundingBox(),he[0]._private.labelBounds.main||g},P=function(he){return he.boundingBox(),he[0]._private.labelBounds.source||g},I=function(he){return he.boundingBox(),he[0]._private.labelBounds.target||g},V=function(he,be){return be},G=function(he){return m(N(he))},Z=function(he,be,ge){var Me=he?he+"-":"";return{x:be.x+ge.pstyle(Me+"text-margin-x").pfValue,y:be.y+ge.pstyle(Me+"text-margin-y").pfValue}},J=function(he,be,ge){var Me=he[0]._private.rscratch;return{x:Me[be],y:Me[ge]}},j=function(he){return Z("",J(he,"labelX","labelY"),he)},Y=function(he){return Z("source",J(he,"sourceLabelX","sourceLabelY"),he)},W=function(he){return Z("target",J(he,"targetLabelX","targetLabelY"),he)},oe=function(he){return b(N(he))},se=function(he){return b(P(he))},U=function(he){return b(I(he))},X=function(he){var be=L(he),ge=b(L(he));if(he.isNode()){switch(he.pstyle("text-halign").value){case"left":ge.x=-be.w-(be.leftPad||0);break;case"right":ge.x=-(be.rightPad||0);break}switch(he.pstyle("text-valign").value){case"top":ge.y=-be.h-(be.topPad||0);break;case"bottom":ge.y=-(be.botPad||0);break}}return ge},ue=e.data.eleTxrCache=new qc(e,{getKey:x,doesEleInvalidateKey:C,drawElement:R,getBoundingBox:N,getRotationPoint:G,getRotationOffset:oe,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),$=e.data.lblTxrCache=new qc(e,{getKey:E,drawElement:M,getBoundingBox:L,getRotationPoint:j,getRotationOffset:X,isVisible:V}),ee=e.data.slbTxrCache=new qc(e,{getKey:_,drawElement:B,getBoundingBox:P,getRotationPoint:Y,getRotationOffset:se,isVisible:V}),re=e.data.tlbTxrCache=new qc(e,{getKey:A,drawElement:O,getBoundingBox:I,getRotationPoint:W,getRotationOffset:U,isVisible:V}),de=e.data.lyrTxrCache=new n5(e);e.onUpdateEleCalcs(function(he,be){ue.invalidateElements(be),$.invalidateElements(be),ee.invalidateElements(be),re.invalidateElements(be),de.invalidateElements(be);for(var ge=0;ge<be.length;ge++){var Me=be[ge]._private;Me.oldBackgroundTimestamp=Me.backgroundTimestamp}});var ke=function(he){for(var be=0;be<he.length;be++)de.enqueueElementRefinement(he[be].ele)};ue.onDequeue(ke),$.onDequeue(ke),ee.onDequeue(ke),re.onDequeue(ke),t.webgl&&e.initWebgl(t,{getStyleKey:x,getLabelKey:E,getSourceLabelKey:_,getTargetLabelKey:A,drawElement:R,drawLabel:M,drawSourceLabel:B,drawTargetLabel:O,getElementBox:N,getLabelBox:L,getSourceLabelBox:P,getTargetLabelBox:I,getElementRotationPoint:G,getElementRotationOffset:oe,getLabelRotationPoint:j,getSourceLabelRotationPoint:Y,getTargetLabelRotationPoint:W,getLabelRotationOffset:X,getSourceLabelRotationOffset:se,getTargetLabelRotationOffset:U})}Gt.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Gt.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Gt.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Gt.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var VF=typeof Path2D<"u";Gt.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Gt.usePaths=function(){return VF&&this.pathsEnabled};Gt.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Gt.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Gt.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":dn(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=t,r.height=e}return r};[a5,fi,Ki,gE,Lo,Ku,Xn,l5,Yu,ff,p5].forEach(function(t){St(Gt,t)});var GF=[{name:"null",impl:jk},{name:"base",impl:e5},{name:"canvas",impl:FF}],jF=[{type:"layout",extensions:pU},{type:"renderer",extensions:GF}],y5={},m5={};function b5(t,e,r){var n=r,i=function(N){lr("Can not register `"+e+"` for `"+t+"` since `"+N+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Zc.prototype[e])return i(e);Zc.prototype[e]=r}else if(t==="collection"){if(Bn.prototype[e])return i(e);Bn.prototype[e]=r}else if(t==="layout"){for(var u=function(N){this.options=N,r.call(this,N),Jt(this._private)||(this._private={}),this._private.cy=N.cy,this._private.listeners=[],this.createEmitter()},s=u.prototype=Object.create(r.prototype),l=[],f=0;f<l.length;f++){var d=l[f];s[d]=s[d]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var v=r.prototype.stop;s.stop=function(){var O=this.options;if(O&&O.animate){var N=this.animations;if(N)for(var L=0;L<N.length;L++)N[L].stop()}return v?v.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var p=function(N){return N._private.cy},g={addEventFields:function(N,L){L.layout=N,L.cy=p(N),L.target=N},bubble:function(){return!0},parent:function(N){return p(N)}};St(s,{createEmitter:function(){return this._private.emitter=new Yv(g,this),this},emitter:function(){return this._private.emitter},on:function(N,L){return this.emitter().on(N,L),this},one:function(N,L){return this.emitter().one(N,L),this},once:function(N,L){return this.emitter().one(N,L),this},removeListener:function(N,L){return this.emitter().removeListener(N,L),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(N,L){return this.emitter().emit(N,L),this}}),sr.eventAliasesOn(s),n=u}else if(t==="renderer"&&e!=="null"&&e!=="base"){var m=w5("renderer","base"),b=m.prototype,C=r,x=r.prototype,E=function(){m.apply(this,arguments),C.apply(this,arguments)},_=E.prototype;for(var A in b){var R=b[A],M=x[A]!=null;if(M)return i(A);_[A]=R}for(var B in x)_[B]=x[B];b.clientFunctions.forEach(function(O){_[O]=_[O]||function(){qr("Renderer does not implement `renderer."+O+"()` on its prototype")}}),n=E}else if(t==="__proto__"||t==="constructor"||t==="prototype")return qr(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Pq({map:y5,keys:[t,e],value:n})}function w5(t,e){return Iq({map:y5,keys:[t,e]})}function HF(t,e,r,n,i){return Pq({map:m5,keys:[t,e,r,n],value:i})}function KF(t,e,r,n){return Iq({map:m5,keys:[t,e,r,n]})}var Ux=function(){if(arguments.length===2)return w5.apply(null,arguments);if(arguments.length===3)return b5.apply(null,arguments);if(arguments.length===4)return KF.apply(null,arguments);if(arguments.length===5)return HF.apply(null,arguments);qr("Invalid extension access syntax")};Zc.prototype.extension=Ux;jF.forEach(function(t){t.extensions.forEach(function(e){b5(t.type,e.name,e.impl)})});var Rv=function(){if(!(this instanceof Rv))return new Rv;this.length=0},zo=Rv.prototype;zo.instanceString=function(){return"stylesheet"};zo.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};zo.css=function(t,e){var r=this.length-1;if(yt(t))this[r].properties.push({name:t,value:e});else if(Jt(t))for(var n=t,i=Object.keys(n),u=0;u<i.length;u++){var s=i[u],l=n[s];if(l!=null){var f=En.properties[s]||En.properties[Lv(s)];if(f!=null){var d=f.name,v=l;this[r].properties.push({name:d,value:v})}}}return this};zo.style=zo.css;zo.generateStyle=function(t){var e=new En(t);return this.appendToStyle(e)};zo.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var u=0;u<i.length;u++){var s=i[u];t.css(s.name,s.value)}}return t};var YF="3.33.1",Vu=function(e){if(e===void 0&&(e={}),Jt(e))return new Zc(e);if(yt(e))return Ux.apply(Ux,arguments)};Vu.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Vu),t.apply(null,e),this};Vu.warnings=function(t){return Kq(t)};Vu.version=YF;Vu.stylesheet=Vu.Stylesheet=Rv;var lv={exports:{}};function mE(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xy,PA;function $F(){if(PA)return Xy;PA=1;function t(){this.__data__=[],this.size=0}return Xy=t,Xy}var Zy,IA;function dl(){if(IA)return Zy;IA=1;function t(e,r){return e===r||e!==e&&r!==r}return Zy=t,Zy}var Qy,UA;function th(){if(UA)return Qy;UA=1;var t=dl();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Qy=e,Qy}var Wy,FA;function XF(){if(FA)return Wy;FA=1;var t=th(),e=Array.prototype,r=e.splice;function n(i){var u=this.__data__,s=t(u,i);if(s<0)return!1;var l=u.length-1;return s==l?u.pop():r.call(u,s,1),--this.size,!0}return Wy=n,Wy}var Jy,VA;function ZF(){if(VA)return Jy;VA=1;var t=th();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Jy=e,Jy}var em,GA;function QF(){if(GA)return em;GA=1;var t=th();function e(r){return t(this.__data__,r)>-1}return em=e,em}var tm,jA;function WF(){if(jA)return tm;jA=1;var t=th();function e(r,n){var i=this.__data__,u=t(i,r);return u<0?(++this.size,i.push([r,n])):i[u][1]=n,this}return tm=e,tm}var rm,HA;function rh(){if(HA)return rm;HA=1;var t=$F(),e=XF(),r=ZF(),n=QF(),i=WF();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,rm=u,rm}var nm,KA;function JF(){if(KA)return nm;KA=1;var t=rh();function e(){this.__data__=new t,this.size=0}return nm=e,nm}var am,YA;function e8(){if(YA)return am;YA=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return am=t,am}var im,$A;function t8(){if($A)return im;$A=1;function t(e){return this.__data__.get(e)}return im=t,im}var um,XA;function r8(){if(XA)return um;XA=1;function t(e){return this.__data__.has(e)}return um=t,um}var om,ZA;function x5(){if(ZA)return om;ZA=1;var t=typeof Dc=="object"&&Dc&&Dc.Object===Object&&Dc;return om=t,om}var sm,QA;function $a(){if(QA)return sm;QA=1;var t=x5(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return sm=r,sm}var lm,WA;function vl(){if(WA)return lm;WA=1;var t=$a(),e=t.Symbol;return lm=e,lm}var cm,JA;function n8(){if(JA)return cm;JA=1;var t=vl(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function u(s){var l=r.call(s,i),f=s[i];try{s[i]=void 0;var d=!0}catch{}var v=n.call(s);return d&&(l?s[i]=f:delete s[i]),v}return cm=u,cm}var fm,eR;function a8(){if(eR)return fm;eR=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return fm=r,fm}var dm,tR;function Po(){if(tR)return dm;tR=1;var t=vl(),e=n8(),r=a8(),n="[object Null]",i="[object Undefined]",u=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:u&&u in Object(l)?e(l):r(l)}return dm=s,dm}var vm,rR;function ka(){if(rR)return vm;rR=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return vm=t,vm}var hm,nR;function df(){if(nR)return hm;nR=1;var t=Po(),e=ka(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",u="[object Proxy]";function s(l){if(!e(l))return!1;var f=t(l);return f==n||f==i||f==r||f==u}return hm=s,hm}var pm,aR;function i8(){if(aR)return pm;aR=1;var t=$a(),e=t["__core-js_shared__"];return pm=e,pm}var gm,iR;function u8(){if(iR)return gm;iR=1;var t=i8(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return gm=r,gm}var ym,uR;function E5(){if(uR)return ym;uR=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return ym=r,ym}var mm,oR;function o8(){if(oR)return mm;oR=1;var t=df(),e=u8(),r=ka(),n=E5(),i=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,f=s.toString,d=l.hasOwnProperty,v=RegExp("^"+f.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||e(g))return!1;var m=t(g)?v:u;return m.test(n(g))}return mm=p,mm}var bm,sR;function s8(){if(sR)return bm;sR=1;function t(e,r){return e?.[r]}return bm=t,bm}var wm,lR;function Io(){if(lR)return wm;lR=1;var t=o8(),e=s8();function r(n,i){var u=e(n,i);return t(u)?u:void 0}return wm=r,wm}var xm,cR;function bE(){if(cR)return xm;cR=1;var t=Io(),e=$a(),r=t(e,"Map");return xm=r,xm}var Em,fR;function nh(){if(fR)return Em;fR=1;var t=Io(),e=t(Object,"create");return Em=e,Em}var Sm,dR;function l8(){if(dR)return Sm;dR=1;var t=nh();function e(){this.__data__=t?t(null):{},this.size=0}return Sm=e,Sm}var Tm,vR;function c8(){if(vR)return Tm;vR=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Tm=t,Tm}var _m,hR;function f8(){if(hR)return _m;hR=1;var t=nh(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(u){var s=this.__data__;if(t){var l=s[u];return l===e?void 0:l}return n.call(s,u)?s[u]:void 0}return _m=i,_m}var Cm,pR;function d8(){if(pR)return Cm;pR=1;var t=nh(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var u=this.__data__;return t?u[i]!==void 0:r.call(u,i)}return Cm=n,Cm}var Am,gR;function v8(){if(gR)return Am;gR=1;var t=nh(),e="__lodash_hash_undefined__";function r(n,i){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=t&&i===void 0?e:i,this}return Am=r,Am}var Rm,yR;function h8(){if(yR)return Rm;yR=1;var t=l8(),e=c8(),r=f8(),n=d8(),i=v8();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,Rm=u,Rm}var Dm,mR;function p8(){if(mR)return Dm;mR=1;var t=h8(),e=rh(),r=bE();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Dm=n,Dm}var Om,bR;function g8(){if(bR)return Om;bR=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Om=t,Om}var Mm,wR;function ah(){if(wR)return Mm;wR=1;var t=g8();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Mm=e,Mm}var Bm,xR;function y8(){if(xR)return Bm;xR=1;var t=ah();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Bm=e,Bm}var qm,ER;function m8(){if(ER)return qm;ER=1;var t=ah();function e(r){return t(this,r).get(r)}return qm=e,qm}var km,SR;function b8(){if(SR)return km;SR=1;var t=ah();function e(r){return t(this,r).has(r)}return km=e,km}var zm,TR;function w8(){if(TR)return zm;TR=1;var t=ah();function e(r,n){var i=t(this,r),u=i.size;return i.set(r,n),this.size+=i.size==u?0:1,this}return zm=e,zm}var Nm,_R;function wE(){if(_R)return Nm;_R=1;var t=p8(),e=y8(),r=m8(),n=b8(),i=w8();function u(s){var l=-1,f=s==null?0:s.length;for(this.clear();++l<f;){var d=s[l];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=i,Nm=u,Nm}var Lm,CR;function x8(){if(CR)return Lm;CR=1;var t=rh(),e=bE(),r=wE(),n=200;function i(u,s){var l=this.__data__;if(l instanceof t){var f=l.__data__;if(!e||f.length<n-1)return f.push([u,s]),this.size=++l.size,this;l=this.__data__=new r(f)}return l.set(u,s),this.size=l.size,this}return Lm=i,Lm}var Pm,AR;function ih(){if(AR)return Pm;AR=1;var t=rh(),e=JF(),r=e8(),n=t8(),i=r8(),u=x8();function s(l){var f=this.__data__=new t(l);this.size=f.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=u,Pm=s,Pm}var Im,RR;function xE(){if(RR)return Im;RR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return Im=t,Im}var Um,DR;function S5(){if(DR)return Um;DR=1;var t=Io(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Um=e,Um}var Fm,OR;function uh(){if(OR)return Fm;OR=1;var t=S5();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Fm=e,Fm}var Vm,MR;function oh(){if(MR)return Vm;MR=1;var t=uh(),e=dl(),r=Object.prototype,n=r.hasOwnProperty;function i(u,s,l){var f=u[s];(!(n.call(u,s)&&e(f,l))||l===void 0&&!(s in u))&&t(u,s,l)}return Vm=i,Vm}var Gm,BR;function vf(){if(BR)return Gm;BR=1;var t=oh(),e=uh();function r(n,i,u,s){var l=!u;u||(u={});for(var f=-1,d=i.length;++f<d;){var v=i[f],p=s?s(u[v],n[v],v,u,n):void 0;p===void 0&&(p=n[v]),l?e(u,v,p):t(u,v,p)}return u}return Gm=r,Gm}var jm,qR;function E8(){if(qR)return jm;qR=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return jm=t,jm}var Hm,kR;function di(){if(kR)return Hm;kR=1;function t(e){return e!=null&&typeof e=="object"}return Hm=t,Hm}var Km,zR;function S8(){if(zR)return Km;zR=1;var t=Po(),e=di(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Km=n,Km}var Ym,NR;function hf(){if(NR)return Ym;NR=1;var t=S8(),e=di(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,u=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Ym=u,Ym}var $m,LR;function sn(){if(LR)return $m;LR=1;var t=Array.isArray;return $m=t,$m}var kc={exports:{}},Xm,PR;function T8(){if(PR)return Xm;PR=1;function t(){return!1}return Xm=t,Xm}kc.exports;var IR;function hl(){return IR||(IR=1,(function(t,e){var r=$a(),n=T8(),i=e&&!e.nodeType&&e,u=i&&!0&&t&&!t.nodeType&&t,s=u&&u.exports===i,l=s?r.Buffer:void 0,f=l?l.isBuffer:void 0,d=f||n;t.exports=d})(kc,kc.exports)),kc.exports}var Zm,UR;function sh(){if(UR)return Zm;UR=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var u=typeof n;return i=i??t,!!i&&(u=="number"||u!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Zm=r,Zm}var Qm,FR;function EE(){if(FR)return Qm;FR=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Qm=e,Qm}var Wm,VR;function _8(){if(VR)return Wm;VR=1;var t=Po(),e=EE(),r=di(),n="[object Arguments]",i="[object Array]",u="[object Boolean]",s="[object Date]",l="[object Error]",f="[object Function]",d="[object Map]",v="[object Number]",p="[object Object]",g="[object RegExp]",m="[object Set]",b="[object String]",C="[object WeakMap]",x="[object ArrayBuffer]",E="[object DataView]",_="[object Float32Array]",A="[object Float64Array]",R="[object Int8Array]",M="[object Int16Array]",B="[object Int32Array]",O="[object Uint8Array]",N="[object Uint8ClampedArray]",L="[object Uint16Array]",P="[object Uint32Array]",I={};I[_]=I[A]=I[R]=I[M]=I[B]=I[O]=I[N]=I[L]=I[P]=!0,I[n]=I[i]=I[x]=I[u]=I[E]=I[s]=I[l]=I[f]=I[d]=I[v]=I[p]=I[g]=I[m]=I[b]=I[C]=!1;function V(G){return r(G)&&e(G.length)&&!!I[t(G)]}return Wm=V,Wm}var Jm,GR;function lh(){if(GR)return Jm;GR=1;function t(e){return function(r){return e(r)}}return Jm=t,Jm}var zc={exports:{}};zc.exports;var jR;function SE(){return jR||(jR=1,(function(t,e){var r=x5(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,u=i&&i.exports===n,s=u&&r.process,l=(function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(zc,zc.exports)),zc.exports}var e0,HR;function pf(){if(HR)return e0;HR=1;var t=_8(),e=lh(),r=SE(),n=r&&r.isTypedArray,i=n?e(n):t;return e0=i,e0}var t0,KR;function T5(){if(KR)return t0;KR=1;var t=E8(),e=hf(),r=sn(),n=hl(),i=sh(),u=pf(),s=Object.prototype,l=s.hasOwnProperty;function f(d,v){var p=r(d),g=!p&&e(d),m=!p&&!g&&n(d),b=!p&&!g&&!m&&u(d),C=p||g||m||b,x=C?t(d.length,String):[],E=x.length;for(var _ in d)(v||l.call(d,_))&&!(C&&(_=="length"||m&&(_=="offset"||_=="parent")||b&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,E)))&&x.push(_);return x}return t0=f,t0}var r0,YR;function ch(){if(YR)return r0;YR=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return r0=e,r0}var n0,$R;function _5(){if($R)return n0;$R=1;function t(e,r){return function(n){return e(r(n))}}return n0=t,n0}var a0,XR;function C8(){if(XR)return a0;XR=1;var t=_5(),e=t(Object.keys,Object);return a0=e,a0}var i0,ZR;function TE(){if(ZR)return i0;ZR=1;var t=ch(),e=C8(),r=Object.prototype,n=r.hasOwnProperty;function i(u){if(!t(u))return e(u);var s=[];for(var l in Object(u))n.call(u,l)&&l!="constructor"&&s.push(l);return s}return i0=i,i0}var u0,QR;function Yi(){if(QR)return u0;QR=1;var t=df(),e=EE();function r(n){return n!=null&&e(n.length)&&!t(n)}return u0=r,u0}var o0,WR;function $u(){if(WR)return o0;WR=1;var t=T5(),e=TE(),r=Yi();function n(i){return r(i)?t(i):e(i)}return o0=n,o0}var s0,JR;function A8(){if(JR)return s0;JR=1;var t=vf(),e=$u();function r(n,i){return n&&t(i,e(i),n)}return s0=r,s0}var l0,eD;function R8(){if(eD)return l0;eD=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return l0=t,l0}var c0,tD;function D8(){if(tD)return c0;tD=1;var t=ka(),e=ch(),r=R8(),n=Object.prototype,i=n.hasOwnProperty;function u(s){if(!t(s))return r(s);var l=e(s),f=[];for(var d in s)d=="constructor"&&(l||!i.call(s,d))||f.push(d);return f}return c0=u,c0}var f0,rD;function Uo(){if(rD)return f0;rD=1;var t=T5(),e=D8(),r=Yi();function n(i){return r(i)?t(i,!0):e(i)}return f0=n,f0}var d0,nD;function O8(){if(nD)return d0;nD=1;var t=vf(),e=Uo();function r(n,i){return n&&t(i,e(i),n)}return d0=r,d0}var Nc={exports:{}};Nc.exports;var aD;function C5(){return aD||(aD=1,(function(t,e){var r=$a(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,u=i&&i.exports===n,s=u?r.Buffer:void 0,l=s?s.allocUnsafe:void 0;function f(d,v){if(v)return d.slice();var p=d.length,g=l?l(p):new d.constructor(p);return d.copy(g),g}t.exports=f})(Nc,Nc.exports)),Nc.exports}var v0,iD;function A5(){if(iD)return v0;iD=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return v0=t,v0}var h0,uD;function R5(){if(uD)return h0;uD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,u=0,s=[];++n<i;){var l=e[n];r(l,n,e)&&(s[u++]=l)}return s}return h0=t,h0}var p0,oD;function D5(){if(oD)return p0;oD=1;function t(){return[]}return p0=t,p0}var g0,sD;function _E(){if(sD)return g0;sD=1;var t=R5(),e=D5(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,u=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return n.call(s,l)}))}:e;return g0=u,g0}var y0,lD;function M8(){if(lD)return y0;lD=1;var t=vf(),e=_E();function r(n,i){return t(n,e(n),i)}return y0=r,y0}var m0,cD;function CE(){if(cD)return m0;cD=1;function t(e,r){for(var n=-1,i=r.length,u=e.length;++n<i;)e[u+n]=r[n];return e}return m0=t,m0}var b0,fD;function fh(){if(fD)return b0;fD=1;var t=_5(),e=t(Object.getPrototypeOf,Object);return b0=e,b0}var w0,dD;function O5(){if(dD)return w0;dD=1;var t=CE(),e=fh(),r=_E(),n=D5(),i=Object.getOwnPropertySymbols,u=i?function(s){for(var l=[];s;)t(l,r(s)),s=e(s);return l}:n;return w0=u,w0}var x0,vD;function B8(){if(vD)return x0;vD=1;var t=vf(),e=O5();function r(n,i){return t(n,e(n),i)}return x0=r,x0}var E0,hD;function M5(){if(hD)return E0;hD=1;var t=CE(),e=sn();function r(n,i,u){var s=i(n);return e(n)?s:t(s,u(n))}return E0=r,E0}var S0,pD;function B5(){if(pD)return S0;pD=1;var t=M5(),e=_E(),r=$u();function n(i){return t(i,r,e)}return S0=n,S0}var T0,gD;function q8(){if(gD)return T0;gD=1;var t=M5(),e=O5(),r=Uo();function n(i){return t(i,r,e)}return T0=n,T0}var _0,yD;function k8(){if(yD)return _0;yD=1;var t=Io(),e=$a(),r=t(e,"DataView");return _0=r,_0}var C0,mD;function z8(){if(mD)return C0;mD=1;var t=Io(),e=$a(),r=t(e,"Promise");return C0=r,C0}var A0,bD;function q5(){if(bD)return A0;bD=1;var t=Io(),e=$a(),r=t(e,"Set");return A0=r,A0}var R0,wD;function N8(){if(wD)return R0;wD=1;var t=Io(),e=$a(),r=t(e,"WeakMap");return R0=r,R0}var D0,xD;function pl(){if(xD)return D0;xD=1;var t=k8(),e=bE(),r=z8(),n=q5(),i=N8(),u=Po(),s=E5(),l="[object Map]",f="[object Object]",d="[object Promise]",v="[object Set]",p="[object WeakMap]",g="[object DataView]",m=s(t),b=s(e),C=s(r),x=s(n),E=s(i),_=u;return(t&&_(new t(new ArrayBuffer(1)))!=g||e&&_(new e)!=l||r&&_(r.resolve())!=d||n&&_(new n)!=v||i&&_(new i)!=p)&&(_=function(A){var R=u(A),M=R==f?A.constructor:void 0,B=M?s(M):"";if(B)switch(B){case m:return g;case b:return l;case C:return d;case x:return v;case E:return p}return R}),D0=_,D0}var O0,ED;function L8(){if(ED)return O0;ED=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,u=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(u.index=n.index,u.input=n.input),u}return O0=r,O0}var M0,SD;function k5(){if(SD)return M0;SD=1;var t=$a(),e=t.Uint8Array;return M0=e,M0}var B0,TD;function AE(){if(TD)return B0;TD=1;var t=k5();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return B0=e,B0}var q0,_D;function P8(){if(_D)return q0;_D=1;var t=AE();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return q0=e,q0}var k0,CD;function I8(){if(CD)return k0;CD=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return k0=e,k0}var z0,AD;function U8(){if(AD)return z0;AD=1;var t=vl(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return z0=n,z0}var N0,RD;function z5(){if(RD)return N0;RD=1;var t=AE();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return N0=e,N0}var L0,DD;function F8(){if(DD)return L0;DD=1;var t=AE(),e=P8(),r=I8(),n=U8(),i=z5(),u="[object Boolean]",s="[object Date]",l="[object Map]",f="[object Number]",d="[object RegExp]",v="[object Set]",p="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",b="[object DataView]",C="[object Float32Array]",x="[object Float64Array]",E="[object Int8Array]",_="[object Int16Array]",A="[object Int32Array]",R="[object Uint8Array]",M="[object Uint8ClampedArray]",B="[object Uint16Array]",O="[object Uint32Array]";function N(L,P,I){var V=L.constructor;switch(P){case m:return t(L);case u:case s:return new V(+L);case b:return e(L,I);case C:case x:case E:case _:case A:case R:case M:case B:case O:return i(L,I);case l:return new V;case f:case p:return new V(L);case d:return r(L);case v:return new V;case g:return n(L)}}return L0=N,L0}var P0,OD;function N5(){if(OD)return P0;OD=1;var t=ka(),e=Object.create,r=(function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var u=new n;return n.prototype=void 0,u}})();return P0=r,P0}var I0,MD;function L5(){if(MD)return I0;MD=1;var t=N5(),e=fh(),r=ch();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return I0=n,I0}var U0,BD;function V8(){if(BD)return U0;BD=1;var t=pl(),e=di(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return U0=n,U0}var F0,qD;function G8(){if(qD)return F0;qD=1;var t=V8(),e=lh(),r=SE(),n=r&&r.isMap,i=n?e(n):t;return F0=i,F0}var V0,kD;function j8(){if(kD)return V0;kD=1;var t=pl(),e=di(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return V0=n,V0}var G0,zD;function H8(){if(zD)return G0;zD=1;var t=j8(),e=lh(),r=SE(),n=r&&r.isSet,i=n?e(n):t;return G0=i,G0}var j0,ND;function P5(){if(ND)return j0;ND=1;var t=ih(),e=xE(),r=oh(),n=A8(),i=O8(),u=C5(),s=A5(),l=M8(),f=B8(),d=B5(),v=q8(),p=pl(),g=L8(),m=F8(),b=L5(),C=sn(),x=hl(),E=G8(),_=ka(),A=H8(),R=$u(),M=Uo(),B=1,O=2,N=4,L="[object Arguments]",P="[object Array]",I="[object Boolean]",V="[object Date]",G="[object Error]",Z="[object Function]",J="[object GeneratorFunction]",j="[object Map]",Y="[object Number]",W="[object Object]",oe="[object RegExp]",se="[object Set]",U="[object String]",X="[object Symbol]",ue="[object WeakMap]",$="[object ArrayBuffer]",ee="[object DataView]",re="[object Float32Array]",de="[object Float64Array]",ke="[object Int8Array]",ie="[object Int16Array]",he="[object Int32Array]",be="[object Uint8Array]",ge="[object Uint8ClampedArray]",Me="[object Uint16Array]",je="[object Uint32Array]",He={};He[L]=He[P]=He[$]=He[ee]=He[I]=He[V]=He[re]=He[de]=He[ke]=He[ie]=He[he]=He[j]=He[Y]=He[W]=He[oe]=He[se]=He[U]=He[X]=He[be]=He[ge]=He[Me]=He[je]=!0,He[G]=He[Z]=He[ue]=!1;function Ct(Ze,vt,ct,Qe,tt,ot){var st,rt=vt&B,xt=vt&O,Dt=vt&N;if(ct&&(st=tt?ct(Ze,Qe,tt,ot):ct(Ze)),st!==void 0)return st;if(!_(Ze))return Ze;var qt=C(Ze);if(qt){if(st=g(Ze),!rt)return s(Ze,st)}else{var Mt=p(Ze),Pt=Mt==Z||Mt==J;if(x(Ze))return u(Ze,rt);if(Mt==W||Mt==L||Pt&&!tt){if(st=xt||Pt?{}:b(Ze),!rt)return xt?f(Ze,i(st,Ze)):l(Ze,n(st,Ze))}else{if(!He[Mt])return tt?Ze:{};st=m(Ze,Mt,rt)}}ot||(ot=new t);var gt=ot.get(Ze);if(gt)return gt;ot.set(Ze,st),A(Ze)?Ze.forEach(function(K){st.add(Ct(K,vt,ct,K,Ze,ot))}):E(Ze)&&Ze.forEach(function(K,we){st.set(we,Ct(K,vt,ct,we,Ze,ot))});var at=Dt?xt?v:d:xt?M:R,Ne=qt?void 0:at(Ze);return e(Ne||Ze,function(K,we){Ne&&(we=K,K=Ze[we]),r(st,we,Ct(K,vt,ct,we,Ze,ot))}),st}return j0=Ct,j0}var H0,LD;function K8(){if(LD)return H0;LD=1;var t=P5(),e=4;function r(n){return t(n,e)}return H0=r,H0}var K0,PD;function RE(){if(PD)return K0;PD=1;function t(e){return function(){return e}}return K0=t,K0}var Y0,ID;function Y8(){if(ID)return Y0;ID=1;function t(e){return function(r,n,i){for(var u=-1,s=Object(r),l=i(r),f=l.length;f--;){var d=l[e?f:++u];if(n(s[d],d,s)===!1)break}return r}}return Y0=t,Y0}var $0,UD;function DE(){if(UD)return $0;UD=1;var t=Y8(),e=t();return $0=e,$0}var X0,FD;function OE(){if(FD)return X0;FD=1;var t=DE(),e=$u();function r(n,i){return n&&t(n,i,e)}return X0=r,X0}var Z0,VD;function $8(){if(VD)return Z0;VD=1;var t=Yi();function e(r,n){return function(i,u){if(i==null)return i;if(!t(i))return r(i,u);for(var s=i.length,l=n?s:-1,f=Object(i);(n?l--:++l<s)&&u(f[l],l,f)!==!1;);return i}}return Z0=e,Z0}var Q0,GD;function dh(){if(GD)return Q0;GD=1;var t=OE(),e=$8(),r=e(t);return Q0=r,Q0}var W0,jD;function Fo(){if(jD)return W0;jD=1;function t(e){return e}return W0=t,W0}var J0,HD;function I5(){if(HD)return J0;HD=1;var t=Fo();function e(r){return typeof r=="function"?r:t}return J0=e,J0}var eb,KD;function U5(){if(KD)return eb;KD=1;var t=xE(),e=dh(),r=I5(),n=sn();function i(u,s){var l=n(u)?t:e;return l(u,r(s))}return eb=i,eb}var tb,YD;function F5(){return YD||(YD=1,tb=U5()),tb}var rb,$D;function X8(){if($D)return rb;$D=1;var t=dh();function e(r,n){var i=[];return t(r,function(u,s,l){n(u,s,l)&&i.push(u)}),i}return rb=e,rb}var nb,XD;function Z8(){if(XD)return nb;XD=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return nb=e,nb}var ab,ZD;function Q8(){if(ZD)return ab;ZD=1;function t(e){return this.__data__.has(e)}return ab=t,ab}var ib,QD;function V5(){if(QD)return ib;QD=1;var t=wE(),e=Z8(),r=Q8();function n(i){var u=-1,s=i==null?0:i.length;for(this.__data__=new t;++u<s;)this.add(i[u])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,ib=n,ib}var ub,WD;function W8(){if(WD)return ub;WD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return ub=t,ub}var ob,JD;function G5(){if(JD)return ob;JD=1;function t(e,r){return e.has(r)}return ob=t,ob}var sb,eO;function j5(){if(eO)return sb;eO=1;var t=V5(),e=W8(),r=G5(),n=1,i=2;function u(s,l,f,d,v,p){var g=f&n,m=s.length,b=l.length;if(m!=b&&!(g&&b>m))return!1;var C=p.get(s),x=p.get(l);if(C&&x)return C==l&&x==s;var E=-1,_=!0,A=f&i?new t:void 0;for(p.set(s,l),p.set(l,s);++E<m;){var R=s[E],M=l[E];if(d)var B=g?d(M,R,E,l,s,p):d(R,M,E,s,l,p);if(B!==void 0){if(B)continue;_=!1;break}if(A){if(!e(l,function(O,N){if(!r(A,N)&&(R===O||v(R,O,f,d,p)))return A.push(N)})){_=!1;break}}else if(!(R===M||v(R,M,f,d,p))){_=!1;break}}return p.delete(s),p.delete(l),_}return sb=u,sb}var lb,tO;function J8(){if(tO)return lb;tO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,u){n[++r]=[u,i]}),n}return lb=t,lb}var cb,rO;function ME(){if(rO)return cb;rO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return cb=t,cb}var fb,nO;function eV(){if(nO)return fb;nO=1;var t=vl(),e=k5(),r=dl(),n=j5(),i=J8(),u=ME(),s=1,l=2,f="[object Boolean]",d="[object Date]",v="[object Error]",p="[object Map]",g="[object Number]",m="[object RegExp]",b="[object Set]",C="[object String]",x="[object Symbol]",E="[object ArrayBuffer]",_="[object DataView]",A=t?t.prototype:void 0,R=A?A.valueOf:void 0;function M(B,O,N,L,P,I,V){switch(N){case _:if(B.byteLength!=O.byteLength||B.byteOffset!=O.byteOffset)return!1;B=B.buffer,O=O.buffer;case E:return!(B.byteLength!=O.byteLength||!I(new e(B),new e(O)));case f:case d:case g:return r(+B,+O);case v:return B.name==O.name&&B.message==O.message;case m:case C:return B==O+"";case p:var G=i;case b:var Z=L&s;if(G||(G=u),B.size!=O.size&&!Z)return!1;var J=V.get(B);if(J)return J==O;L|=l,V.set(B,O);var j=n(G(B),G(O),L,P,I,V);return V.delete(B),j;case x:if(R)return R.call(B)==R.call(O)}return!1}return fb=M,fb}var db,aO;function tV(){if(aO)return db;aO=1;var t=B5(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(u,s,l,f,d,v){var p=l&e,g=t(u),m=g.length,b=t(s),C=b.length;if(m!=C&&!p)return!1;for(var x=m;x--;){var E=g[x];if(!(p?E in s:n.call(s,E)))return!1}var _=v.get(u),A=v.get(s);if(_&&A)return _==s&&A==u;var R=!0;v.set(u,s),v.set(s,u);for(var M=p;++x<m;){E=g[x];var B=u[E],O=s[E];if(f)var N=p?f(O,B,E,s,u,v):f(B,O,E,u,s,v);if(!(N===void 0?B===O||d(B,O,l,f,v):N)){R=!1;break}M||(M=E=="constructor")}if(R&&!M){var L=u.constructor,P=s.constructor;L!=P&&"constructor"in u&&"constructor"in s&&!(typeof L=="function"&&L instanceof L&&typeof P=="function"&&P instanceof P)&&(R=!1)}return v.delete(u),v.delete(s),R}return db=i,db}var vb,iO;function rV(){if(iO)return vb;iO=1;var t=ih(),e=j5(),r=eV(),n=tV(),i=pl(),u=sn(),s=hl(),l=pf(),f=1,d="[object Arguments]",v="[object Array]",p="[object Object]",g=Object.prototype,m=g.hasOwnProperty;function b(C,x,E,_,A,R){var M=u(C),B=u(x),O=M?v:i(C),N=B?v:i(x);O=O==d?p:O,N=N==d?p:N;var L=O==p,P=N==p,I=O==N;if(I&&s(C)){if(!s(x))return!1;M=!0,L=!1}if(I&&!L)return R||(R=new t),M||l(C)?e(C,x,E,_,A,R):r(C,x,O,E,_,A,R);if(!(E&f)){var V=L&&m.call(C,"__wrapped__"),G=P&&m.call(x,"__wrapped__");if(V||G){var Z=V?C.value():C,J=G?x.value():x;return R||(R=new t),A(Z,J,E,_,R)}}return I?(R||(R=new t),n(C,x,E,_,A,R)):!1}return vb=b,vb}var hb,uO;function H5(){if(uO)return hb;uO=1;var t=rV(),e=di();function r(n,i,u,s,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,u,s,r,l)}return hb=r,hb}var pb,oO;function nV(){if(oO)return pb;oO=1;var t=ih(),e=H5(),r=1,n=2;function i(u,s,l,f){var d=l.length,v=d,p=!f;if(u==null)return!v;for(u=Object(u);d--;){var g=l[d];if(p&&g[2]?g[1]!==u[g[0]]:!(g[0]in u))return!1}for(;++d<v;){g=l[d];var m=g[0],b=u[m],C=g[1];if(p&&g[2]){if(b===void 0&&!(m in u))return!1}else{var x=new t;if(f)var E=f(b,C,m,u,s,x);if(!(E===void 0?e(C,b,r|n,f,x):E))return!1}}return!0}return pb=i,pb}var gb,sO;function K5(){if(sO)return gb;sO=1;var t=ka();function e(r){return r===r&&!t(r)}return gb=e,gb}var yb,lO;function aV(){if(lO)return yb;lO=1;var t=K5(),e=$u();function r(n){for(var i=e(n),u=i.length;u--;){var s=i[u],l=n[s];i[u]=[s,l,t(l)]}return i}return yb=r,yb}var mb,cO;function Y5(){if(cO)return mb;cO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return mb=t,mb}var bb,fO;function iV(){if(fO)return bb;fO=1;var t=nV(),e=aV(),r=Y5();function n(i){var u=e(i);return u.length==1&&u[0][2]?r(u[0][0],u[0][1]):function(s){return s===i||t(s,i,u)}}return bb=n,bb}var wb,dO;function gl(){if(dO)return wb;dO=1;var t=Po(),e=di(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return wb=n,wb}var xb,vO;function BE(){if(vO)return xb;vO=1;var t=sn(),e=gl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(u,s){if(t(u))return!1;var l=typeof u;return l=="number"||l=="symbol"||l=="boolean"||u==null||e(u)?!0:n.test(u)||!r.test(u)||s!=null&&u in Object(s)}return xb=i,xb}var Eb,hO;function uV(){if(hO)return Eb;hO=1;var t=wE(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var u=function(){var s=arguments,l=i?i.apply(this,s):s[0],f=u.cache;if(f.has(l))return f.get(l);var d=n.apply(this,s);return u.cache=f.set(l,d)||f,d};return u.cache=new(r.Cache||t),u}return r.Cache=t,Eb=r,Eb}var Sb,pO;function oV(){if(pO)return Sb;pO=1;var t=uV(),e=500;function r(n){var i=t(n,function(s){return u.size===e&&u.clear(),s}),u=i.cache;return i}return Sb=r,Sb}var Tb,gO;function sV(){if(gO)return Tb;gO=1;var t=oV(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var u=[];return i.charCodeAt(0)===46&&u.push(""),i.replace(e,function(s,l,f,d){u.push(f?d.replace(r,"$1"):l||s)}),u});return Tb=n,Tb}var _b,yO;function vh(){if(yO)return _b;yO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,u=Array(i);++n<i;)u[n]=r(e[n],n,e);return u}return _b=t,_b}var Cb,mO;function lV(){if(mO)return Cb;mO=1;var t=vl(),e=vh(),r=sn(),n=gl(),i=t?t.prototype:void 0,u=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return u?u.call(l):"";var f=l+"";return f=="0"&&1/l==-1/0?"-0":f}return Cb=s,Cb}var Ab,bO;function $5(){if(bO)return Ab;bO=1;var t=lV();function e(r){return r==null?"":t(r)}return Ab=e,Ab}var Rb,wO;function hh(){if(wO)return Rb;wO=1;var t=sn(),e=BE(),r=sV(),n=$5();function i(u,s){return t(u)?u:e(u,s)?[u]:r(n(u))}return Rb=i,Rb}var Db,xO;function gf(){if(xO)return Db;xO=1;var t=gl();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Db=e,Db}var Ob,EO;function ph(){if(EO)return Ob;EO=1;var t=hh(),e=gf();function r(n,i){i=t(i,n);for(var u=0,s=i.length;n!=null&&u<s;)n=n[e(i[u++])];return u&&u==s?n:void 0}return Ob=r,Ob}var Mb,SO;function cV(){if(SO)return Mb;SO=1;var t=ph();function e(r,n,i){var u=r==null?void 0:t(r,n);return u===void 0?i:u}return Mb=e,Mb}var Bb,TO;function fV(){if(TO)return Bb;TO=1;function t(e,r){return e!=null&&r in Object(e)}return Bb=t,Bb}var qb,_O;function X5(){if(_O)return qb;_O=1;var t=hh(),e=hf(),r=sn(),n=sh(),i=EE(),u=gf();function s(l,f,d){f=t(f,l);for(var v=-1,p=f.length,g=!1;++v<p;){var m=u(f[v]);if(!(g=l!=null&&d(l,m)))break;l=l[m]}return g||++v!=p?g:(p=l==null?0:l.length,!!p&&i(p)&&n(m,p)&&(r(l)||e(l)))}return qb=s,qb}var kb,CO;function Z5(){if(CO)return kb;CO=1;var t=fV(),e=X5();function r(n,i){return n!=null&&e(n,i,t)}return kb=r,kb}var zb,AO;function dV(){if(AO)return zb;AO=1;var t=H5(),e=cV(),r=Z5(),n=BE(),i=K5(),u=Y5(),s=gf(),l=1,f=2;function d(v,p){return n(v)&&i(p)?u(s(v),p):function(g){var m=e(g,v);return m===void 0&&m===p?r(g,v):t(p,m,l|f)}}return zb=d,zb}var Nb,RO;function Q5(){if(RO)return Nb;RO=1;function t(e){return function(r){return r?.[e]}}return Nb=t,Nb}var Lb,DO;function vV(){if(DO)return Lb;DO=1;var t=ph();function e(r){return function(n){return t(n,r)}}return Lb=e,Lb}var Pb,OO;function hV(){if(OO)return Pb;OO=1;var t=Q5(),e=vV(),r=BE(),n=gf();function i(u){return r(u)?t(n(u)):e(u)}return Pb=i,Pb}var Ib,MO;function $i(){if(MO)return Ib;MO=1;var t=iV(),e=dV(),r=Fo(),n=sn(),i=hV();function u(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return Ib=u,Ib}var Ub,BO;function W5(){if(BO)return Ub;BO=1;var t=R5(),e=X8(),r=$i(),n=sn();function i(u,s){var l=n(u)?t:e;return l(u,r(s,3))}return Ub=i,Ub}var Fb,qO;function pV(){if(qO)return Fb;qO=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n,i){return n!=null&&e.call(n,i)}return Fb=r,Fb}var Vb,kO;function J5(){if(kO)return Vb;kO=1;var t=pV(),e=X5();function r(n,i){return n!=null&&e(n,i,t)}return Vb=r,Vb}var Gb,zO;function gV(){if(zO)return Gb;zO=1;var t=TE(),e=pl(),r=hf(),n=sn(),i=Yi(),u=hl(),s=ch(),l=pf(),f="[object Map]",d="[object Set]",v=Object.prototype,p=v.hasOwnProperty;function g(m){if(m==null)return!0;if(i(m)&&(n(m)||typeof m=="string"||typeof m.splice=="function"||u(m)||l(m)||r(m)))return!m.length;var b=e(m);if(b==f||b==d)return!m.size;if(s(m))return!t(m).length;for(var C in m)if(p.call(m,C))return!1;return!0}return Gb=g,Gb}var jb,NO;function ez(){if(NO)return jb;NO=1;function t(e){return e===void 0}return jb=t,jb}var Hb,LO;function tz(){if(LO)return Hb;LO=1;var t=dh(),e=Yi();function r(n,i){var u=-1,s=e(n)?Array(n.length):[];return t(n,function(l,f,d){s[++u]=i(l,f,d)}),s}return Hb=r,Hb}var Kb,PO;function rz(){if(PO)return Kb;PO=1;var t=vh(),e=$i(),r=tz(),n=sn();function i(u,s){var l=n(u)?t:r;return l(u,e(s,3))}return Kb=i,Kb}var Yb,IO;function yV(){if(IO)return Yb;IO=1;function t(e,r,n,i){var u=-1,s=e==null?0:e.length;for(i&&s&&(n=e[++u]);++u<s;)n=r(n,e[u],u,e);return n}return Yb=t,Yb}var $b,UO;function mV(){if(UO)return $b;UO=1;function t(e,r,n,i,u){return u(e,function(s,l,f){n=i?(i=!1,s):r(n,s,l,f)}),n}return $b=t,$b}var Xb,FO;function nz(){if(FO)return Xb;FO=1;var t=yV(),e=dh(),r=$i(),n=mV(),i=sn();function u(s,l,f){var d=i(s)?t:n,v=arguments.length<3;return d(s,r(l,4),f,v,e)}return Xb=u,Xb}var Zb,VO;function bV(){if(VO)return Zb;VO=1;var t=Po(),e=sn(),r=di(),n="[object String]";function i(u){return typeof u=="string"||!e(u)&&r(u)&&t(u)==n}return Zb=i,Zb}var Qb,GO;function wV(){if(GO)return Qb;GO=1;var t=Q5(),e=t("length");return Qb=e,Qb}var Wb,jO;function xV(){if(jO)return Wb;jO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,u="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+u+"]");function f(d){return l.test(d)}return Wb=f,Wb}var Jb,HO;function EV(){if(HO)return Jb;HO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,u="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+f+")",v="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",b=d+"?",C="["+u+"]?",x="(?:"+m+"(?:"+[v,p,g].join("|")+")"+C+b+")*",E=C+b+x,_="(?:"+[v+l+"?",l,p,g,s].join("|")+")",A=RegExp(f+"(?="+f+")|"+_+E,"g");function R(M){for(var B=A.lastIndex=0;A.test(M);)++B;return B}return Jb=R,Jb}var e1,KO;function SV(){if(KO)return e1;KO=1;var t=wV(),e=xV(),r=EV();function n(i){return e(i)?r(i):t(i)}return e1=n,e1}var t1,YO;function TV(){if(YO)return t1;YO=1;var t=TE(),e=pl(),r=Yi(),n=bV(),i=SV(),u="[object Map]",s="[object Set]";function l(f){if(f==null)return 0;if(r(f))return n(f)?i(f):f.length;var d=e(f);return d==u||d==s?f.size:t(f).length}return t1=l,t1}var r1,$O;function _V(){if($O)return r1;$O=1;var t=xE(),e=N5(),r=OE(),n=$i(),i=fh(),u=sn(),s=hl(),l=df(),f=ka(),d=pf();function v(p,g,m){var b=u(p),C=b||s(p)||d(p);if(g=n(g,4),m==null){var x=p&&p.constructor;C?m=b?new x:[]:f(p)?m=l(x)?e(i(p)):{}:m={}}return(C?t:r)(p,function(E,_,A){return g(m,E,_,A)}),m}return r1=v,r1}var n1,XO;function CV(){if(XO)return n1;XO=1;var t=vl(),e=hf(),r=sn(),n=t?t.isConcatSpreadable:void 0;function i(u){return r(u)||e(u)||!!(n&&u&&u[n])}return n1=i,n1}var a1,ZO;function qE(){if(ZO)return a1;ZO=1;var t=CE(),e=CV();function r(n,i,u,s,l){var f=-1,d=n.length;for(u||(u=e),l||(l=[]);++f<d;){var v=n[f];i>0&&u(v)?i>1?r(v,i-1,u,s,l):t(l,v):s||(l[l.length]=v)}return l}return a1=r,a1}var i1,QO;function AV(){if(QO)return i1;QO=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return i1=t,i1}var u1,WO;function az(){if(WO)return u1;WO=1;var t=AV(),e=Math.max;function r(n,i,u){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,f=e(s.length-i,0),d=Array(f);++l<f;)d[l]=s[i+l];l=-1;for(var v=Array(i+1);++l<i;)v[l]=s[l];return v[i]=u(d),t(n,this,v)}}return u1=r,u1}var o1,JO;function RV(){if(JO)return o1;JO=1;var t=RE(),e=S5(),r=Fo(),n=e?function(i,u){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(u),writable:!0})}:r;return o1=n,o1}var s1,eM;function DV(){if(eM)return s1;eM=1;var t=800,e=16,r=Date.now;function n(i){var u=0,s=0;return function(){var l=r(),f=e-(l-s);if(s=l,f>0){if(++u>=t)return arguments[0]}else u=0;return i.apply(void 0,arguments)}}return s1=n,s1}var l1,tM;function iz(){if(tM)return l1;tM=1;var t=RV(),e=DV(),r=e(t);return l1=r,l1}var c1,rM;function gh(){if(rM)return c1;rM=1;var t=Fo(),e=az(),r=iz();function n(i,u){return r(e(i,u,t),i+"")}return c1=n,c1}var f1,nM;function uz(){if(nM)return f1;nM=1;function t(e,r,n,i){for(var u=e.length,s=n+(i?1:-1);i?s--:++s<u;)if(r(e[s],s,e))return s;return-1}return f1=t,f1}var d1,aM;function OV(){if(aM)return d1;aM=1;function t(e){return e!==e}return d1=t,d1}var v1,iM;function MV(){if(iM)return v1;iM=1;function t(e,r,n){for(var i=n-1,u=e.length;++i<u;)if(e[i]===r)return i;return-1}return v1=t,v1}var h1,uM;function BV(){if(uM)return h1;uM=1;var t=uz(),e=OV(),r=MV();function n(i,u,s){return u===u?r(i,u,s):t(i,e,s)}return h1=n,h1}var p1,oM;function qV(){if(oM)return p1;oM=1;var t=BV();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return p1=e,p1}var g1,sM;function kV(){if(sM)return g1;sM=1;function t(e,r,n){for(var i=-1,u=e==null?0:e.length;++i<u;)if(n(r,e[i]))return!0;return!1}return g1=t,g1}var y1,lM;function zV(){if(lM)return y1;lM=1;function t(){}return y1=t,y1}var m1,cM;function NV(){if(cM)return m1;cM=1;var t=q5(),e=zV(),r=ME(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(u){return new t(u)}:e;return m1=i,m1}var b1,fM;function LV(){if(fM)return b1;fM=1;var t=V5(),e=qV(),r=kV(),n=G5(),i=NV(),u=ME(),s=200;function l(f,d,v){var p=-1,g=e,m=f.length,b=!0,C=[],x=C;if(v)b=!1,g=r;else if(m>=s){var E=d?null:i(f);if(E)return u(E);b=!1,g=n,x=new t}else x=d?[]:C;e:for(;++p<m;){var _=f[p],A=d?d(_):_;if(_=v||_!==0?_:0,b&&A===A){for(var R=x.length;R--;)if(x[R]===A)continue e;d&&x.push(A),C.push(_)}else g(x,A,v)||(x!==C&&x.push(A),C.push(_))}return C}return b1=l,b1}var w1,dM;function oz(){if(dM)return w1;dM=1;var t=Yi(),e=di();function r(n){return e(n)&&t(n)}return w1=r,w1}var x1,vM;function PV(){if(vM)return x1;vM=1;var t=qE(),e=gh(),r=LV(),n=oz(),i=e(function(u){return r(t(u,1,n,!0))});return x1=i,x1}var E1,hM;function IV(){if(hM)return E1;hM=1;var t=vh();function e(r,n){return t(n,function(i){return r[i]})}return E1=e,E1}var S1,pM;function sz(){if(pM)return S1;pM=1;var t=IV(),e=$u();function r(n){return n==null?[]:t(n,e(n))}return S1=r,S1}var T1,gM;function za(){if(gM)return T1;gM=1;var t;if(typeof mE=="function")try{t={clone:K8(),constant:RE(),each:F5(),filter:W5(),has:J5(),isArray:sn(),isEmpty:gV(),isFunction:df(),isUndefined:ez(),keys:$u(),map:rz(),reduce:nz(),size:TV(),transform:_V(),union:PV(),values:sz()}}catch{}return t||(t=window._),T1=t,T1}var _1,yM;function kE(){if(yM)return _1;yM=1;var t=za();_1=i;var e="\0",r="\0",n="";function i(v){this._isDirected=t.has(v,"directed")?v.directed:!0,this._isMultigraph=t.has(v,"multigraph")?v.multigraph:!1,this._isCompound=t.has(v,"compound")?v.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(v){return this._label=v,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(v){return t.isFunction(v)||(v=t.constant(v)),this._defaultNodeLabelFn=v,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var v=this;return t.filter(this.nodes(),function(p){return t.isEmpty(v._in[p])})},i.prototype.sinks=function(){var v=this;return t.filter(this.nodes(),function(p){return t.isEmpty(v._out[p])})},i.prototype.setNodes=function(v,p){var g=arguments,m=this;return t.each(v,function(b){g.length>1?m.setNode(b,p):m.setNode(b)}),this},i.prototype.setNode=function(v,p){return t.has(this._nodes,v)?(arguments.length>1&&(this._nodes[v]=p),this):(this._nodes[v]=arguments.length>1?p:this._defaultNodeLabelFn(v),this._isCompound&&(this._parent[v]=r,this._children[v]={},this._children[r][v]=!0),this._in[v]={},this._preds[v]={},this._out[v]={},this._sucs[v]={},++this._nodeCount,this)},i.prototype.node=function(v){return this._nodes[v]},i.prototype.hasNode=function(v){return t.has(this._nodes,v)},i.prototype.removeNode=function(v){var p=this;if(t.has(this._nodes,v)){var g=function(m){p.removeEdge(p._edgeObjs[m])};delete this._nodes[v],this._isCompound&&(this._removeFromParentsChildList(v),delete this._parent[v],t.each(this.children(v),function(m){p.setParent(m)}),delete this._children[v]),t.each(t.keys(this._in[v]),g),delete this._in[v],delete this._preds[v],t.each(t.keys(this._out[v]),g),delete this._out[v],delete this._sucs[v],--this._nodeCount}return this},i.prototype.setParent=function(v,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(p))p=r;else{p+="";for(var g=p;!t.isUndefined(g);g=this.parent(g))if(g===v)throw new Error("Setting "+p+" as parent of "+v+" would create a cycle");this.setNode(p)}return this.setNode(v),this._removeFromParentsChildList(v),this._parent[v]=p,this._children[p][v]=!0,this},i.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]},i.prototype.parent=function(v){if(this._isCompound){var p=this._parent[v];if(p!==r)return p}},i.prototype.children=function(v){if(t.isUndefined(v)&&(v=r),this._isCompound){var p=this._children[v];if(p)return t.keys(p)}else{if(v===r)return this.nodes();if(this.hasNode(v))return[]}},i.prototype.predecessors=function(v){var p=this._preds[v];if(p)return t.keys(p)},i.prototype.successors=function(v){var p=this._sucs[v];if(p)return t.keys(p)},i.prototype.neighbors=function(v){var p=this.predecessors(v);if(p)return t.union(p,this.successors(v))},i.prototype.isLeaf=function(v){var p;return this.isDirected()?p=this.successors(v):p=this.neighbors(v),p.length===0},i.prototype.filterNodes=function(v){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var g=this;t.each(this._nodes,function(C,x){v(x)&&p.setNode(x,C)}),t.each(this._edgeObjs,function(C){p.hasNode(C.v)&&p.hasNode(C.w)&&p.setEdge(C,g.edge(C))});var m={};function b(C){var x=g.parent(C);return x===void 0||p.hasNode(x)?(m[C]=x,x):x in m?m[x]:b(x)}return this._isCompound&&t.each(p.nodes(),function(C){p.setParent(C,b(C))}),p},i.prototype.setDefaultEdgeLabel=function(v){return t.isFunction(v)||(v=t.constant(v)),this._defaultEdgeLabelFn=v,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(v,p){var g=this,m=arguments;return t.reduce(v,function(b,C){return m.length>1?g.setEdge(b,C,p):g.setEdge(b,C),C}),this},i.prototype.setEdge=function(){var v,p,g,m,b=!1,C=arguments[0];typeof C=="object"&&C!==null&&"v"in C?(v=C.v,p=C.w,g=C.name,arguments.length===2&&(m=arguments[1],b=!0)):(v=C,p=arguments[1],g=arguments[3],arguments.length>2&&(m=arguments[2],b=!0)),v=""+v,p=""+p,t.isUndefined(g)||(g=""+g);var x=l(this._isDirected,v,p,g);if(t.has(this._edgeLabels,x))return b&&(this._edgeLabels[x]=m),this;if(!t.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(v),this.setNode(p),this._edgeLabels[x]=b?m:this._defaultEdgeLabelFn(v,p,g);var E=f(this._isDirected,v,p,g);return v=E.v,p=E.w,Object.freeze(E),this._edgeObjs[x]=E,u(this._preds[p],v),u(this._sucs[v],p),this._in[p][x]=E,this._out[v][x]=E,this._edgeCount++,this},i.prototype.edge=function(v,p,g){var m=arguments.length===1?d(this._isDirected,arguments[0]):l(this._isDirected,v,p,g);return this._edgeLabels[m]},i.prototype.hasEdge=function(v,p,g){var m=arguments.length===1?d(this._isDirected,arguments[0]):l(this._isDirected,v,p,g);return t.has(this._edgeLabels,m)},i.prototype.removeEdge=function(v,p,g){var m=arguments.length===1?d(this._isDirected,arguments[0]):l(this._isDirected,v,p,g),b=this._edgeObjs[m];return b&&(v=b.v,p=b.w,delete this._edgeLabels[m],delete this._edgeObjs[m],s(this._preds[p],v),s(this._sucs[v],p),delete this._in[p][m],delete this._out[v][m],this._edgeCount--),this},i.prototype.inEdges=function(v,p){var g=this._in[v];if(g){var m=t.values(g);return p?t.filter(m,function(b){return b.v===p}):m}},i.prototype.outEdges=function(v,p){var g=this._out[v];if(g){var m=t.values(g);return p?t.filter(m,function(b){return b.w===p}):m}},i.prototype.nodeEdges=function(v,p){var g=this.inEdges(v,p);if(g)return g.concat(this.outEdges(v,p))};function u(v,p){v[p]?v[p]++:v[p]=1}function s(v,p){--v[p]||delete v[p]}function l(v,p,g,m){var b=""+p,C=""+g;if(!v&&b>C){var x=b;b=C,C=x}return b+n+C+n+(t.isUndefined(m)?e:m)}function f(v,p,g,m){var b=""+p,C=""+g;if(!v&&b>C){var x=b;b=C,C=x}var E={v:b,w:C};return m&&(E.name=m),E}function d(v,p){return l(v,p.v,p.w,p.name)}return _1}var C1,mM;function UV(){return mM||(mM=1,C1="2.1.8"),C1}var A1,bM;function FV(){return bM||(bM=1,A1={Graph:kE(),version:UV()}),A1}var R1,wM;function VV(){if(wM)return R1;wM=1;var t=za(),e=kE();R1={write:r,read:u};function r(s){var l={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:i(s)};return t.isUndefined(s.graph())||(l.value=t.clone(s.graph())),l}function n(s){return t.map(s.nodes(),function(l){var f=s.node(l),d=s.parent(l),v={v:l};return t.isUndefined(f)||(v.value=f),t.isUndefined(d)||(v.parent=d),v})}function i(s){return t.map(s.edges(),function(l){var f=s.edge(l),d={v:l.v,w:l.w};return t.isUndefined(l.name)||(d.name=l.name),t.isUndefined(f)||(d.value=f),d})}function u(s){var l=new e(s.options).setGraph(s.value);return t.each(s.nodes,function(f){l.setNode(f.v,f.value),f.parent&&l.setParent(f.v,f.parent)}),t.each(s.edges,function(f){l.setEdge({v:f.v,w:f.w,name:f.name},f.value)}),l}return R1}var D1,xM;function GV(){if(xM)return D1;xM=1;var t=za();D1=e;function e(r){var n={},i=[],u;function s(l){t.has(n,l)||(n[l]=!0,u.push(l),t.each(r.successors(l),s),t.each(r.predecessors(l),s))}return t.each(r.nodes(),function(l){u=[],s(l),u.length&&i.push(u)}),i}return D1}var O1,EM;function lz(){if(EM)return O1;EM=1;var t=za();O1=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(r){return r.key})},e.prototype.has=function(r){return t.has(this._keyIndices,r)},e.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!t.has(i,r)){var u=this._arr,s=u.length;return i[r]=s,u.push({key:r,priority:n}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},e.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},e.prototype._heapify=function(r){var n=this._arr,i=2*r,u=i+1,s=r;i<n.length&&(s=n[i].priority<n[s].priority?i:s,u<n.length&&(s=n[u].priority<n[s].priority?u:s),s!==r&&(this._swap(r,s),this._heapify(s)))},e.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,u;r!==0&&(u=r>>1,!(n[u].priority<i));)this._swap(r,u),r=u},e.prototype._swap=function(r,n){var i=this._arr,u=this._keyIndices,s=i[r],l=i[n];i[r]=l,i[n]=s,u[l.key]=r,u[s.key]=n},O1}var M1,SM;function cz(){if(SM)return M1;SM=1;var t=za(),e=lz();M1=n;var r=t.constant(1);function n(u,s,l,f){return i(u,String(s),l||r,f||function(d){return u.outEdges(d)})}function i(u,s,l,f){var d={},v=new e,p,g,m=function(b){var C=b.v!==p?b.v:b.w,x=d[C],E=l(b),_=g.distance+E;if(E<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+b+" Weight: "+E);_<x.distance&&(x.distance=_,x.predecessor=p,v.decrease(C,_))};for(u.nodes().forEach(function(b){var C=b===s?0:Number.POSITIVE_INFINITY;d[b]={distance:C},v.add(b,C)});v.size()>0&&(p=v.removeMin(),g=d[p],g.distance!==Number.POSITIVE_INFINITY);)f(p).forEach(m);return d}return M1}var B1,TM;function jV(){if(TM)return B1;TM=1;var t=cz(),e=za();B1=r;function r(n,i,u){return e.transform(n.nodes(),function(s,l){s[l]=t(n,l,i,u)},{})}return B1}var q1,_M;function fz(){if(_M)return q1;_M=1;var t=za();q1=e;function e(r){var n=0,i=[],u={},s=[];function l(f){var d=u[f]={onStack:!0,lowlink:n,index:n++};if(i.push(f),r.successors(f).forEach(function(g){t.has(u,g)?u[g].onStack&&(d.lowlink=Math.min(d.lowlink,u[g].index)):(l(g),d.lowlink=Math.min(d.lowlink,u[g].lowlink))}),d.lowlink===d.index){var v=[],p;do p=i.pop(),u[p].onStack=!1,v.push(p);while(f!==p);s.push(v)}}return r.nodes().forEach(function(f){t.has(u,f)||l(f)}),s}return q1}var k1,CM;function HV(){if(CM)return k1;CM=1;var t=za(),e=fz();k1=r;function r(n){return t.filter(e(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return k1}var z1,AM;function KV(){if(AM)return z1;AM=1;var t=za();z1=r;var e=t.constant(1);function r(i,u,s){return n(i,u||e,s||function(l){return i.outEdges(l)})}function n(i,u,s){var l={},f=i.nodes();return f.forEach(function(d){l[d]={},l[d][d]={distance:0},f.forEach(function(v){d!==v&&(l[d][v]={distance:Number.POSITIVE_INFINITY})}),s(d).forEach(function(v){var p=v.v===d?v.w:v.v,g=u(v);l[d][p]={distance:g,predecessor:d}})}),f.forEach(function(d){var v=l[d];f.forEach(function(p){var g=l[p];f.forEach(function(m){var b=g[d],C=v[m],x=g[m],E=b.distance+C.distance;E<x.distance&&(x.distance=E,x.predecessor=C.predecessor)})})}),l}return z1}var N1,RM;function dz(){if(RM)return N1;RM=1;var t=za();N1=e,e.CycleException=r;function e(n){var i={},u={},s=[];function l(f){if(t.has(u,f))throw new r;t.has(i,f)||(u[f]=!0,i[f]=!0,t.each(n.predecessors(f),l),delete u[f],s.push(f))}if(t.each(n.sinks(),l),t.size(i)!==n.nodeCount())throw new r;return s}function r(){}return r.prototype=new Error,N1}var L1,DM;function YV(){if(DM)return L1;DM=1;var t=dz();L1=e;function e(r){try{t(r)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}return L1}var P1,OM;function vz(){if(OM)return P1;OM=1;var t=za();P1=e;function e(n,i,u){t.isArray(i)||(i=[i]);var s=(n.isDirected()?n.successors:n.neighbors).bind(n),l=[],f={};return t.each(i,function(d){if(!n.hasNode(d))throw new Error("Graph does not have node: "+d);r(n,d,u==="post",f,s,l)}),l}function r(n,i,u,s,l,f){t.has(s,i)||(s[i]=!0,u||f.push(i),t.each(l(i),function(d){r(n,d,u,s,l,f)}),u&&f.push(i))}return P1}var I1,MM;function $V(){if(MM)return I1;MM=1;var t=vz();I1=e;function e(r,n){return t(r,n,"post")}return I1}var U1,BM;function XV(){if(BM)return U1;BM=1;var t=vz();U1=e;function e(r,n){return t(r,n,"pre")}return U1}var F1,qM;function ZV(){if(qM)return F1;qM=1;var t=za(),e=kE(),r=lz();F1=n;function n(i,u){var s=new e,l={},f=new r,d;function v(g){var m=g.v===d?g.w:g.v,b=f.priority(m);if(b!==void 0){var C=u(g);C<b&&(l[m]=d,f.decrease(m,C))}}if(i.nodeCount()===0)return s;t.each(i.nodes(),function(g){f.add(g,Number.POSITIVE_INFINITY),s.setNode(g)}),f.decrease(i.nodes()[0],0);for(var p=!1;f.size()>0;){if(d=f.removeMin(),t.has(l,d))s.setEdge(d,l[d]);else{if(p)throw new Error("Input graph is not connected: "+i);p=!0}i.nodeEdges(d).forEach(v)}return s}return F1}var V1,kM;function QV(){return kM||(kM=1,V1={components:GV(),dijkstra:cz(),dijkstraAll:jV(),findCycles:HV(),floydWarshall:KV(),isAcyclic:YV(),postorder:$V(),preorder:XV(),prim:ZV(),tarjan:fz(),topsort:dz()}),V1}var G1,zM;function WV(){if(zM)return G1;zM=1;var t=FV();return G1={Graph:t.Graph,json:VV(),alg:QV(),version:t.version},G1}var j1,NM;function Ya(){if(NM)return j1;NM=1;var t;if(typeof mE=="function")try{t=WV()}catch{}return t||(t=window.graphlib),j1=t,j1}var H1,LM;function JV(){if(LM)return H1;LM=1;var t=P5(),e=1,r=4;function n(i){return t(i,e|r)}return H1=n,H1}var K1,PM;function yh(){if(PM)return K1;PM=1;var t=dl(),e=Yi(),r=sh(),n=ka();function i(u,s,l){if(!n(l))return!1;var f=typeof s;return(f=="number"?e(l)&&r(s,l.length):f=="string"&&s in l)?t(l[s],u):!1}return K1=i,K1}var Y1,IM;function eG(){if(IM)return Y1;IM=1;var t=gh(),e=dl(),r=yh(),n=Uo(),i=Object.prototype,u=i.hasOwnProperty,s=t(function(l,f){l=Object(l);var d=-1,v=f.length,p=v>2?f[2]:void 0;for(p&&r(f[0],f[1],p)&&(v=1);++d<v;)for(var g=f[d],m=n(g),b=-1,C=m.length;++b<C;){var x=m[b],E=l[x];(E===void 0||e(E,i[x])&&!u.call(l,x))&&(l[x]=g[x])}return l});return Y1=s,Y1}var $1,UM;function tG(){if(UM)return $1;UM=1;var t=$i(),e=Yi(),r=$u();function n(i){return function(u,s,l){var f=Object(u);if(!e(u)){var d=t(s,3);u=r(u),s=function(p){return d(f[p],p,f)}}var v=i(u,s,l);return v>-1?f[d?u[v]:v]:void 0}}return $1=n,$1}var X1,FM;function rG(){if(FM)return X1;FM=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return X1=e,X1}var Z1,VM;function nG(){if(VM)return Z1;VM=1;var t=rG(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Z1=r,Z1}var Q1,GM;function aG(){if(GM)return Q1;GM=1;var t=nG(),e=ka(),r=gl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function f(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var v=typeof d.valueOf=="function"?d.valueOf():d;d=e(v)?v+"":v}if(typeof d!="string")return d===0?d:+d;d=t(d);var p=u.test(d);return p||s.test(d)?l(d.slice(2),p?2:8):i.test(d)?n:+d}return Q1=f,Q1}var W1,jM;function hz(){if(jM)return W1;jM=1;var t=aG(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var u=i<0?-1:1;return u*r}return i===i?i:0}return W1=n,W1}var J1,HM;function iG(){if(HM)return J1;HM=1;var t=hz();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return J1=e,J1}var ew,KM;function uG(){if(KM)return ew;KM=1;var t=uz(),e=$i(),r=iG(),n=Math.max;function i(u,s,l){var f=u==null?0:u.length;if(!f)return-1;var d=l==null?0:r(l);return d<0&&(d=n(f+d,0)),t(u,e(s,3),d)}return ew=i,ew}var tw,YM;function oG(){if(YM)return tw;YM=1;var t=tG(),e=uG(),r=t(e);return tw=r,tw}var rw,$M;function pz(){if($M)return rw;$M=1;var t=qE();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return rw=e,rw}var nw,XM;function sG(){if(XM)return nw;XM=1;var t=DE(),e=I5(),r=Uo();function n(i,u){return i==null?i:t(i,e(u),r)}return nw=n,nw}var aw,ZM;function lG(){if(ZM)return aw;ZM=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return aw=t,aw}var iw,QM;function cG(){if(QM)return iw;QM=1;var t=uh(),e=OE(),r=$i();function n(i,u){var s={};return u=r(u,3),e(i,function(l,f,d){t(s,f,u(l,f,d))}),s}return iw=n,iw}var uw,WM;function zE(){if(WM)return uw;WM=1;var t=gl();function e(r,n,i){for(var u=-1,s=r.length;++u<s;){var l=r[u],f=n(l);if(f!=null&&(d===void 0?f===f&&!t(f):i(f,d)))var d=f,v=l}return v}return uw=e,uw}var ow,JM;function fG(){if(JM)return ow;JM=1;function t(e,r){return e>r}return ow=t,ow}var sw,eB;function dG(){if(eB)return sw;eB=1;var t=zE(),e=fG(),r=Fo();function n(i){return i&&i.length?t(i,r,e):void 0}return sw=n,sw}var lw,tB;function gz(){if(tB)return lw;tB=1;var t=uh(),e=dl();function r(n,i,u){(u!==void 0&&!e(n[i],u)||u===void 0&&!(i in n))&&t(n,i,u)}return lw=r,lw}var cw,rB;function vG(){if(rB)return cw;rB=1;var t=Po(),e=fh(),r=di(),n="[object Object]",i=Function.prototype,u=Object.prototype,s=i.toString,l=u.hasOwnProperty,f=s.call(Object);function d(v){if(!r(v)||t(v)!=n)return!1;var p=e(v);if(p===null)return!0;var g=l.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==f}return cw=d,cw}var fw,nB;function yz(){if(nB)return fw;nB=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return fw=t,fw}var dw,aB;function hG(){if(aB)return dw;aB=1;var t=vf(),e=Uo();function r(n){return t(n,e(n))}return dw=r,dw}var vw,iB;function pG(){if(iB)return vw;iB=1;var t=gz(),e=C5(),r=z5(),n=A5(),i=L5(),u=hf(),s=sn(),l=oz(),f=hl(),d=df(),v=ka(),p=vG(),g=pf(),m=yz(),b=hG();function C(x,E,_,A,R,M,B){var O=m(x,_),N=m(E,_),L=B.get(N);if(L){t(x,_,L);return}var P=M?M(O,N,_+"",x,E,B):void 0,I=P===void 0;if(I){var V=s(N),G=!V&&f(N),Z=!V&&!G&&g(N);P=N,V||G||Z?s(O)?P=O:l(O)?P=n(O):G?(I=!1,P=e(N,!0)):Z?(I=!1,P=r(N,!0)):P=[]:p(N)||u(N)?(P=O,u(O)?P=b(O):(!v(O)||d(O))&&(P=i(N))):I=!1}I&&(B.set(N,P),R(P,N,A,M,B),B.delete(N)),t(x,_,P)}return vw=C,vw}var hw,uB;function gG(){if(uB)return hw;uB=1;var t=ih(),e=gz(),r=DE(),n=pG(),i=ka(),u=Uo(),s=yz();function l(f,d,v,p,g){f!==d&&r(d,function(m,b){if(g||(g=new t),i(m))n(f,d,b,v,l,p,g);else{var C=p?p(s(f,b),m,b+"",f,d,g):void 0;C===void 0&&(C=m),e(f,b,C)}},u)}return hw=l,hw}var pw,oB;function yG(){if(oB)return pw;oB=1;var t=gh(),e=yh();function r(n){return t(function(i,u){var s=-1,l=u.length,f=l>1?u[l-1]:void 0,d=l>2?u[2]:void 0;for(f=n.length>3&&typeof f=="function"?(l--,f):void 0,d&&e(u[0],u[1],d)&&(f=l<3?void 0:f,l=1),i=Object(i);++s<l;){var v=u[s];v&&n(i,v,s,f)}return i})}return pw=r,pw}var gw,sB;function mG(){if(sB)return gw;sB=1;var t=gG(),e=yG(),r=e(function(n,i,u){t(n,i,u)});return gw=r,gw}var yw,lB;function mz(){if(lB)return yw;lB=1;function t(e,r){return e<r}return yw=t,yw}var mw,cB;function bG(){if(cB)return mw;cB=1;var t=zE(),e=mz(),r=Fo();function n(i){return i&&i.length?t(i,r,e):void 0}return mw=n,mw}var bw,fB;function wG(){if(fB)return bw;fB=1;var t=zE(),e=$i(),r=mz();function n(i,u){return i&&i.length?t(i,e(u,2),r):void 0}return bw=n,bw}var ww,dB;function xG(){if(dB)return ww;dB=1;var t=$a(),e=function(){return t.Date.now()};return ww=e,ww}var xw,vB;function EG(){if(vB)return xw;vB=1;var t=oh(),e=hh(),r=sh(),n=ka(),i=gf();function u(s,l,f,d){if(!n(s))return s;l=e(l,s);for(var v=-1,p=l.length,g=p-1,m=s;m!=null&&++v<p;){var b=i(l[v]),C=f;if(b==="__proto__"||b==="constructor"||b==="prototype")return s;if(v!=g){var x=m[b];C=d?d(x,b,m):void 0,C===void 0&&(C=n(x)?x:r(l[v+1])?[]:{})}t(m,b,C),m=m[b]}return s}return xw=u,xw}var Ew,hB;function SG(){if(hB)return Ew;hB=1;var t=ph(),e=EG(),r=hh();function n(i,u,s){for(var l=-1,f=u.length,d={};++l<f;){var v=u[l],p=t(i,v);s(p,v)&&e(d,r(v,i),p)}return d}return Ew=n,Ew}var Sw,pB;function TG(){if(pB)return Sw;pB=1;var t=SG(),e=Z5();function r(n,i){return t(n,i,function(u,s){return e(n,s)})}return Sw=r,Sw}var Tw,gB;function _G(){if(gB)return Tw;gB=1;var t=pz(),e=az(),r=iz();function n(i){return r(e(i,void 0,t),i+"")}return Tw=n,Tw}var _w,yB;function CG(){if(yB)return _w;yB=1;var t=TG(),e=_G(),r=e(function(n,i){return n==null?{}:t(n,i)});return _w=r,_w}var Cw,mB;function AG(){if(mB)return Cw;mB=1;var t=Math.ceil,e=Math.max;function r(n,i,u,s){for(var l=-1,f=e(t((i-n)/(u||1)),0),d=Array(f);f--;)d[s?f:++l]=n,n+=u;return d}return Cw=r,Cw}var Aw,bB;function RG(){if(bB)return Aw;bB=1;var t=AG(),e=yh(),r=hz();function n(i){return function(u,s,l){return l&&typeof l!="number"&&e(u,s,l)&&(s=l=void 0),u=r(u),s===void 0?(s=u,u=0):s=r(s),l=l===void 0?u<s?1:-1:r(l),t(u,s,l,i)}}return Aw=n,Aw}var Rw,wB;function DG(){if(wB)return Rw;wB=1;var t=RG(),e=t();return Rw=e,Rw}var Dw,xB;function OG(){if(xB)return Dw;xB=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Dw=t,Dw}var Ow,EB;function MG(){if(EB)return Ow;EB=1;var t=gl();function e(r,n){if(r!==n){var i=r!==void 0,u=r===null,s=r===r,l=t(r),f=n!==void 0,d=n===null,v=n===n,p=t(n);if(!d&&!p&&!l&&r>n||l&&f&&v&&!d&&!p||u&&f&&v||!i&&v||!s)return 1;if(!u&&!l&&!p&&r<n||p&&i&&s&&!u&&!l||d&&i&&s||!f&&s||!v)return-1}return 0}return Ow=e,Ow}var Mw,SB;function BG(){if(SB)return Mw;SB=1;var t=MG();function e(r,n,i){for(var u=-1,s=r.criteria,l=n.criteria,f=s.length,d=i.length;++u<f;){var v=t(s[u],l[u]);if(v){if(u>=d)return v;var p=i[u];return v*(p=="desc"?-1:1)}}return r.index-n.index}return Mw=e,Mw}var Bw,TB;function qG(){if(TB)return Bw;TB=1;var t=vh(),e=ph(),r=$i(),n=tz(),i=OG(),u=lh(),s=BG(),l=Fo(),f=sn();function d(v,p,g){p.length?p=t(p,function(C){return f(C)?function(x){return e(x,C.length===1?C[0]:C)}:C}):p=[l];var m=-1;p=t(p,u(r));var b=n(v,function(C,x,E){var _=t(p,function(A){return A(C)});return{criteria:_,index:++m,value:C}});return i(b,function(C,x){return s(C,x,g)})}return Bw=d,Bw}var qw,_B;function kG(){if(_B)return qw;_B=1;var t=qE(),e=qG(),r=gh(),n=yh(),i=r(function(u,s){if(u==null)return[];var l=s.length;return l>1&&n(u,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(u,t(s,1),[])});return qw=i,qw}var kw,CB;function zG(){if(CB)return kw;CB=1;var t=$5(),e=0;function r(n){var i=++e;return t(n)+i}return kw=r,kw}var zw,AB;function NG(){if(AB)return zw;AB=1;function t(e,r,n){for(var i=-1,u=e.length,s=r.length,l={};++i<u;){var f=i<s?r[i]:void 0;n(l,e[i],f)}return l}return zw=t,zw}var Nw,RB;function LG(){if(RB)return Nw;RB=1;var t=oh(),e=NG();function r(n,i){return e(n||[],i||[],t)}return Nw=r,Nw}var Lw,DB;function kr(){if(DB)return Lw;DB=1;var t;if(typeof mE=="function")try{t={cloneDeep:JV(),constant:RE(),defaults:eG(),each:F5(),filter:W5(),find:oG(),flatten:pz(),forEach:U5(),forIn:sG(),has:J5(),isUndefined:ez(),last:lG(),map:rz(),mapValues:cG(),max:dG(),merge:mG(),min:bG(),minBy:wG(),now:xG(),pick:CG(),range:DG(),reduce:nz(),sortBy:kG(),uniqueId:zG(),values:sz(),zipObject:LG()}}catch{}return t||(t=window._),Lw=t,Lw}var Pw,OB;function PG(){if(OB)return Pw;OB=1,Pw=t;function t(){var n={};n._next=n._prev=n,this._sentinel=n}t.prototype.dequeue=function(){var n=this._sentinel,i=n._prev;if(i!==n)return e(i),i},t.prototype.enqueue=function(n){var i=this._sentinel;n._prev&&n._next&&e(n),n._next=i._next,i._next._prev=n,i._next=n,n._prev=i},t.prototype.toString=function(){for(var n=[],i=this._sentinel,u=i._prev;u!==i;)n.push(JSON.stringify(u,r)),u=u._prev;return"["+n.join(", ")+"]"};function e(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function r(n,i){if(n!=="_next"&&n!=="_prev")return i}return Pw}var Iw,MB;function IG(){if(MB)return Iw;MB=1;var t=kr(),e=Ya().Graph,r=PG();Iw=i;var n=t.constant(1);function i(d,v){if(d.nodeCount()<=1)return[];var p=l(d,v||n),g=u(p.graph,p.buckets,p.zeroIdx);return t.flatten(t.map(g,function(m){return d.outEdges(m.v,m.w)}),!0)}function u(d,v,p){for(var g=[],m=v[v.length-1],b=v[0],C;d.nodeCount();){for(;C=b.dequeue();)s(d,v,p,C);for(;C=m.dequeue();)s(d,v,p,C);if(d.nodeCount()){for(var x=v.length-2;x>0;--x)if(C=v[x].dequeue(),C){g=g.concat(s(d,v,p,C,!0));break}}}return g}function s(d,v,p,g,m){var b=m?[]:void 0;return t.forEach(d.inEdges(g.v),function(C){var x=d.edge(C),E=d.node(C.v);m&&b.push({v:C.v,w:C.w}),E.out-=x,f(v,p,E)}),t.forEach(d.outEdges(g.v),function(C){var x=d.edge(C),E=C.w,_=d.node(E);_.in-=x,f(v,p,_)}),d.removeNode(g.v),b}function l(d,v){var p=new e,g=0,m=0;t.forEach(d.nodes(),function(x){p.setNode(x,{v:x,in:0,out:0})}),t.forEach(d.edges(),function(x){var E=p.edge(x.v,x.w)||0,_=v(x),A=E+_;p.setEdge(x.v,x.w,A),m=Math.max(m,p.node(x.v).out+=_),g=Math.max(g,p.node(x.w).in+=_)});var b=t.range(m+g+3).map(function(){return new r}),C=g+1;return t.forEach(p.nodes(),function(x){f(b,C,p.node(x))}),{graph:p,buckets:b,zeroIdx:C}}function f(d,v,p){p.out?p.in?d[p.out-p.in+v].enqueue(p):d[d.length-1].enqueue(p):d[0].enqueue(p)}return Iw}var Uw,BB;function UG(){if(BB)return Uw;BB=1;var t=kr(),e=IG();Uw={run:r,undo:i};function r(u){var s=u.graph().acyclicer==="greedy"?e(u,l(u)):n(u);t.forEach(s,function(f){var d=u.edge(f);u.removeEdge(f),d.forwardName=f.name,d.reversed=!0,u.setEdge(f.w,f.v,d,t.uniqueId("rev"))});function l(f){return function(d){return f.edge(d).weight}}}function n(u){var s=[],l={},f={};function d(v){t.has(f,v)||(f[v]=!0,l[v]=!0,t.forEach(u.outEdges(v),function(p){t.has(l,p.w)?s.push(p):d(p.w)}),delete l[v])}return t.forEach(u.nodes(),d),s}function i(u){t.forEach(u.edges(),function(s){var l=u.edge(s);if(l.reversed){u.removeEdge(s);var f=l.forwardName;delete l.reversed,delete l.forwardName,u.setEdge(s.w,s.v,l,f)}})}return Uw}var Fw,qB;function la(){if(qB)return Fw;qB=1;var t=kr(),e=Ya().Graph;Fw={addDummyNode:r,simplify:n,asNonCompoundGraph:i,successorWeights:u,predecessorWeights:s,intersectRect:l,buildLayerMatrix:f,normalizeRanks:d,removeEmptyRanks:v,addBorderNode:p,maxRank:g,partition:m,time:b,notime:C};function r(x,E,_,A){var R;do R=t.uniqueId(A);while(x.hasNode(R));return _.dummy=E,x.setNode(R,_),R}function n(x){var E=new e().setGraph(x.graph());return t.forEach(x.nodes(),function(_){E.setNode(_,x.node(_))}),t.forEach(x.edges(),function(_){var A=E.edge(_.v,_.w)||{weight:0,minlen:1},R=x.edge(_);E.setEdge(_.v,_.w,{weight:A.weight+R.weight,minlen:Math.max(A.minlen,R.minlen)})}),E}function i(x){var E=new e({multigraph:x.isMultigraph()}).setGraph(x.graph());return t.forEach(x.nodes(),function(_){x.children(_).length||E.setNode(_,x.node(_))}),t.forEach(x.edges(),function(_){E.setEdge(_,x.edge(_))}),E}function u(x){var E=t.map(x.nodes(),function(_){var A={};return t.forEach(x.outEdges(_),function(R){A[R.w]=(A[R.w]||0)+x.edge(R).weight}),A});return t.zipObject(x.nodes(),E)}function s(x){var E=t.map(x.nodes(),function(_){var A={};return t.forEach(x.inEdges(_),function(R){A[R.v]=(A[R.v]||0)+x.edge(R).weight}),A});return t.zipObject(x.nodes(),E)}function l(x,E){var _=x.x,A=x.y,R=E.x-_,M=E.y-A,B=x.width/2,O=x.height/2;if(!R&&!M)throw new Error("Not possible to find intersection inside of the rectangle");var N,L;return Math.abs(M)*B>Math.abs(R)*O?(M<0&&(O=-O),N=O*R/M,L=O):(R<0&&(B=-B),N=B,L=B*M/R),{x:_+N,y:A+L}}function f(x){var E=t.map(t.range(g(x)+1),function(){return[]});return t.forEach(x.nodes(),function(_){var A=x.node(_),R=A.rank;t.isUndefined(R)||(E[R][A.order]=_)}),E}function d(x){var E=t.min(t.map(x.nodes(),function(_){return x.node(_).rank}));t.forEach(x.nodes(),function(_){var A=x.node(_);t.has(A,"rank")&&(A.rank-=E)})}function v(x){var E=t.min(t.map(x.nodes(),function(M){return x.node(M).rank})),_=[];t.forEach(x.nodes(),function(M){var B=x.node(M).rank-E;_[B]||(_[B]=[]),_[B].push(M)});var A=0,R=x.graph().nodeRankFactor;t.forEach(_,function(M,B){t.isUndefined(M)&&B%R!==0?--A:A&&t.forEach(M,function(O){x.node(O).rank+=A})})}function p(x,E,_,A){var R={width:0,height:0};return arguments.length>=4&&(R.rank=_,R.order=A),r(x,"border",R,E)}function g(x){return t.max(t.map(x.nodes(),function(E){var _=x.node(E).rank;if(!t.isUndefined(_))return _}))}function m(x,E){var _={lhs:[],rhs:[]};return t.forEach(x,function(A){E(A)?_.lhs.push(A):_.rhs.push(A)}),_}function b(x,E){var _=t.now();try{return E()}finally{console.log(x+" time: "+(t.now()-_)+"ms")}}function C(x,E){return E()}return Fw}var Vw,kB;function FG(){if(kB)return Vw;kB=1;var t=kr(),e=la();Vw={run:r,undo:i};function r(u){u.graph().dummyChains=[],t.forEach(u.edges(),function(s){n(u,s)})}function n(u,s){var l=s.v,f=u.node(l).rank,d=s.w,v=u.node(d).rank,p=s.name,g=u.edge(s),m=g.labelRank;if(v!==f+1){u.removeEdge(s);var b,C,x;for(x=0,++f;f<v;++x,++f)g.points=[],C={width:0,height:0,edgeLabel:g,edgeObj:s,rank:f},b=e.addDummyNode(u,"edge",C,"_d"),f===m&&(C.width=g.width,C.height=g.height,C.dummy="edge-label",C.labelpos=g.labelpos),u.setEdge(l,b,{weight:g.weight},p),x===0&&u.graph().dummyChains.push(b),l=b;u.setEdge(l,d,{weight:g.weight},p)}}function i(u){t.forEach(u.graph().dummyChains,function(s){var l=u.node(s),f=l.edgeLabel,d;for(u.setEdge(l.edgeObj,f);l.dummy;)d=u.successors(s)[0],u.removeNode(s),f.points.push({x:l.x,y:l.y}),l.dummy==="edge-label"&&(f.x=l.x,f.y=l.y,f.width=l.width,f.height=l.height),s=d,l=u.node(s)})}return Vw}var Gw,zB;function Dv(){if(zB)return Gw;zB=1;var t=kr();Gw={longestPath:e,slack:r};function e(n){var i={};function u(s){var l=n.node(s);if(t.has(i,s))return l.rank;i[s]=!0;var f=t.min(t.map(n.outEdges(s),function(d){return u(d.w)-n.edge(d).minlen}));return(f===Number.POSITIVE_INFINITY||f===void 0||f===null)&&(f=0),l.rank=f}t.forEach(n.sources(),u)}function r(n,i){return n.node(i.w).rank-n.node(i.v).rank-n.edge(i).minlen}return Gw}var jw,NB;function bz(){if(NB)return jw;NB=1;var t=kr(),e=Ya().Graph,r=Dv().slack;jw=n;function n(l){var f=new e({directed:!1}),d=l.nodes()[0],v=l.nodeCount();f.setNode(d,{});for(var p,g;i(f,l)<v;)p=u(f,l),g=f.hasNode(p.v)?r(l,p):-r(l,p),s(f,l,g);return f}function i(l,f){function d(v){t.forEach(f.nodeEdges(v),function(p){var g=p.v,m=v===g?p.w:g;!l.hasNode(m)&&!r(f,p)&&(l.setNode(m,{}),l.setEdge(v,m,{}),d(m))})}return t.forEach(l.nodes(),d),l.nodeCount()}function u(l,f){return t.minBy(f.edges(),function(d){if(l.hasNode(d.v)!==l.hasNode(d.w))return r(f,d)})}function s(l,f,d){t.forEach(l.nodes(),function(v){f.node(v).rank+=d})}return jw}var Hw,LB;function VG(){if(LB)return Hw;LB=1;var t=kr(),e=bz(),r=Dv().slack,n=Dv().longestPath,i=Ya().alg.preorder,u=Ya().alg.postorder,s=la().simplify;Hw=l,l.initLowLimValues=p,l.initCutValues=f,l.calcCutValue=v,l.leaveEdge=m,l.enterEdge=b,l.exchangeEdges=C;function l(A){A=s(A),n(A);var R=e(A);p(R),f(R,A);for(var M,B;M=m(R);)B=b(R,A,M),C(R,A,M,B)}function f(A,R){var M=u(A,A.nodes());M=M.slice(0,M.length-1),t.forEach(M,function(B){d(A,R,B)})}function d(A,R,M){var B=A.node(M),O=B.parent;A.edge(M,O).cutvalue=v(A,R,M)}function v(A,R,M){var B=A.node(M),O=B.parent,N=!0,L=R.edge(M,O),P=0;return L||(N=!1,L=R.edge(O,M)),P=L.weight,t.forEach(R.nodeEdges(M),function(I){var V=I.v===M,G=V?I.w:I.v;if(G!==O){var Z=V===N,J=R.edge(I).weight;if(P+=Z?J:-J,E(A,M,G)){var j=A.edge(M,G).cutvalue;P+=Z?-j:j}}}),P}function p(A,R){arguments.length<2&&(R=A.nodes()[0]),g(A,{},1,R)}function g(A,R,M,B,O){var N=M,L=A.node(B);return R[B]=!0,t.forEach(A.neighbors(B),function(P){t.has(R,P)||(M=g(A,R,M,P,B))}),L.low=N,L.lim=M++,O?L.parent=O:delete L.parent,M}function m(A){return t.find(A.edges(),function(R){return A.edge(R).cutvalue<0})}function b(A,R,M){var B=M.v,O=M.w;R.hasEdge(B,O)||(B=M.w,O=M.v);var N=A.node(B),L=A.node(O),P=N,I=!1;N.lim>L.lim&&(P=L,I=!0);var V=t.filter(R.edges(),function(G){return I===_(A,A.node(G.v),P)&&I!==_(A,A.node(G.w),P)});return t.minBy(V,function(G){return r(R,G)})}function C(A,R,M,B){var O=M.v,N=M.w;A.removeEdge(O,N),A.setEdge(B.v,B.w,{}),p(A),f(A,R),x(A,R)}function x(A,R){var M=t.find(A.nodes(),function(O){return!R.node(O).parent}),B=i(A,M);B=B.slice(1),t.forEach(B,function(O){var N=A.node(O).parent,L=R.edge(O,N),P=!1;L||(L=R.edge(N,O),P=!0),R.node(O).rank=R.node(N).rank+(P?L.minlen:-L.minlen)})}function E(A,R,M){return A.hasEdge(R,M)}function _(A,R,M){return M.low<=R.lim&&R.lim<=M.lim}return Hw}var Kw,PB;function GG(){if(PB)return Kw;PB=1;var t=Dv(),e=t.longestPath,r=bz(),n=VG();Kw=i;function i(f){switch(f.graph().ranker){case"network-simplex":l(f);break;case"tight-tree":s(f);break;case"longest-path":u(f);break;default:l(f)}}var u=e;function s(f){e(f),r(f)}function l(f){n(f)}return Kw}var Yw,IB;function jG(){if(IB)return Yw;IB=1;var t=kr();Yw=e;function e(i){var u=n(i);t.forEach(i.graph().dummyChains,function(s){for(var l=i.node(s),f=l.edgeObj,d=r(i,u,f.v,f.w),v=d.path,p=d.lca,g=0,m=v[g],b=!0;s!==f.w;){if(l=i.node(s),b){for(;(m=v[g])!==p&&i.node(m).maxRank<l.rank;)g++;m===p&&(b=!1)}if(!b){for(;g<v.length-1&&i.node(m=v[g+1]).minRank<=l.rank;)g++;m=v[g]}i.setParent(s,m),s=i.successors(s)[0]}})}function r(i,u,s,l){var f=[],d=[],v=Math.min(u[s].low,u[l].low),p=Math.max(u[s].lim,u[l].lim),g,m;g=s;do g=i.parent(g),f.push(g);while(g&&(u[g].low>v||p>u[g].lim));for(m=g,g=l;(g=i.parent(g))!==m;)d.push(g);return{path:f.concat(d.reverse()),lca:m}}function n(i){var u={},s=0;function l(f){var d=s;t.forEach(i.children(f),l),u[f]={low:d,lim:s++}}return t.forEach(i.children(),l),u}return Yw}var $w,UB;function HG(){if(UB)return $w;UB=1;var t=kr(),e=la();$w={run:r,cleanup:s};function r(l){var f=e.addDummyNode(l,"root",{},"_root"),d=i(l),v=t.max(t.values(d))-1,p=2*v+1;l.graph().nestingRoot=f,t.forEach(l.edges(),function(m){l.edge(m).minlen*=p});var g=u(l)+1;t.forEach(l.children(),function(m){n(l,f,p,g,v,d,m)}),l.graph().nodeRankFactor=p}function n(l,f,d,v,p,g,m){var b=l.children(m);if(!b.length){m!==f&&l.setEdge(f,m,{weight:0,minlen:d});return}var C=e.addBorderNode(l,"_bt"),x=e.addBorderNode(l,"_bb"),E=l.node(m);l.setParent(C,m),E.borderTop=C,l.setParent(x,m),E.borderBottom=x,t.forEach(b,function(_){n(l,f,d,v,p,g,_);var A=l.node(_),R=A.borderTop?A.borderTop:_,M=A.borderBottom?A.borderBottom:_,B=A.borderTop?v:2*v,O=R!==M?1:p-g[m]+1;l.setEdge(C,R,{weight:B,minlen:O,nestingEdge:!0}),l.setEdge(M,x,{weight:B,minlen:O,nestingEdge:!0})}),l.parent(m)||l.setEdge(f,C,{weight:0,minlen:p+g[m]})}function i(l){var f={};function d(v,p){var g=l.children(v);g&&g.length&&t.forEach(g,function(m){d(m,p+1)}),f[v]=p}return t.forEach(l.children(),function(v){d(v,1)}),f}function u(l){return t.reduce(l.edges(),function(f,d){return f+l.edge(d).weight},0)}function s(l){var f=l.graph();l.removeNode(f.nestingRoot),delete f.nestingRoot,t.forEach(l.edges(),function(d){var v=l.edge(d);v.nestingEdge&&l.removeEdge(d)})}return $w}var Xw,FB;function KG(){if(FB)return Xw;FB=1;var t=kr(),e=la();Xw=r;function r(i){function u(s){var l=i.children(s),f=i.node(s);if(l.length&&t.forEach(l,u),t.has(f,"minRank")){f.borderLeft=[],f.borderRight=[];for(var d=f.minRank,v=f.maxRank+1;d<v;++d)n(i,"borderLeft","_bl",s,f,d),n(i,"borderRight","_br",s,f,d)}}t.forEach(i.children(),u)}function n(i,u,s,l,f,d){var v={width:0,height:0,rank:d,borderType:u},p=f[u][d-1],g=e.addDummyNode(i,"border",v,s);f[u][d]=g,i.setParent(g,l),p&&i.setEdge(p,g,{weight:1})}return Xw}var Zw,VB;function YG(){if(VB)return Zw;VB=1;var t=kr();Zw={adjust:e,undo:r};function e(d){var v=d.graph().rankdir.toLowerCase();(v==="lr"||v==="rl")&&n(d)}function r(d){var v=d.graph().rankdir.toLowerCase();(v==="bt"||v==="rl")&&u(d),(v==="lr"||v==="rl")&&(l(d),n(d))}function n(d){t.forEach(d.nodes(),function(v){i(d.node(v))}),t.forEach(d.edges(),function(v){i(d.edge(v))})}function i(d){var v=d.width;d.width=d.height,d.height=v}function u(d){t.forEach(d.nodes(),function(v){s(d.node(v))}),t.forEach(d.edges(),function(v){var p=d.edge(v);t.forEach(p.points,s),t.has(p,"y")&&s(p)})}function s(d){d.y=-d.y}function l(d){t.forEach(d.nodes(),function(v){f(d.node(v))}),t.forEach(d.edges(),function(v){var p=d.edge(v);t.forEach(p.points,f),t.has(p,"x")&&f(p)})}function f(d){var v=d.x;d.x=d.y,d.y=v}return Zw}var Qw,GB;function $G(){if(GB)return Qw;GB=1;var t=kr();Qw=e;function e(r){var n={},i=t.filter(r.nodes(),function(d){return!r.children(d).length}),u=t.max(t.map(i,function(d){return r.node(d).rank})),s=t.map(t.range(u+1),function(){return[]});function l(d){if(!t.has(n,d)){n[d]=!0;var v=r.node(d);s[v.rank].push(d),t.forEach(r.successors(d),l)}}var f=t.sortBy(i,function(d){return r.node(d).rank});return t.forEach(f,l),s}return Qw}var Ww,jB;function XG(){if(jB)return Ww;jB=1;var t=kr();Ww=e;function e(n,i){for(var u=0,s=1;s<i.length;++s)u+=r(n,i[s-1],i[s]);return u}function r(n,i,u){for(var s=t.zipObject(u,t.map(u,function(g,m){return m})),l=t.flatten(t.map(i,function(g){return t.sortBy(t.map(n.outEdges(g),function(m){return{pos:s[m.w],weight:n.edge(m).weight}}),"pos")}),!0),f=1;f<u.length;)f<<=1;var d=2*f-1;f-=1;var v=t.map(new Array(d),function(){return 0}),p=0;return t.forEach(l.forEach(function(g){var m=g.pos+f;v[m]+=g.weight;for(var b=0;m>0;)m%2&&(b+=v[m+1]),m=m-1>>1,v[m]+=g.weight;p+=g.weight*b})),p}return Ww}var Jw,HB;function ZG(){if(HB)return Jw;HB=1;var t=kr();Jw=e;function e(r,n){return t.map(n,function(i){var u=r.inEdges(i);if(u.length){var s=t.reduce(u,function(l,f){var d=r.edge(f),v=r.node(f.v);return{sum:l.sum+d.weight*v.order,weight:l.weight+d.weight}},{sum:0,weight:0});return{v:i,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:i}})}return Jw}var ex,KB;function QG(){if(KB)return ex;KB=1;var t=kr();ex=e;function e(i,u){var s={};t.forEach(i,function(f,d){var v=s[f.v]={indegree:0,in:[],out:[],vs:[f.v],i:d};t.isUndefined(f.barycenter)||(v.barycenter=f.barycenter,v.weight=f.weight)}),t.forEach(u.edges(),function(f){var d=s[f.v],v=s[f.w];!t.isUndefined(d)&&!t.isUndefined(v)&&(v.indegree++,d.out.push(s[f.w]))});var l=t.filter(s,function(f){return!f.indegree});return r(l)}function r(i){var u=[];function s(d){return function(v){v.merged||(t.isUndefined(v.barycenter)||t.isUndefined(d.barycenter)||v.barycenter>=d.barycenter)&&n(d,v)}}function l(d){return function(v){v.in.push(d),--v.indegree===0&&i.push(v)}}for(;i.length;){var f=i.pop();u.push(f),t.forEach(f.in.reverse(),s(f)),t.forEach(f.out,l(f))}return t.map(t.filter(u,function(d){return!d.merged}),function(d){return t.pick(d,["vs","i","barycenter","weight"])})}function n(i,u){var s=0,l=0;i.weight&&(s+=i.barycenter*i.weight,l+=i.weight),u.weight&&(s+=u.barycenter*u.weight,l+=u.weight),i.vs=u.vs.concat(i.vs),i.barycenter=s/l,i.weight=l,i.i=Math.min(u.i,i.i),u.merged=!0}return ex}var tx,YB;function WG(){if(YB)return tx;YB=1;var t=kr(),e=la();tx=r;function r(u,s){var l=e.partition(u,function(C){return t.has(C,"barycenter")}),f=l.lhs,d=t.sortBy(l.rhs,function(C){return-C.i}),v=[],p=0,g=0,m=0;f.sort(i(!!s)),m=n(v,d,m),t.forEach(f,function(C){m+=C.vs.length,v.push(C.vs),p+=C.barycenter*C.weight,g+=C.weight,m=n(v,d,m)});var b={vs:t.flatten(v,!0)};return g&&(b.barycenter=p/g,b.weight=g),b}function n(u,s,l){for(var f;s.length&&(f=t.last(s)).i<=l;)s.pop(),u.push(f.vs),l++;return l}function i(u){return function(s,l){return s.barycenter<l.barycenter?-1:s.barycenter>l.barycenter?1:u?l.i-s.i:s.i-l.i}}return tx}var rx,$B;function JG(){if($B)return rx;$B=1;var t=kr(),e=ZG(),r=QG(),n=WG();rx=i;function i(l,f,d,v){var p=l.children(f),g=l.node(f),m=g?g.borderLeft:void 0,b=g?g.borderRight:void 0,C={};m&&(p=t.filter(p,function(M){return M!==m&&M!==b}));var x=e(l,p);t.forEach(x,function(M){if(l.children(M.v).length){var B=i(l,M.v,d,v);C[M.v]=B,t.has(B,"barycenter")&&s(M,B)}});var E=r(x,d);u(E,C);var _=n(E,v);if(m&&(_.vs=t.flatten([m,_.vs,b],!0),l.predecessors(m).length)){var A=l.node(l.predecessors(m)[0]),R=l.node(l.predecessors(b)[0]);t.has(_,"barycenter")||(_.barycenter=0,_.weight=0),_.barycenter=(_.barycenter*_.weight+A.order+R.order)/(_.weight+2),_.weight+=2}return _}function u(l,f){t.forEach(l,function(d){d.vs=t.flatten(d.vs.map(function(v){return f[v]?f[v].vs:v}),!0)})}function s(l,f){t.isUndefined(l.barycenter)?(l.barycenter=f.barycenter,l.weight=f.weight):(l.barycenter=(l.barycenter*l.weight+f.barycenter*f.weight)/(l.weight+f.weight),l.weight+=f.weight)}return rx}var nx,XB;function ej(){if(XB)return nx;XB=1;var t=kr(),e=Ya().Graph;nx=r;function r(i,u,s){var l=n(i),f=new e({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(function(d){return i.node(d)});return t.forEach(i.nodes(),function(d){var v=i.node(d),p=i.parent(d);(v.rank===u||v.minRank<=u&&u<=v.maxRank)&&(f.setNode(d),f.setParent(d,p||l),t.forEach(i[s](d),function(g){var m=g.v===d?g.w:g.v,b=f.edge(m,d),C=t.isUndefined(b)?0:b.weight;f.setEdge(m,d,{weight:i.edge(g).weight+C})}),t.has(v,"minRank")&&f.setNode(d,{borderLeft:v.borderLeft[u],borderRight:v.borderRight[u]}))}),f}function n(i){for(var u;i.hasNode(u=t.uniqueId("_root")););return u}return nx}var ax,ZB;function tj(){if(ZB)return ax;ZB=1;var t=kr();ax=e;function e(r,n,i){var u={},s;t.forEach(i,function(l){for(var f=r.parent(l),d,v;f;){if(d=r.parent(f),d?(v=u[d],u[d]=f):(v=s,s=f),v&&v!==f){n.setEdge(v,f);return}f=d}})}return ax}var ix,QB;function rj(){if(QB)return ix;QB=1;var t=kr(),e=$G(),r=XG(),n=JG(),i=ej(),u=tj(),s=Ya().Graph,l=la();ix=f;function f(g){var m=l.maxRank(g),b=d(g,t.range(1,m+1),"inEdges"),C=d(g,t.range(m-1,-1,-1),"outEdges"),x=e(g);p(g,x);for(var E=Number.POSITIVE_INFINITY,_,A=0,R=0;R<4;++A,++R){v(A%2?b:C,A%4>=2),x=l.buildLayerMatrix(g);var M=r(g,x);M<E&&(R=0,_=t.cloneDeep(x),E=M)}p(g,_)}function d(g,m,b){return t.map(m,function(C){return i(g,C,b)})}function v(g,m){var b=new s;t.forEach(g,function(C){var x=C.graph().root,E=n(C,x,b,m);t.forEach(E.vs,function(_,A){C.node(_).order=A}),u(C,b,E.vs)})}function p(g,m){t.forEach(m,function(b){t.forEach(b,function(C,x){g.node(C).order=x})})}return ix}var ux,WB;function nj(){if(WB)return ux;WB=1;var t=kr(),e=Ya().Graph,r=la();ux={positionX:b,findType1Conflicts:n,findType2Conflicts:i,addConflict:s,hasConflict:l,verticalAlignment:f,horizontalCompaction:d,alignCoordinates:g,findSmallestWidthAlignment:p,balance:m};function n(E,_){var A={};function R(M,B){var O=0,N=0,L=M.length,P=t.last(B);return t.forEach(B,function(I,V){var G=u(E,I),Z=G?E.node(G).order:L;(G||I===P)&&(t.forEach(B.slice(N,V+1),function(J){t.forEach(E.predecessors(J),function(j){var Y=E.node(j),W=Y.order;(W<O||Z<W)&&!(Y.dummy&&E.node(J).dummy)&&s(A,j,J)})}),N=V+1,O=Z)}),B}return t.reduce(_,R),A}function i(E,_){var A={};function R(B,O,N,L,P){var I;t.forEach(t.range(O,N),function(V){I=B[V],E.node(I).dummy&&t.forEach(E.predecessors(I),function(G){var Z=E.node(G);Z.dummy&&(Z.order<L||Z.order>P)&&s(A,G,I)})})}function M(B,O){var N=-1,L,P=0;return t.forEach(O,function(I,V){if(E.node(I).dummy==="border"){var G=E.predecessors(I);G.length&&(L=E.node(G[0]).order,R(O,P,V,N,L),P=V,N=L)}R(O,P,O.length,L,B.length)}),O}return t.reduce(_,M),A}function u(E,_){if(E.node(_).dummy)return t.find(E.predecessors(_),function(A){return E.node(A).dummy})}function s(E,_,A){if(_>A){var R=_;_=A,A=R}var M=E[_];M||(E[_]=M={}),M[A]=!0}function l(E,_,A){if(_>A){var R=_;_=A,A=R}return t.has(E[_],A)}function f(E,_,A,R){var M={},B={},O={};return t.forEach(_,function(N){t.forEach(N,function(L,P){M[L]=L,B[L]=L,O[L]=P})}),t.forEach(_,function(N){var L=-1;t.forEach(N,function(P){var I=R(P);if(I.length){I=t.sortBy(I,function(j){return O[j]});for(var V=(I.length-1)/2,G=Math.floor(V),Z=Math.ceil(V);G<=Z;++G){var J=I[G];B[P]===P&&L<O[J]&&!l(A,P,J)&&(B[J]=P,B[P]=M[P]=M[J],L=O[J])}}})}),{root:M,align:B}}function d(E,_,A,R,M){var B={},O=v(E,_,A,M),N=M?"borderLeft":"borderRight";function L(V,G){for(var Z=O.nodes(),J=Z.pop(),j={};J;)j[J]?V(J):(j[J]=!0,Z.push(J),Z=Z.concat(G(J))),J=Z.pop()}function P(V){B[V]=O.inEdges(V).reduce(function(G,Z){return Math.max(G,B[Z.v]+O.edge(Z))},0)}function I(V){var G=O.outEdges(V).reduce(function(J,j){return Math.min(J,B[j.w]-O.edge(j))},Number.POSITIVE_INFINITY),Z=E.node(V);G!==Number.POSITIVE_INFINITY&&Z.borderType!==N&&(B[V]=Math.max(B[V],G))}return L(P,O.predecessors.bind(O)),L(I,O.successors.bind(O)),t.forEach(R,function(V){B[V]=B[A[V]]}),B}function v(E,_,A,R){var M=new e,B=E.graph(),O=C(B.nodesep,B.edgesep,R);return t.forEach(_,function(N){var L;t.forEach(N,function(P){var I=A[P];if(M.setNode(I),L){var V=A[L],G=M.edge(V,I);M.setEdge(V,I,Math.max(O(E,P,L),G||0))}L=P})}),M}function p(E,_){return t.minBy(t.values(_),function(A){var R=Number.NEGATIVE_INFINITY,M=Number.POSITIVE_INFINITY;return t.forIn(A,function(B,O){var N=x(E,O)/2;R=Math.max(B+N,R),M=Math.min(B-N,M)}),R-M})}function g(E,_){var A=t.values(_),R=t.min(A),M=t.max(A);t.forEach(["u","d"],function(B){t.forEach(["l","r"],function(O){var N=B+O,L=E[N],P;if(L!==_){var I=t.values(L);P=O==="l"?R-t.min(I):M-t.max(I),P&&(E[N]=t.mapValues(L,function(V){return V+P}))}})})}function m(E,_){return t.mapValues(E.ul,function(A,R){if(_)return E[_.toLowerCase()][R];var M=t.sortBy(t.map(E,R));return(M[1]+M[2])/2})}function b(E){var _=r.buildLayerMatrix(E),A=t.merge(n(E,_),i(E,_)),R={},M;t.forEach(["u","d"],function(O){M=O==="u"?_:t.values(_).reverse(),t.forEach(["l","r"],function(N){N==="r"&&(M=t.map(M,function(V){return t.values(V).reverse()}));var L=(O==="u"?E.predecessors:E.successors).bind(E),P=f(E,M,A,L),I=d(E,M,P.root,P.align,N==="r");N==="r"&&(I=t.mapValues(I,function(V){return-V})),R[O+N]=I})});var B=p(E,R);return g(R,B),m(R,E.graph().align)}function C(E,_,A){return function(R,M,B){var O=R.node(M),N=R.node(B),L=0,P;if(L+=O.width/2,t.has(O,"labelpos"))switch(O.labelpos.toLowerCase()){case"l":P=-O.width/2;break;case"r":P=O.width/2;break}if(P&&(L+=A?P:-P),P=0,L+=(O.dummy?_:E)/2,L+=(N.dummy?_:E)/2,L+=N.width/2,t.has(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":P=N.width/2;break;case"r":P=-N.width/2;break}return P&&(L+=A?P:-P),P=0,L}}function x(E,_){return E.node(_).width}return ux}var ox,JB;function aj(){if(JB)return ox;JB=1;var t=kr(),e=la(),r=nj().positionX;ox=n;function n(u){u=e.asNonCompoundGraph(u),i(u),t.forEach(r(u),function(s,l){u.node(l).x=s})}function i(u){var s=e.buildLayerMatrix(u),l=u.graph().ranksep,f=0;t.forEach(s,function(d){var v=t.max(t.map(d,function(p){return u.node(p).height}));t.forEach(d,function(p){u.node(p).y=f+v/2}),f+=v+l})}return ox}var sx,eq;function ij(){if(eq)return sx;eq=1;var t=kr(),e=UG(),r=FG(),n=GG(),i=la().normalizeRanks,u=jG(),s=la().removeEmptyRanks,l=HG(),f=KG(),d=YG(),v=rj(),p=aj(),g=la(),m=Ya().Graph;sx=b;function b($,ee){var re=ee&&ee.debugTiming?g.time:g.notime;re("layout",function(){var de=re("  buildLayoutGraph",function(){return L($)});re("  runLayout",function(){C(de,re)}),re("  updateInputGraph",function(){x($,de)})})}function C($,ee){ee("    makeSpaceForEdgeLabels",function(){P($)}),ee("    removeSelfEdges",function(){oe($)}),ee("    acyclic",function(){e.run($)}),ee("    nestingGraph.run",function(){l.run($)}),ee("    rank",function(){n(g.asNonCompoundGraph($))}),ee("    injectEdgeLabelProxies",function(){I($)}),ee("    removeEmptyRanks",function(){s($)}),ee("    nestingGraph.cleanup",function(){l.cleanup($)}),ee("    normalizeRanks",function(){i($)}),ee("    assignRankMinMax",function(){V($)}),ee("    removeEdgeLabelProxies",function(){G($)}),ee("    normalize.run",function(){r.run($)}),ee("    parentDummyChains",function(){u($)}),ee("    addBorderSegments",function(){f($)}),ee("    order",function(){v($)}),ee("    insertSelfEdges",function(){se($)}),ee("    adjustCoordinateSystem",function(){d.adjust($)}),ee("    position",function(){p($)}),ee("    positionSelfEdges",function(){U($)}),ee("    removeBorderNodes",function(){W($)}),ee("    normalize.undo",function(){r.undo($)}),ee("    fixupEdgeLabelCoords",function(){j($)}),ee("    undoCoordinateSystem",function(){d.undo($)}),ee("    translateGraph",function(){Z($)}),ee("    assignNodeIntersects",function(){J($)}),ee("    reversePoints",function(){Y($)}),ee("    acyclic.undo",function(){e.undo($)})}function x($,ee){t.forEach($.nodes(),function(re){var de=$.node(re),ke=ee.node(re);de&&(de.x=ke.x,de.y=ke.y,ee.children(re).length&&(de.width=ke.width,de.height=ke.height))}),t.forEach($.edges(),function(re){var de=$.edge(re),ke=ee.edge(re);de.points=ke.points,t.has(ke,"x")&&(de.x=ke.x,de.y=ke.y)}),$.graph().width=ee.graph().width,$.graph().height=ee.graph().height}var E=["nodesep","edgesep","ranksep","marginx","marginy"],_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},A=["acyclicer","ranker","rankdir","align"],R=["width","height"],M={width:0,height:0},B=["minlen","weight","width","height","labeloffset"],O={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},N=["labelpos"];function L($){var ee=new m({multigraph:!0,compound:!0}),re=ue($.graph());return ee.setGraph(t.merge({},_,X(re,E),t.pick(re,A))),t.forEach($.nodes(),function(de){var ke=ue($.node(de));ee.setNode(de,t.defaults(X(ke,R),M)),ee.setParent(de,$.parent(de))}),t.forEach($.edges(),function(de){var ke=ue($.edge(de));ee.setEdge(de,t.merge({},O,X(ke,B),t.pick(ke,N)))}),ee}function P($){var ee=$.graph();ee.ranksep/=2,t.forEach($.edges(),function(re){var de=$.edge(re);de.minlen*=2,de.labelpos.toLowerCase()!=="c"&&(ee.rankdir==="TB"||ee.rankdir==="BT"?de.width+=de.labeloffset:de.height+=de.labeloffset)})}function I($){t.forEach($.edges(),function(ee){var re=$.edge(ee);if(re.width&&re.height){var de=$.node(ee.v),ke=$.node(ee.w),ie={rank:(ke.rank-de.rank)/2+de.rank,e:ee};g.addDummyNode($,"edge-proxy",ie,"_ep")}})}function V($){var ee=0;t.forEach($.nodes(),function(re){var de=$.node(re);de.borderTop&&(de.minRank=$.node(de.borderTop).rank,de.maxRank=$.node(de.borderBottom).rank,ee=t.max(ee,de.maxRank))}),$.graph().maxRank=ee}function G($){t.forEach($.nodes(),function(ee){var re=$.node(ee);re.dummy==="edge-proxy"&&($.edge(re.e).labelRank=re.rank,$.removeNode(ee))})}function Z($){var ee=Number.POSITIVE_INFINITY,re=0,de=Number.POSITIVE_INFINITY,ke=0,ie=$.graph(),he=ie.marginx||0,be=ie.marginy||0;function ge(Me){var je=Me.x,He=Me.y,Ct=Me.width,Ze=Me.height;ee=Math.min(ee,je-Ct/2),re=Math.max(re,je+Ct/2),de=Math.min(de,He-Ze/2),ke=Math.max(ke,He+Ze/2)}t.forEach($.nodes(),function(Me){ge($.node(Me))}),t.forEach($.edges(),function(Me){var je=$.edge(Me);t.has(je,"x")&&ge(je)}),ee-=he,de-=be,t.forEach($.nodes(),function(Me){var je=$.node(Me);je.x-=ee,je.y-=de}),t.forEach($.edges(),function(Me){var je=$.edge(Me);t.forEach(je.points,function(He){He.x-=ee,He.y-=de}),t.has(je,"x")&&(je.x-=ee),t.has(je,"y")&&(je.y-=de)}),ie.width=re-ee+he,ie.height=ke-de+be}function J($){t.forEach($.edges(),function(ee){var re=$.edge(ee),de=$.node(ee.v),ke=$.node(ee.w),ie,he;re.points?(ie=re.points[0],he=re.points[re.points.length-1]):(re.points=[],ie=ke,he=de),re.points.unshift(g.intersectRect(de,ie)),re.points.push(g.intersectRect(ke,he))})}function j($){t.forEach($.edges(),function(ee){var re=$.edge(ee);if(t.has(re,"x"))switch((re.labelpos==="l"||re.labelpos==="r")&&(re.width-=re.labeloffset),re.labelpos){case"l":re.x-=re.width/2+re.labeloffset;break;case"r":re.x+=re.width/2+re.labeloffset;break}})}function Y($){t.forEach($.edges(),function(ee){var re=$.edge(ee);re.reversed&&re.points.reverse()})}function W($){t.forEach($.nodes(),function(ee){if($.children(ee).length){var re=$.node(ee),de=$.node(re.borderTop),ke=$.node(re.borderBottom),ie=$.node(t.last(re.borderLeft)),he=$.node(t.last(re.borderRight));re.width=Math.abs(he.x-ie.x),re.height=Math.abs(ke.y-de.y),re.x=ie.x+re.width/2,re.y=de.y+re.height/2}}),t.forEach($.nodes(),function(ee){$.node(ee).dummy==="border"&&$.removeNode(ee)})}function oe($){t.forEach($.edges(),function(ee){if(ee.v===ee.w){var re=$.node(ee.v);re.selfEdges||(re.selfEdges=[]),re.selfEdges.push({e:ee,label:$.edge(ee)}),$.removeEdge(ee)}})}function se($){var ee=g.buildLayerMatrix($);t.forEach(ee,function(re){var de=0;t.forEach(re,function(ke,ie){var he=$.node(ke);he.order=ie+de,t.forEach(he.selfEdges,function(be){g.addDummyNode($,"selfedge",{width:be.label.width,height:be.label.height,rank:he.rank,order:ie+ ++de,e:be.e,label:be.label},"_se")}),delete he.selfEdges})})}function U($){t.forEach($.nodes(),function(ee){var re=$.node(ee);if(re.dummy==="selfedge"){var de=$.node(re.e.v),ke=de.x+de.width/2,ie=de.y,he=re.x-ke,be=de.height/2;$.setEdge(re.e,re.label),$.removeNode(ee),re.label.points=[{x:ke+2*he/3,y:ie-be},{x:ke+5*he/6,y:ie-be},{x:ke+he,y:ie},{x:ke+5*he/6,y:ie+be},{x:ke+2*he/3,y:ie+be}],re.label.x=re.x,re.label.y=re.y}})}function X($,ee){return t.mapValues(t.pick($,ee),Number)}function ue($){var ee={};return t.forEach($,function(re,de){ee[de.toLowerCase()]=re}),ee}return sx}var lx,tq;function uj(){if(tq)return lx;tq=1;var t=kr(),e=la(),r=Ya().Graph;lx={debugOrdering:n};function n(i){var u=e.buildLayerMatrix(i),s=new r({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(l){s.setNode(l,{label:l}),s.setParent(l,"layer"+i.node(l).rank)}),t.forEach(i.edges(),function(l){s.setEdge(l.v,l.w,{},l.name)}),t.forEach(u,function(l,f){var d="layer"+f;s.setNode(d,{rank:"same"}),t.reduce(l,function(v,p){return s.setEdge(v,p,{style:"invis"}),p})}),s}return lx}var cx,rq;function oj(){return rq||(rq=1,cx="0.8.5"),cx}var fx,nq;function sj(){return nq||(nq=1,fx={graphlib:Ya(),layout:ij(),debug:uj(),util:{time:la().time,notime:la().notime},version:oj()}),fx}var lj=lv.exports,aq;function cj(){return aq||(aq=1,(function(t,e){(function(n,i){t.exports=i(sj())})(lj,function(r){return(function(n){var i={};function u(s){if(i[s])return i[s].exports;var l=i[s]={i:s,l:!1,exports:{}};return n[s].call(l.exports,l,l.exports,u),l.l=!0,l.exports}return u.m=n,u.c=i,u.d=function(s,l,f){u.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:f})},u.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},u.t=function(s,l){if(l&1&&(s=u(s)),l&8||l&4&&typeof s=="object"&&s&&s.__esModule)return s;var f=Object.create(null);if(u.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:s}),l&2&&typeof s!="string")for(var d in s)u.d(f,d,(function(v){return s[v]}).bind(null,d));return f},u.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return u.d(l,"a",l),l},u.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},u.p="",u(u.s=0)})([(function(n,i,u){var s=u(1),l=function(d){d&&d("layout","dagre",s)};typeof cytoscape<"u"&&l(cytoscape),n.exports=l}),(function(n,i,u){function s(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(b){return typeof b}:s=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s(g)}var l=function(m){return typeof m=="function"},f=u(2),d=u(3),v=u(4);function p(g){this.options=d({},f,g)}p.prototype.run=function(){var g=this.options,m=this,b=g.cy,C=g.eles,x=function(U,X){return l(X)?X.apply(U,[U]):X},E=g.boundingBox||{x1:0,y1:0,w:b.width(),h:b.height()};E.x2===void 0&&(E.x2=E.x1+E.w),E.w===void 0&&(E.w=E.x2-E.x1),E.y2===void 0&&(E.y2=E.y1+E.h),E.h===void 0&&(E.h=E.y2-E.y1);var _=new v.graphlib.Graph({multigraph:!0,compound:!0}),A={},R=function(U,X){X!=null&&(A[U]=X)};R("nodesep",g.nodeSep),R("edgesep",g.edgeSep),R("ranksep",g.rankSep),R("rankdir",g.rankDir),R("align",g.align),R("ranker",g.ranker),R("acyclicer",g.acyclicer),_.setGraph(A),_.setDefaultEdgeLabel(function(){return{}}),_.setDefaultNodeLabel(function(){return{}});var M=C.nodes();l(g.sort)&&(M=M.sort(g.sort));for(var B=0;B<M.length;B++){var O=M[B],N=O.layoutDimensions(g);_.setNode(O.id(),{width:N.w,height:N.h,name:O.id()})}for(var L=0;L<M.length;L++){var P=M[L];P.isChild()&&_.setParent(P.id(),P.parent().id())}var I=C.edges().stdFilter(function(se){return!se.source().isParent()&&!se.target().isParent()});l(g.sort)&&(I=I.sort(g.sort));for(var V=0;V<I.length;V++){var G=I[V];_.setEdge(G.source().id(),G.target().id(),{minlen:x(G,g.minLen),weight:x(G,g.edgeWeight),name:G.id()},G.id())}v.layout(_);for(var Z=_.nodes(),J=0;J<Z.length;J++){var j=Z[J],Y=_.node(j);b.getElementById(j).scratch().dagre=Y}var W;g.boundingBox?(W={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},M.forEach(function(se){var U=se.scratch().dagre;W.x1=Math.min(W.x1,U.x),W.x2=Math.max(W.x2,U.x),W.y1=Math.min(W.y1,U.y),W.y2=Math.max(W.y2,U.y)}),W.w=W.x2-W.x1,W.h=W.y2-W.y1):W=E;var oe=function(U){if(g.boundingBox){var X=W.w===0?0:(U.x-W.x1)/W.w,ue=W.h===0?0:(U.y-W.y1)/W.h;return{x:E.x1+X*E.w,y:E.y1+ue*E.h}}else return U};return M.layoutPositions(m,g,function(se){se=s(se)==="object"?se:this;var U=se.scratch().dagre;return oe({x:U.x,y:U.y})}),this},n.exports=p}),(function(n,i){var u={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(l){return 1},edgeWeight:function(l){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(l,f){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(l,f){return f},ready:function(){},sort:void 0,stop:function(){}};n.exports=u}),(function(n,i){n.exports=Object.assign!=null?Object.assign.bind(Object):function(u){for(var s=arguments.length,l=new Array(s>1?s-1:0),f=1;f<s;f++)l[f-1]=arguments[f];return l.forEach(function(d){Object.keys(d).forEach(function(v){return u[v]=d[v]})}),u}}),(function(n,i){n.exports=r})])})})(lv)),lv.exports}var fj=cj();const dj=Ov(fj);Vu.use(dj);const vj=wt.div`
  display: flex;
  height: 100%;
  gap: 20px;
  padding: 20px 40px;
`,hj=wt.div`
  flex: 1;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  position: relative;
`,pj=wt.div`
  width: 300px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 20px;
  overflow-y: auto;
`,gj=wt.h3`
  margin: 0 0 15px 0;
  font-size: 16px;
`,Gd=wt.div`
  margin-bottom: 20px;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);

  &:last-child {
    border-bottom: none;
  }
`,jd=wt.div`
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: rgba(255, 255, 255, 0.5);
  margin-bottom: 5px;
`,Tc=wt.div`
  font-size: 14px;
  color: white;
`,yj=wt.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,_c=wt.div`
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 13px;
`,Cc=wt.div`
  width: 20px;
  height: 20px;
  border-radius: 4px;
  background: ${t=>t.$color};
  border: 1px solid rgba(255, 255, 255, 0.3);
`,mj=wt.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  color: rgba(255, 255, 255, 0.5);
  max-width: 400px;

  h3 {
    font-size: 20px;
    margin-bottom: 10px;
    color: rgba(255, 255, 255, 0.7);
  }
`;function bj(){const t=Pn.useRef(null),e=Pn.useRef(null),[r,n]=Pn.useState(null),[i,u]=Pn.useState({chars:0,rules:0,controls:0});Pn.useEffect(()=>{s()},[]);async function s(){const f=await an.characteristics.toArray(),d=await an.scoringRules.toArray(),v=await an.controls.toArray();if(u({chars:f.length,rules:d.length,controls:v.length}),f.length===0)return;const p=[],g=[];f.forEach(m=>{p.push({data:{id:`char-${m.id}`,label:m.name,type:"characteristic",info:m}})}),v.forEach((m,b)=>{const C=`control-${b}`;p.push({data:{id:C,label:`${m.riskLevel}: ${m.description.substring(0,30)}...`,type:"control",riskLevel:m.riskLevel,info:m}}),g.push({data:{source:`char-${m.characteristicId}`,target:C,label:m.riskLevel}})}),d.forEach((m,b)=>{const C=`rule-${b}`;p.push({data:{id:C,label:`${m.techType}/${m.phase}
+${m.points}`,type:"rule",info:m}});const x=f.find(E=>E.key===m.characteristicKey);x&&g.push({data:{source:C,target:`char-${x.id}`,label:`+${m.points}`}})}),l(p,g)}function l(f,d){e.current&&(t.current&&t.current.destroy(),t.current=Vu({container:e.current,elements:{nodes:f,edges:d},style:[{selector:"node",style:{label:"data(label)","text-valign":"center","text-halign":"center","font-size":"12px",color:"#ffffff","text-wrap":"wrap","text-max-width":"100px","background-color":"#4AE2C0","border-width":2,"border-color":"#ffffff",width:80,height:80}},{selector:'node[type="characteristic"]',style:{"background-color":"#4AE2C0",shape:"round-rectangle"}},{selector:'node[type="control"]',style:{"background-color":"#FFC107",width:60,height:60,"font-size":"10px"}},{selector:'node[type="control"][riskLevel="low"]',style:{"background-color":"#4CAF50"}},{selector:'node[type="control"][riskLevel="high"]',style:{"background-color":"#F44336"}},{selector:'node[type="rule"]',style:{"background-color":"#2196F3",shape:"diamond",width:70,height:70}},{selector:"edge",style:{width:2,"line-color":"rgba(255, 255, 255, 0.3)","target-arrow-color":"rgba(255, 255, 255, 0.3)","target-arrow-shape":"triangle","curve-style":"bezier",label:"data(label)","font-size":"10px",color:"rgba(255, 255, 255, 0.7)","text-background-color":"#1e3c72","text-background-opacity":.8,"text-background-padding":"3px"}},{selector:":selected",style:{"border-width":4,"border-color":"#FFD700"}}],layout:{name:"dagre",rankDir:"TB",nodeSep:50,rankSep:100}}),t.current.on("tap","node",v=>{const p=v.target;n(p.data())}),t.current.on("tap",v=>{v.target===t.current&&n(null)}))}return ze.jsxs(vj,{children:[ze.jsx(hj,{ref:e,children:i.chars===0&&ze.jsxs(mj,{children:[ze.jsx("h3",{children:"No data to visualize yet"}),ze.jsx("p",{children:"Add some characteristics and controls in the Characteristics tab to see the graph."})]})}),ze.jsxs(pj,{children:[ze.jsx(gj,{children:"Graph Overview"}),ze.jsxs(Gd,{children:[ze.jsx(jd,{children:"Statistics"}),ze.jsxs(Tc,{children:[i.chars," Characteristics"]}),ze.jsxs(Tc,{children:[i.rules," Scoring Rules"]}),ze.jsxs(Tc,{children:[i.controls," Controls"]})]}),ze.jsxs(Gd,{children:[ze.jsx(jd,{children:"Legend"}),ze.jsxs(yj,{children:[ze.jsxs(_c,{children:[ze.jsx(Cc,{$color:"#4AE2C0"}),ze.jsx("span",{children:"Characteristics"})]}),ze.jsxs(_c,{children:[ze.jsx(Cc,{$color:"#4CAF50"}),ze.jsx("span",{children:"Low Risk Controls"})]}),ze.jsxs(_c,{children:[ze.jsx(Cc,{$color:"#FFC107"}),ze.jsx("span",{children:"Medium Risk Controls"})]}),ze.jsxs(_c,{children:[ze.jsx(Cc,{$color:"#F44336"}),ze.jsx("span",{children:"High Risk Controls"})]}),ze.jsxs(_c,{children:[ze.jsx(Cc,{$color:"#2196F3"}),ze.jsx("span",{children:"Scoring Rules"})]})]})]}),r&&ze.jsxs(Gd,{children:[ze.jsxs(jd,{children:["Selected: ",r.type]}),ze.jsx(Tc,{style:{fontSize:"13px",lineHeight:"1.6"},children:JSON.stringify(r.info,null,2)})]}),!r&&ze.jsxs(Gd,{children:[ze.jsx(jd,{children:"Tip"}),ze.jsx(Tc,{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.7)"},children:"Click on a node to see its details"})]})]})]})}const wj=wt.div`
  padding: 20px 40px;
  height: 100%;
  overflow-y: auto;
`,xj=wt.div`
  margin-bottom: 30px;
`,Ej=wt.h2`
  margin: 0 0 10px 0;
  font-size: 24px;
`,Sj=wt.p`
  margin: 0;
  font-size: 14px;
  color: rgba(255, 255, 255, 0.7);
  line-height: 1.6;
`,Tj=wt.table`
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.1);
`,Ac=wt.th`
  background: rgba(0, 0, 0, 0.3);
  padding: 15px;
  text-align: left;
  font-size: 13px;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  text-transform: uppercase;
  letter-spacing: 0.5px;
`,Rc=wt.td`
  padding: 15px;
  font-size: 14px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
`,_j=wt.span`
  color: ${t=>t.$value>0?"#4AE2C0":t.$value<0?"#F44336":"rgba(255, 255, 255, 0.5)"};
  font-weight: 600;
`,Cj=wt.span`
  background: rgba(74, 226, 192, 0.2);
  border: 1px solid rgba(74, 226, 192, 0.4);
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
`,iq=wt.button`
  background: linear-gradient(90deg, #4AE2C0, #3cc8a8);
  color: #1e3c72;
  border: 1px solid #4AE2C0;
  padding: 12px 24px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
`,Aj=wt.div`
  text-align: center;
  padding: 80px 40px;
  color: rgba(255, 255, 255, 0.5);

  h3 {
    font-size: 20px;
    margin-bottom: 10px;
    color: rgba(255, 255, 255, 0.7);
  }
`;function Rj(){const[t,e]=Pn.useState([]);Pn.useEffect(()=>{r()},[]);async function r(){const n=await an.scoringRules.toArray();e(n)}return ze.jsxs(wj,{children:[ze.jsxs(xj,{children:[ze.jsx(Ej,{children:"Scoring Rules"}),ze.jsx(Sj,{children:"Define when characteristics should be recommended based on technology type, research phase, and other contextual factors. Higher scores = higher priority."})]}),t.length>0?ze.jsxs(ze.Fragment,{children:[ze.jsx(iq,{onClick:()=>alert("Add Rule UI coming soon!"),children:"+ Add Scoring Rule"}),ze.jsx("div",{style:{marginTop:"20px"},children:ze.jsxs(Tj,{children:[ze.jsx("thead",{children:ze.jsxs("tr",{children:[ze.jsx(Ac,{children:"Tech Type"}),ze.jsx(Ac,{children:"Phase"}),ze.jsx(Ac,{children:"Characteristic"}),ze.jsx(Ac,{children:"Points"}),ze.jsx(Ac,{children:"Reason"})]})}),ze.jsx("tbody",{children:t.map((n,i)=>ze.jsxs("tr",{children:[ze.jsx(Rc,{children:ze.jsx(Cj,{children:n.techType.toUpperCase()})}),ze.jsx(Rc,{style:{textTransform:"capitalize"},children:n.phase}),ze.jsx(Rc,{children:n.characteristicKey}),ze.jsx(Rc,{children:ze.jsxs(_j,{$value:n.points,children:[n.points>0?"+":"",n.points]})}),ze.jsx(Rc,{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"13px"},children:n.reason})]},i))})]})})]}):ze.jsxs(Aj,{children:[ze.jsx("h3",{children:"No scoring rules yet"}),ze.jsx("p",{children:"Scoring rules determine when characteristics are recommended to users."}),ze.jsx("p",{style:{marginTop:"20px"},children:ze.jsx(iq,{onClick:()=>alert("Add Rule UI coming soon!"),children:"+ Add Your First Rule"})})]})]})}const Dj=wt.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
  color: white;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
`,Oj=wt.header`
  background: rgba(0, 0, 0, 0.3);
  padding: 20px 40px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Mj=wt.h1`
  margin: 0;
  font-size: 24px;
  font-weight: 600;
  background: linear-gradient(90deg, #4AE2C0, #6BFFE9);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
`,Bj=wt.div`
  font-size: 13px;
  color: rgba(255, 255, 255, 0.6);
  margin-top: 4px;
`,qj=wt.nav`
  display: flex;
  gap: 10px;
`,dx=wt.button`
  background: ${t=>t.$active?"rgba(74, 226, 192, 0.2)":"transparent"};
  border: 1px solid ${t=>t.$active?"#4AE2C0":"rgba(255, 255, 255, 0.3)"};
  color: ${t=>t.$active?"#4AE2C0":"white"};
  padding: 10px 20px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s ease;

  &:hover {
    background: rgba(74, 226, 192, 0.15);
    border-color: #4AE2C0;
    transform: translateY(-1px);
  }
`,kj=wt.main`
  flex: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
`,zj=wt.div`
  background: rgba(74, 226, 192, 0.1);
  border: 1px solid rgba(74, 226, 192, 0.3);
  border-radius: 8px;
  padding: 12px 20px;
  margin: 20px 40px;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 13px;

  .icon {
    font-size: 20px;
  }
`;function Nj(){const[t,e]=Pn.useState("characteristics");return ze.jsxs(Dj,{children:[ze.jsxs(Oj,{children:[ze.jsxs("div",{children:[ze.jsx(Mj,{children:"IRB Rules Engine"}),ze.jsx(Bj,{children:"Visual rule builder for protocol assessment"})]}),ze.jsxs(qj,{children:[ze.jsx(dx,{$active:t==="characteristics",onClick:()=>e("characteristics"),children:" Characteristics & Controls"}),ze.jsx(dx,{$active:t==="scoring",onClick:()=>e("scoring"),children:" Scoring Rules"}),ze.jsx(dx,{$active:t==="graph",onClick:()=>e("graph"),children:" Graph View"})]})]}),ze.jsxs(zj,{children:[ze.jsx("span",{className:"icon",children:""}),ze.jsxs("div",{children:[ze.jsx("strong",{children:"Getting Started:"})," Define characteristics with their controls, then create scoring rules to determine when they're recommended. All changes are saved locally in your browser."]})]}),ze.jsxs(kj,{children:[t==="characteristics"&&ze.jsx(y3,{}),t==="scoring"&&ze.jsx(Rj,{}),t==="graph"&&ze.jsx(bj,{})]})]})}KN.createRoot(document.getElementById("root")).render(ze.jsx(Zs.StrictMode,{children:ze.jsx(Nj,{})}));
